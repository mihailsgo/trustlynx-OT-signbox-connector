csui.define("webreports/utils/general.utils",["csui/lib/underscore","csui/utils/contexts/factories/node"],function(e,t){return e.extend({"getCaseInsensitiveProperty":function(t,o){return t&&o?t[o]||t[e.find(e.keys(t),function(e){return e.toLowerCase()===o.toLowerCase()})]:void 0},"getCurrentNode":function(e){return e.getModel(t)},"isWebReportNodeContext":function(e){var t=this.getCurrentNode(e);return t&&30303===t.get("type")}})}),csui.define("webreports/utils/url.webreports",["csui/lib/underscore","csui/utils/url","csui/utils/contexts/factories/node"],function(e,t,o){return e.extend({"appendWebReportParameters":function(t,o){return e.isUndefined(o)||(t=e.isArray(o)?this.combineQueryString(t,this._serializeWebReportParameters(o)):this.combineQueryString(t,o)),t},"appendCurrentContainer":function(t,o){var n;return e.isUndefined(o)||(n=this.getCurrentContainerID(o))&&(t=this.combineQueryString(t,"csuiContainerID="+n)),t},"appendSWRCellID":function(e,t){var o;return t&&t.data&&t.data.swrLaunchCell&&t.data.swrLaunchCell.id&&("number"!=typeof(o=parseInt(t.data.swrLaunchCell.id,10))||isNaN(o)||(e=this.combineQueryString(e,"subwebreport_id="+o))),e},"getCurrentContainerID":function(t){var n,r=t.getModel(o);return e.isUndefined(r)||(n=r.get("id")),n},"_serializeWebReportParameters":function(t){var o="";return e.each(t,function(e){null!==e.value&&void 0!==e.value||(e.value=""),""!==e.name&&(o.length?o+="&"+e.name+"="+e.value:o+=e.name+"="+e.value)}),o},"getWebReportParametersAsData":function(t){var o={};return e.isArray(t)?e.each(t,function(e){""!==e.name&&(o[e.name]=e.value)}):e.isObject(t)&&(o=t),o},"getDataAsWebReportParameters":function(t){var o=[];return e.isObject(t)&&e.mapObject(t,function(e,t){o.push({"name":t,"value":e})}),o}},t)}),csui.define("webreports/mixins/webreports.view.mixin",["csui/lib/jquery","csui/lib/underscore","webreports/utils/url.webreports"],function(e,t,o){"use strict";return{"mixin":function(e){return t.extend(e,{"setCommonModelOptions":function(e){var o={};return e&&e.data&&(this.setModelParameters(e,o),e.data.id&&t.extend(o,{"id":e.data.id}),e.context&&t.extend(o,{"context":e.context})),o},"setModelParameters":function(e,n){var r;t.has(e.data,"parameters")&&(r=e.data.parameters,t.isUndefined(r)||"object"!=typeof r||(t.extend(n,{"parameters":r}),t.extend(n,o.getWebReportParametersAsData(r))))},"getWidgetFactory":function(e,t,o){var n;return e&&e.context&&t&&o&&(n=e.context.getFactory(t,{"attributes":o})),n},"getFactory":function(){return this._factory},"setFactory":function(e){this._factory=e}})}}}),csui.define("webreports/models/run.webreport.pre/run.webreport.pre.model",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/utils/base","csui/models/form","csui/models/mixins/connectable/connectable.mixin","csui/models/mixins/fetchable/fetchable.mixin"],function(e,t,o,n,r,i,s){"use strict";var a=r.extend({"parametersModel":void 0,"destinationModel":void 0,"constructor":function(e,t){this.options=t||(t={}),o.Model.prototype.constructor.apply(this,arguments),this.makeConnectable(t),this.makeFetchable(t)},"url":function(){var t=this.connector,o={"id":this.options.id},r="forms/nodes/run?"+e.param(o);return n.Url.combine(t.connection.url,r)},"parse":function(e){return this.parametersModel=new o.Model(e.data.parameters_data),this.destinationModel=new o.Model(e.data.destination_data),e.forms[0]}});return i.mixin(a.prototype),s.mixin(a.prototype),a}),csui.define("webreports/utils/contexts/factories/run.webreport.pre.factory",["csui/lib/underscore","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","webreports/models/run.webreport.pre/run.webreport.pre.model"],function(e,t,o,n){return t.extend({"propertyPrefix":"runwebreportpre","constructor":function(r,i){e.has(i,"attributes")&&delete i.attributes,e.has(i,this.propertyPrefix)&&e.has(i[this.propertyPrefix],"attributes")&&delete i[this.propertyPrefix].attributes,t.prototype.constructor.apply(this,arguments);var s=r.getObject(o,i),a=e.extend(i.options,{"connector":s});this.property=new n({},a)}})}),csui.define("webreports/utils/commands/open.classic.webreport",["csui/lib/underscore","csui/utils/commandhelper","csui/utils/commands/open.classic.page"],function(e,t,o){return o.extend({"defaults":{"signature":"OpenClassicWebReport","scope":"single"},"enabled":function(e){var o=t.getJustOneNode(e);return o&&30303===o.get("type")},"getUrlQueryParameters":function(t,o){var n={"func":"ll","objAction":"RunReport","objId":t.get("id"),"nexturl":location.href};return e.has(o,"parameters")&&(n=e.extend(n,o.parameters)),n}})}),csui.define("webreports/models/run.webreport/run.webreport.model",["csui/lib/underscore","csui/lib/backbone","csui/utils/base","csui/models/mixins/connectable/connectable.mixin"],function(e,t,o,n){var r=t.Model.extend({"constructor":function(e,o){this.options=o||{},t.Model.prototype.constructor.apply(this,arguments),this.makeConnectable(this.options)},"url":function(){var t,n=this.options,r=n.id,i=this.connector,s="nodes/"+r+"/output";return e.has(n,"parameters")&&!e.isArray(n.parameters)&&e.isObject(n.parameters)&&(t=n.parameters,s=s+"?"+o.Url.combineQueryString(t)),o.Url.combine(i.connection.url,s)},"parse":function(o,n){return e.has(n,"destinationModel")?n.destinationModel.set(o.data.destination_data,n):n.destinationModel=new t.Model(o.data.destination_data),o},"clearParameters":function(){e.has(this,"options")&&e.has(this.options,"parameters")&&delete this.options.parameters}});return n.mixin(r.prototype),r}),csui.define("webreports/utils/contexts/factories/run.webreport.factory",["csui/lib/underscore","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","webreports/models/run.webreport/run.webreport.model"],function(e,t,o,n){return t.extend({"propertyPrefix":"runwrmodel","constructor":function(r,i){e.has(i,"attributes")&&delete i.attributes,e.has(i,this.propertyPrefix)&&e.has(i[this.propertyPrefix],"attributes")&&delete i[this.propertyPrefix].attributes,t.prototype.constructor.apply(this,arguments);var s=r.getObject(o,i),a=e.extend(i.options,{"connector":s});e.has(i,"parameters")&&(a=e.extend(a,{"parameters":i.parameters})),this.property=new n({},a)}})}),csui.define("webreports/controls/run.webreport.pre/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/controls/run.webreport.pre/impl/nls/root/lang",{"WebReportParameters":"WebReport Parameters","RunWebReport":"Run WebReport","Cancel":"Cancel","WebReportExecutedSuccessfully":"WebReport executed successfully","WebReportExecutingInBackground":"WebReport is executing in background","anErrorOccurredExecutingTheWebReport":"An error occurred executing the WebReport","okLabel":"OK","MissingNodeModelForThisAction":"Missing node model for this action"}),csui.define("webreports/utils/commands/execute.webreport",["csui/lib/underscore","csui/lib/jquery","csui/utils/base","csui/utils/commandhelper","csui/models/command","csui/controls/globalmessage/globalmessage","webreports/utils/contexts/factories/run.webreport.factory","i18n!webreports/controls/run.webreport.pre/impl/nls/lang"],function(e,t,o,n,r,i,s,a){return r.extend({"defaults":{"signature":"ExecuteWebReport","scope":"single"},"enabled":function(e){var t=n.getJustOneNode(e);return t&&30303===t.get("type")},"convertParametersToFormData":function(t){var o="";return e.isObject(t)&&!e.isArray(t)&&e.each(t,function(e,t,n){var r,i;r=encodeURI(t),i=encodeURI(e),o.length?o+="&"+r+"="+i:o+=r+"="+i}),o},"execute":function(n,r){var a,l,c="read",p=t.Deferred(),u=r.destinationModel,d=u.get("http_method"),m=d.toLowerCase(),h=u.get("run_in_background"),b={"attributes":{"id":r.node.get("id")},"options":{"id":r.node.get("id")}},f=e.has(r,"parameters");if(a=r.context.getModel(s,b),"get"===m)c="read",f&&e.has(a,"options")&&(a.options=e.extend(a.options,{"parameters":r.parameters}));else{switch(m){case"post":c="create";break;case"put":c="update";break;case"patch":c="patch";break;case"delete":c="delete"}f&&(l=this.convertParametersToFormData(r.parameters))}return a.sync(c,a,{"data":l,"success":function(e){if(e){var t=a.parse(e,r);a.set(t,r)}a.clearParameters(),p.resolve(arguments,a)},"error":function(e,t,n){var r=new o.Error(e);i.showMessage("error",r.message,r.errorDetails),a.clearParameters(),p.reject()}}),h&&p.resolve([{},"success"],a,!0),p.promise()}})}),csui.define("webreports/controls/run.webreport.pre/run.webreport.pre.controller",["require","csui/lib/underscore","csui/lib/jquery","csui/models/nodes","csui/utils/command.error","webreports/utils/contexts/factories/run.webreport.pre.factory","webreports/utils/commands/open.classic.webreport","webreports/utils/commands/execute.webreport","i18n!webreports/controls/run.webreport.pre/impl/nls/lang"],function(require,_,$,NodeCollection,CommandError,RunWRPreModelFactory,OpenClassicWebReport,ExecuteWebReportCommand,lang){"use strict";function RunWebReportPreController(){}return _.extend(RunWebReportPreController.prototype,{"runWRPreModel":void 0,"destinationModel":void 0,"parametersModel":void 0,"promptCheckPromise":void 0,"_getCommandStatus":function(){return void 0===this.commandStatus?{"nodes":new NodeCollection(this.options.node)}:this.commandStatus},"switchToPromptView":function(e,t){var o,n,r=this,i=$.Deferred(),s=this._getCommandStatus(),a=s.nodes;return o=s.context||t&&t.context,n=s.originatingView||t.originatingView,csui.require(["csui/lib/marionette","csui/lib/backbone","webreports/widgets/parameter.prompt.form/parameter.prompt.form.view","csui/controls/dialog/dialog.view","csui/utils/contexts/factories/next.node","csui/utils/contexts/factories/previous.node","csui/utils/contexts/factories/node","csui/widgets/nodestable/nodestable.view"],function(e,t,l,c,p,u,d,m){var h,b=o.getModel(u),f=o.getModel(p),g=o.getModel(d),w={"RunWRController":r,"model":a,"originatingView":n,"context":o,"showCloseIcon":!n,"showBackIcon":!!n};if(b.clear({"silent":!0}),b.set(g.attributes),f.clear({"silent":!0}),h=new l(w),n instanceof m){var v,y,x=n.$el;x.width();x.parent().append("<div class='wr-prompt-parameters-wrapper'></div>"),y=$(x.parent().find(".wr-prompt-parameters-wrapper")[0]),y.hide(),h.render(),e.triggerMethodOn(h,"before:show"),y.append(h.el),x.hide("blind",{"direction":"left","complete":function(){y.show("blind",{"direction":"right","complete":function(){e.triggerMethodOn(h,"show")}},100)}},100),x.promise().done(function(){n.isDisplayed=!1,i.resolve()}),v=function(){y.hide("blind",{"direction":"right","complete":function(){x.show("blind",{"direction":"left","complete":function(){n.triggerMethod("dom:refresh"),n.isDisplayed=!0,!!s.collection&&(s.collection.requireSwitched=!1)}},100),h.destroy(),y.remove(),i.resolve()}},100)},t.listenTo(h,"promptView:close",_.bind(v,r)),t.listenTo(h,"promptView:close:without:animation",function(){x.show("blind",{"direction":"left","complete":function(){n.triggerMethod("dom:refresh"),!!s.collection&&(s.collection.requireSwitched=!1)}},100),h.destroy(),y.remove(),i.resolve()})}else r.dialog=new c({"className":"wr-prompt-parameters","largeSize":!0,"view":h}),r.dialog.show(),r.dialog.ui.header.hide(),r.dialog.listenTo(h,"promptView:close",function(){r.dialog.destroy(),i.resolve()}),r.dialog.listenTo(h,"promptView:close:without:animation",function(){r.dialog.destroy(),i.resolve()})},function(e){i.reject(new CommandError(e))}),i.promise()},"_getAtLeastOneNode":function(e){return e.nodes?1===e.nodes.length&&e.collection?e.collection:e.nodes:new NodeCollection},"checkForPromptParameters":function(e){var t,o,n=this,r=$.Deferred(),i=!(!e||!_.has(e,"suppressPromptView"))&&e.suppressPromptView;return this.options=e,this._blockParentActions(),this.getRunWRPreModel(e).done(function(){t=n._checkPrompts(i),r.resolve(t)}).fail(function(){n._unblockParentActions(),n._cleanupFactory(),r.reject()}),o=r.promise(),this.promptCheckPromise=o,o},"getPromptCheckPromise":function(){return this.promptCheckPromise},"getFormView":function(e){var t,o=_.has(this,"runWRPreModel")?this.runWRPreModel:_.has(e,"promptModel")?e.promptModel:void 0,n=$.Deferred();return void 0!==o?csui.require(["csui/controls/form/form.view"],function(r){t=new r({"context":e.context,"model":o,"mode":"create"}),n.resolve(t)},function(e){n.reject()}):n.reject(),n.promise()},"executeWR":function(e){var t,o,n,r=this,i=_.extend(this.options,{"destinationModel":this.destinationModel}),s=this.destinationModel,a=s.get("output_destination");o=this._checkExecutionRoute(),"classic"===o?(this.openInClassic(e),this._unblockParentActions()):(void 0!==e&&(_.extend(e,{"prompting":"done"}),this.options.parameters=e,this._blockParentActions()),"fullpagewidget"===a?r._showOutputPerspective():(t=new ExecuteWebReportCommand,n=void 0===this.commandStatus?{"nodes":new NodeCollection(i.node)}:this.commandStatus,t.enabled(n)&&t.execute(n,this.options).done(function(e,t,o){!0===r.destinationModel.get("show_status_screen")?(r.statusScreenOptions=_.extend(r.options,{"executeModel":t,"runInBackground":o}),r.showStatusScreen()):r._unblockParentActions()}).fail(function(){r._unblockParentActions()})))},"_showOutputPerspective":function(){var e=this,t=this.options,o=t&&t.node,n=o&&o.get("id");n?csui.require(["csui/utils/contexts/factories/next.node","csui/utils/contexts/factories/previous.node","csui/utils/contexts/factories/node"],function(t,o,r){e.previousNode=e.options.context.getModel(o),e.nextNode=e.options.context.getModel(t),e.node=e.options.context.getModel(r),e.previousNode.clear({"silent":!0}),e.previousNode.set(e.node.attributes),e.nextNode.clear({"silent":!0}),e.nextNode.set({"id":n}),e._unblockParentActions()}):console.error("Unable to get node ID for WebReport")},"openInClassic":function(e){var t,o=new OpenClassicWebReport;void 0!==e&&(_.extend(e,{"prompting":"done"}),this.options.parameters=e),void 0!==this.commandStatus?t=this.commandStatus:(o.openInNewTab=!1,t={"nodes":new NodeCollection(this.options.node)}),o.execute(t,this.options)},"getRunWRPreModel":function(e){var t=this,o=$.Deferred();return this.runWRPreModel=this.getRunWrPreFactory(e),this.runWRPreModel.fetch().done(function(e,n,r){t.destinationModel=t.runWRPreModel.destinationModel,t.parametersModel=t.runWRPreModel.parametersModel,o.resolve()}).fail(function(e,t,n){o.reject()}),o.promise()},"getRunWrPreFactory":function(e){return e.context.getModel(RunWRPreModelFactory,{"unique":!0,"attributes":{"id":e.node.get("id")},"options":{"id":e.node.get("id")}})},"additionalModelMap":{"node":{"primary":"outputData.node_id","secondary":"destination_data.destination_specific.create_in_id"},"version":{"primary":"destination_data.destination_specific.add_version_to_id"},"workflow":{"primary":"destination_data.destination_specific.workflow_map_id","secondary":"outputData.work_id"}},"_getStatusScreenModels":function(){var options=this.statusScreenOptions,outputData=options.executeModel.get("data"),destination_data=outputData.destination_data,self=this,deferred=$.Deferred();csui.require(["csui/utils/contexts/factories/node","workflow/models/workitem/workitem.model.factory"],function(NodeFactory,WorkItemModelFactory){var primaryID,secondaryID,primaryFactory,primaryNode,secondaryNode,secondaryFactory,promises=[],target=destination_data.output_destination;"node"===target&&_.has(destination_data.destination_specific,"add_version_to_id")&&(target="version"),primaryFactory=NodeFactory,secondaryFactory=NodeFactory,primaryID=eval(self.additionalModelMap[target].primary),"workflow"===destination_data.output_destination?!0===destination_data.destination_specific.workflow_attach_output?(secondaryFactory=WorkItemModelFactory,secondaryID=eval(self.additionalModelMap[target].secondary)):secondaryID=void 0:secondaryID=eval(self.additionalModelMap[target].secondary),primaryNode=options.context.getModel(primaryFactory,{"attributes":{"id":primaryID}}),promises.push(primaryNode.fetch()),void 0!==secondaryID&&(secondaryNode=options.context.getModel(secondaryFactory,{"attributes":{"id":secondaryID}}),"workflow"===destination_data.output_destination&&!0===destination_data.destination_specific.workflow_attach_output&&secondaryNode.set({"process_id":secondaryID,"subprocess_id":secondaryID,"task_id":1},{"silent":!0}),promises.push(secondaryNode.fetch())),$.whenAll.apply($,promises).then(function(e){var t,o,n;options.primaryNode=primaryNode,options.secondaryNode=secondaryNode,"workflow"===destination_data.output_destination&&!0===destination_data.destination_specific.workflow_attach_output?secondaryNode.has("data_packages")?(t=secondaryNode.get("data_packages"),_.isArray(t)&&t.length>0&&_.has(t[0],"data")&&_.has(t[0].data,"attachment_folder_id")?(o=t[0].data.attachment_folder_id,n=options.context.getModel(NodeFactory,{"attributes":{"id":o}}),n.fetch().then(function(){self.options.wfAttachmentsNode=n,self._renderStatusScreen()})):(console.warn("The dataID for the Workflow Attachments is not available."),self._unblockParentActions())):(console.warn("Could not get data packages from Workflow model."),self._unblockParentActions()):self._renderStatusScreen()})},function(e){self._unblockParentActions()})},"_renderStatusScreen":function(){var e,t,o,n=this,r=this.statusScreenOptions,i=r.destinationModel.get("destination_specific"),s=r.destinationModel.get("output_destination"),a=$.Deferred();"node"===s&&_.has(i,"add_version_to_id")&&(s="version"),e=r.destinationModel.get("run_in_background")?lang.WebReportExecutingInBackground:lang.WebReportExecutedSuccessfully,this._unblockParentActions(),csui.require(["csui/controls/dialog/dialog.view","webreports/controls/status.screen/status.screen.view"],function(i,s){t=new i({"title":e,"buttons":[{"label":lang.okLabel,"close":!0,"click":_.bind(n._onCloseStatusScreen,n)}]}),o=new s(_.extend(r,{"dialogView":t})),t.options.view=o,o.on("onClickNodeLink",_.bind(n._onCloseStatusScreen,n)).on("onClickSecondaryLink",_.bind(n._onCloseStatusScreen,n)),t.show(),a.resolve()},function(){a.reject()})},"_onCloseStatusScreen":function(){this._unblockParentActions(),this._cleanupFactory()},"showStatusScreen":function(){var e=this.statusScreenOptions,t=e.runInBackground,o=t?e.destinationModel.toJSON():e.executeModel.get("data").destination_data;!t&&o.output_destination in this.additionalModelMap?this._getStatusScreenModels():this._renderStatusScreen()},"_checkExecutionRoute":function(e){var t;switch(this.destinationModel.get("output_destination")){case"browser":case"desktop":t="classic";break;default:t="smart_ui"}return t},"_checkPrompts":function(e){var t,o,n,r,i,s="noPrompts",a=this.parametersModel,l=a.get("prompt_file_id"),c=this.runWRPreModel,p=this.destinationModel,u=p.get("output_destination"),d="fullpagewidget"===u,m=this;if(void 0!==c)if(void 0!==l&&""!==l)s="showClassicPrompts";else if(r=c.get("schema"),i=c.get("options"),void 0!==r&&void 0!==i)for(t in r.properties)if(r.properties.hasOwnProperty(t)&&(o=r.properties[t],n=i.fields[t],!1===n.hidden)){if("Custom"===o.type){s="showClassicPrompts";break}s="showSmartPrompts"}if(!e)if(d)this._unblockParentActions(),this.executeWR(this.options.parameters);else switch(s){case"showSmartPrompts":this.switchToPromptView(status,this.options).done(function(){m._unblockParentActions()});break;case"showClassicPrompts":this.openInClassic(),this._unblockParentActions();break;default:this._unblockParentActions(),this.executeWR(this.options.parameters)}return this.promptRoute=s,s},"_blockParentActions":function(){var e;_.has(this,"options")&&_.has(this.options,"originatingView")&&(e=this.options.originatingView,e&&e.blockActions&&e.blockActions(),e&&e.tableView&&e.tableView.blockActions&&e.tableView.blockActions())},"_unblockParentActions":function(){var e;_.has(this,"options")&&_.has(this.options,"originatingView")&&(e=this.options.originatingView,e&&e.unblockActions&&e.unblockActions(),e&&e.tableView&&e.tableView.unblockActions&&e.tableView.unblockActions())},"_cleanupFactory":function(){var e=this.options;_.has(e,"executeModel")&&e.executeModel.clear({"silent":!0})}}),_.extend(RunWebReportPreController,{"version":"1.0"}),RunWebReportPreController}),csui.define("webreports/utils/contexts/factories/run.webreport.pre.controller.factory",["csui/lib/underscore","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","webreports/controls/run.webreport.pre/run.webreport.pre.controller"],function(e,t,o,n){return t.extend({"propertyPrefix":"runwebreportprecontroller","constructor":function(r,i){e.has(i,"attributes")&&delete i.attributes,e.has(i,this.propertyPrefix)&&e.has(i[this.propertyPrefix],"attributes")&&delete i[this.propertyPrefix].attributes,t.prototype.constructor.apply(this,arguments);var s=r.getObject(o,i),a=e.extend(i.options,{"connector":s});this.property=new n({},a)}})}),csui.define("hbs!webreports/controls/parameter.prompt/impl/parameter.prompt.footer",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <button type="button" class="binf-btn binf-btn-primary csui-acc-tab-region csui-acc-focusable-active cancelPrompt">'+e.escapeExpression((i=null!=(i=s(o,"cancel")||(null!=t?s(t,"cancel"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"cancel","hash":{},"loc":{"start":{"line":2,"column":119},"end":{"line":2,"column":129}}}):i))+"</button>\r\n"},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"showCancelButton"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.noop,"loc":{"start":{"line":1,"column":0},"end":{"line":3,"column":7}}}))?i:"")+'    <button type="button" class="binf-btn binf-btn-primary csui-acc-tab-region csui-acc-focusable-active submitPrompt">'+e.escapeExpression((s=null!=(s=a(o,"runReport")||(null!=t?a(t,"runReport"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"runReport","hash":{},"loc":{"start":{"line":4,"column":119},"end":{"line":4,"column":132}}}):s))+"</button>"}});return o.registerPartial("webreports_controls_parameter.prompt_impl_parameter.prompt.footer",n),n}),csui.define("webreports/controls/parameter.prompt/impl/nls/parameter.prompt.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/controls/parameter.prompt/impl/nls/root/parameter.prompt.lang",{"runReport":"Run WebReport","cancel":"Cancel","noFormFields":"There are no parameter fields to show.","defaultPromptTitle":"WebReport Parameters","ariaLabel":"WebReport Parameters"}),csui.define("css!webreports/controls/parameter.prompt/impl/parameter.prompt",[],function(){}),csui.define("webreports/controls/parameter.prompt/impl/parameter.prompt.footer.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette3","hbs!webreports/controls/parameter.prompt/impl/parameter.prompt.footer","i18n!webreports/controls/parameter.prompt/impl/nls/parameter.prompt.lang","css!webreports/controls/parameter.prompt/impl/parameter.prompt"],function(e,t,o,n,r){"use strict";return o.View.extend({"className":"webreports-parameter-prompt-footer","template":n,"templateContext":function(){return{"showCancelButton":(this.options||{}).showCancelButton,"cancel":r.cancel,"runReport":r.runReport}},"ui":{"submitPrompt":".binf-btn.binf-btn-primary.submitPrompt","cancelPrompt":".binf-btn.binf-btn-primary.cancelPrompt"},"events":{"click @ui.submitPrompt":"submitPrompt","click @ui.cancelPrompt":"cancelPrompt"},"constructor":function(e){o.View.prototype.constructor.call(this,e)},"submitPrompt":function(){var e=this.options,t=e.parentView.options.originatingView,o=e.parentView.getChildView("promptForm"),n=o?o.getValues():{},r={"view":e.parentView,"formValues":n};o&&o.validate()&&(t?t.trigger("prompt:form:submitted",r):this.trigger("prompt:form:submitted",r))},"cancelPrompt":function(){var e=this.options;e&&e.originatingView?e.originatingView.trigger("prompt:form:cancelled"):this.trigger("prompt:form:cancelled")}})}),csui.define("hbs!webreports/controls/parameter.prompt/impl/parameter.prompt",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){return'<div class="webreports-parameter-prompt-form-wrapper">\r\n    <div class="webreports-parameter-prompt-form"></div>\r\n</div>\r\n<div class="webreports-parameter-prompt-footer"></div>'}});return o.registerPartial("webreports_controls_parameter.prompt_impl_parameter.prompt",n),n}),csui.define("webreports/controls/parameter.prompt/parameter.prompt.view",["csui/lib/underscore","csui/lib/marionette3","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/controls/form/form.view","webreports/controls/parameter.prompt/impl/parameter.prompt.footer.view","hbs!webreports/controls/parameter.prompt/impl/parameter.prompt","i18n!webreports/controls/parameter.prompt/impl/nls/parameter.prompt.lang","css!webreports/controls/parameter.prompt/impl/parameter.prompt"],function(e,t,o,n,r,i,s){"use strict";return t.View.extend({"className":"webreports-parameter-prompt-content","template":i,"wrapTemplate":!1,"regions":{"promptForm":{"el":".webreports-parameter-prompt-form","replaceElement":!1},"footer":{"el":".webreports-parameter-prompt-footer","replaceElement":!0}},"behaviors":{"PerfectScrolling":{"behaviorClass":o,"contentParent":".webreports-parameter-prompt-form-wrapper","suppressScrollX":!0,"scrollYMarginOffset":15}},"constructor":function(e){t.View.prototype.constructor.call(this,e)},"onRender":function(){var e=this.options,o="showSmartPrompts"!==e.promptRoute,i=new n({"context":e.context,"model":this.model}),a=new r({"context":e.context,"parentView":this,"model":this.model}),l=new t.View({"template":!1,"el":'<div class="csui-no-result-message">'+s.noFormFields+"</div>"}),c=o?l:i;this.showChildView("promptForm",c),o||this.showChildView("footer",a)}})}),csui.define("hbs!webreports/controls/parameter.prompt/impl/parameter.prompt.tile.view",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="tile-type-icon">\r\n            <span class="icon title-icon '+e.escapeExpression((i=null!=(i=s(o,"icon")||(null!=t?s(t,"icon"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon","hash":{},"loc":{"start":{"line":5,"column":41},"end":{"line":5,"column":49}}}):i))+'" aria-hidden="true"></span>\r\n        </div>\r\n'},"3":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"imageUrl"):t,{"name":"if","hash":{},"fn":e.program(4,r,0),"inverse":e.noop,"loc":{"start":{"line":8,"column":8},"end":{"line":12,"column":15}}}))?i:""},"4":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="tile-type-image '+e.escapeExpression((i=null!=(i=s(o,"imageClass")||(null!=t?s(t,"imageClass"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageClass","hash":{},"loc":{"start":{"line":9,"column":40},"end":{"line":9,"column":54}}}):i))+'">\r\n                <span class="tile-type-icon tile-type-icon-img"><img src="'+e.escapeExpression((i=null!=(i=s(o,"imageUrl")||(null!=t?s(t,"imageUrl"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageUrl","hash":{},"loc":{"start":{"line":10,"column":74},"end":{"line":10,"column":86}}}):i))+'" alt="" aria-hidden="true"></span>\r\n            </div>\r\n'},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="tile-header">\r\n\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"icon"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.program(3,r,0),"loc":{"start":{"line":3,"column":4},"end":{"line":13,"column":11}}}))?i:"")+'\r\n    <div class="tile-title" >\r\n        <h2 class="csui-heading">'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":16,"column":33},"end":{"line":16,"column":42}}}):s))+'</h2>\r\n    </div>\r\n\r\n    <div class="tile-controls" title="'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":19,"column":38},"end":{"line":19,"column":47}}}):s))+'"></div>\r\n\r\n</div>\r\n\r\n<div class="tile-content"></div>\r\n\r\n<div class="tile-footer"></div>\r\n'}});return o.registerPartial("webreports_controls_parameter.prompt_impl_parameter.prompt.tile.view",n),n}),csui.define("webreports/controls/parameter.prompt/parameter.prompt.tile.view",["csui/lib/underscore","csui/lib/jquery","csui/utils/base","csui/controls/tile/tile.view","webreports/controls/parameter.prompt/parameter.prompt.view","hbs!webreports/controls/parameter.prompt/impl/parameter.prompt.tile.view","i18n!webreports/controls/parameter.prompt/impl/nls/parameter.prompt.lang"],function(e,t,o,n,r,i,s){"use strict";return n.extend({"templateHelpers":function(){var t=this.options,n=!!(t&&e.has(t,"originatingView")&&e.has(t.originatingView,"options"))&&t.originatingView.options,r=n&&e.has(n,"data")&&e.has(n.data,"title")&&e.isObject(n.data.title)?n.data.title:s.defaultPromptTitle,i=n&&e.has(n,"data")&&e.has(n.data,"titleBarIcon")?n.data.titleBarIcon:"title-webreports";return{"title":o.getClosestLocalizedString(r,s.dialogTitle),"icon":i||"title-webreports"}},"template":i,"contentView":r,"constructor":function(e){this.contentViewOptions=e,n.prototype.constructor.call(this,e)}})}),csui.define("hbs!webreports/controls/parameter.prompt/impl/widget.prompt.wrapper",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){return'<div class="webreports-widget-prompt-wrapper-content"></div>'}});return o.registerPartial("webreports_controls_parameter.prompt_impl_widget.prompt.wrapper",n),n}),csui.define("webreports/controls/parameter.prompt/widget.prompt.wrapper.view",["csui/lib/underscore","csui/lib/marionette3","csui/lib/backbone","csui/lib/jquery","csui/models/node/node.model","csui/controls/progressblocker/blocker","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","webreports/utils/general.utils","webreports/utils/url.webreports","webreports/mixins/webreports.view.mixin","webreports/utils/contexts/factories/run.webreport.pre.controller.factory","webreports/controls/parameter.prompt/parameter.prompt.tile.view","hbs!webreports/controls/parameter.prompt/impl/widget.prompt.wrapper"],function(e,t,o,n,r,i,s,a,l,c,p,u,d){var m=t.View.extend({"template":d,"wrapTemplate":!1,"regions":{"content":{"el":".webreports-widget-prompt-wrapper-content","replaceElement":!0}},"ui":{"showParametersBtn":".webreports-visual-count-btn-parameters","tileHeader":".tile-header"},"events":{"click @ui.showParametersBtn":"onShowParameterPromptView","keyup @ui.showParametersBtn":"onShowParameterPromptView","keydown .cs-go-back":"onKeyInView","click .cs-go-back":"onBackButton"},"constructor":function(e){var o,n,i=this,s="showPromptForm"===e.data.parameterPrompt||e.data.outputDestination&&"fullpagewidget"===e.data.outputDestination;if(this.showPrompt=s,this.widgetView=e.view,s){n=new r({"id":e.data.id,"type":30303}),o={"node":n,"context":e.context,"suppressPromptView":!0,"originatingView":this};this._getPromptView(o,e).done(function(e){e?(i.promptOptions=e,
i.listenTo(i,"prompt:form:submitted",i.onPromptFormSubmitted),i._showParameterPromptView()):(i._showWidgetView(),i._fetchWidgetFactory())}).fail(function(e){i.promptOptions=e,i._showParameterPromptView()})}t.View.prototype.constructor.apply(this,arguments),this.listenTo(this,"factory:fetched:after:prompt",this._showParameterBtn)},"templateContext":function(){return{"showPrompt":this.showPrompt}},"onShowParameterPromptView":function(e){return"click"!==e.type&&("keyup"!==e.type||13!==e.keyCode&&32!==e.keyCode)||(e.stopPropagation(),this.trigger("edit:prompt:clicked"),this._showParameterPromptView()),!1},"_showParameterPromptView":function(){var t,o=this.promptOptions;o&&(e.has(o.originatingView,"formValues")&&o.model.set({"data":o.originatingView.formValues}),t=new u(o),this.showChildView("content",t),this.propagateEventsToViews(t))},"_createWidgetView":function(){var t,o=this.widgetView;return t=e.extend(this.options,{"originatingView":this}),new o(t)},"_showWidgetView":function(){var e=this._createWidgetView();this.showChildView("content",e),this.propagateEventsToViews(e)},"_fetchWidgetFactory":function(){var e,t=this.getContentViewFactory();return t?e=t.fetch():console.error("Could not find the factory for widget."),e},"getContentViewFactory":function(){var e,t=this.getChildView("content");return t&&(e=t.getFactory()),e},"_getPromptView":function(t,o){var r=a.isWebReportNodeContext(o.context),i={"detached":!0,"unique":!r,"attributes":{"id":t.node.get("id")},"options":{"id":t.node.get("id")}},s=o.context.getObject(p,i),c=s.getPromptCheckPromise(),u=n.Deferred();return c&&r?(o&&o.data&&!o.data.parameters&&(o.data.parameters=[]),e.extend(o.data.parameters,l.getDataAsWebReportParameters(s.options.parameters))):c=s.checkForPromptParameters(t),t.model=s.runWRPreModel,n.when(c).then(function(e){"showSmartPrompts"===e?(t.promptRoute=e,o.data.parameterPrompt="showPromptForm",u.resolve(t)):u.resolve()},function(){u.reject(t)}),u.promise()},"_mergeParametersIntoOptions":function(t){var o=this.options||{};this.formValues=e.mapObject(t.formValues,function(t,o){return e.isNaN(t)&&(t=null),t}),o.data.parameters=e.has(o,"data")&&e.has(o.data,"parameters")&&e.isArray(o.data.parameters)?o.data.parameters:[],e.extend(o.data.parameters,l.getDataAsWebReportParameters(this.formValues))},"_showParameterBtn":function(){var e=this.$el.find(".webreports-widget-parameters-btn.binf-hidden");e&&e.removeClass("binf-hidden")},"onPromptFormSubmitted":function(e){this._mergeParametersIntoOptions(e),this._showWidgetView();var t=this._fetchWidgetFactory();this.trigger("factory:fetched:after:prompt",{"promise":t})},"onRender":function(){this.showPrompt?this._showParameterPromptView():this._showWidgetView()},"onKeyInView":function(e){32!==e.keyCode&&13!==e.keyCode||this.onBackButton()},"onBackButton":function(){var e=this.options.context,t=e&&e.viewStateModel;t&&t.restoreLastFragment()}});return c.mixin(m.prototype),e.extend(m.prototype,s),m}),csui.define("webreports/models/wrtext/wrtext.model",["csui/lib/underscore","csui/lib/backbone","webreports/utils/url.webreports","csui/models/mixins/connectable/connectable.mixin","csui/models/mixins/fetchable/fetchable.mixin"],function(e,t,o,n,r){var i=t.Model.extend({"constructor":function(e,o){t.Model.prototype.constructor.apply(this,arguments),this.makeConnectable(o),this.makeFetchable(o)},"url":function(){var e=this.get("parameters"),t=this.get("context"),n="";return n=o.appendWebReportParameters(n,e),n=o.appendCurrentContainer(n,t),o.combine(this.connector.connection.url+"/nodes/"+this.get("id"),n?"/output?format=webreport&"+n:"/output?format=webreport")},"parse":function(e){return{"source":e}}});return n.mixin(i.prototype),r.mixin(i.prototype),i}),csui.define("webreports/utils/contexts/factories/wrtext.model.factory",["csui/lib/underscore","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","webreports/models/wrtext/wrtext.model"],function(e,t,o,n){return t.extend({"propertyPrefix":"wrtext","constructor":function(e,r){t.prototype.constructor.apply(this,arguments);var i=e.getObject(o,r);this.property=new n(r.wrtext.attributes,{"connector":i})},"fetch":function(t){return t?e.extend(t,{"dataType":"html"}):t={"dataType":"html"},t=e.extend({"headers":{}},t),e.extend(t.headers,{"X-OriginParams":location.search}),this.property.fetch(t)}})}),csui.define("webreports/widgets/tilereport/impl/nls/tilereport.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/tilereport/impl/nls/root/tilereport.lang",{"dialogTitle":"Tile Report"}),csui.define("hbs!webreports/widgets/tilereport/impl/tilereport",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="tile-header">\r\n\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"wrNode"):t,{"name":"if","hash":{},"fn":e.program(2,r,0),"inverse":e.noop,"loc":{"start":{"line":4,"column":8},"end":{"line":6,"column":15}}}))?i:"")+"\r\n"+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"icon"):t,{"name":"if","hash":{},"fn":e.program(4,r,0),"inverse":e.noop,"loc":{"start":{"line":8,"column":8},"end":{"line":12,"column":15}}}))?i:"")+'\r\n        <div class="tile-title">\r\n            <h2 class="csui-heading">'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":15,"column":37},"end":{"line":15,"column":46}}}):s))+'</h2>\r\n        </div>\r\n\r\n        <div class="tile-controls">\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"showParameterEditBtn"):t,{"name":"if","hash":{},"fn":e.program(6,r,0),"inverse":e.noop,"loc":{"start":{"line":19,"column":12},"end":{"line":23,"column":19}}}))?i:"")+"        </div>\r\n\r\n    </div>\r\n"},"2":function(e,t,o,n,r){return'            <div class="arrow_back cs-go-back"></div>\r\n'},"4":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="tile-type-icon">\r\n                <span class="icon title-icon '+e.escapeExpression((i=null!=(i=s(o,"icon")||(null!=t?s(t,"icon"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon","hash":{},"loc":{"start":{"line":10,"column":45},"end":{"line":10,"column":53}}}):i))+'" aria-hidden="true"></span>\r\n            </div>\r\n'},"6":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="csui-favorite csui-acc-tab-region webreports-widget-parameters-btn">\r\n                <span class="csui-icon-edit inline-edit-icon icon-edit wr-icon-edit" role="button" tabindex="0" aria-label="'+e.escapeExpression((i=null!=(i=s(o,"settings")||(null!=t?s(t,"settings"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"settings","hash":{},"loc":{"start":{"line":21,"column":124},"end":{"line":21,"column":136}}}):i))+'"></span>\r\n            </div>\r\n'},"8":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"showParameterEditBtn"):t,{"name":"if","hash":{},"fn":e.program(9,r,0),"inverse":e.noop,"loc":{"start":{"line":27,"column":0},"end":{"line":32,"column":0}}}))?i:""},"9":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="csui-favorite csui-acc-tab-region webreports-widget-parameters-btn overlaid">\r\n        <span class="csui-icon-edit inline-edit-icon icon-edit wr-icon-edit" role="button" tabindex="0" aria-label="'+e.escapeExpression((i=null!=(i=s(o,"settings")||(null!=t?s(t,"settings"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"settings","hash":{},"loc":{"start":{"line":29,"column":116},"end":{"line":29,"column":128}}}):i))+'"></span>\r\n    </div>\r\n\r\n'},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"header"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.program(8,r,0),"loc":{"start":{"line":1,"column":0},"end":{"line":32,"column":7}}}))?i:"")+'\r\n\r\n\r\n<div class="tile-content"></div>\r\n\r\n<div class="tile-footer"></div>\r\n'}});return o.registerPartial("webreports_widgets_tilereport_impl_tilereport",n),n}),csui.define("css!webreports/widgets/tilereport/impl/tilereport",[],function(){}),csui.define("css!webreports/style/webreports",[],function(){}),csui.define("webreports/widgets/tilereport/impl/tilereport.content.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/base","csui/controls/progressblocker/blocker","csui/controls/tile/tile.view","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/behaviors/item.error/item.error.behavior","webreports/utils/contexts/factories/wrtext.model.factory","webreports/mixins/webreports.view.mixin","webreports/utils/general.utils","i18n!webreports/widgets/tilereport/impl/nls/tilereport.lang","hbs!webreports/widgets/tilereport/impl/tilereport","csui/lib/perfect-scrollbar","css!webreports/widgets/tilereport/impl/tilereport","css!webreports/style/webreports.css"],function(e,t,o,n,r,i,s,a,l,c,p,u,d,m){var h=n.Region.extend({"attachHtml":function(e){this.$el.html("").append(e.el)}}),b=n.ItemView.extend({"constructor":function(e){i.imbue(this),n.ItemView.prototype.constructor.apply(this,arguments)},"className":"webreports-tilereport-content","events":{"keydown":"onKeyInView","click .cs-go-back":"onBackButton"},"render":function(){var t;return this.model&&(t=this.model.get("source"),e.isUndefined(t)||this.$el.html(t)),this}}),f=s.extend({"className":"webreports-tilereport-content-view","behaviors":{"PerfectScrolling":{"behaviorClass":a,"contentParent":"> .tile-content","suppressScrollX":!0,"scrollYMarginOffset":15,"scrollingDisabled":function(){return!this.options.data.scroll}},"ItemError":{"behaviorClass":l,"errorView":this.view,"errorViewOptions":function(){var e=this.model.error,t=e.message,n=e.errorDetails;return{"model":new o.Model({"message":t,"title":n})}}}},"constructor":function(t){if(t&&t.data){var o,n,r,a=this,l=!e.has(t.data,"header")||!e.isBoolean(t.data.header)||t.data.header,p=!e.has(t.data,"scroll")||!e.isBoolean(t.data.scroll)||t.data.scroll;t.data.header=l,t.data.scroll=p,t.data.titleBarIcon=e.has(t.data,"titleBarIcon")?"title-icon "+t.data.titleBarIcon:"title-icon title-webreports",o=this.setCommonModelOptions(t),r=this.getWidgetFactory(t,c,o),n=t.context.getModel(c,{"attributes":o}),this.setFactory(r),t.model=n,this.listenTo(t.model,"change",function(){a.render(),a._updateScrollbar()}),t.blockingParentView?i.delegate(this,t.blockingParentView):i.imbue(this),this.contentViewOptions=t}s.prototype.constructor.apply(this,arguments)},"_updateScrollbar":function(){this.triggerMethod("update:scrollbar",this)},"waitingOnServer":function(){this.blocking=!0,this.blockActions()},"responseFromServer":function(){this.blocking=!1,this.unblockActions(),this.render()},"regionClass":h,"contentView":b,"template":m,"templateHelpers":function(){var t=this.getOption("context"),o={"title":r.getClosestLocalizedString(this.options.data.title,d.dialogTitle),"icon":this.options.data.titleBarIcon};return o.wrNode=u.isWebReportNodeContext(t),!0===this.options.data.header&&e.extend(o,{"header":this.options.data.header}),"showPromptForm"===this.options.data.parameterPrompt&&e.has(this.options.data,"parameters")&&this.options.data.parameters.length&&e.extend(o,{"showParameterEditBtn":!0}),o},"onRender":function(){this.contentView&&"object"==typeof this.contentView&&(this.contentView=this.contentView.constructor),!1===this.options.data.header&&this.$(".tile-content").height("100%").css("margin-top","0px")}});return p.mixin(f.prototype),f}),csui.define("webreports/widgets/tilereport/tilereport.view",["webreports/controls/parameter.prompt/widget.prompt.wrapper.view","webreports/widgets/tilereport/impl/tilereport.content.view"],function(e,t){return e.extend({"className":"cs-tile cs-list tile content-tile webreports-tilereport","constructor":function(o){o.view=t,e.prototype.constructor.apply(this,arguments)}})}),csui.define("json!webreports/widgets/tilereport/tilereport.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"header","supportedKinds":["tile","header","fullpage"],"schema":{"type":"object","properties":{"title":{"title":"{{tileTitle}}","description":"{{tileDescription}}","type":"object"},"titleBarIcon":{"title":"{{iconTitle}}","description":"{{iconDescription}}","type":"string"},"header":{"title":"{{headerTitle}}","description":"{{headerDescription}}","type":"boolean","enum":[!0,!1],"default":!0},"scroll":{"title":"{{scrollTitle}}","description":"{{scrollDescription}}","type":"boolean","enum":[!0,!1],"default":!0},"id":{"title":"{{idTitle}}","description":"{{idDescription}}","type":"integer"},"parameterPrompt":{"title":"{{parameterPromptTitle}}","description":"{{parameterPromptDescription}}","type":"string","enum":["disabled","showPromptForm"],"default":"disabled"},"parameters":{"type":"array","title":"{{firstParamTitle}}","description":"{{firstParamDescription}}","items":{"type":"object","title":"{{secondParamTitle}}","description":"{{secondParamDescription}}","properties":{"name":{"type":"string","title":"{{paramNameTitle}}","description":"{{paramNameDescription}}"},"value":{"type":"string","title":"{{paramValTitle}}","description":"{{paramValDescription}}"}}}}},"required":["id"]},"options":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[30303]}}},"title":{"type":"otcs_multilingual_string"},"parameterPrompt":{"type":"select","optionLabels":["{{parmsIgnored}}","{{enabledShowPromptForm}}"]}}}}),csui.define("webreports/widgets/tilereport/impl/nls/tilereport.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/tilereport/impl/nls/root/tilereport.manifest",{"widgetTitle":"HTML WebReport","widgetDescription":"Returns the HTML output of a WebReport and inserts it into a tile","tileTitle":"Title","tileDescription":"Title for the tile","iconTitle":"Icon class","iconDescription":"CSS class supplying the icon in the tile header","headerTitle":"Header","headerDescription":"Boolean stating whether the header should be included or not","scrollTitle":"Scroll","scrollDescription":"Boolean stating whether the scrollbar should be included or not","idTitle":"WebReport ID","idDescription":"DataID for the WebReport which contains the HTML","parameterPromptTitle":"Parameter prompt behavior","parameterPromptDescription":"Determines how the widget should behave when the source WebReport has input parameters.","parmsIgnored":"Don't prompt - use defaults","enabledShowPromptForm":"Show prompt form","firstParamTitle":"WebReport Parameters","firstParamDescription":"Key/Value pairs of parameters to be passed into the WebReport.","secondParamTitle":"WebReport Parameters","secondParamDescription":"Key/Value pairs of parameters to be passed into the WebReport.","paramNameTitle":"Parameter Name","paramNameDescription":"The name of the URL parameter.","paramValTitle":"Parameter Value","paramValDescription":"The value of the URL parameter."}),csui.define("webreports/widgets/nodeslistreport/impl/expanding.behavior",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/controls/dialog/dialog.view","csui/behaviors/expanding/expanding.behavior"],function(e,t,o,n,r){function i(t,o,n){if(null!=t){var r=t[o];return e.isFunction(r)?t[o].call(n):r}}return r.extend({"constructor":function(e,t){r.prototype.constructor.apply(this,arguments)},"onExpand":function(){var o=this.view.collection.clone(),r=this.getOption("expandedView"),s=r.prototype instanceof t.View?r:r.call(this.view),a=i(this.options,"expandedViewOptions",this.view);this.expandedView=new s(e.extend({"context":this.view.options.context,"collection":o,"orderBy":i(this.options,"orderBy",this.view),"limited":!1},a)),this.dialog=new n({"iconLeft":i(this.options,"titleBarIcon",this.view)||i(this.view.options,"titleBarIcon",this.view),"imageLeftUrl":i(this.options,"titleBarImageUrl",this.view),"imageLeftClass":i(this.options,"titleBarImageClass",this.view),"title":i(this.options,"dialogTitle",this.view),"iconRight":i(this.options,"dialogTitleIconRight",this.view),"className":i(this.options,"dialogClassName",this.view),"largeSize":!0,"view":this.expandedView}),this.listenTo(this.dialog,"before:hide",this._expandOtherView),this.listenTo(this.dialog,"hide",this.view._onCollapseExpandedView),this._expandOtherView(!1),this.dialog.show()}})}),csui.define("webreports/models/nodestablereport/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/models/nodestablereport/impl/nls/root/lang",{"size":"Size"}),csui.define("webreports/models/nodestablereport/nodestablereport.model",["module","csui/lib/underscore","csui/lib/backbone","webreports/utils/url.webreports","csui/models/nodechildrencolumn","csui/models/nodechildrencolumns","csui/models/node/node.model","csui/models/mixins/connectable/connectable.mixin","csui/models/mixins/fetchable/fetchable.mixin","csui/models/mixins/commandable/commandable.mixin","csui/models/browsable/browsable.mixin","csui/models/browsable/v1.request.mixin","csui/models/browsable/v2.response.mixin","csui/models/mixins/v2.expandable/v2.expandable.mixin","i18n!webreports/models/nodestablereport/impl/nls/lang"],function(e,t,o,n,r,i,s,a,l,c,p,u,d,m,h){var b=e.config();t.defaults(b,{"defaultPageSize":30});var f=r.extend({}),g=i.extend({"model":f,"getColumnModels":function(e,o){var n=i.prototype.getColumnModels.call(this,e,o);return t.each(n,function(e){var t=e.column_key;"type"!==t&&"name"!==t&&"modify_date"!==t||(e.sort=!0)},this),n},"getV2Columns":function(e){var o=e.results&&e.results[0]&&e.results[0].metadata&&e.results[0].metadata.properties||{};!o.size&&(o.container_size||o.versions&&o.versions.file_size)&&(o.size=o.container_size||o.versions.file_size,o.size.align="right",o.size.key="size",o.size.name=h.size,o.size.sort=!0);var n=t.keys(o);return this.getColumnModels(n,o)}}),w=s.extend({"parse":function(e,o){var n,r;return e.data&&e.data.properties?(n=e.data.properties,r=t.isUndefined(e.data.versions)?void 0:e.data.versions):(n=e,r=t.isUndefined(e.versions)?void 0:e.versions),n.short_name=n.name,n.size||(n.container?n.size=n.container_size:r&&(n.size=r.file_size,n.size_formatted=void 0)),!n.mime_type&&r&&r.mime_type&&(n.mime_type=r.mime_type),s.prototype.parse.call(this,e,o)}}),v=o.Collection.extend({"reservedParams":["limit","where_name","page","csuiContainerID","sort","expand","format"],"model":w,"constructor":function(e,n){o.Collection.prototype.constructor.apply(this,arguments),t.isUndefined(n)&&(n={}),n&&n.id&&!this.id&&(this.id=n.id),this.options=n,this.makeConnectable(n).makeFetchable(n).makeCommandable(n).makeBrowsable(n).makeBrowsableV1Request(n).makeBrowsableV2Response(n).makeExpandableV2(n),this.skipCount=n.skip||0,this.topCount=n.pageSize||b.defaultPageSize,this.filters=n.filter||{},this.orderBy=n.orderBy||"name asc",this.columns=new g},"clone":function(){var e=new this.constructor(this.models,this.options);return this.columns&&e.columns.reset(this.columns.toJSON()),e.actualSkipCount=this.actualSkipCount,e.totalCount=this.totalCount,e.filteredCount=this.filteredCount,e.skipCount=this.skipCount,e.filters=this.filters,e},"url":function(){var e=this,o="",r=this.options.context||void 0,i=this.options.parameters||void 0;return o=n.combineQueryString(o,this.getBrowsableUrlQuery(),this.getExpandableResourcesUrlQuery()),i=t.reject(i,function(o){return t.contains(e.reservedParams,o.name)}),o=n.appendWebReportParameters(o,i),o=n.appendCurrentContainer(o,r),n.combine(this.connector.connection.url+"/nodes/"+this.id,o?"/output?format=webreport&"+o:"/output?format=webreport")},"parse":function(e,t){return this.columns&&this.columns.resetColumnsV2(e,t),this.parseBrowsedState(e,t),this.parseBrowsedItems(e,t)},"_renameColumnKeys":function(e){var o={};return t.each(e,function(e,t){t=e.key,o[t]=e}),o}});p.mixin(v.prototype),a.mixin(v.prototype),l.mixin(v.prototype),c.mixin(v.prototype),u.mixin(v.prototype),d.mixin(v.prototype),m.mixin(v.prototype);var y=v.prototype.setFilter;return v.prototype.setFilter=function(e,t,o){return this.skipCount=0,y.apply(this,[e,t,o])},v}),csui.define("webreports/utils/contexts/factories/nodestablereport",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","webreports/models/nodestablereport/nodestablereport.model","csui/utils/commands","csui/utils/deepClone/deepClone","csui/utils/contexts/factories/node"],function(e,t,o,n,r,i,s){"use strict";return n.extend({"propertyPrefix":"nodestablereport","constructor":function s(a,l){n.prototype.constructor.apply(this,arguments);var c=this.options.nodestablereport||{};if(!(c instanceof o.Collection)){var p=a.getObject(r,l),u=e.config();c=new i(c.models,t.extend({"connector":p},c.attributes,u.options,s.getDefaultResourceScope(),{"autoreset":!0}))}this.property=c},"fetch":function(e){return e=t.extend({"headers":{}},e),t.extend(e.headers,{"X-OriginParams":location.search}),this.property.fetch(e)}},{"getDefaultResourceScope":function(){return t.deepClone({"fields":{"properties":[],"versions.element(0)":[]},"includeResources":["metadata"],"commands":s.getAllSignatures()})}})}),csui.define("webreports/utils/contexts/factories/nodestablereportcolumns",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","webreports/utils/contexts/factories/nodestablereport"],function(e,t,o,n,r){return n.extend({"propertyPrefix":"nodestablereport_columns","constructor":function(e,t){n.prototype.constructor.apply(this,arguments);var i=this.options.columns||{},s=this.options.nodestablereport_columns||{};if(!(i instanceof o.Collection)){i=e.getCollection(r,{"attributes":s.attributes}).columns}this.property=i}})}),csui.define("webreports/models/nodestablereport/impl/nodestablereport.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}}),o=e.Collection.extend({"model":t,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new o(this.map(function(e){return e.attributes}))}});return new o([{"key":"type","sequence":10,"titleIconInHeader":"mime_type"},{"key":"name","sequence":20},{"key":"reserved","sequence":30,"noTitleInHeader":!0},{"key":"size","sequence":40},{"key":"modify_date","sequence":50},{"key":"favorite","sequence":910,"noTitleInHeader":!0,"permanentColumn":!0}])}),csui.define("webreports/controls/nodestablereport/impl/nodestablereport.toolbaritems",["csui/lib/underscore","i18n!csui/controls/tabletoolbar/impl/nls/localized.strings","csui/controls/toolbar/toolitems.factory"],function(e,t,o){return{"tableHeaderToolbar":new o({"main":[{"signature":"Properties","name":t.ToolbarItemInfo,"iconName":"csui_action_properties32"},{"signature":"Edit","name":t.ToolbarItemEdit},{"signature":"EmailLink","name":t.ToolbarItemShare},{"signature":"Download","name":t.ToolbarItemDownload},{"signature":"InlineEdit","name":t.ToolbarItemRename,"onlyInTouchBrowser":!0},{"signature":"ReserveDoc","name":t.ToolbarItemReserve},{"signature":"UnreserveDoc","name":t.ToolbarItemUnreserve},{"signature":"Copy","name":t.ToolbarItemCopy},{"signature":"Move","name":t.ToolbarItemMove},{"signature":"AddVersion","name":t.ToolbarItemAddVersion}],"shortcut":[{"signature":"OriginalEdit","name":t.ToolbarItemOriginalEdit},{"signature":"OriginalEmailLink","name":t.ToolbarItemOriginalShare},{"signature":"OriginalReserveDoc","name":t.ToolbarItemOriginalReserve},{"signature":"OriginalUnreserveDoc","name":t.ToolbarItemOriginalUnreserve},{"signature":"OriginalCopy","name":t.ToolbarItemOriginalCopy},{"signature":"OriginalMove","name":t.ToolbarItemOriginalMove},{"signature":"OriginalAddVersion","name":t.ToolbarItemAddVersion},{"signature":"OriginalDownload","name":t.ToolbarItemOriginalDownload}]}),"inlineActionbar":new o({"other":[{"signature":"Properties","name":t.ToolbarItemInfo,"iconName":"csui_action_properties32"},{"signature":"CopyLink","name":t.ToolbarItemCopyLink,"iconName":"csui_action_copy_link32"},{"signature":"SendTo","name":t.ToolbarItemSendTo,"iconName":"csui_action_send_to32"},{"signature":"Edit","name":t.ToolbarItemEdit,"iconName":"csui_action_edit32"},{"signature":"Download","name":t.ToolbarItemDownload,"iconName":"csui_action_download32"},{"signature":"ReserveDoc","name":t.ToolbarItemReserve,"iconName":"csui_action_reserve32"},{"signature":"UnreserveDoc","name":t.ToolbarItemUnreserve,"iconName":"csui_action_unreserve32"},{"signature":"Copy","name":t.ToolbarItemCopy,"iconName":"csui_action_copy32"},{"signature":"Move","name":t.ToolbarItemMove,"iconName":"csui_action_move32"},{"signature":"AddVersion","name":t.ToolbarItemAddVersion,"iconName":"csui_action_add_version32"},{"signature":"InlineEdit","name":t.ToolbarItemRename,"icon":"icon icon-toolbar-rename"}]},{"maxItemsShown":5,"dropDownText":t.ToolbarItemMore,"dropDownIconName":"csui_action_more32"}),"dropdownMenuListInProperties":new o({"main":[{"signature":"Edit","name":t.ToolbarItemEdit},{"signature":"EmailLink","name":t.ToolbarItemShare},{"signature":"Download","name":t.ToolbarItemDownload},{"signature":"ReserveDoc","name":t.ToolbarItemReserve},{"signature":"UnreserveDoc","name":t.ToolbarItemUnreserve},{"signature":"Copy","name":t.ToolbarItemCopy},{"signature":"Move","name":t.ToolbarItemMove},{"signature":"AddVersion","name":t.ToolbarItemAddVersion}],"shortcut":[{"signature":"OriginalEdit","name":t.ToolbarItemOriginalEdit},{"signature":"OriginalEmailLink","name":t.ToolbarItemOriginalShare},{"signature":"OriginalReserveDoc","name":t.ToolbarItemOriginalReserve},{"signature":"OriginalUnreserveDoc","name":t.ToolbarItemOriginalUnreserve},{"signature":"OriginalCopy","name":t.ToolbarItemOriginalCopy},{"signature":"OriginalMove","name":t.ToolbarItemOriginalMove},{"signature":"OriginalAddVersion","name":t.ToolbarItemAddVersion},{"signature":"OriginalDownload","name":t.ToolbarItemOriginalDownload}]},{"maxItemsShown":0,"dropDownIconName":"csui_action_caret_down32"})}}),csui.define("webreports/controls/nodestablereport/impl/nodestablereport.toolbaritems.masks",["module","csui/lib/underscore","csui/controls/toolbar/toolitems.mask","csui/utils/toolitem.masks/global.toolitems.mask"],function(e,t,o,n){"use strict";function r(){var r=e.config(),s=new n;this.toolbars=t.reduce(i,function(e,n){var i=new o(s,{"normalize":!1});return t.each(r,function(e,t){(e=e[n])&&i.extendMask(e)}),i.storeMask(),e[n]=i,e},{})}var i=["tableHeaderToolbar","inlineActionbar"];return r.toolbars=i,r}),csui.define("hbs!webreports/controls/nodestablereport/impl/nodestablereport",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="tile-header">\r\n\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"icon"):t,{"name":"if","hash":{},"fn":e.program(2,r,0),"inverse":e.program(4,r,0),"loc":{"start":{"line":4,"column":8},"end":{"line":14,"column":15}}}))?i:"")+'\r\n        <div class="tile-title">\r\n             <h2 class="csui-heading">'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":17,"column":38},"end":{"line":17,"column":47}}}):s))+"</h2>\r\n        </div>\r\n\r\n    </div>\r\n"},"2":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="tile-type-icon">\r\n                <span class="icon '+e.escapeExpression((i=null!=(i=s(o,"icon")||(null!=t?s(t,"icon"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon","hash":{},"loc":{"start":{"line":6,"column":34},"end":{"line":6,"column":42}}}):i))+'" aria-hidden="true"></span>\r\n            </div>\r\n'},"4":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"imageUrl"):t,{"name":"if","hash":{},"fn":e.program(5,r,0),"inverse":e.noop,"loc":{"start":{"line":9,"column":12},"end":{"line":13,"column":19}}}))?i:""},"5":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="tile-type-image '+e.escapeExpression((i=null!=(i=s(o,"imageClass")||(null!=t?s(t,"imageClass"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageClass","hash":{},"loc":{"start":{"line":10,"column":44},"end":{"line":10,"column":58}}}):i))+'">\r\n                    <img src="'+e.escapeExpression((i=null!=(i=s(o,"imageUrl")||(null!=t?s(t,"imageUrl"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageUrl","hash":{},"loc":{"start":{"line":11,"column":30},"end":{"line":11,"column":42}}}):i))+'" aria-hidden="true">\r\n                </div>\r\n'},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"header"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.noop,"loc":{"start":{"line":1,"column":0},"end":{"line":21,"column":7}}}))?i:"")+'\r\n<div class="webreports-nodestablereport-control-view">\r\n    <div id="tableview"></div>\r\n    <div id="paginationview"></div>\r\n</div>'}});return o.registerPartial("webreports_controls_nodestablereport_impl_nodestablereport",n),n}),csui.define("webreports/controls/nodestablereport/impl/nls/nodestablereport.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/controls/nodestablereport/impl/nls/root/nodestablereport.lang",{"dialogTitle":"Nodes Table Report"}),csui.define("css!webreports/controls/nodestablereport/impl/nodestablereport",[],function(){}),
csui.define("webreports/controls/nodestablereport/nodestablereport.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/handlebars","csui/lib/marionette","module","csui/utils/contexts/factories/connector","csui/controls/table/table.view","csui/controls/pagination/nodespagination.view","csui/controls/toolbar/toolbar.view","csui/utils/commands","csui/utils/base","csui/controls/toolbar/toolbar.command.controller","csui/controls/tableactionbar/tableactionbar.view","csui/behaviors/default.action/default.action.behavior","csui/controls/progressblocker/blocker","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","webreports/utils/contexts/factories/nodestablereportcolumns","webreports/utils/contexts/factories/nodestablereport","webreports/models/nodestablereport/impl/nodestablereport.columns","webreports/controls/nodestablereport/impl/nodestablereport.toolbaritems","webreports/controls/nodestablereport/impl/nodestablereport.toolbaritems.masks","webreports/mixins/webreports.view.mixin","hbs!webreports/controls/nodestablereport/impl/nodestablereport","i18n!webreports/controls/nodestablereport/impl/nls/nodestablereport.lang","css!webreports/controls/nodestablereport/impl/nodestablereport","css!webreports/style/webreports.css"],function(e,t,o,n,r,i,s,a,l,c,p,u,d,m,h,b,f,g,w,v,y,x,C,_){"use strict";var k=r.config();e.defaults(k,{"defaultPageSize":30,"defaultPageSizes":[30,50,100],"showInlineActionBarOnHover":!0,"forceInlineActionBarOnClick":!1,"inlineActionBarStyle":"csui-table-actionbar-bubble","clearFilterOnChange":!0,"resetOrderOnChange":!1,"resetLimitOnChange":!0,"fixedFilterOnChange":!1});var P=n.LayoutView.extend({"template":C,"regions":{"tableRegion":"#tableview","paginationRegion":"#paginationview"},"behaviors":{"DefaultAction":{"behaviorClass":m}},"constructor":function(e){e=this._processOptions(e);var t=this.setCommonModelOptions(e);h.imbue(this),n.LayoutView.prototype.constructor.call(this,e),this.propagateEventsToRegions(),this.collection=this.options.collection||this.context.getCollection(g,{"attributes":t}),this.collection.setExpand("properties",["parent_id","reserved_user_id"]),this.columns=this.options.columns||this.context.getCollection(f,{"attributes":t})},"onRender":function(){this.collection&&(this._setTableView(this.options),this._setPagination()),this.tableRegion.show(this.tableView),this.paginationRegion.show(this.paginationView)},"templateHelpers":function(){var t={"title":p.getClosestLocalizedString(this.options.data.title,_.dialogTitle),"icon":this.options.data.titleBarIcon||"title-webreports"};return!1!==this.options.data.header&&e.extend(t,{"header":!0}),t},"_processOptions":function(t){e.isUndefined(t)&&(t={}),e.defaults(t,{"data":{},"pageSize":k.defaultPageSize,"ddItemsList":k.defaultPageSizes,"toolbarItems":v,"clearFilterOnChange":k.clearFilterOnChange,"resetOrderOnChange":k.resetOrderOnChange,"resetLimitOnChange":k.resetLimitOnChange,"fixedFilterOnChange":k.fixedFilterOnChange});var o=t.data.pageSize||t.pageSize,n=t.data.pageSizes||t.ddItemsList;return e.contains(n,o)||(n.push(o),t.data.pageSizes=n.sort()),t.data.titleBarIcon=e.has(t.data,"titleBarIcon")?"title-icon "+t.data.titleBarIcon:"title-icon title-webreports",this.context=t.context,t.connector||(t.connector=this.context.getObject(i)),this.connector=t.connector,this.tableColumns=t.tableColumns||w.deepClone(),this.commands=t.commands||c,this.commandController=new u({"commands":this.commands}),t.toolbarItemsMasks||(t.toolbarItemsMasks=new y),this.options=t,t},"_setTableView":function(t){t||(t={});var o=e.extend({"context":this.options.context,"connector":this.connector,"collection":this.collection,"columns":this.columns,"tableColumns":this.tableColumns,"pageSize":this.options.data.pageSize||this.options.pageSize,"originatingView":this,"columnsWithSearch":["name"],"orderBy":this.options.data.orderBy||this.options.orderBy,"filterBy":this.options.filterBy,"actionItems":this.defaultActionController.actionItems,"commands":this.defaultActionController.commands,"blockingParentView":this,"parentView":this,"clientSideDataOperation":!1,"alternativeHeader":{"viewClass":l,"options":{"toolbarItems":this.options.toolbarItems,"toolbarItemsMask":this.options.toolbarItemsMasks.toolbars.tableHeaderToolbar,"toolbarCommandController":this.commandController}},"inlineBar":{"viewClass":d,"options":e.extend({"collection":this.options.toolbarItems.inlineActionbar,"toolItemsMask":this.options.toolbarItemsMasks.toolbars.inlineActionbar,"delayedActions":this.collection.delayedActions,"container":this.container,"containerCollection":this.collection},this.options.toolbarItems.inlineActionbar.options,{"inlineBarStyle":k.inlineActionBarStyle,"forceInlineBarOnClick":k.forceInlineActionBarOnClick,"showInlineBarOnHover":k.showInlineActionBarOnHover})}},t);this.tableView=new s(o),this._setTableViewEvents()},"_setPagination":function(){return this.paginationView=new a({"collection":this.collection,"pageSize":this.options.data.pageSize||this.options.pageSize}),!0},"_setTableViewEvents":function(){this.listenTo(this.tableView,"execute:defaultAction",function(e){var t={"node":e};if(this.trigger("before:defaultAction",t),!t.cancel){var o=this;this.defaultActionController.executeAction(e,{"context":this.options.context,"originatingView":this}).done(function(){o.trigger("executed:defaultAction",t)})}})}});return e.extend(P.prototype,b),x.mixin(P.prototype),P}),csui.define("webreports/widgets/nodeslistreport/nodeslistreport.toolbaritems",["csui/lib/underscore","i18n!csui/controls/tabletoolbar/impl/nls/localized.strings","csui/controls/toolbar/toolitems.factory"],function(e,t,o){return{"tableHeaderToolbar":new o({"main":[{"signature":"Properties","name":t.ToolbarItemInfo,"iconName":"csui_action_properties32"},{"signature":"Edit","name":t.ToolbarItemEdit},{"signature":"EmailLink","name":t.ToolbarItemShare},{"signature":"Download","name":t.ToolbarItemDownload},{"signature":"ReserveDoc","name":t.ToolbarItemReserve},{"signature":"UnreserveDoc","name":t.ToolbarItemUnreserve},{"signature":"Copy","name":t.ToolbarItemCopy},{"signature":"Move","name":t.ToolbarItemMove},{"signature":"AddVersion","name":t.ToolbarItemAddVersion}],"shortcut":[{"signature":"OriginalEdit","name":t.ToolbarItemOriginalEdit},{"signature":"OriginalEmailLink","name":t.ToolbarItemOriginalShare},{"signature":"OriginalReserveDoc","name":t.ToolbarItemOriginalReserve},{"signature":"OriginalUnreserveDoc","name":t.ToolbarItemOriginalUnreserve},{"signature":"OriginalCopy","name":t.ToolbarItemOriginalCopy},{"signature":"OriginalMove","name":t.ToolbarItemOriginalMove},{"signature":"OriginalAddVersion","name":t.ToolbarItemAddVersion},{"signature":"OriginalDownload","name":t.ToolbarItemOriginalDownload}]}),"inlineActionbar":new o({"info":[{"signature":"Properties","name":t.ToolbarItemInfo,"commandData":{"dialogView":!0},"iconName":"csui_action_properties32"},{"signature":"CopyLink","name":t.ToolbarItemCopyLink,"iconName":"csui_action_copy_link32"},{"signature":"SendTo","name":t.ToolbarItemSendTo,"iconName":"csui_action_send_to32"}],"share":[],"edit":[{"signature":"Edit","name":t.ToolbarItemEdit,"iconName":"csui_action_edit32"}],"other":[{"signature":"Download","name":t.ToolbarItemDownload,"iconName":"csui_action_download32"},{"signature":"goToLocation","name":t.ToolbarGoToLocation}]},{"maxItemsShown":1,"dropDownText":t.ToolbarItemMore,"dropDownIconName":"csui_action_more32"}),"dropdownMenuListInProperties":new o({"main":[{"signature":"Edit","name":t.ToolbarItemEdit},{"signature":"EmailLink","name":t.ToolbarItemShare},{"signature":"Download","name":t.ToolbarItemDownload},{"signature":"ReserveDoc","name":t.ToolbarItemReserve},{"signature":"UnreserveDoc","name":t.ToolbarItemUnreserve},{"signature":"Copy","name":t.ToolbarItemCopy},{"signature":"Move","name":t.ToolbarItemMove},{"signature":"AddVersion","name":t.ToolbarItemAddVersion}],"shortcut":[{"signature":"OriginalEdit","name":t.ToolbarItemOriginalEdit},{"signature":"OriginalEmailLink","name":t.ToolbarItemOriginalShare},{"signature":"OriginalReserveDoc","name":t.ToolbarItemOriginalReserve},{"signature":"OriginalUnreserveDoc","name":t.ToolbarItemOriginalUnreserve},{"signature":"OriginalCopy","name":t.ToolbarItemOriginalCopy},{"signature":"OriginalMove","name":t.ToolbarItemOriginalMove},{"signature":"OriginalAddVersion","name":t.ToolbarItemAddVersion},{"signature":"OriginalDownload","name":t.ToolbarItemOriginalDownload}]},{"maxItemsShown":0,"dropDownIconName":"csui_action_caret_down32"})}}),csui.define("hbs!webreports/widgets/nodeslistreport/impl/nodeslistreport.contentview",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="tile-type-icon">\r\n        <span class="icon '+e.escapeExpression((i=null!=(i=s(o,"icon")||(null!=t?s(t,"icon"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon","hash":{},"loc":{"start":{"line":5,"column":26},"end":{"line":5,"column":34}}}):i))+'" aria-label="'+e.escapeExpression((i=null!=(i=s(o,"expandAria")||(null!=t?s(t,"expandAria"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"expandAria","hash":{},"loc":{"start":{"line":5,"column":48},"end":{"line":5,"column":62}}}):i))+'"></span>\r\n    </div>\r\n'},"3":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"imageUrl"):t,{"name":"if","hash":{},"fn":e.program(4,r,0),"inverse":e.noop,"loc":{"start":{"line":8,"column":4},"end":{"line":12,"column":11}}}))?i:""},"4":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="tile-type-image '+e.escapeExpression((i=null!=(i=s(o,"imageClass")||(null!=t?s(t,"imageClass"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageClass","hash":{},"loc":{"start":{"line":9,"column":32},"end":{"line":9,"column":46}}}):i))+'">\r\n        <span class="tile-type-icon tile-type-icon-img"><img src="'+e.escapeExpression((i=null!=(i=s(o,"imageUrl")||(null!=t?s(t,"imageUrl"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageUrl","hash":{},"loc":{"start":{"line":10,"column":66},"end":{"line":10,"column":78}}}):i))+'" alt="'+e.escapeExpression((i=null!=(i=s(o,"expandAria")||(null!=t?s(t,"expandAria"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"expandAria","hash":{},"loc":{"start":{"line":10,"column":85},"end":{"line":10,"column":99}}}):i))+'"></span>\r\n    </div>\r\n'},"6":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="search-box">\r\n            <span class="icon-search-placeholder">'+(null!=(i=(a(o,"icon-v2")||t&&a(t,"icon-v2")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{"name":"icon-v2","hash":{"iconName":"csui_action_search32"},"loc":{"start":{"line":22,"column":50},"end":{"line":22,"column":95}}}))?i:"")+'</span>\r\n            <input class="search" type="search" placeholder="'+e.escapeExpression((s=null!=(s=a(o,"searchPlaceholder")||(null!=t?a(t,"searchPlaceholder"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"searchPlaceholder","hash":{},"loc":{"start":{"line":23,"column":61},"end":{"line":23,"column":82}}}):s))+'" title="'+e.escapeExpression((s=null!=(s=a(o,"searchTitle")||(null!=t?a(t,"searchTitle"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"searchTitle","hash":{},"loc":{"start":{"line":23,"column":91},"end":{"line":23,"column":106}}}):s))+'">\r\n            <span class="clearer csui-icon formfield_clear" title="'+e.escapeExpression((s=null!=(s=a(o,"clearAll")||(null!=t?a(t,"clearAll"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"clearAll","hash":{},"loc":{"start":{"line":24,"column":67},"end":{"line":24,"column":79}}}):s))+'" aria-label="'+e.escapeExpression((s=null!=(s=a(o,"clearAllAria")||(null!=t?a(t,"clearAllAria"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"clearAllAria","hash":{},"loc":{"start":{"line":24,"column":93},"end":{"line":24,"column":109}}}):s))+'"\r\n                role="button"></span>\r\n            <span class="fadeout csui-icon" title="'+e.escapeExpression((s=null!=(s=a(o,"searchTitle")||(null!=t?a(t,"searchTitle"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"searchTitle","hash":{},"loc":{"start":{"line":26,"column":51},"end":{"line":26,"column":66}}}):s))+'"></span>\r\n        </div>\r\n'},"8":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div title="'+e.escapeExpression((s=null!=(s=a(o,"searchTooltip")||(null!=t?a(t,"searchTooltip"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"searchTooltip","hash":{},"loc":{"start":{"line":32,"column":24},"end":{"line":32,"column":41}}}):s))+'" class="cs-icon-container cs-search-button" role="button"\r\n                aria-label="'+e.escapeExpression((s=null!=(s=a(o,"searchAria")||(null!=t?a(t,"searchAria"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"searchAria","hash":{},"loc":{"start":{"line":33,"column":28},"end":{"line":33,"column":42}}}):s))+'" aria-expanded="false">\r\n                '+(null!=(i=(a(o,"icon-v2")||t&&a(t,"icon-v2")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{"name":"icon-v2","hash":{"states":"true","iconName":"csui_action_search32"},"loc":{"start":{"line":34,"column":16},"end":{"line":34,"column":75}}}))?i:"")+"\r\n            </div>\r\n"},"10":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div title="'+e.escapeExpression((s=null!=(s=a(o,"openPerspectiveAria")||(null!=t?a(t,"openPerspectiveAria"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"openPerspectiveAria","hash":{},"loc":{"start":{"line":38,"column":24},"end":{"line":38,"column":47}}}):s))+'" class="cs-icon-container cs-open-perspective-button" role="button"\r\n                aria-label="'+e.escapeExpression((s=null!=(s=a(o,"openPerspectiveAria")||(null!=t?a(t,"openPerspectiveAria"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"openPerspectiveAria","hash":{},"loc":{"start":{"line":39,"column":28},"end":{"line":39,"column":51}}}):s))+'">\r\n                '+(null!=(i=(a(o,"icon-v2")||t&&a(t,"icon-v2")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{"name":"icon-v2","hash":{"states":"true","iconName":"csui_action_expand32"},"loc":{"start":{"line":40,"column":16},"end":{"line":40,"column":75}}}))?i:"")+"\r\n            </div>\r\n"},"12":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="csui-favorite csui-acc-tab-region webreports-widget-parameters-btn">\r\n                <span class="csui-icon-edit inline-edit-icon icon-edit wr-icon-edit" role="button" tabindex="0"\r\n                    aria-label="'+e.escapeExpression((i=null!=(i=s(o,"settings")||(null!=t?s(t,"settings"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"settings","hash":{},"loc":{"start":{"line":46,"column":32},"end":{"line":46,"column":44}}}):i))+'"></span>\r\n            </div>\r\n'},"14":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div title="'+e.escapeExpression((s=null!=(s=a(o,"searchCloseTooltip")||(null!=t?a(t,"searchCloseTooltip"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"searchCloseTooltip","hash":{},"loc":{"start":{"line":52,"column":24},"end":{"line":52,"column":46}}}):s))+'" class="cs-icon-container cs-search-close-button" role="button"\r\n                aria-label="'+e.escapeExpression((s=null!=(s=a(o,"searchCloseAria")||(null!=t?a(t,"searchCloseAria"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"searchCloseAria","hash":{},"loc":{"start":{"line":53,"column":28},"end":{"line":53,"column":47}}}):s))+'" aria-expanded="true">\r\n                '+(null!=(i=(a(o,"icon-v2")||t&&a(t,"icon-v2")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{"name":"icon-v2","hash":{"states":"true","iconName":"csui_action_close_mid"},"loc":{"start":{"line":54,"column":16},"end":{"line":54,"column":76}}}))?i:"")+"\r\n            </div>\r\n"},"16":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="tile-footer">\r\n    <div class="cs-more tile-expand" title="'+e.escapeExpression((s=null!=(s=a(o,"expandTitle")||(null!=t?a(t,"expandTitle"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"expandTitle","hash":{},"loc":{"start":{"line":69,"column":44},"end":{"line":69,"column":59}}}):s))+'" aria-label="'+e.escapeExpression((s=null!=(s=a(o,"expandAria")||(null!=t?a(t,"expandAria"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"expandAria","hash":{},"loc":{"start":{"line":69,"column":73},"end":{"line":69,"column":87}}}):s))+'" role="button">\r\n        '+(null!=(i=(a(o,"icon-v2")||t&&a(t,"icon-v2")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{"name":"icon-v2","hash":{"states":"true","iconName":"csui_action_expand32"},"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":67}}}))?i:"")+"\r\n    </div>\r\n</div>\r\n"},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="tile-header reduced-width">\r\n\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"icon"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.program(3,r,0),"loc":{"start":{"line":3,"column":4},"end":{"line":13,"column":11}}}))?i:"")+'\r\n    <div class="tile-title" title="'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":44}}}):s))+'">\r\n        <h2 class="csui-heading">'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":16,"column":33},"end":{"line":16,"column":42}}}):s))+'</h2>\r\n    </div>\r\n\r\n    <div class="tile-controls">\r\n'+(null!=(i=a(o,"unless").call(null!=t?t:e.nullContext||{},null!=t?a(t,"hideSearch"):t,{"name":"unless","hash":{},"fn":e.program(6,r,0),"inverse":e.noop,"loc":{"start":{"line":20,"column":8},"end":{"line":28,"column":19}}}))?i:"")+'\r\n        <div class="tile-icons">\r\n'+(null!=(i=a(o,"unless").call(null!=t?t:e.nullContext||{},null!=t?a(t,"hideSearch"):t,{"name":"unless","hash":{},"fn":e.program(8,r,0),"inverse":e.noop,"loc":{"start":{"line":31,"column":12},"end":{"line":36,"column":23}}}))?i:"")+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"enableOpenPerspective"):t,{"name":"if","hash":{},"fn":e.program(10,r,0),"inverse":e.noop,"loc":{"start":{"line":37,"column":12},"end":{"line":42,"column":19}}}))?i:"")+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"showParameterEditBtn"):t,{"name":"if","hash":{},"fn":e.program(12,r,0),"inverse":e.noop,"loc":{"start":{"line":43,"column":12},"end":{"line":48,"column":19}}}))?i:"")+'        </div>\r\n        <div class="close-search-icon">\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"hideSearch"):t,{"name":"if","hash":{},"fn":e.noop,"inverse":e.program(14,r,0),"loc":{"start":{"line":51,"column":12},"end":{"line":56,"column":19}}}))?i:"")+'        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="tile-content" role="listbox">\r\n    <div class="binf-list-group"></div>\r\n    <div class="binf-sr-only" aria-live="off"></div>\r\n</div>\r\n\r\n'+(null!=(i=a(o,"unless").call(null!=t?t:e.nullContext||{},null!=t?a(t,"enableOpenPerspective"):t,{"name":"unless","hash":{},"fn":e.program(16,r,0),"inverse":e.noop,"loc":{"start":{"line":67,"column":0},"end":{"line":73,"column":11}}}))?i:"")}});return o.registerPartial("webreports_widgets_nodeslistreport_impl_nodeslistreport.contentview",n),n}),csui.define("webreports/widgets/nodeslistreport/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/nodeslistreport/impl/nls/root/lang",{"dialogTitle":"WebReports NodesList","searchPlaceholder":"Search NodesList Report","emptyListText":"No results found.","loadingListText":"Loading results...","failedListText":"Loading results failed."}),csui.define("webreports/widgets/nodeslistreport/impl/nodeslistreport.content.view",["csui/lib/underscore","csui/lib/marionette","csui/utils/base","csui/controls/list/list.view","csui/controls/listitem/listitemstandard.view","csui/controls/progressblocker/blocker","webreports/widgets/nodeslistreport/impl/expanding.behavior","csui/behaviors/default.action/default.action.behavior","csui/behaviors/collection.state/collection.state.behavior","csui/controls/list/list.state.view","webreports/utils/contexts/factories/nodestablereport","webreports/controls/nodestablereport/nodestablereport.view","webreports/widgets/nodeslistreport/nodeslistreport.toolbaritems","csui/utils/accessibility","csui/controls/node-type.icon/node-type.icon.view","webreports/mixins/webreports.view.mixin","hbs!webreports/widgets/nodeslistreport/impl/nodeslistreport.contentview","i18n!webreports/widgets/nodeslistreport/impl/nls/lang","css!webreports/style/webreports.css"],function(e,t,o,n,r,i,s,a,l,c,p,u,d,m,h,b,f,g){var w=m.isAccessibleTable(),v=n.extend({"constructor":function(t){t||(t={}),t.data||(t.data={}),t.data.titleBarIcon=e.has(t.data,"titleBarIcon")&&""!==t.data.titleBarIcon?"title-icon "+t.data.titleBarIcon:"title-icon title-webreports",t.data.header=!1,t.toolbarItems=d;var o=this.setCommonModelOptions(t),r=this.getWidgetFactory(t,p,o);this.setFactory(r),this.collection=t.context.getCollection(p,{"attributes":o})||this.options.collection,this.collection.setExpand("properties",["parent_id","reserved_user_id"]),i.imbue({"parent":this}),t.originatingView&&this.listenTo(t.originatingView,"edit:prompt:clicked",this.searchFieldClearerClicked),n.prototype.constructor.apply(this,arguments),this.listenTo(this.collection,"request",this.blockActions),this.listenTo(this.collection,"sync error",this.unblockActions),this.showInlineActionBar=!w,this.contentViewOptions=t},"template":f,"events":function(){return e.extend({},n.prototype.events,{"click @ui.moreLink":"onMoreLinkClick","keyup @ui.searchBox":"onSearchKeyUp","keydown @ui.searchBox":"onSearchKeyDown"})},"triggers":{"click @ui.openPerspectiveButton":"click:open:perspective"},"ui":function(){return e.extend({},n.prototype.ui,{"moreLink":".cs-more.tile-expand"})},"initialize":function(){this.listenTo(this.collection,"reset",this.enableMoreLink),this.listenTo(this,"change:filterValue",this.synchronizeCollections)},"enableMoreLink":function(){var e=!this.collection.isEmpty();this.ui.moreLink[e?"removeClass":"addClass"]("binf-hidden")},"childEvents":{"click:item":"onClickItem","render":"onRenderItem","before:destroy":"onBeforeDestroyItem"},"templateHelpers":function(){return{"title":o.getClosestLocalizedString(this.options.data.title,g.dialogTitle),"icon":this.options.data.titleBarIcon,"searchPlaceholder":o.getClosestLocalizedString(this.options.data.searchPlaceholder,g.searchPlaceholder),"showParameterEditBtn":"showPromptForm"===this.options.data.parameterPrompt}},"childView":r,"childViewOptions":function(){var t=this.showInlineActionBar?{"toolbaritems":this.options.toolbarItems,"collection":this.collection}:null;return{"templateHelpers":function(){return{"name":this.model.get("name"),"enableIcon":!0,"showInlineActionBar":this.showInlineActionBar,"itemLabel":e.str.sformat(g.dialogTitle,this.model.get("name"))}},"context":this.getOption("context"),"checkDefaultAction":!0,"toolbarData":t}},"behaviors":{"ExpandableList":{"behaviorClass":s,"expandedView":u,"expandedViewOptions":function(){return{"context":this.getOption("context"),"data":this.getOption("data")}},"orderBy":"name asc","titleBarIcon":function(){return this.options.data.titleBarIcon},"dialogTitle":function(){return o.getClosestLocalizedString(this.options.data.title,g.dialogTitle)},"dialogTitleIconRight":"icon-tileCollapse","dialogClassName":"webreports-nodeslistreport-table"},"DefaultAction":{"behaviorClass":a},"CollectionState":{"behaviorClass":l,"stateView":c,"stateMessages":{"empty":g.emptyListText,"loading":g.loadingListText,"failed":g.failedListText}}},"filterNodeList":function(e){this.options.filterValue=e,this.trigger("change:filterValue"),this.ui.searchInput.focus()},"onSearchKeyUp":function(t){clearTimeout(this.keyTimer),27===t.which?this.searchFieldClearerClicked():this.keyTimer=setTimeout(e.bind(this.filterNodeList,this,this.ui.searchInput.val()),600)},"onSearchKeyDown":function(e){if(13===e.which)return e.preventDefault(),!1;clearTimeout(this.keyTimer)},"searchFieldClearerClicked":function(){this.ui.searchInput.val(""),this.filterNodeList("")},"searchInput":function(e){},"_onCollapseExpandedView":function(){this.view.triggerMethod("collapse")},"onBeforeDestroyItem":function(e){e._nodeIconView&&e._nodeIconView.destroy()},"onClickItem":function(e){this.triggerMethod("execute:defaultAction",e.model)},"onClickHeader":function(e){this.collection.isEmpty()||this.triggerMethod("expand")},"onMoreLinkClick":function(e){e.preventDefault(),e.stopPropagation(),this.triggerMethod("expand")},"onRender":function(){var t=n.prototype.onRender;t&&t.apply(this,arguments),e.has(this.collection.filters,"name")&&(this.ui.searchInput.show(),this.ui.clearer.toggle(!0),this.ui.searchInput.val(this.collection.filters.name),this.ui.searchInput.focus(),this.ui.headerTitle.toggle())},"onRenderItem":function(e){e._nodeIconView=new h({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render()},"synchronizeCollections":function(){var t=this.options.filterValue;!t.length&&e.has(this.collection.filters,"name")&&this.collection.clearFilter(),t.length>=3?this.collection.setFilter({"name":t},{"fetch":!0}):this.collection.reset(this.collection.models)}});return b.mixin(v.prototype),v}),csui.define("webreports/widgets/nodeslistreport/nodeslistreport.view",["csui/lib/marionette3","webreports/controls/parameter.prompt/widget.prompt.wrapper.view","webreports/widgets/nodeslistreport/impl/nodeslistreport.content.view"],function(e,t,o){return t.extend({"className":"cs-tile cs-list tile content-tile webreports-nodeslistreport","constructor":function(e){e.view=o,t.prototype.constructor.apply(this,arguments)}})}),csui.define("json!webreports/widgets/nodeslistreport/nodeslistreport.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"tile","supportedKinds":["tile"],"schema":{"type":"object","properties":{"title":{"title":"{{tileTitle}}","description":"{{tileDescription}}","type":"object"},"titleBarIcon":{"title":"{{iconTitle}}","description":"{{iconDescription}}","type":"string"},"searchPlaceholder":{"title":"{{placeHolderTitle}}","description":"{{placeHolderDescription}}","type":"object"},"id":{"title":"{{idTitle}}","description":"{{idDescription}}","type":"integer"},"parameterPrompt":{"title":"{{parameterPromptTitle}}","description":"{{parameterPromptDescription}}","type":"string","enum":["disabled","showPromptForm"],"default":"disabled"},"parameters":{"type":"array","title":"{{reportParamTitle1}}","description":"{{reportParamDescription1}}","items":{"type":"object","title":"{{reportParamTitle2}}","description":"{{reportParamDescription2}}","properties":{"name":{"type":"string","title":"{{paramNameTitle}}","description":"{{paramNameDescription}}"},"value":{"type":"string","title":"{{paramValTitle}}","description":"{{paramValDescription}}"}}}}},"required":["id"]},"options":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[30303]}}},"title":{"type":"otcs_multilingual_string"},"searchPlaceholder":{"type":"otcs_multilingual_string"},"parameterPrompt":{"type":"select","optionLabels":["{{parmsIgnored}}","{{enabledShowPromptForm}}"]}}}}),csui.define("webreports/widgets/nodeslistreport/impl/nls/nodeslistreport.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/nodeslistreport/impl/nls/root/nodeslistreport.manifest",{"widgetTitle":"Nodes List WebReport","widgetDescription":"Loads an expandable Nodes List based on the output of a WebReport","tileTitle":"Title","tileDescription":"Title for the tile","iconTitle":"Icon class","iconDescription":"CSS class supplying the icon in the tile header","placeHolderTitle":"Search Placeholder","placeHolderDescription":"Specify custom string to be used when the user clicks search","idTitle":"WebReport ID","idDescription":"DataID for the WebReport which returns the table data","parameterPromptTitle":"Parameter prompt behavior","parameterPromptDescription":"Determines how the widget should behave when the source WebReport has input parameters.","parmsIgnored":"Don't prompt - use defaults","enabledShowPromptForm":"Show prompt form","reportParamTitle1":"WebReport Parameters","reportParamDescription1":"Key/Value pairs of parameters to be passed into the WebReport.","reportParamTitle2":"WebReport Parameters","reportParamDescription2":"Key/Value pairs of parameters to be passed into the WebReport.","paramNameTitle":"Parameter Name","paramNameDescription":"The name of the URL parameter.","paramValTitle":"Parameter Value","paramValDescription":"The value of the URL parameter."}),csui.define("webreports/models/widget.carousel/folder.model",["csui/lib/underscore","csui/lib/backbone","webreports/utils/url.webreports","csui/models/mixins/connectable/connectable.mixin"],function(e,t,o,n){return t.Model.extend({"constructor":function(e,o){t.Model.prototype.constructor.apply(this,arguments)}})}),csui.define("webreports/models/widget.carousel/folder.collection",["csui/lib/underscore","csui/lib/backbone","webreports/utils/url.webreports","webreports/models/widget.carousel/folder.model","csui/models/mixins/connectable/connectable.mixin"],function(e,t,o,n,r){var i=t.Collection.extend({"constructor":function(o,n){t.Collection.prototype.constructor.apply(this,arguments),e.isUndefined(n)&&(n={}),n&&n.id&&!this.id&&(this.id=n.id),this.options=n,this.makeConnectable(n)},"model":n,"url":function(){this.options.context,this.options.parameters;return o.combine(this.connector.connection.url+"/nodes/"+this.id,"/nodes?extra=false&commands=default&limit=100&sort=asc_create_date")},"parse":function(e){return e.data}});return r.mixin(i.prototype),i}),csui.define("webreports/utils/contexts/factories/carousel.collection.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","webreports/models/widget.carousel/folder.collection"],function(e,t,o,n,r,i){return n.extend({"propertyPrefix":"carousel",
"constructor":function(s,a){n.prototype.constructor.apply(this,arguments);var l=s.getObject(r,a);a.connector=l;var c=this.options.carousel||{};if(!(c instanceof o.Collection)){var p=e.config();c=new i(c.models,t.extend({"connector":l},c.attributes,p.options,{"autoreset":!0}))}this.property=c},"fetch":function(e){return e=t.extend({"headers":{}},e),t.extend(e.headers,{"X-OriginParams":location.search}),this.property.fetch(e)}})}),csui.define("webreports/controls/carousel/impl/nls/carousel.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/controls/carousel/impl/nls/root/carousel.lang",{"dialogTitle":"Carousel"}),csui.define("css!webreports/controls/carousel/impl/carousel",[],function(){}),csui.define("webreports/controls/carousel/impl/carousel.indicator.item.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/backbone","csui/controls/tile/behaviors/perfect.scrolling.behavior","webreports/utils/contexts/factories/carousel.collection.factory","i18n!webreports/controls/carousel/impl/nls/carousel.lang","css!webreports/controls/carousel/impl/carousel"],function(e,t,o,n,r,i,s){return o.ItemView.extend({"template":!1,"tagName":"li","attributes":function(){return{"data-binf-target":"#carousel-main-data-container","data-binf-slide-to":this.model.collection.indexOf(this.model)}},"className":function(){return 0===this.model.collection.indexOf(this.model)?"binf-active":""}})}),csui.define("webreports/controls/carousel/impl/carousel.indicator.collection.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/backbone","csui/controls/tile/behaviors/perfect.scrolling.behavior","webreports/controls/carousel/impl/carousel.indicator.item.view","i18n!webreports/controls/carousel/impl/nls/carousel.lang","css!webreports/controls/carousel/impl/carousel"],function(e,t,o,n,r,i,s){return o.CollectionView.extend({"childView":i,"tagName":"ol","className":"binf-carousel-indicators","childViewOptions":function(e,t){return{"starting_index":this.options.data.starting_index}},"constructor":function(e){e&&e.data&&(e.data.id,e.data.requestedWidgetModels),o.CollectionView.prototype.constructor.apply(this,arguments)}})}),csui.define("hbs!webreports/controls/carousel/impl/carousel.slide.item",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){return'<div class="slide-container" data-src="">\r\n\t<div class="slide"></div>\r\n</div>'}});return o.registerPartial("webreports_controls_carousel_impl_carousel.slide.item",n),n}),csui.define("webreports/controls/carousel/impl/carousel.slide.item.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/backbone","csui/controls/tile/behaviors/perfect.scrolling.behavior","webreports/utils/contexts/factories/carousel.collection.factory","i18n!webreports/controls/carousel/impl/nls/carousel.lang","hbs!webreports/controls/carousel/impl/carousel.slide.item","css!webreports/controls/carousel/impl/carousel"],function(e,t,o,n,r,i,s,a){return o.ItemView.extend({"className":function(){return"binf-item"+(void 0!==this.model&&0===this.model.collection.indexOf(this.model)?" binf-active":"")},"template":a,"templateHelpers":function(){return{"dataURL":void 0!==this.model?this.model.get("id"):"","index":this._index}},"onRender":function(){this._index===this.options.starting_index&&this.trigger("starting:slide:added",this.$el)}})}),csui.define("webreports/controls/carousel/impl/carousel.slide.collection.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/backbone","csui/controls/tile/behaviors/perfect.scrolling.behavior","webreports/controls/carousel/impl/carousel.slide.item.view","i18n!webreports/controls/carousel/impl/nls/carousel.lang","css!webreports/controls/carousel/impl/carousel"],function(e,t,o,n,r,i,s){return o.CollectionView.extend({"childView":i,"childViewContainer":".carousel-slides-container","className":"binf-carousel-inner","childViewOptions":function(e,t){return{"starting_index":this.options.data.starting_index}},"childEvents":{"starting:slide:added":"onStartingChildAdded"},"onStartingChildAdded":function(e){this.trigger("starting:slide:added",e)},"constructor":function(e){if(e&&e.data){e.data.id,e.data.requestedWidgetModels}o.CollectionView.prototype.constructor.apply(this,arguments)},"ui":{"carousel_container":"#carousel-main-data-container"},"onRender":function(){this.$el.attr("role","listbox")}})}),csui.define("hbs!webreports/controls/carousel/impl/carousel.generic",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){return'\x3c!-- Indicators --\x3e\r\n<span class="carousel-indicators-container"></span>\r\n\r\n\x3c!-- Wrapper for slides --\x3e\r\n<span class="carousel-slides-container"></span>'}});return o.registerPartial("webreports_controls_carousel_impl_carousel.generic",n),n}),csui.define("webreports/controls/carousel/carousel.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/backbone","csui/lib/binf/js/binf","csui/utils/base","csui/controls/tile/behaviors/perfect.scrolling.behavior","webreports/utils/contexts/factories/carousel.collection.factory","webreports/controls/carousel/impl/carousel.indicator.collection.view","webreports/controls/carousel/impl/carousel.slide.collection.view","i18n!webreports/controls/carousel/impl/nls/carousel.lang","hbs!webreports/controls/carousel/impl/carousel.generic","css!webreports/controls/carousel/impl/carousel"],function(e,t,o,n,r,i,s,a,l,c,p,u){return o.LayoutView.extend({"currentSlideIndex":0,"nextSlideIndex":0,"isCycling":!1,"defaults":{"title":"","titleBarIcon":"","header":!1,"auto_cycle":!0,"interval":5e3,"pause_on_hover":"hover","wrap":!0},"template":u,"tagName":"div","className":"binf-carousel binf-slide lazy","attributes":{"id":"carousel-main-data-container"},"regions":{"indicator_container":".carousel-indicators-container","slide_container":".carousel-slides-container"},"constructor":function(t){t.data.title=e.has(t.data,"title")?i.getClosestLocalizedString(t.data.title,this.defaults.title):this.defaults.title,t.data.titleBarIcon=e.has(t.data,"titleBarIcon")?t.data.titleBarIcon:this.defaults.titleBarIcon,t.data.header=e.has(t.data,"header")?t.data.header:this.defaults.header,t.data.behavior.auto_cycle=e.has(t.data,"behavior")&&e.has(t.data.behavior,"auto_cycle")?t.data.behavior.auto_cycle:this.defaults.auto_cycle,t.data.behavior.interval=e.has(t.data,"behavior")&&e.has(t.data.behavior,"interval")?t.data.behavior.interval:this.defaults.interval,t.data.behavior.pause_on_hover=e.has(t.data,"behavior")&&e.has(t.data.behavior,"pause_on_hover")?!!t.data.behavior.pause_on_hover&&"hover":this.defaults.pause_on_hover,t.data.behavior.wrap=e.has(t.data,"behavior")&&e.has(t.data.behavior,"wrap")?t.data.behavior.wrap:this.defaults.wrap,o.LayoutView.prototype.constructor.apply(this,arguments),e.bindAll(this,"onAfterSlide","onBeforeSlide","loadSlide")},"onRender":function(){this.getRegion("indicator_container").show(new l(this.options)),this.getRegion("slide_container").show(new c(this.options)),this.loadSlide(0)},"onShow":function(){this.options.data.behavior.auto_cycle&&this.startCarousel(),this.onShowCarousel(this.$el)},"onDestroy":function(){this.isCycling&&this.pauseCarousel()},"events":{"click #carousel_play_button":"startCarousel","click #carousel_pause_button":"pauseCarousel","slide.binf.carousel":"onBeforeSlide","slid.binf.carousel":"onAfterSlide"},"onBeforeSlide":function(e){},"onAfterSlide":function(e){},"startCarousel":function(){this.isCycling=!0,this.$el.binf_carousel({"interval":this.options.data.behavior.interval,"pause":this.options.data.behavior.pause_on_hover,"wrap":this.options.data.behavior.wrap})},"pauseCarousel":function(){this.isCycling=!1,this.$el.binf_carousel("pause")},"onShowCarousel":function(e){},"loadSlide":function(e){}})}),csui.define("webreports/models/widget.carousel/widget.carousel.model",["csui/lib/underscore","csui/lib/backbone","csui/models/widget/widget.model","webreports/utils/url.webreports","csui/models/mixins/connectable/connectable.mixin"],function(e,t,o,n,r){return o.extend({"defaults":{"type":"","options":[],"widget_loaded":!1}})}),csui.define("webreports/widgets/widget.carousel/widget.carousel.layout.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/backbone","csui/lib/binf/js/binf","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","webreports/controls/carousel/carousel.view","webreports/models/widget.carousel/widget.carousel.model"],function(e,t,o,n,r,i,s,a,l){var c=a.extend({"activeSlideIndex":0,"CSUIWidgetCollection":new n.Collection,"currentlyLoadingSlideIndex":0,"currentWidgetID":null,"currentWidgetOptions":null,"currentWidgetContext":null,"previousSlideIndex":0,"maxSlidesNum":10,"allSlidesSynced":!1,"supportedWidgets":{"htmlWebReport":"webreports/widgets/tilereport","nodesListReport":"webreports/widgets/nodeslistreport","visualCount":"webreports/widgets/visual.data.filtered.count"},"constructor":function(t){e.has(t.data,"widgets")?(t.data.widgets.length>this.maxSlidesNum&&(t.data.widgets.splice(this.maxSlidesNum),console.warn("The maximum number of widgets allowed in the carousel is "+t.data.widgets.length+".  The additional widgets have been removed from the carousel.")),e.each(t.data.widgets,function(e,t,o){"string"==typeof e.options&&(e.options=JSON.parse(e.options)),"webreports"===e.type.slice(0,e.type.indexOf("/")).toLowerCase()&&"webreports/widgets/carousel"!==e.type||(o.splice(t,1),console.warn("The "+e.type+" widget is not supported in the carousel.  It has been removed."))})):t.data.widgets=[],e.extend(t,{"collection":new n.Collection(t.data.widgets)}),a.prototype.constructor.apply(this,arguments),this.propagateEventsToRegions(),e.bindAll(this,"onAfterSlide","onBeforeSlide","loadSlide","loadWidget","fetchWidget","postWidgetLoad")},"events":{"slide.binf.carousel":"onBeforeSlide","slid.binf.carousel":"onAfterSlide","click ol.binf-carousel-indicators > li":"onIndicatorClick"},"onBeforeSlide":function(e){var o=t(e.relatedTarget).index();this.loadSlide(o)},"onAfterSlide":function(o){var n=t(o.relatedTarget).index(),r=this.regionManager.get("slide"+n),i=this.collection.at(n);e.has(r,"currentView")&&-1!==i.get("type").indexOf("visual.data")&&!r.isChartRenderedInCarousel&&(r.currentView.triggerMethod("dom:refresh"),r.isChartRenderedInCarousel=!0)},"onIndicatorClick":function(e){if(!this.allSlidesSynced)return console.warn("Carousel controls are disabled until all slides are fully loaded"),e.preventDefault(),!1},"onShowCarousel":function(e){var t=e.find(".carousel-slides-container .binf-carousel-inner").children();if(this.options.data.widgets.length>0)for(var n=0;n<t.length;n++)this.regionManager.addRegion("slide"+n,new o.Region({"el":t[n]}));else console.warn("The carousel is empty, please add some widgets"),this.pauseCarousel();this.options.data.behavior.auto_cycle&&this.isCycling&&this.pauseCarousel(),this.regionManager.get("indicator_container").$el.find("li").addClass("carousel-content-loading")},"onDomRefresh":function(){var t,o=this.regionManager.get("slide0"),n=this.collection.at(0);e.has(o,"currentView")&&-1!==n.get("type").indexOf("visual.data")&&(t=o.currentView,t.triggerMethod("dom:refresh"),o.isChartRenderedInCarousel=!0)},"loadSlide":function(t){var o,n,r=this.regionManager.get("slide_container").currentView.collection;this.previousSlideIndex=this.currentlyLoadingSlideIndex,this.currentlyLoadingSlideIndex=t,e.isUndefined(r)||(n=r.at(t),e.isUndefined(n)||(n.get("widget_loaded")?this.postWidgetLoad():(o=n.get("type"),this.currentWidgetOptions=n.get("options"),this.currentWidgetID=o,this.loadWidget(o).done(this.fetchWidget))))},"loadWidget":function(e){var t;return t=new l({"id":e},{"includeView":!0,"includeManifest":!1,"includeServerModule":!1,"includeToolItems":!1}),this.CSUIWidgetCollection.add(t),t.fetch()},"fetchWidget":function(){var t,o,n,r=this,i=this.collection.at(this.currentlyLoadingSlideIndex).get("options"),s=this.regionManager.get("slide"+this.currentlyLoadingSlideIndex),a=this.CSUIWidgetCollection.get(this.currentWidgetID),l=a.get("view");t=new l({"context":this.options.context,"data":i}),s.show(t),this._checkForExpandingWidgets(a,t),e.isFunction(t.getContentViewFactory)&&(o=t.getContentViewFactory())&&(n=o.property),void 0!==n?(this.listenTo(n,"sync",e.bind(this.onChildSync,this,t,this.currentlyLoadingSlideIndex)),o.fetch()):(this.listenToOnce(t,"factory:fetched:after:prompt",function(e){var o=e.promise;o&&o.done(function(){r._checkForExpandingWidgets(a,t)})}),this.triggerMethod("child:sync",t,this.currentlyLoadingSlideIndex)),this.postWidgetLoad()},"postWidgetLoad":function(){var e,t=this.collection.length===this.currentlyLoadingSlideIndex+1,o=this.collection.at(this.currentlyLoadingSlideIndex);0===this.currentlyLoadingSlideIndex&&this._restoreIndicators("li.binf-active"),o.get("widget_loaded")||o.set("widget_loaded",!0),t||(e=this.collection.at(this.currentlyLoadingSlideIndex+1),!0!==e.get("widget_loaded")&&this.loadSlide(this.currentlyLoadingSlideIndex+1))},"_restoreIndicators":function(e){e&&this.regionManager.get("indicator_container").$el.find(e).animate({"height":"16px","margin-bottom":"0px"}).removeClass("carousel-content-loading")},"_checkForExpandingWidgets":function(e,t){var o,n=e.get("id"),r=this.supportedWidgets;(n===r.nodesListReport||n===r.visualCount&&t.options&&t.options.data&&!0===t.options.data.expandable)&&(o=this._getContentView(t),this._setExpandingWidgetListeners(o))},"_getContentView":function(t){var o;return e.isFunction(t.getChildView)&&(o=t.getChildView("content")),o||(o=t),o},"_setExpandingWidgetListeners":function(e){this.listenTo(e,"expand",this.onExpandWidget),this.listenTo(e,"collapse",this.onCollapseWidget)},"onChildSync":function(e,t){var o;this.collection.at(t).set("widget_synced",!0),o=this.collection.where({"widget_synced":!0}),o.length===this.collection.length&&this.onAllSlidesSynced()},"onAllSlidesSynced":function(){this.options.data.behavior.auto_cycle&&this.startCarousel(),this._restoreIndicators("li:not('.binf-active')"),this.allSlidesSynced=!0},"onChildFilterValueChange":function(e){""===e.ui.searchInput.val()?this.onCollapseWidget():this.onExpandWidget()},"onExpandWidget":function(){this.isCycling&&this.pauseCarousel()},"onCollapseWidget":function(){!this.isCycling&&this.options.data.behavior.auto_cycle&&this.startCarousel()}});return e.extend(c.prototype,s),c}),csui.define("webreports/widgets/widget.carousel/impl/nls/widget.carousel.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/widget.carousel/impl/nls/root/widget.carousel.lang",{"dialogTitle":"Widget Carousel"}),csui.define("hbs!webreports/controls/carousel/impl/carousel.tile",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="tile-header">\r\n\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"icon"):t,{"name":"if","hash":{},"fn":e.program(2,r,0),"inverse":e.noop,"loc":{"start":{"line":4,"column":8},"end":{"line":8,"column":15}}}))?i:"")+'\r\n        <div class="tile-title">\r\n             <h2 class="csui-heading">'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":11,"column":38},"end":{"line":11,"column":47}}}):s))+'</h2>\r\n        </div>\r\n\r\n        <div class="tile-controls"></div>\r\n\r\n    </div>\r\n\r\n'},"2":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="tile-type-icon">\r\n                <span class="icon title-icon '+e.escapeExpression((i=null!=(i=s(o,"icon")||(null!=t?s(t,"icon"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon","hash":{},"loc":{"start":{"line":6,"column":45},"end":{"line":6,"column":53}}}):i))+'" aria-hidden="true"></span>\r\n            </div>\r\n'},"4":function(e,t,o,n,r){return'    <div class="webreports-tilereport-spacer"></div>\r\n'},"6":function(e,t,o,n,r){return" carousel-tile-content"},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"header"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.program(4,r,0),"loc":{"start":{"line":1,"column":0},"end":{"line":20,"column":7}}}))?i:"")+'\r\n\r\n\r\n<div class="tile-content'+(null!=(i=s(o,"unless").call(null!=t?t:e.nullContext||{},null!=t?s(t,"header"):t,{"name":"unless","hash":{},"fn":e.program(6,r,0),"inverse":e.noop,"loc":{"start":{"line":24,"column":24},"end":{"line":24,"column":75}}}))?i:"")+'"></div>\r\n\r\n<div class="tile-footer"></div>\r\n'}});return o.registerPartial("webreports_controls_carousel_impl_carousel.tile",n),n}),csui.define("webreports/widgets/widget.carousel/widget.carousel.view",["csui/lib/underscore","csui/utils/base","csui/controls/tile/tile.view","webreports/widgets/widget.carousel/widget.carousel.layout.view","i18n!webreports/widgets/widget.carousel/impl/nls/widget.carousel.lang","hbs!webreports/controls/carousel/impl/carousel.tile","css!webreports/controls/carousel/impl/carousel","css!webreports/style/webreports.css"],function(e,t,o,n,r,i){return o.extend({"contentView":n,"template":i,"constructor":function(e){e.data&&e.data.contentView&&(this.contentView=e.data.contentView),this.contentViewOptions=e,o.prototype.constructor.apply(this,arguments)},"templateHelpers":function(){var o={"title":t.getClosestLocalizedString(this.options.data.title,r.dialogTitle),"icon":this.options.data.titleBarIcon||"title-webreports"};return!0===this.options.data.header&&e.extend(o,{"header":this.options.data.header}),o},"onRender":function(){!1===this.options.data.header&&this.$(".tile-content").height("100%").css("margin-top","0px")}})}),csui.define("json!webreports/widgets/widget.carousel/widget.carousel.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"header","supportedKinds":["tile","header","fullpage"],"schema":{"type":"object","properties":{"header":{"title":"{{headerTitle}}","description":"{{headerDescription}}","type":"boolean","enum":[!0,!1],"default":!1},"title":{"title":"{{tileTitle}}","description":"{{tileDescription}}","type":"object"},"titleBarIcon":{"title":"{{headerIconTitle}}","description":"{{headerIconDescription}}","type":"string"},"behavior":{"type":"object","title":"{{behaviorTitle}}","description":"{{behaviorDescription}}","properties":{"auto_cycle":{"title":"{{cycleTitle}}","description":"{{cycleDescription}}","type":"boolean","enum":[!0,!1],"default":!0},"interval":{"title":"{{intervalTitle}}","description":"{{intervalDescription}}","type":"integer","default":5e3},"pause_on_hover":{"title":"{{hoverTitle}}","description":"{{hoverDescription}}","type":"boolean","enum":[!0,!1],"default":!0},"wrap":{"title":"{{loopTitle}}","description":"{{loopDescription}}","type":"boolean","enum":[!0,!1],"default":!0}}},"widgets":{"type":"widgetarray","title":"{{childTitle}}","description":"{{childDescription}}"}}},"options":{"fields":{"title":{"type":"otcs_multilingual_string"}}}}),csui.define("webreports/widgets/widget.carousel/impl/nls/widget.carousel.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/widget.carousel/impl/nls/root/widget.carousel.manifest",{"widgetTitle":"Widget Carousel","widgetDescription":"This widget cycles through up to 10 slides, each of which can contain a different child widget from the Content Server WebReports widget group.","headerTitle":"Show header","headerDescription":"Select whether the tile will include a header that contains the title and title icon.","tileTitle":"Title","tileDescription":"Enter the title for the Widget Carousel.","headerIconTitle":"Icon class","headerIconDescription":"Enter the CSS class for the icon that will appear in the header.","behaviorTitle":"Behavior","behaviorDescription":"Control how the Widget Carousel behaves.","cycleTitle":"Cycle automatically","cycleDescription":"Select whether the Carousel rotates through the slides after loading or waits for the user to click navigation.","intervalTitle":"Interval","intervalDescription":"If cycling, the time in milliseconds that each slide appears before advancing to the next one.","hoverTitle":"Pause on hover","hoverDescription":"If cycling, select whether the slides stop advancing when the user points to the current slide or continue advancing regardless of the cursor position.","loopTitle":"Loop","loopDescription":"If cycling, select whether slides rotate in an endless loop or only appear once.","childTitle":"Child widgets","childDescription":"Add up to 10 slides, in order, by dragging a child widget from the Content Server WebReports widget group to the Child Widget Drop Area. Click each child widget to configure its options. "}),csui.define("webreports/utils/table.validate",["module","csui/lib/underscore"],function(e,t){var o=e.config();return t.defaults(o,{"defaultPageSize":30,"defaultPageSizeOptions":[30,50,100],"maxPageSize":100}),t.extend({"checkPageSize":function(e,n){return e&&!n&&(n=o.defaultPageSizeOptions),t.contains(n,e)?e:e=o.defaultPageSize},"checkPageSizeOptions":function(e,n){return e&&!n&&(e=o.defaultPageSizeOptions),e=t.reject(e,function(e){return e<1||e>o.maxPageSize}),t.contains(e,n)?e:e=o.defaultPageSizeOptions}})}),csui.define("webreports/models/tablereport/tablereport.model",["module","csui/lib/underscore","csui/lib/backbone","webreports/utils/url.webreports","webreports/utils/table.validate","csui/models/nodechildrencolumn","csui/models/nodechildrencolumns","csui/models/node/node.model","csui/models/mixins/connectable/connectable.mixin","csui/models/mixins/fetchable/fetchable.mixin","csui/models/browsable/browsable.mixin","csui/models/browsable/v1.request.mixin","csui/models/browsable/v2.response.mixin"],function(e,t,o,n,r,i,s,a,l,c,p,u,d){var m=o.Model.extend({"idAttribute":"column_key","constructor":function(e,t){o.Model.prototype.constructor.apply(this,arguments)}}),h=o.Collection.extend({"model":m,"constructor":function(e,t){o.Collection.prototype.constructor.apply(this,arguments)}}),b=o.Collection.extend({"_reservedParams":function(){var e=this.options,o=["count","sort_by","sort_order","range_min","range_max","format"];return e&&e.data&&e.data.columnsWithSearch&&(o=t.union(o,t.map(e.data.columnsWithSearch,function(e){return"where_"+e.toLowerCase()}))),o},"constructor":function(e,t){o.Collection.prototype.constructor.apply(this,arguments),this.columns=new h,(t.data.pageSize||t.data.pageSizeOptions)&&(t.data.pageSize=r.checkPageSize(t.data.pageSize,t.data.pageSizeOptions),t.data.pageSizeOptions=r.checkPageSizeOptions(t.data.pageSizeOptions,t.data.pageSize)),t.data.sortBy&&t.data.sortOrder&&(t.data.orderBy||(t.data.orderBy=t.data.sortBy+" "+t.data.sortOrder),t.orderBy=t.data.sortBy+" "+t.data.sortOrder),this.orderBy=t.data.orderBy,this.options=t,this.makeConnectable(t).makeBrowsable(t).makeBrowsableV1Request(t).makeBrowsableV2Response(t).makeFetchable(t)},"url":function(){var e="",o=this.options.context||void 0,r=this.options.data.parameters||void 0,i=this._reservedParams();return e=n.combineQueryString(e,this.getBrowsableUrlQuery()),r=t.reject(r,function(e){return t.contains(i,e.name.toLowerCase())}),e=n.appendWebReportParameters(e,r),e=n.appendCurrentContainer(e,o),e=n.appendSWRCellID(e,this.options),n.combine(this.connector.connection.url+"/nodes/"+this.options.data.id,e?"/output?format=webreport&"+e:"/output?format=webreport")},"parse":function(e){return this.parseBrowsedState(e,this.options),this.columns.set(this._processColumns(e)),e.data},"_processColumns":function(e){var o,n=this.options,r=[];return n&&n.data&&n.data.columnsWithSearch&&(r=t.map(n.data.columnsWithSearch,function(e){return e.toLowerCase()})),""===this.orderBy&&(o=t.findWhere(e.columns,{"sort":!0}),t.isUndefined(o)||(this.orderBy=o.column_key+" ASC")),t.map(e.columns,t.bind(function(e){var o,n;return e.name_formatted&&""!==e.name_formatted&&(e.name=e.name_formatted),t.contains(r,e.column_key.toLowerCase())&&(e.widthFactor=2),"subwebreportid"===e.column_key&&(o=this.options)&&o.data&&o.data.swrLaunchCell&&(n=o.data.swrLaunchCell,n.iconClass&&(e.iconClass=n.iconClass),n.hoverText&&(e.hoverText=n.hoverText)),e},this))}});p.mixin(b.prototype),l.mixin(b.prototype),u.mixin(b.prototype),d.mixin(b.prototype),c.mixin(b.prototype);var f=b.prototype.setFilter;return b.prototype.setFilter=function(e,t,o){return this.skipCount=0,f.apply(this,[e,t,o])},b}),csui.define("webreports/utils/contexts/factories/table.report.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","webreports/models/tablereport/tablereport.model","csui/utils/contexts/factories/node"],function(e,t,o,n,r,i){return n.extend({"propertyPrefix":"tablereport","constructor":function(s,a){n.prototype.constructor.apply(this,arguments);var l=s.getObject(r,a);a.connector=l;var c=this.options.tablereport||{};if(!(c instanceof o.Collection)){var p=e.config();c=new i(c.models,t.extend({"connector":l},c.attributes,p.options,{"autoreset":!0}))}this.property=c},"fetch":function(e){return e=t.extend({"headers":{}},e),t.extend(e.headers,{"X-OriginParams":location.search}),this.property.fetch(e)}})}),csui.define("webreports/widgets/table.report/impl/table.report.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}});return new(e.Collection.extend({"model":t,"comparator":"sequence"}))}),csui.define("hbs!webreports/widgets/table.report/impl/table.report",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="tile-header">\r\n\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"wrNode"):t,{"name":"if","hash":{},"fn":e.program(2,r,0),"inverse":e.noop,"loc":{"start":{"line":4,"column":8},"end":{"line":6,"column":15}}}))?i:"")+"\r\n"+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"icon"):t,{"name":"if","hash":{},"fn":e.program(4,r,0),"inverse":e.program(6,r,0),"loc":{"start":{"line":8,"column":8},"end":{"line":18,"column":15}}}))?i:"")+'\r\n        <div class="tile-title">\r\n            <h2 class="csui-heading">'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":21,"column":37},"end":{"line":21,"column":46}}}):s))+'</h2>\r\n        </div>\r\n\r\n        <div class="tile-controls">\r\n            <div class="csui-favorite csui-acc-tab-region webreports-widget-parameters-btn binf-hidden">\r\n                <span class="csui-icon-edit inline-edit-icon icon-edit wr-icon-edit" role="button" tabindex="0" aria-label="'+e.escapeExpression((s=null!=(s=a(o,"settings")||(null!=t?a(t,"settings"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"settings","hash":{},"loc":{"start":{"line":26,"column":124},"end":{"line":26,"column":136}}}):s))+'"></span>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n'},"2":function(e,t,o,n,r){return'            <div class="arrow_back cs-go-back"></div>\r\n'},"4":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="tile-type-icon">\r\n                <span class="icon '+e.escapeExpression((i=null!=(i=s(o,"icon")||(null!=t?s(t,"icon"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon","hash":{},"loc":{"start":{"line":10,"column":34},"end":{"line":10,"column":42}}}):i))+'" aria-hidden="true"></span>\r\n            </div>\r\n'},"6":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"imageUrl"):t,{"name":"if","hash":{},"fn":e.program(7,r,0),"inverse":e.noop,"loc":{"start":{"line":13,"column":12},"end":{"line":17,"column":19}}}))?i:""},"7":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="tile-type-image '+e.escapeExpression((i=null!=(i=s(o,"imageClass")||(null!=t?s(t,"imageClass"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageClass","hash":{},"loc":{"start":{"line":14,"column":44},"end":{"line":14,"column":58}}}):i))+'">\r\n                    <img src="'+e.escapeExpression((i=null!=(i=s(o,"imageUrl")||(null!=t?s(t,"imageUrl"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageUrl","hash":{},"loc":{"start":{"line":15,"column":30},"end":{"line":15,"column":42}}}):i))+'" aria-hidden="true">\r\n                </div>\r\n'},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"header"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.noop,"loc":{"start":{"line":1,"column":0},"end":{"line":31,"column":7}}}))?i:"")+'\r\n<div class="webreports-table-report-table-container">\r\n    <div class="csui-table-tableview"></div>\r\n    <div class="csui-table-paginationview"></div>\r\n</div>\r\n'}});return o.registerPartial("webreports_widgets_table.report_impl_table.report",n),n}),csui.define("webreports/widgets/table.report/impl/nls/table.report.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/table.report/impl/nls/root/table.report.lang",{"dialogTitle":"Table Report"}),csui.define("css!webreports/widgets/table.report/impl/table.report",[],function(){}),csui.define("webreports/widgets/table.report/impl/table.report.content.view",["csui/lib/underscore","csui/lib/marionette3","csui/utils/base","csui/utils/contexts/factories/connector","csui/controls/table/table.view","csui/controls/pagination/nodespagination.view","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","webreports/utils/general.utils","webreports/utils/contexts/factories/table.report.factory","webreports/utils/table.validate","webreports/widgets/table.report/impl/table.report.columns","webreports/mixins/webreports.view.mixin","hbs!webreports/widgets/table.report/impl/table.report","i18n!webreports/widgets/table.report/impl/nls/table.report.lang","css!webreports/widgets/table.report/impl/table.report","css!webreports/style/webreports.css"],function(e,t,o,n,r,i,s,a,l,c,p,u,d,m){"use strict";var h=t.View.extend({"className":"webreports-table-report-content-view","template":d,"ui":{"tableView":".csui-table-tableview","paginationView":".csui-table-paginationview"},"regions":{"table":{"el":".csui-table-tableview"},"pagination":{"el":".csui-table-paginationview"}},"constructor":function(e){t.View.prototype.constructor.apply(this,arguments)},"initialize":function(e){var t,o,n;t=this._getTableReportModelOptions(e),o={"attributes":t},n=this.getWidgetFactory(e,l,t),this.setFactory(n),this.collection=this.options.collection||this.options.context.getCollection(l,o),this.columns=this.options.context.getCollection(l,o)},
"onRender":function(){var e=this.options,t=this._modelOptions;this.collection?(this.tableView=new r({"context":this.options.context,"connector":this.options.context.getObject(n),"collection":this.collection,"columns":this.collection.columns,"tableColumns":e.data.tableColumns||p,"selectRows":e.data.selectRows||"none","columnsWithSearch":t.data.columnsWithSearch,"orderBy":t.data.orderBy,"selectColumn":!1}),this._setPagination()):this.tableView&&(this.stopListening(this.tableView),delete this.tableView),this.propagateEventsToViews(this.tableView,this.paginationView),this.showChildView("table",this.tableView),this.showChildView("pagination",this.paginationView)},"templateContext":function(){var t=this.getOption("context"),n=this.options;return{"title":o.getClosestLocalizedString(n.data.title,m.dialogTitle),"icon":this._getTitleBarIcon(n),"showParameterEditBtn":"showPromptForm"===n.data.parameterPrompt,"header":!(!e.isUndefined(n.data.header)&&!1===n.data.header),"wrNode":a.isWebReportNodeContext(t)}},"_setPagination":function(){var e=this._modelOptions,t=c.checkPageSize(e.data.pageSize,e.data.pageSizeOptions),o=c.checkPageSizeOptions(e.data.pageSizeOptions,t);return this.paginationView=new i({"collection":this.collection,"defaultDDList":o,"pageSize":t}),!0},"_getTitleBarIcon":function(e){var t="title-icon title-webreports";return e.data&&e.data.titleBarIcon&&e.data.titleBarIcon.length&&(t="title-icon "+e.data.titleBarIcon),t},"_getTableReportModelOptions":function(t){var o,n="",r=[],i={};return r=this._getColumnsWithSearch(t),t.data.sortBy&&t.data.sortOrder&&(n=t.data.sortBy+" "+t.data.sortOrder),t.data.pageSize&&e.isString(t.data.pageSize)&&(o=parseInt(t.data.pageSize)),i={"context":t.context,"data":{"id":t.data.id,"sortBy":t.data.sortBy,"sortOrder":t.data.sortOrder,"orderBy":n,"pageSize":o,"pageSizeOptions":t.data.pageSizeOptions,"swrLaunchCell":t.data.swrLaunchCell,"columnsWithSearch":r,"parameters":t.data.parameters}},this.setModelParameters(t,i),this._modelOptions=i,i},"_getColumnsWithSearch":function(t){var o,n=[];return e.has(t.data,"columnsWithSearch")&&(o=t.data.columnsWithSearch,"string"==typeof o?n=[o]:e.isArray(o)&&e.isObject(e.first(o))&&(n=e.chain(o).reject(function(t){return!t.columnName||!e.isString(t.columnName)||t.columnName.length<1}).pluck("columnName").without(null,void 0,"").value())),n}});return e.extend(h.prototype,s),u.mixin(h.prototype),h}),csui.define("webreports/widgets/table.report/table.report.view",["csui/lib/underscore","webreports/controls/parameter.prompt/widget.prompt.wrapper.view","webreports/widgets/table.report/impl/table.report.content.view"],function(e,t,o){return t.extend({"className":"webreports-table-report-view","constructor":function(e){e.data&&(e.data.parameterPrompt="showPromptForm"),e.view=o,t.prototype.constructor.apply(this,arguments)},"onRender":function(){var t=this.options;!(!e.isUndefined(t.data.header)&&!1===t.data.header)&&this.$el.addClass("has-header")}})}),csui.define("json!webreports/widgets/table.report/table.report.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"fullpage","supportedKinds":["fullpage"],"schema":{"type":"object","properties":{"title":{"title":"{{tileTitle}}","description":"{{tileDescription}}","type":"object"},"id":{"title":"{{sourceTitle}}","description":"{{sourceDescription}}","type":"integer","required":!0},"titleBarIcon":{"title":"{{headerIconTitle}}","description":"{{headerIconDescription}}","type":"string"},"columnsWithSearch":{"title":"{{columnFilterTitle}}","description":"{{columnFilterDescription}}","type":"array","items":{"title":"{{columnFilterTitle}}","description":"{{columnFilterDescription}}","type":"object","properties":{"columnName":{"title":"{{columnFilterItemTitle}}","description":"{{columnFilterItemDescription}}","type":"string"}}}},"sortBy":{"title":"{{sortTitle}}","description":"{{sortDescription}}","type":"string","required":!0},"sortOrder":{"title":"{{directionTitle}}","description":"{{directionDescription}}","type":"string","enum":["desc","asc"],"default":"desc","required":!0},"pageSize":{"title":"{{pageSizeTitle}}","description":"{{pageSizeDescription}}","type":"integer","enum":[30,50,100],"default":30},"swrLaunchCell":{"type":"object","title":"{{swrLaunchCellTitle}}","description":"{{swrLaunchCellDescription}}","properties":{"id":{"title":"{{swrLaunchCellIDTitle}}","description":"{{swrLaunchCellIDDescription}}","type":"integer"},"iconClass":{"title":"{{swrLaunchCellIconClassTitle}}","description":"{{swrLaunchCellIconClassDescription}}","type":"string","default":"icon-subwebreport"},"hoverText":{"title":"{{swrLaunchCellHoverTextTitle}}","description":"{{swrLaunchCellHoverTextDescription}}","type":"string"}}}}},"required":["id","sortBy","sortOrder"],"options":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[30303]}}},"title":{"type":"otcs_multilingual_string"},"sortOrder":{"type":"select","optionLabels":["{{optionsSortOrderDsc}}","{{optionsSortOrderAsc}}"]},"pageSize":{"type":"select","optionLabels":["30","50","100"]},"swrLaunchCell":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[30303]}}},"hoverText":{"type":"otcs_multilingual_string"}}}}}}),csui.define("webreports/widgets/table.report/impl/nls/table.report.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/table.report/impl/nls/root/table.report.manifest",{"widgetTitle":"Table WebReport - Full","widgetDescription":"This basic widget will take information from various sources and organize them into a table format","tileTitle":"Title","tileDescription":"Enter the title for the Table Report","sourceTitle":"Source WebReport","sourceDescription":"Browse to select the WebReport that retrieves the data that you want to render as a table","headerIconTitle":"Icon class","headerIconDescription":"Enter the CSS class for the icon that will appear in the header","columnFilterTitle":"Names of searchable columns","columnFilterDescription":"Enter the names of columns that allow searching in the table header","columnFilterItemTitle":"Searchable column name","columnFilterItemDescription":"Enter the name of column in the data source","optionsSortOrderDsc":"Descending","optionsSortOrderAsc":"Ascending","directionTitle":"Sort direction","directionDescription":"Select whether to sort the column in Ascending or Descending order","pageSizeTitle":"Page size","pageSizeDescription":"Set the number of objects that will be returned per page.","sortTitle":"Sort by","sortDescription":"Enter the column name of the default sort column","swrLaunchCellTitle":"Sub-WebReport column","swrLaunchCellDescription":"Add a column to launch a Sub-WebReport passing in the current row data","swrLaunchCellIDTitle":"Source Sub-WebReport","swrLaunchCellIDDescription":"Browse to select the WebReport that runs when you click the Sub-WebReport icon","swrLaunchCellIconClassTitle":"Sub-WebReport icon class","swrLaunchCellIconClassDescription":"Enter the CSS class for the icon that will appear in the Sub-WebReport column","swrLaunchCellHoverTextTitle":"Sub-WebReport icon tooltip","swrLaunchCellHoverTextDescription":"Enter a tooltip for the icon"}),csui.define("hbs!webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<span class="icon arrow_back cs-go-back" title="'+e.escapeExpression((i=null!=(i=s(o,"go_back_tooltip")||(null!=t?s(t,"go_back_tooltip"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"go_back_tooltip","hash":{},"loc":{"start":{"line":3,"column":50},"end":{"line":3,"column":69}}}):i))+'" role="link"></span>\r\n'},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="csui-title-container">\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"back_button"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.noop,"loc":{"start":{"line":2,"column":1},"end":{"line":4,"column":8}}}))?i:"")+'\t<span id="" class="title">'+e.escapeExpression((s=null!=(s=a(o,"webreport_name")||(null!=t?a(t,"webreport_name"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"webreport_name","hash":{},"loc":{"start":{"line":5,"column":27},"end":{"line":5,"column":45}}}):s))+"</span>\r\n</div>"}});return o.registerPartial("webreports_widgets_parameter.prompt.form_impl_header_parameter.prompt.header",n),n}),csui.define("webreports/widgets/parameter.prompt.form/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/parameter.prompt.form/impl/nls/root/lang",{"goBackTooltip":"Go back","runWebReport":"Run WebReport","cancel":"Cancel"}),csui.define("css!webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header",[],function(){}),csui.define("webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","hbs!webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header","i18n!webreports/widgets/parameter.prompt.form/impl/nls/lang","css!webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header"],function(e,t,o,n,r,i,s){return n.ItemView.extend({"className":"webreport-parameter-prompt-header","template":i,"ui":{"backArrow":".cs-go-back"},"triggers":{"click @ui.backArrow":"onClickBackArrow"},"constructor":function(e){e||(e={}),this.options=e,n.ItemView.prototype.constructor.call(this,e)},"templateHelpers":function(){var t=e.has(this.model,"models")?this.model.models[0]:this.model,o=!e.has(this.options,"showBackIcon")||this.options.showBackIcon;return{"webreport_name":t.get("name"),"go_back_tooltip":s.goBackTooltip,"back_button":o}},"onClickHeader":function(e){e.preventDefault(),e.stopPropagation()}})}),csui.define("hbs!webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button type="button" class="binf-btn binf-btn-primary submitWR">'+e.escapeExpression((i=null!=(i=s(o,"runWebReport")||(null!=t?s(t,"runWebReport"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"runWebReport","hash":{},"loc":{"start":{"line":1,"column":65},"end":{"line":1,"column":81}}}):i))+'</button>\r\n<button type="button" class="binf-btn binf-btn-secondary cancelWR">'+e.escapeExpression((i=null!=(i=s(o,"cancel")||(null!=t?s(t,"cancel"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"cancel","hash":{},"loc":{"start":{"line":2,"column":67},"end":{"line":2,"column":77}}}):i))+"</button>"}});return o.registerPartial("webreports_widgets_parameter.prompt.form_impl_footer_parameter.prompt.footer",n),n}),csui.define("css!webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer",[],function(){}),csui.define("webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/utils/commands","hbs!webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer","i18n!webreports/widgets/parameter.prompt.form/impl/nls/lang","css!webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer"],function(e,t,o,n,r,i,s,a){return n.ItemView.extend({"className":"webreport-parameter-prompt-footer","template":s,"templateHelpers":function(){return{"cancel":a.cancel,"runWebReport":a.runWebReport}},"ui":{"submitWR":"button.submitWR","cancelWR":"button.cancelWR"},"triggers":{"click @ui.submitWR":"submitWR","click @ui.cancelWR":"cancelWR"},"constructor":function(e){e||(e={}),this.options=e,this.node=this.options.model,n.ItemView.prototype.constructor.call(this,e)}})}),csui.define("hbs!webreports/widgets/parameter.prompt.form/impl/parameter.prompt.layout",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){return'<div class="webreport-parameter-prompt">\r\n\t<div class="webreport-parameter-prompt-header-container"></div>\r\n\t<div class="webreport-parameter-prompt-content-container"></div>\r\n\t<div class="webreport-parameter-prompt-footer-container"></div>\r\n</div>'}});return o.registerPartial("webreports_widgets_parameter.prompt.form_impl_parameter.prompt.layout",n),n}),csui.define("css!webreports/widgets/parameter.prompt.form/impl/parameter.prompt",[],function(){}),csui.define("webreports/widgets/parameter.prompt.form/parameter.prompt.form.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/base","csui/models/node/node.model","csui/utils/contexts/factories/node","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/utils/nodesprites","csui/controls/progressblocker/blocker","webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header.view","webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer.view","csui/utils/commandhelper","csui/utils/commands","webreports/controls/run.webreport.pre/run.webreport.pre.controller","i18n!webreports/widgets/parameter.prompt.form/impl/nls/lang","hbs!webreports/widgets/parameter.prompt.form/impl/parameter.prompt.layout","css!webreports/widgets/parameter.prompt.form/impl/parameter.prompt"],function(e,t,o,n,r,i,s,a,l,c,p,u,d,m,h,b){return o.LayoutView.extend({"template":b,"regions":{"header":".webreport-parameter-prompt-header-container","content":".webreport-parameter-prompt-content-container","footer":".webreport-parameter-prompt-footer-container"},"constructor":function(t){o.LayoutView.prototype.constructor.call(this,t),this.options=t,this.RunWRController=e.has(t,"RunWRController")?t.RunWRController:new m,l.imbue(this)},"childEvents":{"submitWR":"submitWR","cancelWR":"cancelWR","onClickBackArrow":"_closePromptView","show:prompt:form":"showPromptForm"},"onBeforeShow":function(){var e=this,t=this.options||{};this.blockActions(),this.RunWRController.getFormView(t).done(function(t){void 0!==t&&e.showChildView("content",t),e.unblockActions()}),this.showChildView("header",new c(t)),this.showChildView("footer",new p(t)),this.listenTo(this.getChildView("header"),"promptView:close",function(){e.trigger("promptView:close")}).listenTo(t.context,"request",function(){e._closePromptView()}).listenTo(t.context,"request:perspective",function(){e._closePromptView()})},"_blockActions":function(){var e=this.options.originatingView;e&&e.blockActions&&e.blockActions()},"_unblockActions":function(){var e=this.options.originatingView;e&&e.unblockActions&&e.unblockActions()},"submitWR":function(){var t,o,n,r=this.getRegion("content").currentView;if(!0===r.validate()){if(o=r.getValues(),e.has(r,"alpaca")&&e.has(r.alpaca,"schema")&&e.has(r.alpaca.schema,"properties")){n=r.alpaca.schema.properties;for(t in n)"number"===n[t].type&&isNaN(o[t])&&(o[t]="")}this.RunWRController.executeWR(o),this._closePromptView()}},"cancelWR":function(){this._closePromptView()},"_closePromptView":function(){var e=this.options.model;1===e.get("type")&&e.original&&0===e.original.get("type")?this.trigger("promptView:close"):this.trigger("promptView:close:without:animation")}})}),csui.define("json!webreports/widgets/parameter.prompt.form/parameter.prompt.form.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"fullpage","schema":{"type":"object","properties":{}},"options":{}}),csui.define("webreports/widgets/parameter.prompt.form/impl/nls/parameter.prompt.form.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/parameter.prompt.form/impl/nls/root/parameter.prompt.form.manifest",{"widgetTitle":"Parameter Prompt Widget","widgetDescription":"Displays a form to prompt the user for information based on the WebReports' Parameters settings","idTitle":"ID","idDescription":"The WebReport node for which to show the prompts"}),csui.define("webreports/widgets/nodestable.report/impl/nodestable.report.toolbaritems",["csui/lib/underscore","i18n!csui/controls/tabletoolbar/impl/nls/localized.strings","csui/controls/toolbar/toolitems.factory"],function(e,t,o){return{"tableHeaderToolbar":new o({"main":[{"signature":"Properties","name":t.ToolbarItemInfo,"iconName":"csui_action_properties32"},{"signature":"Edit","name":t.ToolbarItemEdit},{"signature":"EmailLink","name":t.ToolbarItemShare},{"signature":"Download","name":t.ToolbarItemDownload},{"signature":"InlineEdit","name":t.ToolbarItemRename,"onlyInTouchBrowser":!0},{"signature":"ReserveDoc","name":t.ToolbarItemReserve},{"signature":"UnreserveDoc","name":t.ToolbarItemUnreserve},{"signature":"Copy","name":t.ToolbarItemCopy},{"signature":"Move","name":t.ToolbarItemMove},{"signature":"AddVersion","name":t.ToolbarItemAddVersion}],"shortcut":[{"signature":"OriginalEdit","name":t.ToolbarItemOriginalEdit},{"signature":"OriginalEmailLink","name":t.ToolbarItemOriginalShare},{"signature":"OriginalReserveDoc","name":t.ToolbarItemOriginalReserve},{"signature":"OriginalUnreserveDoc","name":t.ToolbarItemOriginalUnreserve},{"signature":"OriginalCopy","name":t.ToolbarItemOriginalCopy},{"signature":"OriginalMove","name":t.ToolbarItemOriginalMove},{"signature":"OriginalAddVersion","name":t.ToolbarItemAddVersion},{"signature":"OriginalDownload","name":t.ToolbarItemOriginalDownload}]}),"inlineActionbar":new o({"other":[{"signature":"Properties","name":t.ToolbarItemInfo,"iconName":"csui_action_properties32"},{"signature":"CopyLink","name":t.ToolbarItemCopyLink,"iconName":"csui_action_copy_link32"},{"signature":"SendTo","name":t.ToolbarItemSendTo,"iconName":"csui_action_send_to32"},{"signature":"Edit","name":t.ToolbarItemEdit,"iconName":"csui_action_edit32"},{"signature":"Download","name":t.ToolbarItemDownload,"iconName":"csui_action_download32"},{"signature":"ReserveDoc","name":t.ToolbarItemReserve,"iconName":"csui_action_reserve32"},{"signature":"UnreserveDoc","name":t.ToolbarItemUnreserve,"iconName":"csui_action_unreserve32"},{"signature":"Copy","name":t.ToolbarItemCopy,"iconName":"csui_action_copy32"},{"signature":"Move","name":t.ToolbarItemMove,"iconName":"csui_action_move32"},{"signature":"AddVersion","name":t.ToolbarItemAddVersion,"iconName":"csui_action_add_version32"},{"signature":"InlineEdit","name":t.ToolbarItemRename,"icon":"icon icon-toolbar-rename"}]},{"maxItemsShown":5,"dropDownText":t.ToolbarItemMore,"dropDownIconName":"csui_action_more32"}),"dropdownMenuListInProperties":new o({"main":[{"signature":"Edit","name":t.ToolbarItemEdit},{"signature":"EmailLink","name":t.ToolbarItemShare},{"signature":"Download","name":t.ToolbarItemDownload},{"signature":"ReserveDoc","name":t.ToolbarItemReserve},{"signature":"UnreserveDoc","name":t.ToolbarItemUnreserve},{"signature":"Copy","name":t.ToolbarItemCopy},{"signature":"Move","name":t.ToolbarItemMove},{"signature":"AddVersion","name":t.ToolbarItemAddVersion}],"shortcut":[{"signature":"OriginalEdit","name":t.ToolbarItemOriginalEdit},{"signature":"OriginalEmailLink","name":t.ToolbarItemOriginalShare},{"signature":"OriginalReserveDoc","name":t.ToolbarItemOriginalReserve},{"signature":"OriginalUnreserveDoc","name":t.ToolbarItemOriginalUnreserve},{"signature":"OriginalCopy","name":t.ToolbarItemOriginalCopy},{"signature":"OriginalMove","name":t.ToolbarItemOriginalMove},{"signature":"OriginalAddVersion","name":t.ToolbarItemAddVersion},{"signature":"OriginalDownload","name":t.ToolbarItemOriginalDownload}]},{"maxItemsShown":0,"dropDownIconName":"csui_action_caret_down32"})}}),csui.define("webreports/widgets/nodestable.report/impl/nodestable.report.toolbaritems.masks",["module","csui/lib/underscore","csui/controls/toolbar/toolitems.mask","csui/utils/toolitem.masks/global.toolitems.mask"],function(e,t,o,n){"use strict";function r(){var r=e.config(),s=new n;this.toolbars=t.reduce(i,function(e,n){var i=new o(s,{"normalize":!1});return t.each(r,function(e,t){(e=e[n])&&i.extendMask(e)}),i.storeMask(),e[n]=i,e},{})}var i=["tableHeaderToolbar","inlineActionbar"];return r.toolbars=i,r}),csui.define("hbs!webreports/widgets/nodestable.report/impl/nodestable.report",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="tile-header">\r\n\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"wrNode"):t,{"name":"if","hash":{},"fn":e.program(2,r,0),"inverse":e.noop,"loc":{"start":{"line":4,"column":8},"end":{"line":6,"column":15}}}))?i:"")+"\r\n"+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"icon"):t,{"name":"if","hash":{},"fn":e.program(4,r,0),"inverse":e.program(6,r,0),"loc":{"start":{"line":8,"column":8},"end":{"line":18,"column":15}}}))?i:"")+'\r\n        <div class="tile-title">\r\n            <h2 class="csui-heading">'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":21,"column":37},"end":{"line":21,"column":46}}}):s))+'</h2>\r\n        </div>\r\n\r\n        <div class="tile-controls">\r\n            <div class="csui-favorite csui-acc-tab-region webreports-widget-parameters-btn binf-hidden">\r\n                <span class="csui-icon-edit inline-edit-icon icon-edit wr-icon-edit" role="button" tabindex="0" aria-label="'+e.escapeExpression((s=null!=(s=a(o,"settings")||(null!=t?a(t,"settings"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"settings","hash":{},"loc":{"start":{"line":26,"column":124},"end":{"line":26,"column":136}}}):s))+'"></span>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n'},"2":function(e,t,o,n,r){return'            <div class="arrow_back cs-go-back"></div>\r\n'},"4":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="tile-type-icon">\r\n                <span class="icon '+e.escapeExpression((i=null!=(i=s(o,"icon")||(null!=t?s(t,"icon"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon","hash":{},"loc":{"start":{"line":10,"column":34},"end":{"line":10,"column":42}}}):i))+'" aria-hidden="true"></span>\r\n            </div>\r\n'},"6":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"imageUrl"):t,{"name":"if","hash":{},"fn":e.program(7,r,0),"inverse":e.noop,"loc":{"start":{"line":13,"column":12},"end":{"line":17,"column":19}}}))?i:""},"7":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="tile-type-image '+e.escapeExpression((i=null!=(i=s(o,"imageClass")||(null!=t?s(t,"imageClass"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageClass","hash":{},"loc":{"start":{"line":14,"column":44},"end":{"line":14,"column":58}}}):i))+'">\r\n                    <img src="'+e.escapeExpression((i=null!=(i=s(o,"imageUrl")||(null!=t?s(t,"imageUrl"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageUrl","hash":{},"loc":{"start":{"line":15,"column":30},"end":{"line":15,"column":42}}}):i))+'" aria-hidden="true">\r\n                </div>\r\n'},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"header"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.noop,"loc":{"start":{"line":1,"column":0},"end":{"line":31,"column":7}}}))?i:"")+'\r\n<div class="webreports-nodestable-report-table-container">\r\n    <div class="csui-table-tableview"></div>\r\n    <div class="csui-table-paginationview"></div>\r\n</div>\r\n'}});return o.registerPartial("webreports_widgets_nodestable.report_impl_nodestable.report",n),n}),csui.define("webreports/widgets/nodestable.report/impl/nls/nodestable.report.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/nodestable.report/impl/nls/root/nodestable.report.lang",{"dialogTitle":"Nodestable Report"}),csui.define("css!webreports/widgets/nodestable.report/impl/nodestable.report",[],function(){}),csui.define("webreports/widgets/nodestable.report/impl/nodestable.report.content.view",["csui/lib/underscore","csui/lib/marionette3","module","csui/utils/contexts/factories/connector","csui/controls/table/table.view","csui/controls/pagination/nodespagination.view","csui/controls/toolbar/toolbar.view","csui/utils/commands","csui/utils/base","csui/controls/toolbar/toolbar.command.controller","csui/controls/tableactionbar/tableactionbar.view","csui/behaviors/default.action/default.action.behavior","csui/controls/progressblocker/blocker","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","webreports/utils/general.utils","webreports/utils/contexts/factories/nodestablereportcolumns","webreports/utils/contexts/factories/nodestablereport","webreports/models/nodestablereport/impl/nodestablereport.columns","webreports/widgets/nodestable.report/impl/nodestable.report.toolbaritems","webreports/widgets/nodestable.report/impl/nodestable.report.toolbaritems.masks","webreports/mixins/webreports.view.mixin","hbs!webreports/widgets/nodestable.report/impl/nodestable.report","i18n!webreports/widgets/nodestable.report/impl/nls/nodestable.report.lang","css!webreports/widgets/nodestable.report/impl/nodestable.report","css!webreports/style/webreports.css"],function(e,t,o,n,r,i,s,a,l,c,p,u,d,m,h,b,f,g,w,v,y,x,C){"use strict";var _=o.config();e.defaults(_,{"defaultPageSize":30,"defaultPageSizes":[30,50,100],"showInlineActionBarOnHover":!0,"forceInlineActionBarOnClick":!1,"inlineActionBarStyle":"csui-table-actionbar-bubble","clearFilterOnChange":!0,"resetOrderOnChange":!1,"resetLimitOnChange":!0,"fixedFilterOnChange":!1,"orderBy":"name asc"});var k=t.View.extend({"className":"webreports-nodestable-report-content-view","template":x,"ui":{"tableView":".csui-table-tableview","paginationView":".csui-table-paginationview"},"regions":{"table":{"el":".csui-table-tableview"},"pagination":{"el":".csui-table-paginationview"}},"behaviors":{"DefaultAction":{"behaviorClass":u}},"constructor":function(e){e=this._processOptions(e),d.imbue(this),t.View.prototype.constructor.apply(this,arguments)},"initialize":function(){var e=this.options,t=this.setCommonModelOptions(e),o=this.getWidgetFactory(e,f,t);this.setFactory(o),this.collection=this.options.collection||this.context.getCollection(f,{"attributes":t}),this.collection.setExpand("properties",["parent_id","reserved_user_id"]),this.columns=this.options.columns||this.context.getCollection(b,{"attributes":t}),this._createTableView(e),this._createPaginationView(e),this.propagateEventsToViews(this.tableView,this.paginationView)},"onRender":function(){this.showChildView("table",this.tableView),this.showChildView("pagination",this.paginationView)},"templateContext":function(){var t=this.getOption("context"),o=this.options;return{"title":l.getClosestLocalizedString(o.data.title,C.dialogTitle),"icon":o.data.titleBarIcon,"showParameterEditBtn":"showPromptForm"===o.data.parameterPrompt,"header":!(!e.isUndefined(o.data.header)&&!1===o.data.header),"wrNode":h.isWebReportNodeContext(t)}},"_processOptions":function(t){e.isUndefined(t)&&(t={}),e.defaults(t,{"data":{},"pageSize":_.defaultPageSize,"ddItemsList":_.defaultPageSizes,"toolbarItems":w,"clearFilterOnChange":_.clearFilterOnChange,"resetOrderOnChange":_.resetOrderOnChange,"resetLimitOnChange":_.resetLimitOnChange,"fixedFilterOnChange":_.fixedFilterOnChange,"orderBy":_.orderBy});var o=t.data.pageSize||t.pageSize,r=t.data.pageSizes||t.ddItemsList;return e.contains(r,o)||(r.push(o),t.data.pageSizes=r.sort()),t.data&&t.data.titleBarIcon&&t.data.titleBarIcon.length?t.data.titleBarIcon="title-icon "+t.data.titleBarIcon:t.data.titleBarIcon="title-icon title-webreports",this.context=t.context,t.connector||(t.connector=this.context.getObject(n)),this.connector=t.connector,this.tableColumns=t.tableColumns||g.deepClone(),this.commands=t.commands||a,this.commandController=new c({"commands":this.commands}),t.toolbarItemsMasks||(t.toolbarItemsMasks=new v),this.options=t,t},"_createTableView":function(t){var o=e.extend({"context":this.options.context,"connector":this.connector,"collection":this.collection,"columns":this.columns,"tableColumns":this.tableColumns,"pageSize":this.options.data.pageSize||this.options.pageSize,"originatingView":this,"columnsWithSearch":["name"],"orderBy":this.options.data.orderBy||this.options.orderBy,"filterBy":this.options.filterBy,"actionItems":this.defaultActionController.actionItems,"commands":this.defaultActionController.commands,"blockingParentView":this,"parentView":this,"clientSideDataOperation":!1,"alternativeHeader":{"viewClass":s,"options":{"context":this.getOption("context"),"toolbarItems":this.options.toolbarItems,"toolbarItemsMask":this.options.toolbarItemsMasks.toolbars.tableHeaderToolbar,"toolbarCommandController":this.commandController}},"inlineBar":{"viewClass":p,"options":e.extend({"context":this.getOption("context"),"originatingView":this,"collection":this.options.toolbarItems.inlineActionbar,"toolItemsMask":this.options.toolbarItemsMasks.toolbars.inlineActionbar,"delayedActions":this.collection.delayedActions,"container":this.container,"containerCollection":this.collection},this.options.toolbarItems.inlineActionbar.options,{"inlineBarStyle":_.inlineActionBarStyle,"forceInlineBarOnClick":_.forceInlineActionBarOnClick,"showInlineBarOnHover":_.showInlineActionBarOnHover})}},t);this.tableView=new r(o),this._setTableViewEvents()},"_createPaginationView":function(e){this.paginationView=new i({"collection":this.collection,"pageSize":e.data.pageSize||e.pageSize})},"_setTableViewEvents":function(){this.listenTo(this.tableView,"execute:defaultAction",function(e){var t={"node":e};if(this.trigger("before:defaultAction",t),!t.cancel){var o=this;this.defaultActionController.executeAction(e,{"context":this.options.context,"originatingView":this}).done(function(){o.trigger("executed:defaultAction",t)})}})}});return e.extend(k.prototype,m),y.mixin(k.prototype),k}),csui.define("webreports/widgets/nodestable.report/nodestable.report.view",["csui/lib/underscore","webreports/controls/parameter.prompt/widget.prompt.wrapper.view","webreports/widgets/nodestable.report/impl/nodestable.report.content.view"],function(e,t,o){return t.extend({"className":"webreports-nodestable-report-view","constructor":function(e){e.data&&(e.data.parameterPrompt="showPromptForm"),e.view=o,t.prototype.constructor.apply(this,arguments)},"onRender":function(){var t=this.options;!(!e.isUndefined(t.data.header)&&!1===t.data.header)&&this.$el.addClass("has-header")}})}),csui.define("json!webreports/widgets/nodestable.report/nodestable.report.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}",
"description":"{{widgetDescription}}","kind":"fullpage","supportedKinds":["fullpage"],"schema":{"type":"object","properties":{"title":{"title":"{{tileTitle}}","description":"{{tileDescription}}","type":"object"},"titleBarIcon":{"title":"{{iconTitle}}","description":"{{iconDescription}}","type":"string"},"id":{"title":"{{idTitle}}","description":"{{idDescription}}","type":"integer","required":!0}}},"options":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[30303]}}},"title":{"type":"otcs_multilingual_string"}}}}),csui.define("webreports/widgets/nodestable.report/impl/nls/nodestable.report.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/widgets/nodestable.report/impl/nls/root/nodestable.report.manifest",{"widgetTitle":"Nodes Table WebReport - Full","widgetDescription":"Loads a full page node browsing table based on the output of a WebReport","tileTitle":"Title","tileDescription":"Title for the table","iconTitle":"Icon class","iconDescription":"CSS class supplying the icon in the table header","idTitle":"Source WebReport","idDescription":"DataID for the WebReport which returns the nodes table data"}),csui.define("webreports/utils/commands/defaultactionitems",[],function(){"use strict";return[{"equals":{"type":[30303]},"signature":"OpenWebReport","sequence":30}]}),csui.define("webreports/utils/commands/open.webreport",["require","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/command.error","csui/utils/commandhelper","csui/models/command","webreports/utils/contexts/factories/run.webreport.pre.controller.factory"],function(e,t,o,n,r,i,s,a){return s.extend({"constructor":function(){s.prototype.constructor.call(this)},"defaults":{"signature":"OpenWebReport","scope":"single"},"enabled":function(e){var t=i.getJustOneNode(e);return t&&30303===t.get("type")},"execute":function(e,n){var r,i=this,s=o.Deferred();return t.has(n,"node")||(n.node=e.nodes.models[0]),o.when(this.fetchOriginalNode(n)).then(function(){i.RunWRController=n.context.getObject(a,{"detached":!0,"permanent":!0,"attributes":{"id":n.node.get("id")},"options":{"id":n.node.get("id")}}),i.RunWRController.commandStatus=e,csui.require(["webreports/utils/url.webreports"],function(e){t.has(n,"parameters")&&(n.parameters=e.getWebReportParametersAsData(n.parameters)),r=i.RunWRController.checkForPromptParameters(n),r.done(function(){s.resolve()}).fail(function(e){s.reject()})})}),s.promise()},"fetchOriginalNode":function(e){var t=o.Deferred();return e.node.has("name")?t.resolve():e.node.fetch({"success":t.resolve,"error":t.reject}),t.promise()}})}),csui.define("hbs!webreports/controls/status.screen/impl/status.screen",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n\t\t<div class="webreport-status-screen-row webreport-status-screen-data">\r\n\t\t\t<div class="webreports-destination-icon-container icon_status_task_running_behind" aria-hidden="true"></div>\r\n\t\t\t<div class="webreports-destination-status-description">\r\n\t\t\t\t<p>'+e.escapeExpression((i=null!=(i=s(o,"runningInBackground")||(null!=t?s(t,"runningInBackground"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"runningInBackground","hash":{},"loc":{"start":{"line":8,"column":7},"end":{"line":8,"column":30}}}):i))+"</p>\r\n\t\t\t\t<p>"+e.escapeExpression((i=null!=(i=s(o,"noFurtherResponse")||(null!=t?s(t,"noFurtherResponse"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"noFurtherResponse","hash":{},"loc":{"start":{"line":9,"column":7},"end":{"line":9,"column":28}}}):i))+"</p>\r\n\t\t\t\t<br>\r\n\t\t\t\t<p>"+e.escapeExpression((i=null!=(i=s(o,"outputMessage")||(null!=t?s(t,"outputMessage"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"outputMessage","hash":{},"loc":{"start":{"line":11,"column":7},"end":{"line":11,"column":24}}}):i))+"</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n"},"3":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"useConversion"):t,{"name":"if","hash":{},"fn":e.program(4,r,0),"inverse":e.program(6,r,0),"loc":{"start":{"line":15,"column":1},"end":{"line":57,"column":1}}}))?i:""},"4":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n\t\t<div class="webreport-status-screen-row webreport-status-screen-data">\r\n\t\t\t<div class="webreports-destination-icon-container icon_status_task_delayed" aria-hidden="true"></div>\r\n\t\t\t<div class="webreports-destination-status-description">\r\n\t\t\t\t<p>'+e.escapeExpression((i=null!=(i=s(o,"sentForConversion")||(null!=t?s(t,"sentForConversion"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"sentForConversion","hash":{},"loc":{"start":{"line":20,"column":7},"end":{"line":20,"column":28}}}):i))+"</p>\r\n\t\t\t\t<br>\r\n\t\t\t\t<p>"+e.escapeExpression((i=null!=(i=s(o,"outputMessage")||(null!=t?s(t,"outputMessage"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"outputMessage","hash":{},"loc":{"start":{"line":22,"column":7},"end":{"line":22,"column":24}}}):i))+"</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n"},"6":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n\t\t<div class="webreport-status-screen-row webreport-status-screen-data">\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"iconClass"):t,{"name":"if","hash":{},"fn":e.program(7,r,0),"inverse":e.noop,"loc":{"start":{"line":29,"column":3},"end":{"line":31,"column":10}}}))?i:"")+'\t\t\t<div class="webreports-destination-status-description">\r\n\t\t\t\t<p>'+e.escapeExpression((s=null!=(s=a(o,"destinationMessage")||(null!=t?a(t,"destinationMessage"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"destinationMessage","hash":{},"loc":{"start":{"line":33,"column":7},"end":{"line":33,"column":29}}}):s))+"</p>\r\n\t\t\t\t"+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"primaryData2"):t,{"name":"if","hash":{},"fn":e.program(9,r,0),"inverse":e.noop,"loc":{"start":{"line":34,"column":4},"end":{"line":34,"column":58}}}))?i:"")+"\r\n\t\t\t\t<p>\r\n"+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"primaryIsLink"):t,{"name":"if","hash":{},"fn":e.program(11,r,0),"inverse":e.program(13,r,0),"loc":{"start":{"line":36,"column":5},"end":{"line":40,"column":12}}}))?i:"")+"\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n"+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"dualRows"):t,{"name":"if","hash":{},"fn":e.program(15,r,0),"inverse":e.noop,"loc":{"start":{"line":45,"column":2},"end":{"line":55,"column":9}}}))?i:"")+"\r\n\t"},"7":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t<div class="webreports-destination-icon-container '+e.escapeExpression((i=null!=(i=s(o,"iconClass")||(null!=t?s(t,"iconClass"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"iconClass","hash":{},"loc":{"start":{"line":30,"column":54},"end":{"line":30,"column":67}}}):i))+'" aria-hidden="true"></div>\r\n'},"9":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<br><p>"+e.escapeExpression((i=null!=(i=s(o,"primaryData2")||(null!=t?s(t,"primaryData2"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"primaryData2","hash":{},"loc":{"start":{"line":34,"column":31},"end":{"line":34,"column":47}}}):i))+"</p>"},"11":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t\t<a id="primaryNodeLink" href="#">'+e.escapeExpression((i=null!=(i=s(o,"primaryData")||(null!=t?s(t,"primaryData"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"primaryData","hash":{},"loc":{"start":{"line":37,"column":39},"end":{"line":37,"column":54}}}):i))+"</a>\r\n"},"13":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t\t<span class="webreports-status-screen-highlighted-text">'+e.escapeExpression((i=null!=(i=s(o,"primaryData")||(null!=t?s(t,"primaryData"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"primaryData","hash":{},"loc":{"start":{"line":39,"column":62},"end":{"line":39,"column":77}}}):i))+"</span>\r\n"},"15":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<div class="webreport-status-screen-row webreport-status-screen-misc-data">\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"secondaryIconClass"):t,{"name":"if","hash":{},"fn":e.program(16,r,0),"inverse":e.noop,"loc":{"start":{"line":47,"column":3},"end":{"line":49,"column":10}}}))?i:"")+'\t\t\t<div class="webreports-destination-status-description">\r\n\t\t\t\t<p>'+e.escapeExpression((s=null!=(s=a(o,"secondaryNodeInfo")||(null!=t?a(t,"secondaryNodeInfo"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"secondaryNodeInfo","hash":{},"loc":{"start":{"line":51,"column":7},"end":{"line":51,"column":28}}}):s))+'</p>\r\n\t\t\t\t<p><a id="secondaryNodeLink" href="#">'+e.escapeExpression((s=null!=(s=a(o,"secondaryData")||(null!=t?a(t,"secondaryData"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"secondaryData","hash":{},"loc":{"start":{"line":52,"column":42},"end":{"line":52,"column":59}}}):s))+"</a></p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n"},"16":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t<div class="webreports-destination-icon-container '+e.escapeExpression((i=null!=(i=s(o,"secondaryIconClass")||(null!=t?s(t,"secondaryIconClass"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"secondaryIconClass","hash":{},"loc":{"start":{"line":48,"column":54},"end":{"line":48,"column":76}}}):i))+'" aria-hidden="true"></div>\r\n'},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="webreport-status-screen-container">\r\n\r\n'+(null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"runInBackground"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.program(3,r,0),"loc":{"start":{"line":3,"column":1},"end":{"line":57,"column":8}}}))?i:"")+"\r\n\r\n</div>"}});return o.registerPartial("webreports_controls_status.screen_impl_status.screen",n),n}),csui.define("webreports/controls/status.screen/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/controls/status.screen/impl/nls/root/lang",{"genericIsProcessingMessage":"The output of this report will be processed according to the parameters set under the Destination tab for this WebReport.","runningInBackground":"This report is being run as a background task.","noFurtherResponse":"You will not receive any further response for this report.","sentForConversion":"This report has been sent for conversion.","versionDestinationMessage":"WebReport data has been added as a new version to the Content Server Document called:","nodeDestinationMessage":"WebReport data has been sent to a new Content Server {0} called:","storedInContainer":"Stored in container:","emailDestinationMessage":"Report data has been sent as an email successfully.","formAppendDestinationMessage":"New rows added to the Form:","formOverwriteDestinationMessage":"Existing Form data cleared.","formOverwriteDestinationMessage2":"New rows added to the Form:","formUpdateDestinationMessage":"Rows updated in the Form:","serverDestinationMessage":"The report output has been successfully downloaded to the server.","ftpDestinationMessage":"The report output has been successfully sent to the FTP server.","workflowDestinationMessage":"The following Workflow was successfully initiated:","workflowAttachmentMessage":"The WebReport output was attached and can be found here:","unknownWebReportDestination":"Unknown WebReport destination: ","document":"Document","customView":"Custom View","attachments":"Attachments"}),csui.define("css!webreports/controls/status.screen/impl/status.screen",[],function(){}),csui.define("webreports/controls/status.screen/status.screen.view",["csui/lib/underscore","csui/lib/marionette","csui/controls/node-type.icon/node-type.icon.view","csui/utils/node.links/node.links","csui/behaviors/default.action/default.action.behavior","csui/utils/smart.nodes/smart.nodes","hbs!webreports/controls/status.screen/impl/status.screen","i18n!webreports/controls/status.screen/impl/nls/lang","css!webreports/controls/status.screen/impl/status.screen"],function(e,t,o,n,r,i,s,a){return t.ItemView.extend({"className":"custom-message","template":s,"ui":{"iconContainer":".webreport-status-screen-data","secondaryContainer":".webreport-status-screen-misc-data","parentLink":".parentLink"},"events":{"click #primaryNodeLink":"onClickNodeLink","click #secondaryNodeLink":"onClickSecondaryLink"},"behaviors":{"DefaultAction":{"behaviorClass":r}},"onClickNodeLink":function(e){e.preventDefault(),this.triggerMethod("execute:defaultAction",this.options.primaryNode),i.isSupported(this.options.primaryNode)&&this.options.dialogView.triggerMethod("click:close",e)},"onClickSecondaryLink":function(t){var o,n=this.options.destinationModel.get("output_destination");t.preventDefault(),o="workflow"===n&&e.has(this.options,"wfAttachmentsNode")?this.options.wfAttachmentsNode:this.options.secondaryNode,this.triggerMethod("execute:defaultAction",o),i.isSupported(o)&&this.options.dialogView.triggerMethod("click:close",t)},"templateHelpers":function(){var t,o,r,i=this.options.destinationModel,s=this.options.executeModel,l=i.get("run_in_background")?i.toJSON():s.get("data"),c=i.get("run_in_background")?l:l.destination_data,p=c.destination_specific,u=c.use_conversion_engine,d=c.run_in_background,m=a.genericIsProcessingMessage,h={"useConversion":u,"runInBackground":d};if(d)h=e.extend(h,{"runningInBackground":a.runningInBackground,"noFurtherResponse":a.noFurtherResponse,"outputMessage":m});else if(u)h=e.extend(h,{"sentForConversion":a.sentForConversion,"outputMessage":m});else switch(c.output_destination.toLowerCase()){case"node":t=this.options.primaryNode,o=this.options.secondaryNode,h="version"===p.export_type.toLowerCase()||"addver"===p.duplicate_name_action.toLowerCase()?e.extend(h,{"primaryData":t.get("name"),"primaryIsLink":!0,"destinationMessage":a.versionDestinationMessage,"dualRows":!1}):e.extend(h,{"primaryData":t.get("name"),"primaryIsLink":!0,"destinationMessage":e.str.sformat(a.nodeDestinationMessage,"doc"===p.node_type?a.document:a.customView),"secondaryNodeInfo":a.storedInContainer,"parentURL":n.getUrl(o),"secondaryData":o.get("name"),"dualRows":!0});break;case"email":h=e.extend(h,{"primaryIsLink":!1,"destinationMessage":a.emailDestinationMessage,"primaryData":p.email_subject,"dualRows":!1,"iconClass":"icon_status_email_sent"});break;case"form":switch(p.append_form){case"append":r=a.formAppendDestinationMessage;break;case"overwrite":r=a.formOverwriteDestinationMessage,e.extend(h,{"primaryData2":a.formOverwriteDestinationMessage2});break;case"update":r=a.formUpdateDestinationMessage}h=e.extend(h,{"primaryIsLink":!1,"dualRows":!1,"destinationMessage":r,"primaryData":l.rows_affected,"iconClass":"mime_form"});break;case"server":h=e.extend(h,{"primaryIsLink":!1,"dualRows":!1,"destinationMessage":a.serverDestinationMessage,"iconClass":"icon_status_ftp_server"});break;case"ftp":h=e.extend(h,{"primaryIsLink":!1,"destinationMessage":a.ftpDestinationMessage,"dualRows":!1,"iconClass":"icon_status_ftp_server"});break;case"workflow":t=this.options.primaryNode,o=this.options.secondaryNode,h=e.extend(h,{"primaryIsLink":!1,"dualRows":p.workflow_attach_output,"destinationMessage":a.workflowDestinationMessage,"primaryData":p.workflow_title}),!0===p.workflow_attach_output&&(h=e.extend(h,{"secondaryNodeURL":n.getUrl(o),"secondaryNodeInfo":a.workflowAttachmentMessage,"secondaryData":a.attachments}));break;default:console.warn(a.unknownWebReportDestination+c.output_destination)}return h},"onRender":function(){var t,n,r,i,s=this.options.destinationModel,a=s.get("destination_specific"),l=s.get("use_conversion_engine");if(!s.get("run_in_background")&&!l)switch(s.get("output_destination").toLowerCase()){case"node":t=new o({"node":this.options.primaryNode}),r=t.render(),this.ui.iconContainer.prepend(r.$el),e.has(a,"export_type")&&"node"===a.export_type.toLowerCase()&&(n=new o({"node":this.options.secondaryNode}),i=n.render(),this.ui.secondaryContainer.prepend(i.$el));break;case"workflow":t=new o({"node":this.options.primaryNode}),r=t.render(),this.ui.iconContainer.prepend(r.$el),!0===s.get("destination_specific").workflow_attach_output&&(n=new o({"node":this.options.wfAttachmentsNode}),i=n.render(),this.ui.secondaryContainer.prepend(i.$el))}}})}),csui.define("webreports/controls/table.report/impl/table.report.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}});return new(e.Collection.extend({"model":t,"comparator":"sequence"}))}),csui.define("hbs!webreports/controls/table.report/impl/table.report",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"1":function(e,t,o,n,r){var i,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="tile-header">\r\n\r\n'+(null!=(i=a(o,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"icon"):t,{"name":"if","hash":{},"fn":e.program(2,r,0),"inverse":e.program(4,r,0),"loc":{"start":{"line":4,"column":8},"end":{"line":14,"column":15}}}))?i:"")+'\r\n        <div class="tile-title">\r\n             <h2 class="csui-heading">'+e.escapeExpression((s=null!=(s=a(o,"title")||(null!=t?a(t,"title"):t))?s:e.hooks.helperMissing,"function"==typeof s?s.call(null!=t?t:e.nullContext||{},{"name":"title","hash":{},"loc":{"start":{"line":17,"column":38},"end":{"line":17,"column":47}}}):s))+"</h2>\r\n        </div>\r\n\r\n    </div>\r\n"},"2":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="tile-type-icon">\r\n                <span class="icon '+e.escapeExpression((i=null!=(i=s(o,"icon")||(null!=t?s(t,"icon"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon","hash":{},"loc":{"start":{"line":6,"column":34},"end":{"line":6,"column":42}}}):i))+'" aria-hidden="true"></span>\r\n            </div>\r\n'},"4":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"imageUrl"):t,{"name":"if","hash":{},"fn":e.program(5,r,0),"inverse":e.noop,"loc":{"start":{"line":9,"column":12},"end":{"line":13,"column":19}}}))?i:""},"5":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="tile-type-image '+e.escapeExpression((i=null!=(i=s(o,"imageClass")||(null!=t?s(t,"imageClass"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageClass","hash":{},"loc":{"start":{"line":10,"column":44},"end":{"line":10,"column":58}}}):i))+'">\r\n                    <img src="'+e.escapeExpression((i=null!=(i=s(o,"imageUrl")||(null!=t?s(t,"imageUrl"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"imageUrl","hash":{},"loc":{"start":{"line":11,"column":30},"end":{"line":11,"column":42}}}):i))+'" aria-hidden="true">\r\n                </div>\r\n'},"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(o,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"header"):t,{"name":"if","hash":{},"fn":e.program(1,r,0),"inverse":e.noop,"loc":{"start":{"line":1,"column":0},"end":{"line":21,"column":7}}}))?i:"")+'\r\n<div class="webreports-tablereport-control-view">\r\n    <div id="tableview"></div>\r\n    <div id="paginationview"></div>\r\n</div>'}});return o.registerPartial("webreports_controls_table.report_impl_table.report",n),n}),csui.define("webreports/controls/table.report/impl/nls/table.report.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/controls/table.report/impl/nls/root/table.report.lang",{"dialogTitle":"Table Report"}),csui.define("css!webreports/controls/table.report/impl/table.report",[],function(){}),csui.define("webreports/controls/table.report/table.report.view",["csui/lib/underscore","csui/lib/handlebars","csui/lib/marionette","csui/utils/contexts/factories/connector","csui/controls/table/table.view","csui/controls/pagination/nodespagination.view","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","webreports/utils/contexts/factories/table.report.factory","webreports/utils/table.validate","webreports/controls/table.report/impl/table.report.columns","hbs!webreports/controls/table.report/impl/table.report","i18n!webreports/controls/table.report/impl/nls/table.report.lang","css!webreports/controls/table.report/impl/table.report","css!webreports/style/webreports.css"],function(e,t,o,n,r,i,s,a,l,c,p,u){"use strict";var d=o.LayoutView.extend({"template":p,"regions":{"tableRegion":"#tableview","paginationRegion":"#paginationview"},"constructor":function(t){e.has(t.data,"columnsWithSearch")&&"string"==typeof t.data.columnsWithSearch&&(t.data.columnsWithSearch=[t.data.columnsWithSearch]),t.data.sortBy&&t.data.sortOrder&&(t.data.orderBy=t.data.sortBy+" "+t.data.sortOrder),this.options.tableColumns||(this.options.tableColumns=c),t.data.titleBarIcon=e.has(t.data,"titleBarIcon")?"title-icon "+t.data.titleBarIcon:"title-icon title-webreports",o.LayoutView.prototype.constructor.call(this,t),this.propagateEventsToRegions()},"initialize":function(){this.collection=this.options.collection||this.options.context.getCollection(a,{"attributes":this.options}),this.columns=this.options.context.getCollection(a,{"attributes":this.options})},"onRender":function(){this.collection?(this.tableView=new r({"context":this.options.context,"connector":this.options.context.getObject(n),"collection":this.collection,"columns":this.collection.columns,"tableColumns":this.options.tableColumns,"selectRows":this.options.data.selectRows||"none","columnsWithSearch":this.options.data.columnsWithSearch||[],"orderBy":this.options.data.orderBy||"","selectColumn":!1}),this.setPagination()):this.tableView&&(this.stopListening(this.tableView),delete this.tableView),this.tableRegion.show(this.tableView),this.paginationRegion.show(this.paginationView)},"templateHelpers":function(){var t={"title":this.options.data.title||u.dialogTitle,"icon":this.options.data.titleBarIcon||"title-webreports"};return!1!==this.options.data.header&&e.extend(t,{"header":!0}),t},"setPagination":function(){var e=l.checkPageSize(this.options.data.pageSize,this.options.data.pageSizeOptions),t=l.checkPageSizeOptions(this.options.data.pageSizeOptions,e);return this.paginationView=new i({"collection":this.collection,"defaultDDList":t,"pageSize":e}),!0}});return e.extend(d.prototype,s),d}),csui.define("webreports/utils/icons/icons",["css!webreports/style/webreports"],function(){"use strict";return[{"equals":{"type":30303},"className":"csui-icon csui-webreport-node","sequence":30}]}),csui.define("hbs!webreports/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport",["module","hbs","nuc/lib/handlebars"],function(e,t,o){var n=o.template({"compiler":[8,">= 4.3.0"],"main":function(e,t,o,n,r){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="launch-subwebreport" title="'+e.escapeExpression((i=null!=(i=s(o,"icon_label")||(null!=t?s(t,"icon_label"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon_label","hash":{},"loc":{"start":{"line":1,"column":47},"end":{"line":1,"column":61}}}):i))+'">\r\n    <span class="icon '+e.escapeExpression((i=null!=(i=s(o,"icon_class")||(null!=t?s(t,"icon_class"):t))?i:e.hooks.helperMissing,"function"==typeof i?i.call(null!=t?t:e.nullContext||{},{"name":"icon_class","hash":{},"loc":{"start":{"line":2,"column":22},"end":{"line":2,"column":36}}}):i))+'" aria-label="Launch SubWebReport" role="button img"></span>\r\n</a>'}});return o.registerPartial("webreports_controls_table.report_cells_launch.subwebreport_impl_launch.subwebreport",n),n}),csui.define("webreports/controls/table.report/cells/launch.subwebreport/impl/nls/launch.subwebreport.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("webreports/controls/table.report/cells/launch.subwebreport/impl/nls/root/launch.subwebreport.lang",{"button_label":"Launch Sub-WebReport"}),csui.define("css!webreports/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport",[],function(){}),csui.define("webreports/controls/table.report/cells/launch.subwebreport/launch.subwebreport.view",["csui/lib/backbone","csui/lib/underscore","csui/utils/base","csui/utils/commands","csui/controls/table/cells/templated/templated.view","csui/utils/contexts/factories/connector","csui/controls/table/cells/cell.registry","csui/models/node/node.model","hbs!webreports/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport","i18n!webreports/controls/table.report/cells/launch.subwebreport/impl/nls/launch.subwebreport.lang","css!webreports/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport"],function(e,t,o,n,r,i,s,a,l,c){var p=r.extend({"template":l,"renderValue":function(){var e=this.getValueData(),t=e?this.template(e):"";this.$el.html(t)},"getValueData":function(){var e,t,n=this.options.column;return n.attributes&&(n.attributes.hoverText&&(e=o.getClosestLocalizedString(n.attributes.hoverText,c.button_label)),n.attributes.iconClass&&(t=n.attributes.iconClass)),{"icon_label":e||c.button_label,"icon_class":t||"icon-subwebreport"}},"ui":{"launchSWR":".launch-subwebreport"},"events":{"click @ui.launchSWR":"onClickLaunchSubWebreport"},"onClickLaunchSubWebreport":function(e){e.preventDefault();var o=this.options.context.getObject(i),n=new a({"id":this.model.get("subwebreportid")},{"connector":o});n.fetch().done(t.bind(function(){this.launchWebReport(n)},this))},"launchWebReport":function(t){var o=new e.Collection([t]),r=n.get("OpenWebReport"),i={"nodes":o,"context":this.options.context};r&&r.enabled(i)&&r.execute(i,{"context":this.options.context,"parameters":this.model.attributes,"originatingView":this.getOption("tableView")})}},{"hasFixedWidth":!0,"columnClassName":"launch-subwebreport-col"});return s.registerByColumnKey("subwebreportid",p),p}),csui.define("bundles/webreports-app",["webreports/widgets/tilereport/tilereport.view","json!webreports/widgets/tilereport/tilereport.manifest.json","i18n!webreports/widgets/tilereport/impl/nls/tilereport.manifest","webreports/widgets/nodeslistreport/nodeslistreport.view","json!webreports/widgets/nodeslistreport/nodeslistreport.manifest.json","i18n!webreports/widgets/nodeslistreport/impl/nls/nodeslistreport.manifest","webreports/widgets/widget.carousel/widget.carousel.view","json!webreports/widgets/widget.carousel/widget.carousel.manifest.json","i18n!webreports/widgets/widget.carousel/impl/nls/widget.carousel.manifest","webreports/widgets/table.report/table.report.view","json!webreports/widgets/table.report/table.report.manifest.json","i18n!webreports/widgets/table.report/impl/nls/table.report.manifest","webreports/widgets/parameter.prompt.form/parameter.prompt.form.view","json!webreports/widgets/parameter.prompt.form/parameter.prompt.form.manifest.json","i18n!webreports/widgets/parameter.prompt.form/impl/nls/parameter.prompt.form.manifest","webreports/widgets/nodestable.report/nodestable.report.view","json!webreports/widgets/nodestable.report/nodestable.report.manifest.json","i18n!webreports/widgets/nodestable.report/impl/nls/nodestable.report.manifest","webreports/models/nodestablereport/nodestablereport.model","webreports/models/tablereport/tablereport.model","webreports/models/wrtext/wrtext.model","webreports/models/widget.carousel/widget.carousel.model","webreports/models/run.webreport.pre/run.webreport.pre.model","webreports/models/run.webreport/run.webreport.model","webreports/utils/commands/defaultactionitems","webreports/utils/commands/open.webreport","webreports/utils/commands/open.classic.webreport","webreports/utils/commands/execute.webreport","webreports/controls/nodestablereport/nodestablereport.view","webreports/controls/run.webreport.pre/run.webreport.pre.controller","webreports/controls/status.screen/status.screen.view","webreports/controls/table.report/table.report.view","webreports/utils/icons/icons","webreports/controls/table.report/cells/launch.subwebreport/launch.subwebreport.view","webreports/utils/contexts/factories/carousel.collection.factory","webreports/utils/contexts/factories/nodestablereport","webreports/utils/contexts/factories/nodestablereportcolumns","webreports/utils/contexts/factories/run.webreport.factory","webreports/utils/contexts/factories/run.webreport.pre.controller.factory","webreports/utils/contexts/factories/run.webreport.pre.factory","webreports/utils/contexts/factories/table.report.factory","webreports/utils/contexts/factories/wrtext.model.factory"],{}),csui.require(["require","css"],function(e,t){t.styleLoad(e,"webreports/bundles/webreports-app")});
//# sourceMappingURL=webreports-app.js.map