{"version":3,"sources":["../../src/lib/log4javascript.js","../../src/utils/log/console.re.appender.js","nuc-log4javascript.js"],"names":["csui","define","isUndefined","obj","EventSupport","Log4JavaScript","toStr","toString","String","getExceptionMessage","ex","message","description","getUrlFileName","url","lastSlashIndex","Math","max","lastIndexOf","substr","getExceptionStringRep","exStr","lineNumber","fileName","localEx","logLog","warn","showStackTraces","stack","newLine","bool","Boolean","trim","str","replace","splitIntoLines","text","split","array_remove","arr","val","index","i","len","length","splice","array_contains","extractBooleanFromParam","param","defaultValue","extractStringFromParam","extractIntFromParam","value","parseInt","isNaN","extractFunctionFromParam","isError","err","Error","handleError","exception","error","log4javascript","dispatchEvent","Timer","name","level","this","Level","INFO","start","Date","Logger","parent","children","appenders","loggerLevel","isRoot","rootLoggerName","isNull","nullLoggerName","appenderCache","appenderCacheInvalidated","addChild","childLogger","push","invalidateAppenderCache","additive","getAdditivity","setAdditivity","additivity","valueChanged","addAppender","appender","Appender","setAddedToLogger","removeAppender","setRemovedFromLogger","removeAllAppenders","appenderCount","getEffectiveAppenders","parentEffectiveAppenders","concat","log","params","enabled","isGreaterOrEqual","getEffectiveLevel","finalParamIndex","lastParam","messages","loggingEvent","LoggingEvent","callAppenders","effectiveAppenders","doAppend","setLevel","getLevel","logger","group","initiallyExpanded","groupEnd","timers","time","timeEnd","timer","milliseconds","getElapsedTime","assert","expr","args","arguments","ERROR","SimpleLayout","customFields","NullLayout","XmlLayout","combineMessages","escapeNewLines","JsonLayout","readable","batchHeader","batchFooter","batchSeparator","setKeys","colon","tab","lineBreak","HttpPostDataLayout","returnsPostData","formatObjectExpansion","depth","indentation","doFormat","formatString","lines","j","jLen","join","childDepth","childIndentation","childLines","expansion","childExpansion","objectsExpanded","Array","Object","prototype","call","PatternLayout","pattern","DEFAULT_CONVERSION_PATTERN","AlertAppender","BrowserConsoleAppender","isHttpRequestSuccessful","xmlHttp","status","AjaxAppender","withCredentials","checkCanConfigure","configOptionName","initialized","sendAll","isSupported","sending","currentRequestBatch","waitForResponse","queuedRequests","shift","sendRequest","preparePostData","timed","scheduleSending","sendAllRemaining","sendingAnything","currentLoggingEvent","actualBatchSize","getLayout","allowBatching","batchSize","batchedLoggingEvents","queuedLoggingEvents","formattedMessages","postData","formatWithException","contentType","defaults","urlEncode","postVarName","window","setTimeout","timerInterval","xmlHttpErrorHandler","msg","failCallback","successCallback","getXmlHttp","onreadystatechange","readyState","requestSuccessCallback","emptyFunction","open","withCredentialsSupported","header","headers","setRequestHeader","headerEx","send","errMsg","init","sendAllOnUnload","oldBeforeUnload","onbeforeunload","sessionId","getSessionId","setSessionId","sessionIdParam","layout","setCustomField","setLayout","layoutParam","isTimed","setTimed","timedParam","getTimerInterval","setTimerInterval","timerIntervalParam","isWaitForResponse","setWaitForResponse","waitForResponseParam","getBatchSize","setBatchSize","batchSizeParam","isSendAllOnUnload","setSendAllOnUnload","sendAllOnUnloadParam","setRequestSuccessCallback","requestSuccessCallbackParam","setFailCallback","failCallbackParam","getPostVarName","setPostVarName","postVarNameParam","getHeaders","addHeader","toLowerCase","append","setCookie","days","path","expires","date","setTime","getTime","toGMTString","document","cookie","escape","getCookie","nameEquals","ca","c","charAt","substring","indexOf","unescape","getBaseUrl","scripts","getElementsByTagName","src","lastSlash","isLoaded","win","loaded","padWithSpaces","spaces","numberOfSpaces","createDefaultLogger","getLogger","defaultLoggerName","a","PopUpAppender","firstItem","startIndex","deleteCount","itemsAfterDeleted","slice","itemsDeleted","argumentsArray","itemsToAppend","eventTypes","eventListeners","setEventTypes","eventTypesParam","addEventListener","eventType","listener","removeEventListener","eventArgs","listeners","applicationStartDate","uniqueId","floor","random","pageLoaded","version","edition","encodeURIComponent","Function","apply","methodName","argsStrings","script","returnValue","eval","quietMode","debugMessages","setQuietMode","numberOfErrors","alertAllErrors","setAlertAllErrors","debug","displayDebug","alert","alertMessage","log4javascript_disabled","setEnabled","enable","isEnabled","useTimeStampsInMilliseconds","setTimeStampsInMilliseconds","timeStampsInMilliseconds","isTimeStampsInMilliseconds","evalInScope","setShowStackTraces","show","equals","ALL","Number","MIN_VALUE","TRACE","DEBUG","WARN","FATAL","OFF","MAX_VALUE","anonymousLoggerName","trace","info","fatal","isEnabledFor","isTraceEnabled","isDebugEnabled","isInfoEnabled","isWarnEnabled","isErrorEnabled","isFatalEnabled","isEntryPoint","loggers","loggerNames","ROOT_LOGGER_DEFAULT_LEVEL","rootLogger","getRootLogger","loggerName","parentLogger","lastDotIndex","parentLoggerName","defaultLogger","getDefaultLogger","nullLogger","getNullLogger","resetConfiguration","timeStamp","timeStampInMilliseconds","timeStampInSeconds","getMilliseconds","getThrowableStrRep","getCombinedMessages","Layout","loggerKey","timeStampKey","millisecondsKey","levelKey","messageKey","exceptionKey","urlKey","overrideTimeStampsSetting","format","ignoresThrowable","getContentType","getTimeStampValue","getDataValues","dataValues","location","href","hasCustomFields","fieldUpdated","formatted","threshold","setThreshold","getThreshold","isCombinedMessages","escapeCdata","formatMessage","isReadable","formatValue","prefix","expand","formattedValue","valType","childPrefix","queryBits","SimpleDateFormat","regex","monthNames","dayNames","types","G","y","M","w","W","D","d","F","E","H","k","K","h","m","s","S","Z","newDateAtMidnight","year","month","day","setMilliseconds","getDifference","isBefore","getUTCTime","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getTimeSince","getPreviousSunday","midday","previousSunday","getDay","getWeekInYear","minimalDaysInFirstWeek","startOfYear","numberOfSundays","numberOfDaysInFirstWeek","weekInYear","getWeekInMonth","startOfMonth","weekInMonth","getDayInYear","setMinimalDaysInFirstWeek","getMinimalDaysInFirstWeek","padWithZeroes","formatText","data","numberOfLetters","minLength","formatNumber","result","formattedString","searchString","exec","quotedString","patternLetters","otherLetters","otherCharacters","patternLetter","rawData","getTimezoneOffset","dataString","isPositive","absData","abs","hours","minutes","TTCC_CONVERSION_PATTERN","ISO8601_DATEFORMAT","DATETIME_DATEFORMAT","ABSOLUTETIME_DATEFORMAT","matchedString","padding","truncation","conversionCharacter","specifier","replacement","precision","loggerNameBits","dateFormat","fieldIndex","l","strLen","getFormattedMessage","concatenate","formattedMessage","console","consoleMethodName","opera","postError","xhrFactory","XMLHttpRequest","xmlHttpFactories","ActiveXObject","errorHandler","factory","e","ConsoleAppender","lazyInit","initiallyMinimized","useDocumentWrite","width","height","create","focusPopUp","InPageAppender","container","getConsoleHtmlLines","defaultCommandLineFunctions","consoleAppenderIdCounter","inPage","focusConsoleWindow","QueuedLoggingEvent","levelName","QueuedGroup","QueuedGroupEnd","consoleWindowCreated","consoleWindowLoaded","consoleClosed","consoleAppenderId","newestMessageAtTop","scrollToLatestMessage","maxMessages","showCommandLine","commandLineObjectExpansionDepth","showHideButton","showCloseButton","createWindow","safeToAppend","getConsoleWindow","appenderName","consoleWindowExists","isNewestMessageAtTop","setNewestMessageAtTop","newestMessageAtTopParam","setNewestAtTop","isScrollToLatestMessage","setScrollToLatestMessage","scrollToLatestMessageParam","setScrollToLatest","getWidth","setWidth","widthParam","getHeight","setHeight","heightParam","getMaxMessages","setMaxMessages","maxMessagesParam","isShowCommandLine","setShowCommandLine","showCommandLineParam","isShowHideButton","setShowHideButton","showHideButtonParam","isShowCloseButton","setShowCloseButton","showCloseButtonParam","getCommandLineObjectExpansionDepth","setCommandLineObjectExpansionDepth","commandLineObjectExpansionDepthParam","minimized","isInitiallyMinimized","setInitiallyMinimized","initiallyMinimizedParam","isUseDocumentWrite","setUseDocumentWrite","useDocumentWriteParam","checkAndAppend","reopenWhenClosed","appendQueuedLoggingEvents","focus","clear","clearLog","focusCommandLine","focusSearch","commandWindow","getCommandWindow","setCommandWindow","commandWindowParam","executeLastCommand","evalLastCommand","commandLayout","getCommandLayout","setCommandLayout","commandLayoutParam","evalCommandAndAppend","commandReturnValue","appendResult","commandOutput","execScript","commandLineFunctionsHash","commandLineFunctions","objectsToRestore","addObjectToRestore","evalExpr","mainLayout","addCommandLineFunction","functionName","commandLineFunction","storeCommandHistory","commandHistory","writeHtml","doc","writeln","close","consoleWindowLoadHandler","setAppender","setMainWindow","storedValue","currentCommandIndex","unload","caller","pollConsoleWindow","windowTest","interval","errorMessage","doPoll","clearInterval","poll","setInterval","getConsoleUrl","documentDomainSet","domain","hostname","containerElement","cssProperties","addCssProperty","iframeContainerDiv","windowCreationStarted","iframeId","hide","$","blur","style","display","isVisible","fromButton","confirm","parentNode","removeChild","finalInit","initErrorMessage","writeToDocument","appendChild","createElement","border","iframeSrc","innerHTML","iframeDocumentExistsTest","pageLoadHandler","el","getElementById","nodeType","position","left","right","bottom","body","iframe","frames","useOldPopUp","complainAboutPopUpBlocking","isUseOldPopUp","setUseOldPopUp","useOldPopUpParam","isComplainAboutPopUpBlocking","setComplainAboutPopUpBlocking","complainAboutPopUpBlockingParam","isFocusPopUp","setFocusPopUp","focusPopUpParam","isReopenWhenClosed","setReopenWhenClosed","reopenWhenClosedParam","popUp","setCloseIfOpenerCloses","checkPopUpClosed","popUpClosedCallback","windowProperties","frameInfo","frameEl","frameElement","tagName","id","windowName","host","closed","mainPageReloaded","popUpLoadedTest","addGlobalCommandLineFunction","showLogEntryDeleteButtons","InlineAppender","dir","maxLen","p","propList","propVal","propNameStr","getXhtml","rootNode","includeRootNode","startNewLine","preformatted","getStyleAttributeValue","stylePairs","cssText","styleValue","nameValueBits","props","test","xhtml","nodeTypes","DOCUMENT_FRAGMENT_NODE","childNodes","indentationUnit","ELEMENT_NODE","outerHTML","RegExp","$1","hasPrefix","attributes","currentAttr","specified","nodeValue","nodeName","attrValue","emptyElements","hasChildNodes","childStartNewLine","TEXT_NODE","childPreformatted","preFormattedElements","endTag","lt","node","trimmedLines","CDATA_SECTION_NODE","DOCUMENT_NODE","createCommandLineFunctions","keys","values","expansionDepth","ATTRIBUTE_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_TYPE_NODE","NOTATION_NODE","setDocumentReady","attachEvent","oldOnload","onload","evt","ConsoleReAppender","re","formattedMesage"],"mappings":"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,EACAC,EAAAC,EAAAC,GAAA,GA/iGA,GAAAK,GAAA,WACA,OACA,gHACA,sEACA,WACA,oCACA,4EACA,gGACA,2DACA,mFACA,yFACA,kGACA,sCACA,oBACA,mCACA,yCACA,6BACA,0CACA,2BACA,+BACA,6CACA,4CACA,4BACA,mCACA,8BACA,GACA,8CACA,iCACA,+BACA,YACA,UACA,GACA,6EACA,GACA,6BACA,UACA,GACA,8BACA,+BACA,kCACA,oCACA,uBACA,GACA,oCACA,iFACA,uDACA,cACA,iCACA,aACA,GACA,0DACA,iCACA,mFACA,oDACA,gBACA,qDACA,mDACA,gDACA,cACA,iDACA,sDACA,cACA,2CACA,qCACA,cACA,aACA,GACA,wDACA,sDACA,aACA,GACA,iCACA,GACA,sCACA,iCACA,aACA,GACA,iDACA,oEACA,aACA,GACA,+CACA,kEACA,aACA,GACA,4CACA,+DACA,YACA,WACA,GACA,mFACA,GACA,6EACA,GACA,6CACA,UACA,GACA,8CACA,oCACA,4FACA,qCACA,kGACA,qBACA,+DACA,cACA,YACA,WACA,GACA,6EACA,GACA,+DACA,oDACA,wDACA,gDACA,6CACA,UACA,GACA,6EACA,GACA,kEACA,6DACA,+BACA,WACA,GACA,6EACA,GACA,+BACA,iCACA,UACA,GACA,6CACA,GACA,8CACA,+BACA,0DACA,wBACA,+GACA,2GACA,uGACA,qBACA,qGACA,oEACA,cACA,kDACA,kCACA,YACA,YACA,GACA,6EACA,GACA,qFACA,8BACA,oDACA,gCACA,sCACA,mCACA,GACA,6BACA,wBACA,6FACA,qFACA,qBACA,kDACA,cACA,mBACA,8CACA,GACA,0DACA,8CACA,GACA,uFACA,wDACA,GACA,yFACA,yEACA,+CACA,gEACA,sGACA,GACA,yFACA,GACA,uFACA,kFACA,2EACA,GACA,iDACA,4DACA,8DACA,gBACA,eACA,YACA,UACA,GACA,yEACA,GACA,0DACA,uCACA,gCACA,0DACA,yCACA,0CACA,2CACA,oCACA,uBACA,2CACA,0CACA,oCACA,gBACA,uEACA,8DACA,cACA,aACA,GACA,+BACA,gCACA,sCACA,4CACA,oCACA,4CACA,sCACA,4CACA,iEACA,mCACA,cACA,aACA,GACA,wCACA,mDACA,6BACA,GACA,kDACA,oCACA,0DACA,iDACA,wCACA,cACA,GACA,kDACA,mDACA,iDACA,cACA,aACA,GACA,+BACA,gCACA,2CACA,yDACA,uBACA,sDACA,gBACA,cACA,aACA,GACA,8BACA,+BACA,8CACA,cACA,YACA,YACA,GACA,6EACA,GACA,0DACA,4BACA,6BACA,gCACA,sDACA,uCACA,8BACA,6CACA,iCACA,mCACA,UACA,GACA,yCACA,GACA,0CACA,wCACA,yCACA,kCACA,aACA,GACA,+BACA,wBACA,8DACA,iCACA,0DACA,wDACA,uBACA,yEACA,qEACA,gBACA,2HACA,sHACA,uGACA,qBACA,kGACA,iHACA,oEACA,cACA,kCACA,aACA,GACA,uCACA,4CACA,iFACA,0DACA,cACA,aACA,GACA,+BACA,kCACA,qCACA,cACA,aACA,GACA,sCACA,sCACA,aACA,GACA,wCACA,iCACA,mFACA,6DACA,gBACA,cACA,aACA,GACA,+BACA,wDACA,4DACA,4DACA,mFACA,oDACA,gBACA,cACA,aACA,GACA,gCACA,gDACA,kCACA,oDACA,aACA,GACA,mDACA,gDACA,gCACA,4BACA,6BACA,cACA,aACA,GACA,wDACA,wEACA,qDACA,cACA,gCACA,2BACA,yCACA,yCACA,cACA,sDACA,aACA,GACA,uCACA,6EACA,wEACA,iDACA,cACA,yCACA,kEACA,cACA,aACA,GACA,8BACA,iFACA,iDACA,cACA,YACA,YACA,GACA,6EACA,GACA,8CACA,UACA,GACA,4EACA,GACA,6DACA,+BACA,6BACA,aACA,GACA,iCACA,+DACA,iCACA,wCACA,0CACA,aACA,GACA,0DACA,qDACA,kDACA,+FACA,qBACA,uDACA,cACA,aACA,GACA,8CACA,0EACA,0EACA,kEACA,aACA,GACA,oCACA,sDACA,yDACA,YACA,YACA,GACA,6EACA,GACA,+EACA,oCACA,oDACA,wDACA,6FACA,8EACA,8CACA,UACA,GACA,oFACA,GACA,mGACA,mDACA,gDACA,6FACA,mBACA,4DACA,YACA,WACA,GACA,6EACA,GACA,iFACA,oCACA,oDACA,wDACA,gFACA,8EACA,yFACA,4CACA,0CACA,UACA,GACA,sFACA,GACA,0EACA,2BACA,2BACA,WACA,GACA,6EACA,GACA,4EACA,oCACA,oDACA,wDACA,oFACA,0FACA,oGACA,UACA,GACA,iFACA,GACA,6EACA,GACA,qDACA,8BACA,oDACA,iCACA,UACA,GACA,4CACA,GACA,6CACA,+BACA,iCACA,0DACA,GACA,8EACA,4EACA,+CACA,wBACA,wIACA,6HACA,uHACA,uGACA,qBACA,8GACA,oEACA,cACA,kDACA,kCACA,aACA,GACA,0DACA,2CACA,iEACA,8GACA,gBACA,mFACA,+EACA,gBACA,sCACA,cACA,aACA,GACA,yCACA,8BACA,wBACA,wBACA,mHACA,+GACA,qEACA,0FACA,gBACA,qBACA,qGACA,4DACA,4DACA,gBACA,cACA,4BACA,aACA,GACA,8CACA,iFACA,iEACA,cACA,aACA,GACA,oCACA,iFACA,uDACA,cACA,aACA,GACA,sCACA,yCACA,aACA,GACA,uCACA,mGACA,YACA,YACA,GACA,6EACA,GACA,oCACA,UACA,GACA,qCACA,qCACA,aACA,GACA,2CACA,iCACA,0CACA,cACA,aACA,GACA,6CACA,2EACA,gDACA,cACA,aACA,GACA,8CACA,kCACA,aACA,GACA,gDACA,mCACA,aACA,GACA,wCACA,+BACA,YACA,WACA,GACA,6EACA,GACA,oCACA,6CACA,UACA,GACA,yDACA,GACA,gEACA,qCACA,WACA,GACA,sEACA,uDACA,WACA,GACA,wEACA,wDACA,WACA,GACA,6EACA,GACA,qCACA,sCACA,iCACA,2FACA,oEACA,uDACA,iEACA,oDACA,uBACA,gBACA,cACA,YACA,GACA,gCACA,uCACA,0BACA,iDACA,YACA,GACA,+CACA,8BACA,oCACA,GACA,kCACA,mCACA,kCACA,iCACA,gCACA,mCACA,0BACA,4BACA,wBACA,+BACA,kCACA,kCACA,yBACA,mCACA,6CACA,mDACA,iCACA,0EACA,iCACA,oCACA,sDACA,+BACA,4BACA,+EACA,0EACA,gEACA,oCACA,iFACA,kGACA,gEACA,oCACA,cACA,aACA,GACA,8DACA,oDACA,iCACA,8FACA,oCACA,cACA,aACA,GACA,iEACA,iDACA,iCACA,iEACA,oCACA,4BACA,cACA,aACA,GACA,6CACA,+DACA,iCACA,mCACA,oEACA,oEACA,qCACA,uCACA,gCACA,kBACA,uBACA,yDACA,oEACA,iCACA,uCACA,gCACA,kBACA,uBACA,wEACA,+DACA,oEACA,sCACA,uCACA,gCACA,kBACA,uBACA,cACA,aACA,GACA,wEACA,iDACA,GACA,+CACA,sBACA,WACA,GACA,uCACA,oCACA,+BACA,YACA,2BACA,WACA,GACA,6EACA,GACA,0CACA,yDACA,UACA,GACA,6CACA,mCACA,UACA,GACA,6BACA,GACA,8CACA,oCACA,UACA,GACA,uDACA,gFACA,UACA,GACA,qDACA,8EACA,UACA,GACA,iCACA,GACA,6EACA,GACA,4CACA,UACA,GACA,iEACA,GACA,wEACA,mCACA,qCACA,WACA,GACA,6EACA,GACA,iDACA,4CACA,gCACA,gDACA,+CACA,wDACA,uCACA,GACA,4CACA,iCACA,2EACA,kCACA,gCACA,uDACA,mEACA,4EACA,4DACA,iFACA,oDACA,oBACA,gCACA,kBACA,iBACA,iCACA,+DACA,gDACA,kBACA,uBACA,uEACA,gDACA,kBACA,gBACA,+CACA,kCACA,2CACA,gBACA,yCACA,kCACA,cACA,YACA,oDACA,UACA,GACA,uCACA,wDACA,yCACA,UACA,GACA,mCACA,GACA,uDACA,6CACA,gCACA,gCACA,YACA,0DACA,UACA,GACA,0CACA,8DACA,+CACA,UACA,GACA,sCACA,oCACA,mDACA,+BACA,+BACA,qBACA,gDACA,oCACA,8CACA,gBACA,cACA,YACA,UACA,GACA,wCACA,GACA,iEACA,uDACA,UACA,GACA,gCACA,GACA,uCACA,6BACA,6BACA,UACA,GACA,qCACA,GACA,yDACA,+CACA,wBACA,iFACA,oCACA,qCACA,YACA,UACA,GACA,sCACA,wBACA,kCACA,YACA,UACA,GACA,iCACA,wBACA,oCACA,YACA,UACA,GACA,iCACA,0BACA,iEACA,0CACA,YACA,wBACA,UACA,GACA,sCACA,qDACA,yCACA,iCACA,8DACA,mCACA,yDACA,+CACA,uBACA,2DACA,oCACA,uBACA,yDACA,4BACA,uBACA,cACA,YACA,iDACA,UACA,GACA,mDACA,gCACA,qEACA,uCACA,oDACA,qCACA,6CACA,0BACA,mDACA,oDACA,gBACA,oFACA,8CACA,cACA,YACA,UACA,GACA,0CACA,uCACA,0CACA,GACA,oFACA,wFACA,iEACA,yCACA,oCACA,yCACA,wEACA,oDACA,gBACA,cACA,YACA,+BACA,0BACA,uDACA,kDACA,2CACA,kBACA,kCACA,uBACA,oCACA,gBACA,oFACA,uCACA,gCACA,cACA,YACA,gCACA,gCACA,YACA,2CACA,UACA,GACA,qCACA,0FACA,+EACA,qFACA,iCACA,6DACA,cACA,uBACA,uDACA,wDACA,kEACA,oEACA,6DACA,kGACA,+CACA,0CACA,gBACA,cACA,sGACA,yBACA,YACA,wBACA,UACA,GACA,8CACA,gCACA,wGACA,sEACA,6CACA,qCACA,qCACA,0BACA,mDACA,oDACA,gBACA,oFACA,8CACA,cACA,YACA,UACA,GACA,8BACA,wFACA,UACA,GACA,sCACA,oCACA,2CACA,mDACA,oCACA,4CACA,UACA,GACA,iCACA,gDACA,kCACA,mBACA,4BACA,YACA,UACA,GACA,0BACA,gDACA,6BACA,YACA,UACA,GACA,iCACA,qHACA,GACA,sCACA,4BACA,yCACA,wEACA,+CACA,0BACA,YACA,UACA,GACA,gCACA,qCACA,sCACA,2CACA,qBACA,6BACA,cACA,YACA,UACA,GACA,sCACA,gBACA,wDACA,+CACA,0BACA,wBACA,UACA,GACA,8EACA,GACA,yCACA,0CACA,UACA,GACA,8CACA,mCACA,UACA,GACA,gDACA,qCACA,UACA,GACA,kCACA,uDACA,qDACA,wDACA,qBACA,2DACA,cACA,YACA,qCACA,UACA,GACA,qCACA,gDACA,uDACA,wDACA,0BACA,wDACA,qBACA,2DACA,cACA,YACA,UACA,GACA,oCACA,uDACA,sDACA,kDACA,sBACA,cACA,YACA,6CACA,UACA,GACA,8BACA,6BACA,oCACA,2BACA,yBACA,wCACA,uBACA,UACA,GACA,gCACA,0CACA,wBACA,gDACA,mBACA,mDACA,YACA,iCACA,UACA,GACA,kFACA,GACA,kBACA,GACA,gCACA,GACA,oCACA,gBACA,uCACA,yBACA,0BACA,YACA,mDACA,UACA,GACA,6EACA,wCACA,kCACA,0CACA,kDACA,6BACA,UACA,GACA,6BACA,mCACA,4CACA,aACA,GACA,0CACA,qCACA,8DACA,mDACA,+BACA,kBACA,gBACA,cACA,0BACA,aACA,GACA,sCACA,+DACA,uCACA,gCACA,gEACA,+CACA,yEACA,qBACA,qGACA,cACA,kCACA,aACA,GACA,iDACA,gFACA,iDACA,0BACA,gBACA,cACA,gDACA,uDACA,iDACA,0BACA,gBACA,cACA,uBACA,aACA,GACA,qDACA,+DACA,iDACA,0BACA,gBACA,cACA,+CACA,iFACA,iDACA,0BACA,gBACA,cACA,uBACA,aACA,GACA,wCACA,kDACA,6BACA,uCACA,6CACA,mCACA,0CACA,mFACA,gEACA,sDACA,wEACA,4DACA,kCACA,6DACA,kCACA,+DACA,6FACA,GACA,4FACA,0DACA,qDACA,mDACA,mHACA,GACA,gEACA,+DACA,GACA,2EACA,4BACA,oDACA,sCACA,6CACA,4FACA,mFACA,wGACA,qFACA,gFACA,iGACA,6DACA,8BACA,gGACA,iEACA,oBACA,gEACA,kBACA,8FACA,4BACA,6EACA,kBACA,uBACA,sCACA,6CACA,yFACA,+EACA,+DACA,yEACA,gFACA,yGACA,mHACA,8GACA,8EACA,yFACA,wGACA,8BACA,gGACA,iEACA,oBACA,+DACA,kBACA,mGACA,iFACA,4BACA,gEACA,kBACA,gBACA,4EACA,iEACA,mEACA,qBACA,8CACA,yFACA,cACA,8BACA,aACA,GACA,gDACA,0CACA,6CACA,sCACA,kCACA,GACA,2DACA,qEACA,qEACA,gEACA,yDACA,iDACA,gDACA,oBACA,kBACA,gBACA,cACA,GACA,qFACA,yFACA,+EACA,yFACA,uCACA,uFACA,wGACA,8CACA,yBACA,kBACA,gBACA,cACA,GACA,kCACA,wEACA,8DACA,2CACA,cACA,GACA,gDACA,4CACA,uCACA,yCACA,uBACA,kDACA,uCACA,yEACA,sDACA,uCACA,2BACA,oBACA,kBACA,qDACA,gBACA,qBACA,wCACA,kCACA,cACA,YACA,WACA,GACA,mDACA,8BACA,qBACA,wDACA,sCACA,gDACA,YACA,oBACA,UACA,GACA,sCACA,+CACA,kFACA,oCACA,4DACA,kFACA,wCACA,mDACA,4EACA,kGACA,cACA,YACA,mFACA,wDACA,iFACA,kEACA,kDACA,0EACA,gGACA,YACA,UACA,GACA,6FACA,8CACA,8CACA,sBACA,0DACA,sDACA,YACA,qEACA,UACA,GACA,4BACA,oCACA,qDACA,aACA,GACA,mCACA,wBACA,iEACA,+DACA,kDACA,yGACA,+CACA,qBACA,4DACA,kDACA,cACA,aACA,GACA,0CACA,wBACA,mFACA,qBACA,yEACA,cACA,aACA,GACA,sCACA,wBACA,oEACA,kEACA,qBACA,+DACA,cACA,aACA,GACA,iCACA,4CACA,aACA,GACA,kCACA,4DACA,aACA,GACA,+BACA,wBACA,8CACA,4CACA,qBACA,yCACA,cACA,YACA,WACA,GACA,kCACA,sCACA,GACA,8BACA,0CACA,4CACA,kDACA,kEACA,iBACA,GACA,mCACA,8CACA,mDACA,qDACA,kDACA,iDACA,sDACA,2CACA,wGACA,cACA,kCACA,qCACA,mBACA,+CACA,oDACA,6BACA,4BACA,2BACA,oBACA,4GACA,mCACA,uEACA,iDACA,6BACA,oCACA,uEACA,uIACA,wBACA,gBACA,qBACA,oCACA,oDACA,sDACA,cACA,kDACA,2FACA,sDACA,oDACA,cACA,qCACA,GACA,gDACA,qDACA,uCACA,gCACA,qBACA,kCACA,cACA,YACA,UACA,GACA,6CACA,+BACA,8CACA,gDACA,uCACA,gBACA,2EACA,8CACA,kCACA,yDACA,uBACA,8CACA,8DACA,sFACA,kDACA,+DACA,oCACA,yBACA,sCACA,kBACA,gBACA,qBACA,kCACA,cACA,YACA,UACA,GACA,yCACA,oEACA,qDACA,YACA,UACA,GACA,oCACA,mEACA,uFACA,kDACA,mCACA,UACA,GACA,sCACA,mEACA,qDACA,iDACA,mCACA,UACA,GACA,+CACA,0FACA,6CACA,+CACA,+CACA,8CACA,kDACA,uDACA,qFACA,oEACA,8BACA,wBACA,mDACA,kDACA,gDACA,6DACA,qBACA,gEACA,cACA,6CACA,0DACA,qBACA,6DACA,cACA,kDACA,mBACA,gDACA,qDACA,8DACA,2DACA,YACA,mCACA,UACA,GACA,wCACA,kDACA,wBACA,wDACA,mBACA,2DACA,YACA,iCACA,UACA,GACA,2CACA,qDACA,wBACA,2DACA,mBACA,8DACA,YACA,UACA,GACA,iCACA,qCACA,sBACA,UACA,GACA,gCACA,sEACA,sEACA,2EACA,qHACA,oDACA,cACA,YACA,UACA,GACA,oCACA,sEACA,sEACA,mFACA,iIACA,wDACA,cACA,YACA,UACA,GACA,+CACA,qCACA,iEACA,UACA,GACA,wFACA,GACA,yBACA,GACA,0CACA,yCACA,gCACA,8CACA,qBACA,uCACA,cACA,YACA,UACA,GACA,0CACA,8BACA,sDACA,yDACA,YACA,wBACA,UACA,GACA,6CACA,wCACA,8CACA,2DACA,iCACA,0EACA,oDACA,oEACA,gBACA,cACA,iDACA,YACA,UACA,GACA,8DACA,wCACA,qCACA,UACA,GACA,wFACA,GACA,mCACA,GACA,6DACA,2DACA,4BACA,iEACA,mDACA,yCACA,cACA,YACA,0BACA,UACA,GACA,kDACA,yBACA,8CACA,UACA,GACA,oDACA,iCACA,yCACA,2BACA,cACA,oCACA,YACA,wBACA,UACA,GACA,kCACA,kCACA,gCACA,gDACA,4BACA,cACA,kDACA,YACA,uBACA,UACA,GACA,mCACA,2FACA,UACA,GACA,oCACA,mCACA,sCACA,yFACA,yDACA,sCACA,8CACA,YACA,oBACA,UACA,GACA,qCACA,oCACA,uCACA,0FACA,0DACA,sCACA,+CACA,YACA,oBACA,UACA,GACA,uCACA,6CACA,UACA,GACA,qCACA,4CACA,iCACA,qDACA,YACA,yBACA,UACA,GACA,2CACA,kCACA,kDACA,+DACA,iDACA,oEACA,YACA,UACA,GACA,0CACA,iCACA,gGACA,8DACA,YACA,UACA,GACA,uCACA,kCACA,mCACA,WACA,GACA,qCACA,8CACA,mEACA,gDACA,cACA,gCACA,aACA,UACA,GACA,oCACA,6CACA,mCACA,+CACA,6CACA,0BACA,cACA,aACA,UACA,GACA,sCACA,+CACA,mCACA,uCACA,qEACA,uCACA,gBACA,6CACA,gCACA,cACA,aACA,UACA,GACA,uCACA,uEACA,0EACA,iFACA,sCACA,6DACA,qCACA,oEACA,gDACA,cACA,8DACA,yGACA,oEACA,2CACA,cACA,iCACA,aACA,UACA,GACA,0CACA,0BACA,4DACA,kCACA,yBACA,qBACA,cACA,YACA,4BACA,kCACA,0BACA,mBACA,0BACA,YACA,UACA,GACA,gEACA,wCACA,6CACA,mBACA,6EACA,oDACA,cACA,0DACA,YACA,wBACA,UACA,GACA,4CACA,4DACA,iCACA,2BACA,cACA,YACA,wBACA,UACA,GACA,uCACA,4BACA,+BACA,uCACA,mCACA,YACA,0BACA,UACA,GACA,yCACA,yCACA,2BACA,6CACA,qDACA,8CACA,iDACA,mCACA,4BACA,YACA,yBACA,UACA,GACA,wCACA,qCACA,mCACA,+DACA,qCACA,YACA,UACA,GACA,iCACA,oCACA,UACA,GACA,kCACA,2DACA,UACA,GACA,yCACA,mCACA,sCACA,uCACA,+BACA,gCACA,wCACA,+BACA,sCACA,uBACA,uCACA,cACA,YACA,UACA,GACA,uCACA,mCACA,gCACA,UACA,GACA,qCACA,yCACA,6BACA,mCACA,UACA,GACA,qCACA,qCACA,sCACA,YACA,UACA,GACA,gCACA,iCACA,qCACA,GACA,qCACA,0BACA,iDACA,mBACA,mDACA,kBACA,gDACA,2BACA,sEACA,cACA,YACA,oCACA,mEACA,uCACA,mCACA,4BACA,4DACA,cACA,YACA,iIACA,8BACA,UACA,cACA,iBACA,8BACA,eACA,mCACA,wBACA,sBACA,qBACA,sEACA,4BACA,UACA,GACA,sCACA,4BACA,UACA,GACA,sBACA,yCACA,4CACA,qCACA,4BACA,6BACA,UACA,GACA,wCACA,sEACA,UACA,GACA,mCACA,0BACA,2BACA,UACA,GACA,mCACA,yBACA,UACA,GACA,yCACA,6BACA,UACA,GACA,2BACA,6BACA,UACA,GACA,8CACA,6BACA,UACA,GACA,qCACA,+BACA,UACA,GACA,2BACA,8BACA,UACA,GACA,0CACA,2BACA,UACA,GACA,2BACA,2BACA,UACA,GACA,sCACA,wBACA,UACA,GACA,wCACA,sBACA,UACA,GACA,qCACA,wBACA,qCACA,UACA,GACA,qCACA,wBACA,qCACA,UACA,GACA,wBACA,yBACA,UACA,GACA,0BACA,yBACA,UACA,GACA,wCACA,2BACA,6CACA,UACA,GACA,+CACA,UACA,GACA,sBACA,kCACA,yCACA,UACA,GACA,sDACA,GACA,yBACA,oCACA,kCACA,6BACA,UACA,GACA,kBACA,6CACA,0BACA,uBACA,0BACA,uBACA,8BACA,UACA,GACA,oBACA,iCACA,+BACA,uCACA,6BACA,UACA,GACA,2EACA,sBACA,UACA,GACA,mDACA,mCACA,6CACA,8BACA,qCACA,8BACA,qBACA,wBACA,0BACA,2BACA,wBACA,sBACA,UACA,GACA,qCACA,6BACA,+BACA,6BACA,UACA,GACA,iCACA,0BACA,UACA,GACA,kCACA,yBACA,UACA,GACA,qBACA,6BACA,yBACA,4BACA,UACA,GACA,mBACA,4BACA,UACA,GACA,wBACA,sCACA,UACA,GACA,qDACA,2BACA,UACA,GACA,8BACA,+BACA,UACA,GACA,sBACA,yBACA,UACA,GACA,sDACA,mCACA,8CACA,UACA,GACA,wEACA,wBACA,oCACA,UACA,GACA,8BACA,0CACA,mCACA,iCACA,gCACA,UACA,GACA,gDACA,0BACA,UACA,GACA,gDACA,yBACA,UACA,GACA,uCACA,6BACA,+BACA,UACA,GACA,4CACA,yBACA,UACA,GACA,2CACA,2BACA,UACA,GACA,4CACA,oCACA,UACA,GACA,6CACA,0BACA,UACA,GACA,6CACA,wBACA,UACA,GACA,2CACA,0BACA,UACA,GACA,2CACA,0BACA,UACA,GACA,6CACA,sBACA,UACA,GACA,6CACA,0BACA,UACA,GACA,+BACA,+BACA,6BACA,6BACA,+BACA,gCACA,0BACA,UACA,GACA,gCACA,qCACA,yBACA,4BACA,UACA,eACA,YACA,GACA,qBACA,mCACA,4BACA,4CACA,qBACA,8MACA,8MACA,yMACA,yMACA,8MACA,8MACA,qMACA,iBACA,4CACA,wLACA,uJACA,gLACA,oLACA,uLACA,iCACA,uKACA,uLACA,+LACA,8MACA,mBACA,iBACA,6CACA,qBACA,yMACA,uJACA,6NACA,6QACA,uIACA,iIACA,0IACA,iBACA,eACA,aACA,qEACA,6CACA,wCACA,0HACA,+IACA,eACA,aACA,YACA,UACA;4tgFAIAC;MAEAX,iBAAA,YAEA,IAAAY,GAAA,CACAZ,iBAAApX,UAAA,GAAAzE,UAEA6b,gBAAApX,UAAA0X,OAAA,SAAAO,EAAAJ,EACAR,EAAAC,EAAAC,EAAAC,EAAAC,EAAAS,GAmIA,QAAAC,GAAA3b,EAAAga,GACA5c,KAAA4C,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","file":"nuc-log4javascript.js","sourcesContent":["/**\n * Copyright 2015 Tim Down.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * log4javascript\n *\n * log4javascript is a logging framework for JavaScript based on log4j\n * for Java. This file contains all core log4javascript code and is the only\n * file required to use log4javascript, unless you require support for\n * document.domain, in which case you will also need console.html, which must be\n * stored in the same directory as the main log4javascript.js file.\n *\n * Author: Tim Down <tim@log4javascript.org>\n * Version: 1.4.13\n * Edition: log4javascript\n * Build date: 23 May 2015\n * Website: http://log4javascript.org\n */\n\n// [OT] Modifications done:\n//\n// * Replace UMD with csui AMD at the top and bottom of the file\n\n// [OT] Declare a csui module\ncsui.define('nuc/lib/log4javascript',[],function() {\n\n\t// Array-related stuff. Next three methods are solely for IE5, which is missing them\n\tif (!Array.prototype.push) {\n\t\tArray.prototype.push = function() {\n\t\t\tfor (var i = 0, len = arguments.length; i < len; i++){\n\t\t\t\tthis[this.length] = arguments[i];\n\t\t\t}\n\t\t\treturn this.length;\n\t\t};\n\t}\n\n\tif (!Array.prototype.shift) {\n\t\tArray.prototype.shift = function() {\n\t\t\tif (this.length > 0) {\n\t\t\t\tvar firstItem = this[0];\n\t\t\t\tfor (var i = 0, len = this.length - 1; i < len; i++) {\n\t\t\t\t\tthis[i] = this[i + 1];\n\t\t\t\t}\n\t\t\t\tthis.length = this.length - 1;\n\t\t\t\treturn firstItem;\n\t\t\t}\n\t\t};\n\t}\n\n\tif (!Array.prototype.splice) {\n\t\tArray.prototype.splice = function(startIndex, deleteCount) {\n\t\t\tvar itemsAfterDeleted = this.slice(startIndex + deleteCount);\n\t\t\tvar itemsDeleted = this.slice(startIndex, startIndex + deleteCount);\n\t\t\tthis.length = startIndex;\n\t\t\t// Copy the arguments into a proper Array object\n\t\t\tvar argumentsArray = [];\n\t\t\tfor (var i = 0, len = arguments.length; i < len; i++) {\n\t\t\t\targumentsArray[i] = arguments[i];\n\t\t\t}\n\t\t\tvar itemsToAppend = (argumentsArray.length > 2) ?\n\t\t\t\titemsAfterDeleted = argumentsArray.slice(2).concat(itemsAfterDeleted) : itemsAfterDeleted;\n\t\t\tfor (i = 0, len = itemsToAppend.length; i < len; i++) {\n\t\t\t\tthis.push(itemsToAppend[i]);\n\t\t\t}\n\t\t\treturn itemsDeleted;\n\t\t};\n\t}\n\n\t/* ---------------------------------------------------------------------- */\n\n\tfunction isUndefined(obj) {\n\t\treturn typeof obj == \"undefined\";\n\t}\n\n\t/* ---------------------------------------------------------------------- */\n\t// Custom event support\n\n\tfunction EventSupport() {}\n\n\tEventSupport.prototype = {\n\t\teventTypes: [],\n\t\teventListeners: {},\n\t\tsetEventTypes: function(eventTypesParam) {\n\t\t\tif (eventTypesParam instanceof Array) {\n\t\t\t\tthis.eventTypes = eventTypesParam;\n\t\t\t\tthis.eventListeners = {};\n\t\t\t\tfor (var i = 0, len = this.eventTypes.length; i < len; i++) {\n\t\t\t\t\tthis.eventListeners[this.eventTypes[i]] = [];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandleError(\"log4javascript.EventSupport [\" + this + \"]: setEventTypes: eventTypes parameter must be an Array\");\n\t\t\t}\n\t\t},\n\n\t\taddEventListener: function(eventType, listener) {\n\t\t\tif (typeof listener == \"function\") {\n\t\t\t\tif (!array_contains(this.eventTypes, eventType)) {\n\t\t\t\t\thandleError(\"log4javascript.EventSupport [\" + this + \"]: addEventListener: no event called '\" + eventType + \"'\");\n\t\t\t\t}\n\t\t\t\tthis.eventListeners[eventType].push(listener);\n\t\t\t} else {\n\t\t\t\thandleError(\"log4javascript.EventSupport [\" + this + \"]: addEventListener: listener must be a function\");\n\t\t\t}\n\t\t},\n\n\t\tremoveEventListener: function(eventType, listener) {\n\t\t\tif (typeof listener == \"function\") {\n\t\t\t\tif (!array_contains(this.eventTypes, eventType)) {\n\t\t\t\t\thandleError(\"log4javascript.EventSupport [\" + this + \"]: removeEventListener: no event called '\" + eventType + \"'\");\n\t\t\t\t}\n\t\t\t\tarray_remove(this.eventListeners[eventType], listener);\n\t\t\t} else {\n\t\t\t\thandleError(\"log4javascript.EventSupport [\" + this + \"]: removeEventListener: listener must be a function\");\n\t\t\t}\n\t\t},\n\n\t\tdispatchEvent: function(eventType, eventArgs) {\n\t\t\tif (array_contains(this.eventTypes, eventType)) {\n\t\t\t\tvar listeners = this.eventListeners[eventType];\n\t\t\t\tfor (var i = 0, len = listeners.length; i < len; i++) {\n\t\t\t\t\tlisteners[i](this, eventType, eventArgs);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandleError(\"log4javascript.EventSupport [\" + this + \"]: dispatchEvent: no event called '\" + eventType + \"'\");\n\t\t\t}\n\t\t}\n\t};\n\n\t/* -------------------------------------------------------------------------- */\n\n\tvar applicationStartDate = new Date();\n\tvar uniqueId = \"log4javascript_\" + applicationStartDate.getTime() + \"_\" +\n\t\tMath.floor(Math.random() * 100000000);\n\tvar emptyFunction = function() {};\n\tvar newLine = \"\\r\\n\";\n\tvar pageLoaded = false;\n\n\t// Create main log4javascript object; this will be assigned public properties\n\tfunction Log4JavaScript() {}\n\tLog4JavaScript.prototype = new EventSupport();\n\n\tvar log4javascript = new Log4JavaScript();\n\tlog4javascript.version = \"1.4.13\";\n\tlog4javascript.edition = \"log4javascript\";\n\n\t/* -------------------------------------------------------------------------- */\n\t// Utility functions\n\n\tfunction toStr(obj) {\n\t\tif (obj && obj.toString) {\n\t\t\treturn obj.toString();\n\t\t} else {\n\t\t\treturn String(obj);\n\t\t}\n\t}\n\n\tfunction getExceptionMessage(ex) {\n\t\tif (ex.message) {\n\t\t\treturn ex.message;\n\t\t} else if (ex.description) {\n\t\t\treturn ex.description;\n\t\t} else {\n\t\t\treturn toStr(ex);\n\t\t}\n\t}\n\n\t// Gets the portion of the URL after the last slash\n\tfunction getUrlFileName(url) {\n\t\tvar lastSlashIndex = Math.max(url.lastIndexOf(\"/\"), url.lastIndexOf(\"\\\\\"));\n\t\treturn url.substr(lastSlashIndex + 1);\n\t}\n\n\t// Returns a nicely formatted representation of an error\n\tfunction getExceptionStringRep(ex) {\n\t\tif (ex) {\n\t\t\tvar exStr = \"Exception: \" + getExceptionMessage(ex);\n\t\t\ttry {\n\t\t\t\tif (ex.lineNumber) {\n\t\t\t\t\texStr += \" on line number \" + ex.lineNumber;\n\t\t\t\t}\n\t\t\t\tif (ex.fileName) {\n\t\t\t\t\texStr += \" in file \" + getUrlFileName(ex.fileName);\n\t\t\t\t}\n\t\t\t} catch (localEx) {\n\t\t\t\tlogLog.warn(\"Unable to obtain file and line information for error\");\n\t\t\t}\n\t\t\tif (showStackTraces && ex.stack) {\n\t\t\t\texStr += newLine + \"Stack trace:\" + newLine + ex.stack;\n\t\t\t}\n\t\t\treturn exStr;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction bool(obj) {\n\t\treturn Boolean(obj);\n\t}\n\n\tfunction trim(str) {\n\t\treturn str.replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n\t}\n\n\tfunction splitIntoLines(text) {\n\t\t// Ensure all line breaks are \\n only\n\t\tvar text2 = text.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\n\t\treturn text2.split(\"\\n\");\n\t}\n\n\tvar urlEncode = (typeof window.encodeURIComponent != \"undefined\") ?\n\t\tfunction(str) {\n\t\t\treturn encodeURIComponent(str);\n\t\t}:\n\t\tfunction(str) {\n\t\t\treturn escape(str).replace(/\\+/g, \"%2B\").replace(/\"/g, \"%22\").replace(/'/g, \"%27\").replace(/\\//g, \"%2F\").replace(/=/g, \"%3D\");\n\t\t};\n\n\tfunction array_remove(arr, val) {\n\t\tvar index = -1;\n\t\tfor (var i = 0, len = arr.length; i < len; i++) {\n\t\t\tif (arr[i] === val) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (index >= 0) {\n\t\t\tarr.splice(index, 1);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction array_contains(arr, val) {\n\t\tfor(var i = 0, len = arr.length; i < len; i++) {\n\t\t\tif (arr[i] == val) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extractBooleanFromParam(param, defaultValue) {\n\t\tif (isUndefined(param)) {\n\t\t\treturn defaultValue;\n\t\t} else {\n\t\t\treturn bool(param);\n\t\t}\n\t}\n\n\tfunction extractStringFromParam(param, defaultValue) {\n\t\tif (isUndefined(param)) {\n\t\t\treturn defaultValue;\n\t\t} else {\n\t\t\treturn String(param);\n\t\t}\n\t}\n\n\tfunction extractIntFromParam(param, defaultValue) {\n\t\tif (isUndefined(param)) {\n\t\t\treturn defaultValue;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tvar value = parseInt(param, 10);\n\t\t\t\treturn isNaN(value) ? defaultValue : value;\n\t\t\t} catch (ex) {\n\t\t\t\tlogLog.warn(\"Invalid int param \" + param, ex);\n\t\t\t\treturn defaultValue;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction extractFunctionFromParam(param, defaultValue) {\n\t\tif (typeof param == \"function\") {\n\t\t\treturn param;\n\t\t} else {\n\t\t\treturn defaultValue;\n\t\t}\n\t}\n\n\tfunction isError(err) {\n\t\treturn (err instanceof Error);\n\t}\n\n\tif (!Function.prototype.apply){\n\t\tFunction.prototype.apply = function(obj, args) {\n\t\t\tvar methodName = \"__apply__\";\n\t\t\tif (typeof obj[methodName] != \"undefined\") {\n\t\t\t\tmethodName += String(Math.random()).substr(2);\n\t\t\t}\n\t\t\tobj[methodName] = this;\n\n\t\t\tvar argsStrings = [];\n\t\t\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\t\t\targsStrings[i] = \"args[\" + i + \"]\";\n\t\t\t}\n\t\t\tvar script = \"obj.\" + methodName + \"(\" + argsStrings.join(\",\") + \")\";\n\t\t\tvar returnValue = eval(script);\n\t\t\tdelete obj[methodName];\n\t\t\treturn returnValue;\n\t\t};\n\t}\n\n\tif (!Function.prototype.call){\n\t\tFunction.prototype.call = function(obj) {\n\t\t\tvar args = [];\n\t\t\tfor (var i = 1, len = arguments.length; i < len; i++) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\treturn this.apply(obj, args);\n\t\t};\n\t}\n\n\t/* ---------------------------------------------------------------------- */\n\t// Simple logging for log4javascript itself\n\n\tvar logLog = {\n\t\tquietMode: false,\n\n\t\tdebugMessages: [],\n\n\t\tsetQuietMode: function(quietMode) {\n\t\t\tthis.quietMode = bool(quietMode);\n\t\t},\n\n\t\tnumberOfErrors: 0,\n\n\t\talertAllErrors: false,\n\n\t\tsetAlertAllErrors: function(alertAllErrors) {\n\t\t\tthis.alertAllErrors = alertAllErrors;\n\t\t},\n\n\t\tdebug: function(message) {\n\t\t\tthis.debugMessages.push(message);\n\t\t},\n\n\t\tdisplayDebug: function() {\n\t\t\talert(this.debugMessages.join(newLine));\n\t\t},\n\n\t\twarn: function(message, exception) {\n\t\t},\n\n\t\terror: function(message, exception) {\n\t\t\tif (++this.numberOfErrors == 1 || this.alertAllErrors) {\n\t\t\t\tif (!this.quietMode) {\n\t\t\t\t\tvar alertMessage = \"log4javascript error: \" + message;\n\t\t\t\t\tif (exception) {\n\t\t\t\t\t\talertMessage += newLine + newLine + \"Original error: \" + getExceptionStringRep(exception);\n\t\t\t\t\t}\n\t\t\t\t\talert(alertMessage);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tlog4javascript.logLog = logLog;\n\n\tlog4javascript.setEventTypes([\"load\", \"error\"]);\n\n\tfunction handleError(message, exception) {\n\t\tlogLog.error(message, exception);\n\t\tlog4javascript.dispatchEvent(\"error\", { \"message\": message, \"exception\": exception });\n\t}\n\n\tlog4javascript.handleError = handleError;\n\n\t/* ---------------------------------------------------------------------- */\n\n\tvar enabled = !((typeof log4javascript_disabled != \"undefined\") &&\n\t\t\t\t\tlog4javascript_disabled);\n\n\tlog4javascript.setEnabled = function(enable) {\n\t\tenabled = bool(enable);\n\t};\n\n\tlog4javascript.isEnabled = function() {\n\t\treturn enabled;\n\t};\n\n\tvar useTimeStampsInMilliseconds = true;\n\n\tlog4javascript.setTimeStampsInMilliseconds = function(timeStampsInMilliseconds) {\n\t\tuseTimeStampsInMilliseconds = bool(timeStampsInMilliseconds);\n\t};\n\n\tlog4javascript.isTimeStampsInMilliseconds = function() {\n\t\treturn useTimeStampsInMilliseconds;\n\t};\n\n\t// This evaluates the given expression in the current scope, thus allowing\n\t// scripts to access private variables. Particularly useful for testing\n\tlog4javascript.evalInScope = function(expr) {\n\t\treturn eval(expr);\n\t};\n\n\tvar showStackTraces = false;\n\n\tlog4javascript.setShowStackTraces = function(show) {\n\t\tshowStackTraces = bool(show);\n\t};\n\n\t/* ---------------------------------------------------------------------- */\n\t// Levels\n\n\tvar Level = function(level, name) {\n\t\tthis.level = level;\n\t\tthis.name = name;\n\t};\n\n\tLevel.prototype = {\n\t\ttoString: function() {\n\t\t\treturn this.name;\n\t\t},\n\t\tequals: function(level) {\n\t\t\treturn this.level == level.level;\n\t\t},\n\t\tisGreaterOrEqual: function(level) {\n\t\t\treturn this.level >= level.level;\n\t\t}\n\t};\n\n\tLevel.ALL = new Level(Number.MIN_VALUE, \"ALL\");\n\tLevel.TRACE = new Level(10000, \"TRACE\");\n\tLevel.DEBUG = new Level(20000, \"DEBUG\");\n\tLevel.INFO = new Level(30000, \"INFO\");\n\tLevel.WARN = new Level(40000, \"WARN\");\n\tLevel.ERROR = new Level(50000, \"ERROR\");\n\tLevel.FATAL = new Level(60000, \"FATAL\");\n\tLevel.OFF = new Level(Number.MAX_VALUE, \"OFF\");\n\n\tlog4javascript.Level = Level;\n\n\t/* ---------------------------------------------------------------------- */\n\t// Timers\n\n\tfunction Timer(name, level) {\n\t\tthis.name = name;\n\t\tthis.level = isUndefined(level) ? Level.INFO : level;\n\t\tthis.start = new Date();\n\t}\n\n\tTimer.prototype.getElapsedTime = function() {\n\t\treturn new Date().getTime() - this.start.getTime();\n\t};\n\n\t/* ---------------------------------------------------------------------- */\n\t// Loggers\n\n\tvar anonymousLoggerName = \"[anonymous]\";\n\tvar defaultLoggerName = \"[default]\";\n\tvar nullLoggerName = \"[null]\";\n\tvar rootLoggerName = \"root\";\n\n\tfunction Logger(name) {\n\t\tthis.name = name;\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tvar appenders = [];\n\t\tvar loggerLevel = null;\n\t\tvar isRoot = (this.name === rootLoggerName);\n\t\tvar isNull = (this.name === nullLoggerName);\n\n\t\tvar appenderCache = null;\n\t\tvar appenderCacheInvalidated = false;\n\n\t\tthis.addChild = function(childLogger) {\n\t\t\tthis.children.push(childLogger);\n\t\t\tchildLogger.parent = this;\n\t\t\tchildLogger.invalidateAppenderCache();\n\t\t};\n\n\t\t// Additivity\n\t\tvar additive = true;\n\t\tthis.getAdditivity = function() {\n\t\t\treturn additive;\n\t\t};\n\n\t\tthis.setAdditivity = function(additivity) {\n\t\t\tvar valueChanged = (additive != additivity);\n\t\t\tadditive = additivity;\n\t\t\tif (valueChanged) {\n\t\t\t\tthis.invalidateAppenderCache();\n\t\t\t}\n\t\t};\n\n\t\t// Create methods that use the appenders variable in this scope\n\t\tthis.addAppender = function(appender) {\n\t\t\tif (isNull) {\n\t\t\t\thandleError(\"Logger.addAppender: you may not add an appender to the null logger\");\n\t\t\t} else {\n\t\t\t\tif (appender instanceof log4javascript.Appender) {\n\t\t\t\t\tif (!array_contains(appenders, appender)) {\n\t\t\t\t\t\tappenders.push(appender);\n\t\t\t\t\t\tappender.setAddedToLogger(this);\n\t\t\t\t\t\tthis.invalidateAppenderCache();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thandleError(\"Logger.addAppender: appender supplied ('\" +\n\t\t\t\t\t\ttoStr(appender) + \"') is not a subclass of Appender\");\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.removeAppender = function(appender) {\n\t\t\tarray_remove(appenders, appender);\n\t\t\tappender.setRemovedFromLogger(this);\n\t\t\tthis.invalidateAppenderCache();\n\t\t};\n\n\t\tthis.removeAllAppenders = function() {\n\t\t\tvar appenderCount = appenders.length;\n\t\t\tif (appenderCount > 0) {\n\t\t\t\tfor (var i = 0; i < appenderCount; i++) {\n\t\t\t\t\tappenders[i].setRemovedFromLogger(this);\n\t\t\t\t}\n\t\t\t\tappenders.length = 0;\n\t\t\t\tthis.invalidateAppenderCache();\n\t\t\t}\n\t\t};\n\n\t\tthis.getEffectiveAppenders = function() {\n\t\t\tif (appenderCache === null || appenderCacheInvalidated) {\n\t\t\t\t// Build appender cache\n\t\t\t\tvar parentEffectiveAppenders = (isRoot || !this.getAdditivity()) ?\n\t\t\t\t\t[] : this.parent.getEffectiveAppenders();\n\t\t\t\tappenderCache = parentEffectiveAppenders.concat(appenders);\n\t\t\t\tappenderCacheInvalidated = false;\n\t\t\t}\n\t\t\treturn appenderCache;\n\t\t};\n\n\t\tthis.invalidateAppenderCache = function() {\n\t\t\tappenderCacheInvalidated = true;\n\t\t\tfor (var i = 0, len = this.children.length; i < len; i++) {\n\t\t\t\tthis.children[i].invalidateAppenderCache();\n\t\t\t}\n\t\t};\n\n\t\tthis.log = function(level, params) {\n\t\t\tif (enabled && level.isGreaterOrEqual(this.getEffectiveLevel())) {\n\t\t\t\t// Check whether last param is an exception\n\t\t\t\tvar exception;\n\t\t\t\tvar finalParamIndex = params.length - 1;\n\t\t\t\tvar lastParam = params[finalParamIndex];\n\t\t\t\tif (params.length > 1 && isError(lastParam)) {\n\t\t\t\t\texception = lastParam;\n\t\t\t\t\tfinalParamIndex--;\n\t\t\t\t}\n\n\t\t\t\t// Construct genuine array for the params\n\t\t\t\tvar messages = [];\n\t\t\t\tfor (var i = 0; i <= finalParamIndex; i++) {\n\t\t\t\t\tmessages[i] = params[i];\n\t\t\t\t}\n\n\t\t\t\tvar loggingEvent = new LoggingEvent(\n\t\t\t\t\tthis, new Date(), level, messages, exception);\n\n\t\t\t\tthis.callAppenders(loggingEvent);\n\t\t\t}\n\t\t};\n\n\t\tthis.callAppenders = function(loggingEvent) {\n\t\t\tvar effectiveAppenders = this.getEffectiveAppenders();\n\t\t\tfor (var i = 0, len = effectiveAppenders.length; i < len; i++) {\n\t\t\t\teffectiveAppenders[i].doAppend(loggingEvent);\n\t\t\t}\n\t\t};\n\n\t\tthis.setLevel = function(level) {\n\t\t\t// Having a level of null on the root logger would be very bad.\n\t\t\tif (isRoot && level === null) {\n\t\t\t\thandleError(\"Logger.setLevel: you cannot set the level of the root logger to null\");\n\t\t\t} else if (level instanceof Level) {\n\t\t\t\tloggerLevel = level;\n\t\t\t} else {\n\t\t\t\thandleError(\"Logger.setLevel: level supplied to logger \" +\n\t\t\t\t\tthis.name + \" is not an instance of log4javascript.Level\");\n\t\t\t}\n\t\t};\n\n\t\tthis.getLevel = function() {\n\t\t\treturn loggerLevel;\n\t\t};\n\n\t\tthis.getEffectiveLevel = function() {\n\t\t\tfor (var logger = this; logger !== null; logger = logger.parent) {\n\t\t\t\tvar level = logger.getLevel();\n\t\t\t\tif (level !== null) {\n\t\t\t\t\treturn level;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.group = function(name, initiallyExpanded) {\n\t\t\tif (enabled) {\n\t\t\t\tvar effectiveAppenders = this.getEffectiveAppenders();\n\t\t\t\tfor (var i = 0, len = effectiveAppenders.length; i < len; i++) {\n\t\t\t\t\teffectiveAppenders[i].group(name, initiallyExpanded);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.groupEnd = function() {\n\t\t\tif (enabled) {\n\t\t\t\tvar effectiveAppenders = this.getEffectiveAppenders();\n\t\t\t\tfor (var i = 0, len = effectiveAppenders.length; i < len; i++) {\n\t\t\t\t\teffectiveAppenders[i].groupEnd();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar timers = {};\n\n\t\tthis.time = function(name, level) {\n\t\t\tif (enabled) {\n\t\t\t\tif (isUndefined(name)) {\n\t\t\t\t\thandleError(\"Logger.time: a name for the timer must be supplied\");\n\t\t\t\t} else if (level && !(level instanceof Level)) {\n\t\t\t\t\thandleError(\"Logger.time: level supplied to timer \" +\n\t\t\t\t\t\tname + \" is not an instance of log4javascript.Level\");\n\t\t\t\t} else {\n\t\t\t\t\ttimers[name] = new Timer(name, level);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.timeEnd = function(name) {\n\t\t\tif (enabled) {\n\t\t\t\tif (isUndefined(name)) {\n\t\t\t\t\thandleError(\"Logger.timeEnd: a name for the timer must be supplied\");\n\t\t\t\t} else if (timers[name]) {\n\t\t\t\t\tvar timer = timers[name];\n\t\t\t\t\tvar milliseconds = timer.getElapsedTime();\n\t\t\t\t\tthis.log(timer.level, [\"Timer \" + toStr(name) + \" completed in \" + milliseconds + \"ms\"]);\n\t\t\t\t\tdelete timers[name];\n\t\t\t\t} else {\n\t\t\t\t\tlogLog.warn(\"Logger.timeEnd: no timer found with name \" + name);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.assert = function(expr) {\n\t\t\tif (enabled && !expr) {\n\t\t\t\tvar args = [];\n\t\t\t\tfor (var i = 1, len = arguments.length; i < len; i++) {\n\t\t\t\t\targs.push(arguments[i]);\n\t\t\t\t}\n\t\t\t\targs = (args.length > 0) ? args : [\"Assertion Failure\"];\n\t\t\t\targs.push(newLine);\n\t\t\t\targs.push(expr);\n\t\t\t\tthis.log(Level.ERROR, args);\n\t\t\t}\n\t\t};\n\n\t\tthis.toString = function() {\n\t\t\treturn \"Logger[\" + this.name + \"]\";\n\t\t};\n\t}\n\n\tLogger.prototype = {\n\t\ttrace: function() {\n\t\t\tthis.log(Level.TRACE, arguments);\n\t\t},\n\n\t\tdebug: function() {\n\t\t\tthis.log(Level.DEBUG, arguments);\n\t\t},\n\n\t\tinfo: function() {\n\t\t\tthis.log(Level.INFO, arguments);\n\t\t},\n\n\t\twarn: function() {\n\t\t\tthis.log(Level.WARN, arguments);\n\t\t},\n\n\t\terror: function() {\n\t\t\tthis.log(Level.ERROR, arguments);\n\t\t},\n\n\t\tfatal: function() {\n\t\t\tthis.log(Level.FATAL, arguments);\n\t\t},\n\n\t\tisEnabledFor: function(level) {\n\t\t\treturn level.isGreaterOrEqual(this.getEffectiveLevel());\n\t\t},\n\n\t\tisTraceEnabled: function() {\n\t\t\treturn this.isEnabledFor(Level.TRACE);\n\t\t},\n\n\t\tisDebugEnabled: function() {\n\t\t\treturn this.isEnabledFor(Level.DEBUG);\n\t\t},\n\n\t\tisInfoEnabled: function() {\n\t\t\treturn this.isEnabledFor(Level.INFO);\n\t\t},\n\n\t\tisWarnEnabled: function() {\n\t\t\treturn this.isEnabledFor(Level.WARN);\n\t\t},\n\n\t\tisErrorEnabled: function() {\n\t\t\treturn this.isEnabledFor(Level.ERROR);\n\t\t},\n\n\t\tisFatalEnabled: function() {\n\t\t\treturn this.isEnabledFor(Level.FATAL);\n\t\t}\n\t};\n\n\tLogger.prototype.trace.isEntryPoint = true;\n\tLogger.prototype.debug.isEntryPoint = true;\n\tLogger.prototype.info.isEntryPoint = true;\n\tLogger.prototype.warn.isEntryPoint = true;\n\tLogger.prototype.error.isEntryPoint = true;\n\tLogger.prototype.fatal.isEntryPoint = true;\n\n\t/* ---------------------------------------------------------------------- */\n\t// Logger access methods\n\n\t// Hashtable of loggers keyed by logger name\n\tvar loggers = {};\n\tvar loggerNames = [];\n\n\tvar ROOT_LOGGER_DEFAULT_LEVEL = Level.DEBUG;\n\tvar rootLogger = new Logger(rootLoggerName);\n\trootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL);\n\n\tlog4javascript.getRootLogger = function() {\n\t\treturn rootLogger;\n\t};\n\n\tlog4javascript.getLogger = function(loggerName) {\n\t\t// Use default logger if loggerName is not specified or invalid\n\t\tif (typeof loggerName != \"string\") {\n\t\t\tloggerName = anonymousLoggerName;\n\t\t\tlogLog.warn(\"log4javascript.getLogger: non-string logger name \"\t+\n\t\t\t\ttoStr(loggerName) + \" supplied, returning anonymous logger\");\n\t\t}\n\n\t\t// Do not allow retrieval of the root logger by name\n\t\tif (loggerName == rootLoggerName) {\n\t\t\thandleError(\"log4javascript.getLogger: root logger may not be obtained by name\");\n\t\t}\n\n\t\t// Create the logger for this name if it doesn't already exist\n\t\tif (!loggers[loggerName]) {\n\t\t\tvar logger = new Logger(loggerName);\n\t\t\tloggers[loggerName] = logger;\n\t\t\tloggerNames.push(loggerName);\n\n\t\t\t// Set up parent logger, if it doesn't exist\n\t\t\tvar lastDotIndex = loggerName.lastIndexOf(\".\");\n\t\t\tvar parentLogger;\n\t\t\tif (lastDotIndex > -1) {\n\t\t\t\tvar parentLoggerName = loggerName.substring(0, lastDotIndex);\n\t\t\t\tparentLogger = log4javascript.getLogger(parentLoggerName); // Recursively sets up grandparents etc.\n\t\t\t} else {\n\t\t\t\tparentLogger = rootLogger;\n\t\t\t}\n\t\t\tparentLogger.addChild(logger);\n\t\t}\n\t\treturn loggers[loggerName];\n\t};\n\n\tvar defaultLogger = null;\n\tlog4javascript.getDefaultLogger = function() {\n\t\tif (!defaultLogger) {\n\t\t\tdefaultLogger = createDefaultLogger();\n\t\t}\n\t\treturn defaultLogger;\n\t};\n\n\tvar nullLogger = null;\n\tlog4javascript.getNullLogger = function() {\n\t\tif (!nullLogger) {\n\t\t\tnullLogger = new Logger(nullLoggerName);\n\t\t\tnullLogger.setLevel(Level.OFF);\n\t\t}\n\t\treturn nullLogger;\n\t};\n\n\t// Destroys all loggers\n\tlog4javascript.resetConfiguration = function() {\n\t\trootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL);\n\t\tloggers = {};\n\t};\n\n\t/* ---------------------------------------------------------------------- */\n\t// Logging events\n\n\tvar LoggingEvent = function(logger, timeStamp, level, messages,\n\t\t\texception) {\n\t\tthis.logger = logger;\n\t\tthis.timeStamp = timeStamp;\n\t\tthis.timeStampInMilliseconds = timeStamp.getTime();\n\t\tthis.timeStampInSeconds = Math.floor(this.timeStampInMilliseconds / 1000);\n\t\tthis.milliseconds = this.timeStamp.getMilliseconds();\n\t\tthis.level = level;\n\t\tthis.messages = messages;\n\t\tthis.exception = exception;\n\t};\n\n\tLoggingEvent.prototype = {\n\t\tgetThrowableStrRep: function() {\n\t\t\treturn this.exception ?\n\t\t\t\tgetExceptionStringRep(this.exception) : \"\";\n\t\t},\n\t\tgetCombinedMessages: function() {\n\t\t\treturn (this.messages.length == 1) ? this.messages[0] :\n\t\t\t\t   this.messages.join(newLine);\n\t\t},\n\t\ttoString: function() {\n\t\t\treturn \"LoggingEvent[\" + this.level + \"]\";\n\t\t}\n\t};\n\n\tlog4javascript.LoggingEvent = LoggingEvent;\n\n\t/* ---------------------------------------------------------------------- */\n\t// Layout prototype\n\n\tvar Layout = function() {\n\t};\n\n\tLayout.prototype = {\n\t\tdefaults: {\n\t\t\tloggerKey: \"logger\",\n\t\t\ttimeStampKey: \"timestamp\",\n\t\t\tmillisecondsKey: \"milliseconds\",\n\t\t\tlevelKey: \"level\",\n\t\t\tmessageKey: \"message\",\n\t\t\texceptionKey: \"exception\",\n\t\t\turlKey: \"url\"\n\t\t},\n\t\tloggerKey: \"logger\",\n\t\ttimeStampKey: \"timestamp\",\n\t\tmillisecondsKey: \"milliseconds\",\n\t\tlevelKey: \"level\",\n\t\tmessageKey: \"message\",\n\t\texceptionKey: \"exception\",\n\t\turlKey: \"url\",\n\t\tbatchHeader: \"\",\n\t\tbatchFooter: \"\",\n\t\tbatchSeparator: \"\",\n\t\treturnsPostData: false,\n\t\toverrideTimeStampsSetting: false,\n\t\tuseTimeStampsInMilliseconds: null,\n\n\t\tformat: function() {\n\t\t\thandleError(\"Layout.format: layout supplied has no format() method\");\n\t\t},\n\n\t\tignoresThrowable: function() {\n\t\t\thandleError(\"Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method\");\n\t\t},\n\n\t\tgetContentType: function() {\n\t\t\treturn \"text/plain\";\n\t\t},\n\n\t\tallowBatching: function() {\n\t\t\treturn true;\n\t\t},\n\n\t\tsetTimeStampsInMilliseconds: function(timeStampsInMilliseconds) {\n\t\t\tthis.overrideTimeStampsSetting = true;\n\t\t\tthis.useTimeStampsInMilliseconds = bool(timeStampsInMilliseconds);\n\t\t},\n\n\t\tisTimeStampsInMilliseconds: function() {\n\t\t\treturn this.overrideTimeStampsSetting ?\n\t\t\t\tthis.useTimeStampsInMilliseconds : useTimeStampsInMilliseconds;\n\t\t},\n\n\t\tgetTimeStampValue: function(loggingEvent) {\n\t\t\treturn this.isTimeStampsInMilliseconds() ?\n\t\t\t\tloggingEvent.timeStampInMilliseconds : loggingEvent.timeStampInSeconds;\n\t\t},\n\n\t\tgetDataValues: function(loggingEvent, combineMessages) {\n\t\t\tvar dataValues = [\n\t\t\t\t[this.loggerKey, loggingEvent.logger.name],\n\t\t\t\t[this.timeStampKey, this.getTimeStampValue(loggingEvent)],\n\t\t\t\t[this.levelKey, loggingEvent.level.name],\n\t\t\t\t[this.urlKey, window.location.href],\n\t\t\t\t[this.messageKey, combineMessages ? loggingEvent.getCombinedMessages() : loggingEvent.messages]\n\t\t\t];\n\t\t\tif (!this.isTimeStampsInMilliseconds()) {\n\t\t\t\tdataValues.push([this.millisecondsKey, loggingEvent.milliseconds]);\n\t\t\t}\n\t\t\tif (loggingEvent.exception) {\n\t\t\t\tdataValues.push([this.exceptionKey, getExceptionStringRep(loggingEvent.exception)]);\n\t\t\t}\n\t\t\tif (this.hasCustomFields()) {\n\t\t\t\tfor (var i = 0, len = this.customFields.length; i < len; i++) {\n\t\t\t\t\tvar val = this.customFields[i].value;\n\n\t\t\t\t\t// Check if the value is a function. If so, execute it, passing it the\n\t\t\t\t\t// current layout and the logging event\n\t\t\t\t\tif (typeof val === \"function\") {\n\t\t\t\t\t\tval = val(this, loggingEvent);\n\t\t\t\t\t}\n\t\t\t\t\tdataValues.push([this.customFields[i].name, val]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dataValues;\n\t\t},\n\n\t\tsetKeys: function(loggerKey, timeStampKey, levelKey, messageKey,\n\t\t\t\texceptionKey, urlKey, millisecondsKey) {\n\t\t\tthis.loggerKey = extractStringFromParam(loggerKey, this.defaults.loggerKey);\n\t\t\tthis.timeStampKey = extractStringFromParam(timeStampKey, this.defaults.timeStampKey);\n\t\t\tthis.levelKey = extractStringFromParam(levelKey, this.defaults.levelKey);\n\t\t\tthis.messageKey = extractStringFromParam(messageKey, this.defaults.messageKey);\n\t\t\tthis.exceptionKey = extractStringFromParam(exceptionKey, this.defaults.exceptionKey);\n\t\t\tthis.urlKey = extractStringFromParam(urlKey, this.defaults.urlKey);\n\t\t\tthis.millisecondsKey = extractStringFromParam(millisecondsKey, this.defaults.millisecondsKey);\n\t\t},\n\n\t\tsetCustomField: function(name, value) {\n\t\t\tvar fieldUpdated = false;\n\t\t\tfor (var i = 0, len = this.customFields.length; i < len; i++) {\n\t\t\t\tif (this.customFields[i].name === name) {\n\t\t\t\t\tthis.customFields[i].value = value;\n\t\t\t\t\tfieldUpdated = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!fieldUpdated) {\n\t\t\t\tthis.customFields.push({\"name\": name, \"value\": value});\n\t\t\t}\n\t\t},\n\n\t\thasCustomFields: function() {\n\t\t\treturn (this.customFields.length > 0);\n\t\t},\n\n\t\tformatWithException: function(loggingEvent) {\n\t\t\tvar formatted = this.format(loggingEvent);\n\t\t\tif (loggingEvent.exception && this.ignoresThrowable()) {\n\t\t\t\tformatted += loggingEvent.getThrowableStrRep();\n\t\t\t}\n\t\t\treturn formatted;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\thandleError(\"Layout.toString: all layouts must override this method\");\n\t\t}\n\t};\n\n\tlog4javascript.Layout = Layout;\n\n\t/* ---------------------------------------------------------------------- */\n\t// Appender prototype\n\n\tvar Appender = function() {};\n\n\tAppender.prototype = new EventSupport();\n\n\tAppender.prototype.layout = new PatternLayout();\n\tAppender.prototype.threshold = Level.ALL;\n\tAppender.prototype.loggers = [];\n\n\t// Performs threshold checks before delegating actual logging to the\n\t// subclass's specific append method.\n\tAppender.prototype.doAppend = function(loggingEvent) {\n\t\tif (enabled && loggingEvent.level.level >= this.threshold.level) {\n\t\t\tthis.append(loggingEvent);\n\t\t}\n\t};\n\n\tAppender.prototype.append = function(loggingEvent) {};\n\n\tAppender.prototype.setLayout = function(layout) {\n\t\tif (layout instanceof Layout) {\n\t\t\tthis.layout = layout;\n\t\t} else {\n\t\t\thandleError(\"Appender.setLayout: layout supplied to \" +\n\t\t\t\tthis.toString() + \" is not a subclass of Layout\");\n\t\t}\n\t};\n\n\tAppender.prototype.getLayout = function() {\n\t\treturn this.layout;\n\t};\n\n\tAppender.prototype.setThreshold = function(threshold) {\n\t\tif (threshold instanceof Level) {\n\t\t\tthis.threshold = threshold;\n\t\t} else {\n\t\t\thandleError(\"Appender.setThreshold: threshold supplied to \" +\n\t\t\t\tthis.toString() + \" is not a subclass of Level\");\n\t\t}\n\t};\n\n\tAppender.prototype.getThreshold = function() {\n\t\treturn this.threshold;\n\t};\n\n\tAppender.prototype.setAddedToLogger = function(logger) {\n\t\tthis.loggers.push(logger);\n\t};\n\n\tAppender.prototype.setRemovedFromLogger = function(logger) {\n\t\tarray_remove(this.loggers, logger);\n\t};\n\n\tAppender.prototype.group = emptyFunction;\n\tAppender.prototype.groupEnd = emptyFunction;\n\n\tAppender.prototype.toString = function() {\n\t\thandleError(\"Appender.toString: all appenders must override this method\");\n\t};\n\n\tlog4javascript.Appender = Appender;\n\n\t/* ---------------------------------------------------------------------- */\n\t// SimpleLayout\n\n\tfunction SimpleLayout() {\n\t\tthis.customFields = [];\n\t}\n\n\tSimpleLayout.prototype = new Layout();\n\n\tSimpleLayout.prototype.format = function(loggingEvent) {\n\t\treturn loggingEvent.level.name + \" - \" + loggingEvent.getCombinedMessages();\n\t};\n\n\tSimpleLayout.prototype.ignoresThrowable = function() {\n\t\treturn true;\n\t};\n\n\tSimpleLayout.prototype.toString = function() {\n\t\treturn \"SimpleLayout\";\n\t};\n\n\tlog4javascript.SimpleLayout = SimpleLayout;\n\t/* ----------------------------------------------------------------------- */\n\t// NullLayout\n\n\tfunction NullLayout() {\n\t\tthis.customFields = [];\n\t}\n\n\tNullLayout.prototype = new Layout();\n\n\tNullLayout.prototype.format = function(loggingEvent) {\n\t\treturn loggingEvent.messages;\n\t};\n\n\tNullLayout.prototype.ignoresThrowable = function() {\n\t\treturn true;\n\t};\n\n\tNullLayout.prototype.formatWithException = function(loggingEvent) {\n\t\tvar messages = loggingEvent.messages, ex = loggingEvent.exception;\n\t\treturn ex ? messages.concat([ex]) : messages;\n\t};\n\n\tNullLayout.prototype.toString = function() {\n\t\treturn \"NullLayout\";\n\t};\n\n\tlog4javascript.NullLayout = NullLayout;\n/* ---------------------------------------------------------------------- */\n\t// XmlLayout\n\n\tfunction XmlLayout(combineMessages) {\n\t\tthis.combineMessages = extractBooleanFromParam(combineMessages, true);\n\t\tthis.customFields = [];\n\t}\n\n\tXmlLayout.prototype = new Layout();\n\n\tXmlLayout.prototype.isCombinedMessages = function() {\n\t\treturn this.combineMessages;\n\t};\n\n\tXmlLayout.prototype.getContentType = function() {\n\t\treturn \"text/xml\";\n\t};\n\n\tXmlLayout.prototype.escapeCdata = function(str) {\n\t\treturn str.replace(/\\]\\]>/, \"]]>]]&gt;<![CDATA[\");\n\t};\n\n\tXmlLayout.prototype.format = function(loggingEvent) {\n\t\tvar layout = this;\n\t\tvar i, len;\n\t\tfunction formatMessage(message) {\n\t\t\tmessage = (typeof message === \"string\") ? message : toStr(message);\n\t\t\treturn \"<log4javascript:message><![CDATA[\" +\n\t\t\t\tlayout.escapeCdata(message) + \"]]></log4javascript:message>\";\n\t\t}\n\n\t\tvar str = \"<log4javascript:event logger=\\\"\" + loggingEvent.logger.name +\n\t\t\t\"\\\" timestamp=\\\"\" + this.getTimeStampValue(loggingEvent) + \"\\\"\";\n\t\tif (!this.isTimeStampsInMilliseconds()) {\n\t\t\tstr += \" milliseconds=\\\"\" + loggingEvent.milliseconds + \"\\\"\";\n\t\t}\n\t\tstr += \" level=\\\"\" + loggingEvent.level.name + \"\\\">\" + newLine;\n\t\tif (this.combineMessages) {\n\t\t\tstr += formatMessage(loggingEvent.getCombinedMessages());\n\t\t} else {\n\t\t\tstr += \"<log4javascript:messages>\" + newLine;\n\t\t\tfor (i = 0, len = loggingEvent.messages.length; i < len; i++) {\n\t\t\t\tstr += formatMessage(loggingEvent.messages[i]) + newLine;\n\t\t\t}\n\t\t\tstr += \"</log4javascript:messages>\" + newLine;\n\t\t}\n\t\tif (this.hasCustomFields()) {\n\t\t\tfor (i = 0, len = this.customFields.length; i < len; i++) {\n\t\t\t\tstr += \"<log4javascript:customfield name=\\\"\" +\n\t\t\t\t\tthis.customFields[i].name + \"\\\"><![CDATA[\" +\n\t\t\t\t\tthis.customFields[i].value.toString() +\n\t\t\t\t\t\"]]></log4javascript:customfield>\" + newLine;\n\t\t\t}\n\t\t}\n\t\tif (loggingEvent.exception) {\n\t\t\tstr += \"<log4javascript:exception><![CDATA[\" +\n\t\t\t\tgetExceptionStringRep(loggingEvent.exception) +\n\t\t\t\t\"]]></log4javascript:exception>\" + newLine;\n\t\t}\n\t\tstr += \"</log4javascript:event>\" + newLine + newLine;\n\t\treturn str;\n\t};\n\n\tXmlLayout.prototype.ignoresThrowable = function() {\n\t\treturn false;\n\t};\n\n\tXmlLayout.prototype.toString = function() {\n\t\treturn \"XmlLayout\";\n\t};\n\n\tlog4javascript.XmlLayout = XmlLayout;\n\t/* ---------------------------------------------------------------------- */\n\t// JsonLayout related\n\n\tfunction escapeNewLines(str) {\n\t\treturn str.replace(/\\r\\n|\\r|\\n/g, \"\\\\r\\\\n\");\n\t}\n\n\tfunction JsonLayout(readable, combineMessages) {\n\t\tthis.readable = extractBooleanFromParam(readable, false);\n\t\tthis.combineMessages = extractBooleanFromParam(combineMessages, true);\n\t\tthis.batchHeader = this.readable ? \"[\" + newLine : \"[\";\n\t\tthis.batchFooter = this.readable ? \"]\" + newLine : \"]\";\n\t\tthis.batchSeparator = this.readable ? \",\" + newLine : \",\";\n\t\tthis.setKeys();\n\t\tthis.colon = this.readable ? \": \" : \":\";\n\t\tthis.tab = this.readable ? \"\\t\" : \"\";\n\t\tthis.lineBreak = this.readable ? newLine : \"\";\n\t\tthis.customFields = [];\n\t}\n\n\t/* ---------------------------------------------------------------------- */\n\t// JsonLayout\n\n\tJsonLayout.prototype = new Layout();\n\n\tJsonLayout.prototype.isReadable = function() {\n\t\treturn this.readable;\n\t};\n\n\tJsonLayout.prototype.isCombinedMessages = function() {\n\t\treturn this.combineMessages;\n\t};\n\n\tJsonLayout.prototype.format = function(loggingEvent) {\n\t\tvar layout = this;\n\t\tvar dataValues = this.getDataValues(loggingEvent, this.combineMessages);\n\t\tvar str = \"{\" + this.lineBreak;\n\t\tvar i, len;\n\n\t\tfunction formatValue(val, prefix, expand) {\n\t\t\t// Check the type of the data value to decide whether quotation marks\n\t\t\t// or expansion are required\n\t\t\tvar formattedValue;\n\t\t\tvar valType = typeof val;\n\t\t\tif (val instanceof Date) {\n\t\t\t\tformattedValue = String(val.getTime());\n\t\t\t} else if (expand && (val instanceof Array)) {\n\t\t\t\tformattedValue = \"[\" + layout.lineBreak;\n\t\t\t\tfor (var i = 0, len = val.length; i < len; i++) {\n\t\t\t\t\tvar childPrefix = prefix + layout.tab;\n\t\t\t\t\tformattedValue += childPrefix + formatValue(val[i], childPrefix, false);\n\t\t\t\t\tif (i < val.length - 1) {\n\t\t\t\t\t\tformattedValue += \",\";\n\t\t\t\t\t}\n\t\t\t\t\tformattedValue += layout.lineBreak;\n\t\t\t\t}\n\t\t\t\tformattedValue += prefix + \"]\";\n\t\t\t} else if (valType !== \"number\" && valType !== \"boolean\") {\n\t\t\t\tformattedValue = \"\\\"\" + escapeNewLines(toStr(val).replace(/\\\"/g, \"\\\\\\\"\")) + \"\\\"\";\n\t\t\t} else {\n\t\t\t\tformattedValue = val;\n\t\t\t}\n\t\t\treturn formattedValue;\n\t\t}\n\n\t\tfor (i = 0, len = dataValues.length - 1; i <= len; i++) {\n\t\t\tstr += this.tab + \"\\\"\" + dataValues[i][0] + \"\\\"\" + this.colon + formatValue(dataValues[i][1], this.tab, true);\n\t\t\tif (i < len) {\n\t\t\t\tstr += \",\";\n\t\t\t}\n\t\t\tstr += this.lineBreak;\n\t\t}\n\n\t\tstr += \"}\" + this.lineBreak;\n\t\treturn str;\n\t};\n\n\tJsonLayout.prototype.ignoresThrowable = function() {\n\t\treturn false;\n\t};\n\n\tJsonLayout.prototype.toString = function() {\n\t\treturn \"JsonLayout\";\n\t};\n\n\tJsonLayout.prototype.getContentType = function() {\n\t\treturn \"application/json\";\n\t};\n\n\tlog4javascript.JsonLayout = JsonLayout;\n\t/* ---------------------------------------------------------------------- */\n\t// HttpPostDataLayout\n\n\tfunction HttpPostDataLayout() {\n\t\tthis.setKeys();\n\t\tthis.customFields = [];\n\t\tthis.returnsPostData = true;\n\t}\n\n\tHttpPostDataLayout.prototype = new Layout();\n\n\t// Disable batching\n\tHttpPostDataLayout.prototype.allowBatching = function() {\n\t\treturn false;\n\t};\n\n\tHttpPostDataLayout.prototype.format = function(loggingEvent) {\n\t\tvar dataValues = this.getDataValues(loggingEvent);\n\t\tvar queryBits = [];\n\t\tfor (var i = 0, len = dataValues.length; i < len; i++) {\n\t\t\tvar val = (dataValues[i][1] instanceof Date) ?\n\t\t\t\tString(dataValues[i][1].getTime()) : dataValues[i][1];\n\t\t\tqueryBits.push(urlEncode(dataValues[i][0]) + \"=\" + urlEncode(val));\n\t\t}\n\t\treturn queryBits.join(\"&\");\n\t};\n\n\tHttpPostDataLayout.prototype.ignoresThrowable = function(loggingEvent) {\n\t\treturn false;\n\t};\n\n\tHttpPostDataLayout.prototype.toString = function() {\n\t\treturn \"HttpPostDataLayout\";\n\t};\n\n\tlog4javascript.HttpPostDataLayout = HttpPostDataLayout;\n\t/* ---------------------------------------------------------------------- */\n\t// formatObjectExpansion\n\n\tfunction formatObjectExpansion(obj, depth, indentation) {\n\t\tvar objectsExpanded = [];\n\n\t\tfunction doFormat(obj, depth, indentation) {\n\t\t\tvar i, len, childDepth, childIndentation, childLines, expansion,\n\t\t\t\tchildExpansion;\n\n\t\t\tif (!indentation) {\n\t\t\t\tindentation = \"\";\n\t\t\t}\n\n\t\t\tfunction formatString(text) {\n\t\t\t\tvar lines = splitIntoLines(text);\n\t\t\t\tfor (var j = 1, jLen = lines.length; j < jLen; j++) {\n\t\t\t\t\tlines[j] = indentation + lines[j];\n\t\t\t\t}\n\t\t\t\treturn lines.join(newLine);\n\t\t\t}\n\n\t\t\tif (obj === null) {\n\t\t\t\treturn \"null\";\n\t\t\t} else if (typeof obj == \"undefined\") {\n\t\t\t\treturn \"undefined\";\n\t\t\t} else if (typeof obj == \"string\") {\n\t\t\t\treturn formatString(obj);\n\t\t\t} else if (typeof obj == \"object\" && array_contains(objectsExpanded, obj)) {\n\t\t\t\ttry {\n\t\t\t\t\texpansion = toStr(obj);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\texpansion = \"Error formatting property. Details: \" + getExceptionStringRep(ex);\n\t\t\t\t}\n\t\t\t\treturn expansion + \" [already expanded]\";\n\t\t\t} else if ((obj instanceof Array) && depth > 0) {\n\t\t\t\tobjectsExpanded.push(obj);\n\t\t\t\texpansion = \"[\" + newLine;\n\t\t\t\tchildDepth = depth - 1;\n\t\t\t\tchildIndentation = indentation + \"  \";\n\t\t\t\tchildLines = [];\n\t\t\t\tfor (i = 0, len = obj.length; i < len; i++) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tchildExpansion = doFormat(obj[i], childDepth, childIndentation);\n\t\t\t\t\t\tchildLines.push(childIndentation + childExpansion);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tchildLines.push(childIndentation + \"Error formatting array member. Details: \" +\n\t\t\t\t\t\t\tgetExceptionStringRep(ex) + \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\texpansion += childLines.join(\",\" + newLine) + newLine + indentation + \"]\";\n\t\t\t\treturn expansion;\n\t\t\t} else if (Object.prototype.toString.call(obj) == \"[object Date]\") {\n\t\t\t\treturn obj.toString();\n\t\t\t} else if (typeof obj == \"object\" && depth > 0) {\n\t\t\t\tobjectsExpanded.push(obj);\n\t\t\t\texpansion = \"{\" + newLine;\n\t\t\t\tchildDepth = depth - 1;\n\t\t\t\tchildIndentation = indentation + \"  \";\n\t\t\t\tchildLines = [];\n\t\t\t\tfor (i in obj) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tchildExpansion = doFormat(obj[i], childDepth, childIndentation);\n\t\t\t\t\t\tchildLines.push(childIndentation + i + \": \" + childExpansion);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tchildLines.push(childIndentation + i + \": Error formatting property. Details: \" +\n\t\t\t\t\t\t\tgetExceptionStringRep(ex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\texpansion += childLines.join(\",\" + newLine) + newLine + indentation + \"}\";\n\t\t\t\treturn expansion;\n\t\t\t} else {\n\t\t\t\treturn formatString(toStr(obj));\n\t\t\t}\n\t\t}\n\t\treturn doFormat(obj, depth, indentation);\n\t}\n\t/* ---------------------------------------------------------------------- */\n\t// Date-related stuff\n\n\tvar SimpleDateFormat;\n\n\t(function() {\n\t\tvar regex = /('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/;\n\t\tvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n\t\t\t\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\t\tvar dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\t\tvar TEXT2 = 0, TEXT3 = 1, NUMBER = 2, YEAR = 3, MONTH = 4, TIMEZONE = 5;\n\t\tvar types = {\n\t\t\tG : TEXT2,\n\t\t\ty : YEAR,\n\t\t\tM : MONTH,\n\t\t\tw : NUMBER,\n\t\t\tW : NUMBER,\n\t\t\tD : NUMBER,\n\t\t\td : NUMBER,\n\t\t\tF : NUMBER,\n\t\t\tE : TEXT3,\n\t\t\ta : TEXT2,\n\t\t\tH : NUMBER,\n\t\t\tk : NUMBER,\n\t\t\tK : NUMBER,\n\t\t\th : NUMBER,\n\t\t\tm : NUMBER,\n\t\t\ts : NUMBER,\n\t\t\tS : NUMBER,\n\t\t\tZ : TIMEZONE\n\t\t};\n\t\tvar ONE_DAY = 24 * 60 * 60 * 1000;\n\t\tvar ONE_WEEK = 7 * ONE_DAY;\n\t\tvar DEFAULT_MINIMAL_DAYS_IN_FIRST_WEEK = 1;\n\n\t\tvar newDateAtMidnight = function(year, month, day) {\n\t\t\tvar d = new Date(year, month, day, 0, 0, 0);\n\t\t\td.setMilliseconds(0);\n\t\t\treturn d;\n\t\t};\n\n\t\tDate.prototype.getDifference = function(date) {\n\t\t\treturn this.getTime() - date.getTime();\n\t\t};\n\n\t\tDate.prototype.isBefore = function(d) {\n\t\t\treturn this.getTime() < d.getTime();\n\t\t};\n\n\t\tDate.prototype.getUTCTime = function() {\n\t\t\treturn Date.UTC(this.getFullYear(), this.getMonth(), this.getDate(), this.getHours(), this.getMinutes(),\n\t\t\t\t\tthis.getSeconds(), this.getMilliseconds());\n\t\t};\n\n\t\tDate.prototype.getTimeSince = function(d) {\n\t\t\treturn this.getUTCTime() - d.getUTCTime();\n\t\t};\n\n\t\tDate.prototype.getPreviousSunday = function() {\n\t\t\t// Using midday avoids any possibility of DST messing things up\n\t\t\tvar midday = new Date(this.getFullYear(), this.getMonth(), this.getDate(), 12, 0, 0);\n\t\t\tvar previousSunday = new Date(midday.getTime() - this.getDay() * ONE_DAY);\n\t\t\treturn newDateAtMidnight(previousSunday.getFullYear(), previousSunday.getMonth(),\n\t\t\t\t\tpreviousSunday.getDate());\n\t\t};\n\n\t\tDate.prototype.getWeekInYear = function(minimalDaysInFirstWeek) {\n\t\t\tif (isUndefined(this.minimalDaysInFirstWeek)) {\n\t\t\t\tminimalDaysInFirstWeek = DEFAULT_MINIMAL_DAYS_IN_FIRST_WEEK;\n\t\t\t}\n\t\t\tvar previousSunday = this.getPreviousSunday();\n\t\t\tvar startOfYear = newDateAtMidnight(this.getFullYear(), 0, 1);\n\t\t\tvar numberOfSundays = previousSunday.isBefore(startOfYear) ?\n\t\t\t\t0 : 1 + Math.floor(previousSunday.getTimeSince(startOfYear) / ONE_WEEK);\n\t\t\tvar numberOfDaysInFirstWeek =  7 - startOfYear.getDay();\n\t\t\tvar weekInYear = numberOfSundays;\n\t\t\tif (numberOfDaysInFirstWeek < minimalDaysInFirstWeek) {\n\t\t\t\tweekInYear--;\n\t\t\t}\n\t\t\treturn weekInYear;\n\t\t};\n\n\t\tDate.prototype.getWeekInMonth = function(minimalDaysInFirstWeek) {\n\t\t\tif (isUndefined(this.minimalDaysInFirstWeek)) {\n\t\t\t\tminimalDaysInFirstWeek = DEFAULT_MINIMAL_DAYS_IN_FIRST_WEEK;\n\t\t\t}\n\t\t\tvar previousSunday = this.getPreviousSunday();\n\t\t\tvar startOfMonth = newDateAtMidnight(this.getFullYear(), this.getMonth(), 1);\n\t\t\tvar numberOfSundays = previousSunday.isBefore(startOfMonth) ?\n\t\t\t\t0 : 1 + Math.floor(previousSunday.getTimeSince(startOfMonth) / ONE_WEEK);\n\t\t\tvar numberOfDaysInFirstWeek =  7 - startOfMonth.getDay();\n\t\t\tvar weekInMonth = numberOfSundays;\n\t\t\tif (numberOfDaysInFirstWeek >= minimalDaysInFirstWeek) {\n\t\t\t\tweekInMonth++;\n\t\t\t}\n\t\t\treturn weekInMonth;\n\t\t};\n\n\t\tDate.prototype.getDayInYear = function() {\n\t\t\tvar startOfYear = newDateAtMidnight(this.getFullYear(), 0, 1);\n\t\t\treturn 1 + Math.floor(this.getTimeSince(startOfYear) / ONE_DAY);\n\t\t};\n\n\t\t/* ------------------------------------------------------------------ */\n\n\t\tSimpleDateFormat = function(formatString) {\n\t\t\tthis.formatString = formatString;\n\t\t};\n\n\t\t/**\n\t\t * Sets the minimum number of days in a week in order for that week to\n\t\t * be considered as belonging to a particular month or year\n\t\t */\n\t\tSimpleDateFormat.prototype.setMinimalDaysInFirstWeek = function(days) {\n\t\t\tthis.minimalDaysInFirstWeek = days;\n\t\t};\n\n\t\tSimpleDateFormat.prototype.getMinimalDaysInFirstWeek = function() {\n\t\t\treturn isUndefined(this.minimalDaysInFirstWeek)\t?\n\t\t\t\tDEFAULT_MINIMAL_DAYS_IN_FIRST_WEEK : this.minimalDaysInFirstWeek;\n\t\t};\n\n\t\tvar padWithZeroes = function(str, len) {\n\t\t\twhile (str.length < len) {\n\t\t\t\tstr = \"0\" + str;\n\t\t\t}\n\t\t\treturn str;\n\t\t};\n\n\t\tvar formatText = function(data, numberOfLetters, minLength) {\n\t\t\treturn (numberOfLetters >= 4) ? data : data.substr(0, Math.max(minLength, numberOfLetters));\n\t\t};\n\n\t\tvar formatNumber = function(data, numberOfLetters) {\n\t\t\tvar dataString = \"\" + data;\n\t\t\t// Pad with 0s as necessary\n\t\t\treturn padWithZeroes(dataString, numberOfLetters);\n\t\t};\n\n\t\tSimpleDateFormat.prototype.format = function(date) {\n\t\t\tvar formattedString = \"\";\n\t\t\tvar result;\n\t\t\tvar searchString = this.formatString;\n\t\t\twhile ((result = regex.exec(searchString))) {\n\t\t\t\tvar quotedString = result[1];\n\t\t\t\tvar patternLetters = result[2];\n\t\t\t\tvar otherLetters = result[3];\n\t\t\t\tvar otherCharacters = result[4];\n\n\t\t\t\t// If the pattern matched is quoted string, output the text between the quotes\n\t\t\t\tif (quotedString) {\n\t\t\t\t\tif (quotedString == \"''\") {\n\t\t\t\t\t\tformattedString += \"'\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tformattedString += quotedString.substring(1, quotedString.length - 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (otherLetters) {\n\t\t\t\t\t// Swallow non-pattern letters by doing nothing here\n\t\t\t\t} else if (otherCharacters) {\n\t\t\t\t\t// Simply output other characters\n\t\t\t\t\tformattedString += otherCharacters;\n\t\t\t\t} else if (patternLetters) {\n\t\t\t\t\t// Replace pattern letters\n\t\t\t\t\tvar patternLetter = patternLetters.charAt(0);\n\t\t\t\t\tvar numberOfLetters = patternLetters.length;\n\t\t\t\t\tvar rawData = \"\";\n\t\t\t\t\tswitch(patternLetter) {\n\t\t\t\t\t\tcase \"G\":\n\t\t\t\t\t\t\trawData = \"AD\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\t\trawData = date.getFullYear();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\t\trawData = date.getMonth();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"w\":\n\t\t\t\t\t\t\trawData = date.getWeekInYear(this.getMinimalDaysInFirstWeek());\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"W\":\n\t\t\t\t\t\t\trawData = date.getWeekInMonth(this.getMinimalDaysInFirstWeek());\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"D\":\n\t\t\t\t\t\t\trawData = date.getDayInYear();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\t\trawData = date.getDate();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"F\":\n\t\t\t\t\t\t\trawData = 1 + Math.floor((date.getDate() - 1) / 7);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"E\":\n\t\t\t\t\t\t\trawData = dayNames[date.getDay()];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"a\":\n\t\t\t\t\t\t\trawData = (date.getHours() >= 12) ? \"PM\" : \"AM\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"H\":\n\t\t\t\t\t\t\trawData = date.getHours();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"k\":\n\t\t\t\t\t\t\trawData = date.getHours() || 24;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"K\":\n\t\t\t\t\t\t\trawData = date.getHours() % 12;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"h\":\n\t\t\t\t\t\t\trawData = (date.getHours() % 12) || 12;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\t\trawData = date.getMinutes();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"s\":\n\t\t\t\t\t\t\trawData = date.getSeconds();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"S\":\n\t\t\t\t\t\t\trawData = date.getMilliseconds();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"Z\":\n\t\t\t\t\t\t\trawData = date.getTimezoneOffset(); // This returns the number of minutes since GMT was this time.\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t// Format the raw data depending on the type\n\t\t\t\t\tswitch(types[patternLetter]) {\n\t\t\t\t\t\tcase TEXT2:\n\t\t\t\t\t\t\tformattedString += formatText(rawData, numberOfLetters, 2);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase TEXT3:\n\t\t\t\t\t\t\tformattedString += formatText(rawData, numberOfLetters, 3);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase NUMBER:\n\t\t\t\t\t\t\tformattedString += formatNumber(rawData, numberOfLetters);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase YEAR:\n\t\t\t\t\t\t\tif (numberOfLetters <= 3) {\n\t\t\t\t\t\t\t\t// Output a 2-digit year\n\t\t\t\t\t\t\t\tvar dataString = \"\" + rawData;\n\t\t\t\t\t\t\t\tformattedString += dataString.substr(2, 2);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tformattedString += formatNumber(rawData, numberOfLetters);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase MONTH:\n\t\t\t\t\t\t\tif (numberOfLetters >= 3) {\n\t\t\t\t\t\t\t\tformattedString += formatText(monthNames[rawData], numberOfLetters, numberOfLetters);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// NB. Months returned by getMonth are zero-based\n\t\t\t\t\t\t\t\tformattedString += formatNumber(rawData + 1, numberOfLetters);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase TIMEZONE:\n\t\t\t\t\t\t\tvar isPositive = (rawData > 0);\n\t\t\t\t\t\t\t// The following line looks like a mistake but isn't\n\t\t\t\t\t\t\t// because of the way getTimezoneOffset measures.\n\t\t\t\t\t\t\tvar prefix = isPositive ? \"-\" : \"+\";\n\t\t\t\t\t\t\tvar absData = Math.abs(rawData);\n\n\t\t\t\t\t\t\t// Hours\n\t\t\t\t\t\t\tvar hours = \"\" + Math.floor(absData / 60);\n\t\t\t\t\t\t\thours = padWithZeroes(hours, 2);\n\t\t\t\t\t\t\t// Minutes\n\t\t\t\t\t\t\tvar minutes = \"\" + (absData % 60);\n\t\t\t\t\t\t\tminutes = padWithZeroes(minutes, 2);\n\n\t\t\t\t\t\t\tformattedString += prefix + hours + minutes;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsearchString = searchString.substr(result.index + result[0].length);\n\t\t\t}\n\t\t\treturn formattedString;\n\t\t};\n\t})();\n\n\tlog4javascript.SimpleDateFormat = SimpleDateFormat;\n\n\t/* ---------------------------------------------------------------------- */\n\t// PatternLayout\n\n\tfunction PatternLayout(pattern) {\n\t\tif (pattern) {\n\t\t\tthis.pattern = pattern;\n\t\t} else {\n\t\t\tthis.pattern = PatternLayout.DEFAULT_CONVERSION_PATTERN;\n\t\t}\n\t\tthis.customFields = [];\n\t}\n\n\tPatternLayout.TTCC_CONVERSION_PATTERN = \"%r %p %c - %m%n\";\n\tPatternLayout.DEFAULT_CONVERSION_PATTERN = \"%m%n\";\n\tPatternLayout.ISO8601_DATEFORMAT = \"yyyy-MM-dd HH:mm:ss,SSS\";\n\tPatternLayout.DATETIME_DATEFORMAT = \"dd MMM yyyy HH:mm:ss,SSS\";\n\tPatternLayout.ABSOLUTETIME_DATEFORMAT = \"HH:mm:ss,SSS\";\n\n\tPatternLayout.prototype = new Layout();\n\n\tPatternLayout.prototype.format = function(loggingEvent) {\n\t\tvar regex = /%(-?[0-9]+)?(\\.?[0-9]+)?([acdfmMnpr%])(\\{([^\\}]+)\\})?|([^%]+)/;\n\t\tvar formattedString = \"\";\n\t\tvar result;\n\t\tvar searchString = this.pattern;\n\n\t\t// Cannot use regex global flag since it doesn't work with exec in IE5\n\t\twhile ((result = regex.exec(searchString))) {\n\t\t\tvar matchedString = result[0];\n\t\t\tvar padding = result[1];\n\t\t\tvar truncation = result[2];\n\t\t\tvar conversionCharacter = result[3];\n\t\t\tvar specifier = result[5];\n\t\t\tvar text = result[6];\n\n\t\t\t// Check if the pattern matched was just normal text\n\t\t\tif (text) {\n\t\t\t\tformattedString += \"\" + text;\n\t\t\t} else {\n\t\t\t\t// Create a raw replacement string based on the conversion\n\t\t\t\t// character and specifier\n\t\t\t\tvar replacement = \"\";\n\t\t\t\tswitch(conversionCharacter) {\n\t\t\t\t\tcase \"a\": // Array of messages\n\t\t\t\t\tcase \"m\": // Message\n\t\t\t\t\t\tvar depth = 0;\n\t\t\t\t\t\tif (specifier) {\n\t\t\t\t\t\t\tdepth = parseInt(specifier, 10);\n\t\t\t\t\t\t\tif (isNaN(depth)) {\n\t\t\t\t\t\t\t\thandleError(\"PatternLayout.format: invalid specifier '\" +\n\t\t\t\t\t\t\t\t\tspecifier + \"' for conversion character '\" + conversionCharacter +\n\t\t\t\t\t\t\t\t\t\"' - should be a number\");\n\t\t\t\t\t\t\t\tdepth = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar messages = (conversionCharacter === \"a\") ? loggingEvent.messages[0] : loggingEvent.messages;\n\t\t\t\t\t\tfor (var i = 0, len = messages.length; i < len; i++) {\n\t\t\t\t\t\t\tif (i > 0 && (replacement.charAt(replacement.length - 1) !== \" \")) {\n\t\t\t\t\t\t\t\treplacement += \" \";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (depth === 0) {\n\t\t\t\t\t\t\t\treplacement += messages[i];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treplacement += formatObjectExpansion(messages[i], depth);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"c\": // Logger name\n\t\t\t\t\t\tvar loggerName = loggingEvent.logger.name;\n\t\t\t\t\t\tif (specifier) {\n\t\t\t\t\t\t\tvar precision = parseInt(specifier, 10);\n\t\t\t\t\t\t\tvar loggerNameBits = loggingEvent.logger.name.split(\".\");\n\t\t\t\t\t\t\tif (precision >= loggerNameBits.length) {\n\t\t\t\t\t\t\t\treplacement = loggerName;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treplacement = loggerNameBits.slice(loggerNameBits.length - precision).join(\".\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treplacement = loggerName;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"d\": // Date\n\t\t\t\t\t\tvar dateFormat = PatternLayout.ISO8601_DATEFORMAT;\n\t\t\t\t\t\tif (specifier) {\n\t\t\t\t\t\t\tdateFormat = specifier;\n\t\t\t\t\t\t\t// Pick up special cases\n\t\t\t\t\t\t\tif (dateFormat == \"ISO8601\") {\n\t\t\t\t\t\t\t\tdateFormat = PatternLayout.ISO8601_DATEFORMAT;\n\t\t\t\t\t\t\t} else if (dateFormat == \"ABSOLUTE\") {\n\t\t\t\t\t\t\t\tdateFormat = PatternLayout.ABSOLUTETIME_DATEFORMAT;\n\t\t\t\t\t\t\t} else if (dateFormat == \"DATE\") {\n\t\t\t\t\t\t\t\tdateFormat = PatternLayout.DATETIME_DATEFORMAT;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Format the date\n\t\t\t\t\t\treplacement = (new SimpleDateFormat(dateFormat)).format(loggingEvent.timeStamp);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"f\": // Custom field\n\t\t\t\t\t\tif (this.hasCustomFields()) {\n\t\t\t\t\t\t\tvar fieldIndex = 0;\n\t\t\t\t\t\t\tif (specifier) {\n\t\t\t\t\t\t\t\tfieldIndex = parseInt(specifier, 10);\n\t\t\t\t\t\t\t\tif (isNaN(fieldIndex)) {\n\t\t\t\t\t\t\t\t\thandleError(\"PatternLayout.format: invalid specifier '\" +\n\t\t\t\t\t\t\t\t\t\tspecifier + \"' for conversion character 'f' - should be a number\");\n\t\t\t\t\t\t\t\t} else if (fieldIndex === 0) {\n\t\t\t\t\t\t\t\t\thandleError(\"PatternLayout.format: invalid specifier '\" +\n\t\t\t\t\t\t\t\t\t\tspecifier + \"' for conversion character 'f' - must be greater than zero\");\n\t\t\t\t\t\t\t\t} else if (fieldIndex > this.customFields.length) {\n\t\t\t\t\t\t\t\t\thandleError(\"PatternLayout.format: invalid specifier '\" +\n\t\t\t\t\t\t\t\t\t\tspecifier + \"' for conversion character 'f' - there aren't that many custom fields\");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfieldIndex = fieldIndex - 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar val = this.customFields[fieldIndex].value;\n\t\t\t\t\t\t\tif (typeof val == \"function\") {\n\t\t\t\t\t\t\t\tval = val(this, loggingEvent);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treplacement = val;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"n\": // New line\n\t\t\t\t\t\treplacement = newLine;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"p\": // Level\n\t\t\t\t\t\treplacement = loggingEvent.level.name;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"r\": // Milliseconds since log4javascript startup\n\t\t\t\t\t\treplacement = \"\" + loggingEvent.timeStamp.getDifference(applicationStartDate);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%\": // Literal % sign\n\t\t\t\t\t\treplacement = \"%\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treplacement = matchedString;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// Format the replacement according to any padding or\n\t\t\t\t// truncation specified\n\t\t\t\tvar l;\n\n\t\t\t\t// First, truncation\n\t\t\t\tif (truncation) {\n\t\t\t\t\tl = parseInt(truncation.substr(1), 10);\n\t\t\t\t\tvar strLen = replacement.length;\n\t\t\t\t\tif (l < strLen) {\n\t\t\t\t\t\treplacement = replacement.substring(strLen - l, strLen);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Next, padding\n\t\t\t\tif (padding) {\n\t\t\t\t\tif (padding.charAt(0) == \"-\") {\n\t\t\t\t\t\tl = parseInt(padding.substr(1), 10);\n\t\t\t\t\t\t// Right pad with spaces\n\t\t\t\t\t\twhile (replacement.length < l) {\n\t\t\t\t\t\t\treplacement += \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tl = parseInt(padding, 10);\n\t\t\t\t\t\t// Left pad with spaces\n\t\t\t\t\t\twhile (replacement.length < l) {\n\t\t\t\t\t\t\treplacement = \" \" + replacement;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tformattedString += replacement;\n\t\t\t}\n\t\t\tsearchString = searchString.substr(result.index + result[0].length);\n\t\t}\n\t\treturn formattedString;\n\t};\n\n\tPatternLayout.prototype.ignoresThrowable = function() {\n\t\treturn true;\n\t};\n\n\tPatternLayout.prototype.toString = function() {\n\t\treturn \"PatternLayout\";\n\t};\n\n\tlog4javascript.PatternLayout = PatternLayout;\n\t/* ---------------------------------------------------------------------- */\n\t// AlertAppender\n\n\tfunction AlertAppender() {}\n\n\tAlertAppender.prototype = new Appender();\n\n\tAlertAppender.prototype.layout = new SimpleLayout();\n\n\tAlertAppender.prototype.append = function(loggingEvent) {\n\t\talert( this.getLayout().formatWithException(loggingEvent) );\n\t};\n\n\tAlertAppender.prototype.toString = function() {\n\t\treturn \"AlertAppender\";\n\t};\n\n\tlog4javascript.AlertAppender = AlertAppender;\n\t/* ---------------------------------------------------------------------- */\n\t// BrowserConsoleAppender (only works in Opera and Safari and Firefox with\n\t// Firebug extension)\n\n\tfunction BrowserConsoleAppender() {}\n\n\tBrowserConsoleAppender.prototype = new log4javascript.Appender();\n\tBrowserConsoleAppender.prototype.layout = new NullLayout();\n\tBrowserConsoleAppender.prototype.threshold = Level.DEBUG;\n\n\tBrowserConsoleAppender.prototype.append = function(loggingEvent) {\n\t\tvar appender = this;\n\n\t\tvar getFormattedMessage = function(concatenate) {\n\t\t\tvar formattedMessage = appender.getLayout().formatWithException(loggingEvent);\n\t\t\treturn (typeof formattedMessage == \"string\") ?\n\t\t\t\t(concatenate ? formattedMessage : [formattedMessage]) :\n\t\t\t\t(concatenate ? formattedMessage.join(\" \") : formattedMessage);\n\t\t};\n\n\t\tvar console = window.console;\n\n\t\tif (console && console.log) {\n\t\t\t// Log to Firebug or the browser console using specific logging\n\t\t\t// methods or revert to console.log otherwise\n\t\t\tvar consoleMethodName;\n\n\t\t\tif (console.debug && Level.DEBUG.isGreaterOrEqual(loggingEvent.level)) {\n\t\t\t\tconsoleMethodName = \"debug\";\n\t\t\t} else if (console.info && Level.INFO.equals(loggingEvent.level)) {\n\t\t\t\tconsoleMethodName = \"info\";\n\t\t\t} else if (console.warn && Level.WARN.equals(loggingEvent.level)) {\n\t\t\t\tconsoleMethodName = \"warn\";\n\t\t\t} else if (console.error && loggingEvent.level.isGreaterOrEqual(Level.ERROR)) {\n\t\t\t\tconsoleMethodName = \"error\";\n\t\t\t} else {\n\t\t\t\tconsoleMethodName = \"log\";\n\t\t\t}\n\n\t\t\tif (typeof console[consoleMethodName].apply == \"function\") {\n\t\t\t\tconsole[consoleMethodName].apply(console, getFormattedMessage(false));\n\t\t\t} else {\n\t\t\t\tconsole[consoleMethodName]( getFormattedMessage(true) );\n\t\t\t}\n\t\t} else if ((typeof opera != \"undefined\") && opera.postError) { // Opera\n\t\t\topera.postError( getFormattedMessage(true) );\n\t\t}\n\t};\n\n\tBrowserConsoleAppender.prototype.group = function(name) {\n\t\tif (window.console && window.console.group) {\n\t\t\twindow.console.group(name);\n\t\t}\n\t};\n\n\tBrowserConsoleAppender.prototype.groupEnd = function() {\n\t\tif (window.console && window.console.groupEnd) {\n\t\t\twindow.console.groupEnd();\n\t\t}\n\t};\n\n\tBrowserConsoleAppender.prototype.toString = function() {\n\t\treturn \"BrowserConsoleAppender\";\n\t};\n\n\tlog4javascript.BrowserConsoleAppender = BrowserConsoleAppender;\n\t/* ---------------------------------------------------------------------- */\n\t// AjaxAppender related\n\n\tvar xhrFactory = function() { return new XMLHttpRequest(); };\n\tvar xmlHttpFactories = [\n\t\txhrFactory,\n\t\tfunction() { return new ActiveXObject(\"Msxml2.XMLHTTP\"); },\n\t\tfunction() { return new ActiveXObject(\"Microsoft.XMLHTTP\"); }\n\t];\n\n\tvar withCredentialsSupported = false;\n\tvar getXmlHttp = function(errorHandler) {\n\t\t// This is only run the first time; the value of getXmlHttp gets\n\t\t// replaced with the factory that succeeds on the first run\n\t\tvar xmlHttp = null, factory;\n\t\tfor (var i = 0, len = xmlHttpFactories.length; i < len; i++) {\n\t\t\tfactory = xmlHttpFactories[i];\n\t\t\ttry {\n\t\t\t\txmlHttp = factory();\n\t\t\t\twithCredentialsSupported = (factory == xhrFactory && (\"withCredentials\" in xmlHttp));\n\t\t\t\tgetXmlHttp = factory;\n\t\t\t\treturn xmlHttp;\n\t\t\t} catch (e) {\n\t\t\t}\n\t\t}\n\t\t// If we're here, all factories have failed, so throw an error\n\t\tif (errorHandler) {\n\t\t\terrorHandler();\n\t\t} else {\n\t\t\thandleError(\"getXmlHttp: unable to obtain XMLHttpRequest object\");\n\t\t}\n\t};\n\n\tfunction isHttpRequestSuccessful(xmlHttp) {\n\t\treturn isUndefined(xmlHttp.status) || xmlHttp.status === 0 ||\n\t\t\t(xmlHttp.status >= 200 && xmlHttp.status < 300) ||\n\t\t\txmlHttp.status == 1223 /* Fix for IE */;\n\t}\n\n\t/* ---------------------------------------------------------------------- */\n\t// AjaxAppender\n\n\tfunction AjaxAppender(url, withCredentials) {\n\t\tvar appender = this;\n\t\tvar isSupported = true;\n\t\tif (!url) {\n\t\t\thandleError(\"AjaxAppender: URL must be specified in constructor\");\n\t\t\tisSupported = false;\n\t\t}\n\n\t\tvar timed = this.defaults.timed;\n\t\tvar waitForResponse = this.defaults.waitForResponse;\n\t\tvar batchSize = this.defaults.batchSize;\n\t\tvar timerInterval = this.defaults.timerInterval;\n\t\tvar requestSuccessCallback = this.defaults.requestSuccessCallback;\n\t\tvar failCallback = this.defaults.failCallback;\n\t\tvar postVarName = this.defaults.postVarName;\n\t\tvar sendAllOnUnload = this.defaults.sendAllOnUnload;\n\t\tvar contentType = this.defaults.contentType;\n\t\tvar sessionId = null;\n\n\t\tvar queuedLoggingEvents = [];\n\t\tvar queuedRequests = [];\n\t\tvar headers = [];\n\t\tvar sending = false;\n\t\tvar initialized = false;\n\n\t\t// Configuration methods. The function scope is used to prevent\n\t\t// direct alteration to the appender configuration properties.\n\t\tfunction checkCanConfigure(configOptionName) {\n\t\t\tif (initialized) {\n\t\t\t\thandleError(\"AjaxAppender: configuration option '\" +\n\t\t\t\t\tconfigOptionName +\n\t\t\t\t\t\"' may not be set after the appender has been initialized\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.getSessionId = function() { return sessionId; };\n\t\tthis.setSessionId = function(sessionIdParam) {\n\t\t\tsessionId = extractStringFromParam(sessionIdParam, null);\n\t\t\tthis.layout.setCustomField(\"sessionid\", sessionId);\n\t\t};\n\n\t\tthis.setLayout = function(layoutParam) {\n\t\t\tif (checkCanConfigure(\"layout\")) {\n\t\t\t\tthis.layout = layoutParam;\n\t\t\t\t// Set the session id as a custom field on the layout, if not already present\n\t\t\t\tif (sessionId !== null) {\n\t\t\t\t\tthis.setSessionId(sessionId);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.isTimed = function() { return timed; };\n\t\tthis.setTimed = function(timedParam) {\n\t\t\tif (checkCanConfigure(\"timed\")) {\n\t\t\t\ttimed = bool(timedParam);\n\t\t\t}\n\t\t};\n\n\t\tthis.getTimerInterval = function() { return timerInterval; };\n\t\tthis.setTimerInterval = function(timerIntervalParam) {\n\t\t\tif (checkCanConfigure(\"timerInterval\")) {\n\t\t\t\ttimerInterval = extractIntFromParam(timerIntervalParam, timerInterval);\n\t\t\t}\n\t\t};\n\n\t\tthis.isWaitForResponse = function() { return waitForResponse; };\n\t\tthis.setWaitForResponse = function(waitForResponseParam) {\n\t\t\tif (checkCanConfigure(\"waitForResponse\")) {\n\t\t\t\twaitForResponse = bool(waitForResponseParam);\n\t\t\t}\n\t\t};\n\n\t\tthis.getBatchSize = function() { return batchSize; };\n\t\tthis.setBatchSize = function(batchSizeParam) {\n\t\t\tif (checkCanConfigure(\"batchSize\")) {\n\t\t\t\tbatchSize = extractIntFromParam(batchSizeParam, batchSize);\n\t\t\t}\n\t\t};\n\n\t\tthis.isSendAllOnUnload = function() { return sendAllOnUnload; };\n\t\tthis.setSendAllOnUnload = function(sendAllOnUnloadParam) {\n\t\t\tif (checkCanConfigure(\"sendAllOnUnload\")) {\n\t\t\t\tsendAllOnUnload = extractBooleanFromParam(sendAllOnUnloadParam, sendAllOnUnload);\n\t\t\t}\n\t\t};\n\n\t\tthis.setRequestSuccessCallback = function(requestSuccessCallbackParam) {\n\t\t\trequestSuccessCallback = extractFunctionFromParam(requestSuccessCallbackParam, requestSuccessCallback);\n\t\t};\n\n\t\tthis.setFailCallback = function(failCallbackParam) {\n\t\t\tfailCallback = extractFunctionFromParam(failCallbackParam, failCallback);\n\t\t};\n\n\t\tthis.getPostVarName = function() { return postVarName; };\n\t\tthis.setPostVarName = function(postVarNameParam) {\n\t\t\tif (checkCanConfigure(\"postVarName\")) {\n\t\t\t\tpostVarName = extractStringFromParam(postVarNameParam, postVarName);\n\t\t\t}\n\t\t};\n\n\t\tthis.getHeaders = function() { return headers; };\n\t\tthis.addHeader = function(name, value) {\n\t\t\tif (name.toLowerCase() == \"content-type\") {\n\t\t\t\tcontentType = value;\n\t\t\t} else {\n\t\t\t\theaders.push( { name: name, value: value } );\n\t\t\t}\n\t\t};\n\n\t\t// Internal functions\n\t\tfunction sendAll() {\n\t\t\tif (isSupported && enabled) {\n\t\t\t\tsending = true;\n\t\t\t\tvar currentRequestBatch;\n\t\t\t\tif (waitForResponse) {\n\t\t\t\t\t// Send the first request then use this function as the callback once\n\t\t\t\t\t// the response comes back\n\t\t\t\t\tif (queuedRequests.length > 0) {\n\t\t\t\t\t\tcurrentRequestBatch = queuedRequests.shift();\n\t\t\t\t\t\tsendRequest(preparePostData(currentRequestBatch), sendAll);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsending = false;\n\t\t\t\t\t\tif (timed) {\n\t\t\t\t\t\t\tscheduleSending();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Rattle off all the requests without waiting to see the response\n\t\t\t\t\twhile ((currentRequestBatch = queuedRequests.shift())) {\n\t\t\t\t\t\tsendRequest(preparePostData(currentRequestBatch));\n\t\t\t\t\t}\n\t\t\t\t\tsending = false;\n\t\t\t\t\tif (timed) {\n\t\t\t\t\t\tscheduleSending();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.sendAll = sendAll;\n\n\t\t// Called when the window unloads. At this point we're past caring about\n\t\t// waiting for responses or timers or incomplete batches - everything\n\t\t// must go, now\n\t\tfunction sendAllRemaining() {\n\t\t\tvar sendingAnything = false;\n\t\t\tif (isSupported && enabled) {\n\t\t\t\t// Create requests for everything left over, batched as normal\n\t\t\t\tvar actualBatchSize = appender.getLayout().allowBatching() ? batchSize : 1;\n\t\t\t\tvar currentLoggingEvent;\n\t\t\t\tvar batchedLoggingEvents = [];\n\t\t\t\twhile ((currentLoggingEvent = queuedLoggingEvents.shift())) {\n\t\t\t\t\tbatchedLoggingEvents.push(currentLoggingEvent);\n\t\t\t\t\tif (queuedLoggingEvents.length >= actualBatchSize) {\n\t\t\t\t\t\t// Queue this batch of log entries\n\t\t\t\t\t\tqueuedRequests.push(batchedLoggingEvents);\n\t\t\t\t\t\tbatchedLoggingEvents = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// If there's a partially completed batch, add it\n\t\t\t\tif (batchedLoggingEvents.length > 0) {\n\t\t\t\t\tqueuedRequests.push(batchedLoggingEvents);\n\t\t\t\t}\n\t\t\t\tsendingAnything = (queuedRequests.length > 0);\n\t\t\t\twaitForResponse = false;\n\t\t\t\ttimed = false;\n\t\t\t\tsendAll();\n\t\t\t}\n\t\t\treturn sendingAnything;\n\t\t}\n\n\t\tthis.sendAllRemaining = sendAllRemaining;\n\n\t\tfunction preparePostData(batchedLoggingEvents) {\n\t\t\t// Format the logging events\n\t\t\tvar formattedMessages = [];\n\t\t\tvar currentLoggingEvent;\n\t\t\tvar postData = \"\";\n\t\t\twhile ((currentLoggingEvent = batchedLoggingEvents.shift())) {\n\t\t\t\tformattedMessages.push( appender.getLayout().formatWithException(currentLoggingEvent) );\n\t\t\t}\n\t\t\t// Create the post data string\n\t\t\tif (batchedLoggingEvents.length == 1) {\n\t\t\t\tpostData = formattedMessages.join(\"\");\n\t\t\t} else {\n\t\t\t\tpostData = appender.getLayout().batchHeader +\n\t\t\t\t\tformattedMessages.join(appender.getLayout().batchSeparator) +\n\t\t\t\t\tappender.getLayout().batchFooter;\n\t\t\t}\n\t\t\tif (contentType == appender.defaults.contentType) {\n\t\t\t\tpostData = appender.getLayout().returnsPostData ? postData :\n\t\t\t\t\turlEncode(postVarName) + \"=\" + urlEncode(postData);\n\t\t\t\t// Add the layout name to the post data\n\t\t\t\tif (postData.length > 0) {\n\t\t\t\t\tpostData += \"&\";\n\t\t\t\t}\n\t\t\t\tpostData += \"layout=\" + urlEncode(appender.getLayout().toString());\n\t\t\t}\n\t\t\treturn postData;\n\t\t}\n\n\t\tfunction scheduleSending() {\n\t\t\twindow.setTimeout(sendAll, timerInterval);\n\t\t}\n\n\t\tfunction xmlHttpErrorHandler() {\n\t\t\tvar msg = \"AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled\";\n\t\t\thandleError(msg);\n\t\t\tisSupported = false;\n\t\t\tif (failCallback) {\n\t\t\t\tfailCallback(msg);\n\t\t\t}\n\t\t}\n\n\t\tfunction sendRequest(postData, successCallback) {\n\t\t\ttry {\n\t\t\t\tvar xmlHttp = getXmlHttp(xmlHttpErrorHandler);\n\t\t\t\tif (isSupported) {\n\t\t\t\t\txmlHttp.onreadystatechange = function() {\n\t\t\t\t\t\tif (xmlHttp.readyState == 4) {\n\t\t\t\t\t\t\tif (isHttpRequestSuccessful(xmlHttp)) {\n\t\t\t\t\t\t\t\tif (requestSuccessCallback) {\n\t\t\t\t\t\t\t\t\trequestSuccessCallback(xmlHttp);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (successCallback) {\n\t\t\t\t\t\t\t\t\tsuccessCallback(xmlHttp);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar msg = \"AjaxAppender.append: XMLHttpRequest request to URL \" +\n\t\t\t\t\t\t\t\t\turl + \" returned status code \" + xmlHttp.status;\n\t\t\t\t\t\t\t\thandleError(msg);\n\t\t\t\t\t\t\t\tif (failCallback) {\n\t\t\t\t\t\t\t\t\tfailCallback(msg);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\txmlHttp.onreadystatechange = emptyFunction;\n\t\t\t\t\t\t\txmlHttp = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\txmlHttp.open(\"POST\", url, true);\n\t\t\t\t\t// Add withCredentials to facilitate CORS requests with cookies\n\t\t\t\t\tif (withCredentials && withCredentialsSupported) {\n\t\t\t\t\t\txmlHttp.withCredentials = true;\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var i = 0, header; header = headers[i++]; ) {\n\t\t\t\t\t\t\txmlHttp.setRequestHeader(header.name, header.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\txmlHttp.setRequestHeader(\"Content-Type\", contentType);\n\t\t\t\t\t} catch (headerEx) {\n\t\t\t\t\t\tvar msg = \"AjaxAppender.append: your browser's XMLHttpRequest implementation\" +\n\t\t\t\t\t\t\t\" does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled\";\n\t\t\t\t\t\thandleError(msg);\n\t\t\t\t\t\tisSupported = false;\n\t\t\t\t\t\tif (failCallback) {\n\t\t\t\t\t\t\tfailCallback(msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\txmlHttp.send(postData);\n\t\t\t\t}\n\t\t\t} catch (ex) {\n\t\t\t\tvar errMsg = \"AjaxAppender.append: error sending log message to \" + url;\n\t\t\t\thandleError(errMsg, ex);\n\t\t\t\tisSupported = false;\n\t\t\t\tif (failCallback) {\n\t\t\t\t\tfailCallback(errMsg + \". Details: \" + getExceptionStringRep(ex));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.append = function(loggingEvent) {\n\t\t\tif (isSupported) {\n\t\t\t\tif (!initialized) {\n\t\t\t\t\tinit();\n\t\t\t\t}\n\t\t\t\tqueuedLoggingEvents.push(loggingEvent);\n\t\t\t\tvar actualBatchSize = this.getLayout().allowBatching() ? batchSize : 1;\n\n\t\t\t\tif (queuedLoggingEvents.length >= actualBatchSize) {\n\t\t\t\t\tvar currentLoggingEvent;\n\t\t\t\t\tvar batchedLoggingEvents = [];\n\t\t\t\t\twhile ((currentLoggingEvent = queuedLoggingEvents.shift())) {\n\t\t\t\t\t\tbatchedLoggingEvents.push(currentLoggingEvent);\n\t\t\t\t\t}\n\t\t\t\t\t// Queue this batch of log entries\n\t\t\t\t\tqueuedRequests.push(batchedLoggingEvents);\n\n\t\t\t\t\t// If using a timer, the queue of requests will be processed by the\n\t\t\t\t\t// timer function, so nothing needs to be done here.\n\t\t\t\t\tif (!timed && (!waitForResponse || (waitForResponse && !sending))) {\n\t\t\t\t\t\tsendAll();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfunction init() {\n\t\t\tinitialized = true;\n\t\t\t// Add unload event to send outstanding messages\n\t\t\tif (sendAllOnUnload) {\n\t\t\t\tvar oldBeforeUnload = window.onbeforeunload;\n\t\t\t\twindow.onbeforeunload = function() {\n\t\t\t\t\tif (oldBeforeUnload) {\n\t\t\t\t\t\toldBeforeUnload();\n\t\t\t\t\t}\n\t\t\t\t\tsendAllRemaining();\n\t\t\t\t};\n\t\t\t}\n\t\t\t// Start timer\n\t\t\tif (timed) {\n\t\t\t\tscheduleSending();\n\t\t\t}\n\t\t}\n\t}\n\n\tAjaxAppender.prototype = new Appender();\n\n\tAjaxAppender.prototype.defaults = {\n\t\twaitForResponse: false,\n\t\ttimed: false,\n\t\ttimerInterval: 1000,\n\t\tbatchSize: 1,\n\t\tsendAllOnUnload: false,\n\t\trequestSuccessCallback: null,\n\t\tfailCallback: null,\n\t\tpostVarName: \"data\",\n\t\tcontentType: \"application/x-www-form-urlencoded\"\n\t};\n\n\tAjaxAppender.prototype.layout = new HttpPostDataLayout();\n\n\tAjaxAppender.prototype.toString = function() {\n\t\treturn \"AjaxAppender\";\n\t};\n\n\tlog4javascript.AjaxAppender = AjaxAppender;\n\t/* ---------------------------------------------------------------------- */\n\t// PopUpAppender and InPageAppender related\n\n\tfunction setCookie(name, value, days, path) {\n\t\tvar expires;\n\t\tpath = path ? \"; path=\" + path : \"\";\n\t\tif (days) {\n\t\t\tvar date = new Date();\n\t\t\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n\t\t\texpires = \"; expires=\" + date.toGMTString();\n\t\t} else {\n\t\t\texpires = \"\";\n\t\t}\n\t\tdocument.cookie = escape(name) + \"=\" + escape(value) + expires + path;\n\t}\n\n\tfunction getCookie(name) {\n\t\tvar nameEquals = escape(name) + \"=\";\n\t\tvar ca = document.cookie.split(\";\");\n\t\tfor (var i = 0, len = ca.length; i < len; i++) {\n\t\t\tvar c = ca[i];\n\t\t\twhile (c.charAt(0) === \" \") {\n\t\t\t\tc = c.substring(1, c.length);\n\t\t\t}\n\t\t\tif (c.indexOf(nameEquals) === 0) {\n\t\t\t\treturn unescape(c.substring(nameEquals.length, c.length));\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t// Gets the base URL of the location of the log4javascript script.\n\t// This is far from infallible.\n\tfunction getBaseUrl() {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor (var i = 0, len = scripts.length; i < len; ++i) {\n\t\t\tif (scripts[i].src.indexOf(\"log4javascript\") != -1) {\n\t\t\t\tvar lastSlash = scripts[i].src.lastIndexOf(\"/\");\n\t\t\t\treturn (lastSlash == -1) ? \"\" : scripts[i].src.substr(0, lastSlash + 1);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction isLoaded(win) {\n\t\ttry {\n\t\t\treturn bool(win.loaded);\n\t\t} catch (ex) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/* ---------------------------------------------------------------------- */\n\t// ConsoleAppender (prototype for PopUpAppender and InPageAppender)\n\n\tvar ConsoleAppender;\n\n\t// Create an anonymous function to protect base console methods\n\t(function() {\n\t\tvar getConsoleHtmlLines = function() {\n\t\t\treturn [\n'<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">',\n'<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\">',\n'\t<head>',\n'\t\t<title>log4javascript</title>',\n'\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />',\n'\t\t<!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work -->',\n'\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />',\n'\t\t<script type=\"text/javascript\">var isIe = false, isIePre7 = false;</script>',\n'\t\t<!--[if IE]><script type=\"text/javascript\">isIe = true</script><![endif]-->',\n'\t\t<!--[if lt IE 7]><script type=\"text/javascript\">isIePre7 = true</script><![endif]-->',\n'\t\t<script type=\"text/javascript\">',\n'\t\t\t//<![CDATA[',\n'\t\t\tvar loggingEnabled = true;',\n'\t\t\tvar logQueuedEventsTimer = null;',\n'\t\t\tvar logEntries = [];',\n'\t\t\tvar logEntriesAndSeparators = [];',\n'\t\t\tvar logItems = [];',\n'\t\t\tvar renderDelay = 100;',\n'\t\t\tvar unrenderedLogItemsExist = false;',\n'\t\t\tvar rootGroup, currentGroup = null;',\n'\t\t\tvar loaded = false;',\n'\t\t\tvar currentLogItem = null;',\n'\t\t\tvar logMainContainer;',\n'',\n'\t\t\tfunction copyProperties(obj, props) {',\n'\t\t\t\tfor (var i in props) {',\n'\t\t\t\t\tobj[i] = props[i];',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogItem() {',\n'\t\t\t}',\n'',\n'\t\t\tLogItem.prototype = {',\n'\t\t\t\tmainContainer: null,',\n'\t\t\t\twrappedContainer: null,',\n'\t\t\t\tunwrappedContainer: null,',\n'\t\t\t\tgroup: null,',\n'',\n'\t\t\t\tappendToLog: function() {',\n'\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\tthis.elementContainers[i].appendToLog();',\n'\t\t\t\t\t}',\n'\t\t\t\t\tthis.group.update();',\n'\t\t\t\t},',\n'',\n'\t\t\t\tdoRemove: function(doUpdate, removeFromGroup) {',\n'\t\t\t\t\tif (this.rendered) {',\n'\t\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\t\tthis.elementContainers[i].remove();',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tthis.unwrappedElementContainer = null;',\n'\t\t\t\t\t\tthis.wrappedElementContainer = null;',\n'\t\t\t\t\t\tthis.mainElementContainer = null;',\n'\t\t\t\t\t}',\n'\t\t\t\t\tif (this.group && removeFromGroup) {',\n'\t\t\t\t\t\tthis.group.removeChild(this, doUpdate);',\n'\t\t\t\t\t}',\n'\t\t\t\t\tif (this === currentLogItem) {',\n'\t\t\t\t\t\tcurrentLogItem = null;',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tremove: function(doUpdate, removeFromGroup) {',\n'\t\t\t\t\tthis.doRemove(doUpdate, removeFromGroup);',\n'\t\t\t\t},',\n'',\n'\t\t\t\trender: function() {},',\n'',\n'\t\t\t\taccept: function(visitor) {',\n'\t\t\t\t\tvisitor.visit(this);',\n'\t\t\t\t},',\n'',\n'\t\t\t\tgetUnwrappedDomContainer: function() {',\n'\t\t\t\t\treturn this.group.unwrappedElementContainer.contentDiv;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tgetWrappedDomContainer: function() {',\n'\t\t\t\t\treturn this.group.wrappedElementContainer.contentDiv;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tgetMainDomContainer: function() {',\n'\t\t\t\t\treturn this.group.mainElementContainer.contentDiv;',\n'\t\t\t\t}',\n'\t\t\t};',\n'',\n'\t\t\tLogItem.serializedItemKeys = {LOG_ENTRY: 0, GROUP_START: 1, GROUP_END: 2};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogItemContainerElement() {',\n'\t\t\t}',\n'',\n'\t\t\tLogItemContainerElement.prototype = {',\n'\t\t\t\tappendToLog: function() {',\n'\t\t\t\t\tvar insertBeforeFirst = (newestAtTop && this.containerDomNode.hasChildNodes());',\n'\t\t\t\t\tif (insertBeforeFirst) {',\n'\t\t\t\t\t\tthis.containerDomNode.insertBefore(this.mainDiv, this.containerDomNode.firstChild);',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tthis.containerDomNode.appendChild(this.mainDiv);',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction SeparatorElementContainer(containerDomNode) {',\n'\t\t\t\tthis.containerDomNode = containerDomNode;',\n'\t\t\t\tthis.mainDiv = document.createElement(\"div\");',\n'\t\t\t\tthis.mainDiv.className = \"separator\";',\n'\t\t\t\tthis.mainDiv.innerHTML = \"&nbsp;\";',\n'\t\t\t}',\n'',\n'\t\t\tSeparatorElementContainer.prototype = new LogItemContainerElement();',\n'',\n'\t\t\tSeparatorElementContainer.prototype.remove = function() {',\n'\t\t\t\tthis.mainDiv.parentNode.removeChild(this.mainDiv);',\n'\t\t\t\tthis.mainDiv = null;',\n'\t\t\t};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction Separator() {',\n'\t\t\t\tthis.rendered = false;',\n'\t\t\t}',\n'',\n'\t\t\tSeparator.prototype = new LogItem();',\n'',\n'\t\t\tcopyProperties(Separator.prototype, {',\n'\t\t\t\trender: function() {',\n'\t\t\t\t\tvar containerDomNode = this.group.contentDiv;',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\tthis.unwrappedElementContainer = new SeparatorElementContainer(this.getUnwrappedDomContainer());',\n'\t\t\t\t\t\tthis.wrappedElementContainer = new SeparatorElementContainer(this.getWrappedDomContainer());',\n'\t\t\t\t\t\tthis.elementContainers = [this.unwrappedElementContainer, this.wrappedElementContainer];',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tthis.mainElementContainer = new SeparatorElementContainer(this.getMainDomContainer());',\n'\t\t\t\t\t\tthis.elementContainers = [this.mainElementContainer];',\n'\t\t\t\t\t}',\n'\t\t\t\t\tthis.content = this.formattedMessage;',\n'\t\t\t\t\tthis.rendered = true;',\n'\t\t\t\t}',\n'\t\t\t});',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction GroupElementContainer(group, containerDomNode, isRoot, isWrapped) {',\n'\t\t\t\tthis.group = group;',\n'\t\t\t\tthis.containerDomNode = containerDomNode;',\n'\t\t\t\tthis.isRoot = isRoot;',\n'\t\t\t\tthis.isWrapped = isWrapped;',\n'\t\t\t\tthis.expandable = false;',\n'',\n'\t\t\t\tif (this.isRoot) {',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\tthis.contentDiv = logMainContainer.appendChild(document.createElement(\"div\"));',\n'\t\t\t\t\t\tthis.contentDiv.id = this.isWrapped ? \"log_wrapped\" : \"log_unwrapped\";',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tthis.contentDiv = logMainContainer;',\n'\t\t\t\t\t}',\n'\t\t\t\t} else {',\n'\t\t\t\t\tvar groupElementContainer = this;',\n'',\n'\t\t\t\t\tthis.mainDiv = document.createElement(\"div\");',\n'\t\t\t\t\tthis.mainDiv.className = \"group\";',\n'',\n'\t\t\t\t\tthis.headingDiv = this.mainDiv.appendChild(document.createElement(\"div\"));',\n'\t\t\t\t\tthis.headingDiv.className = \"groupheading\";',\n'',\n'\t\t\t\t\tthis.expander = this.headingDiv.appendChild(document.createElement(\"span\"));',\n'\t\t\t\t\tthis.expander.className = \"expander unselectable greyedout\";',\n'\t\t\t\t\tthis.expander.unselectable = true;',\n'\t\t\t\t\tvar expanderText = this.group.expanded ? \"-\" : \"+\";',\n'\t\t\t\t\tthis.expanderTextNode = this.expander.appendChild(document.createTextNode(expanderText));',\n'',\n'\t\t\t\t\tthis.headingDiv.appendChild(document.createTextNode(\" \" + this.group.name));',\n'',\n'\t\t\t\t\tthis.contentDiv = this.mainDiv.appendChild(document.createElement(\"div\"));',\n'\t\t\t\t\tvar contentCssClass = this.group.expanded ? \"expanded\" : \"collapsed\";',\n'\t\t\t\t\tthis.contentDiv.className = \"groupcontent \" + contentCssClass;',\n'',\n'\t\t\t\t\tthis.expander.onclick = function() {',\n'\t\t\t\t\t\tif (groupElementContainer.group.expandable) {',\n'\t\t\t\t\t\t\tgroupElementContainer.group.toggleExpanded();',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t};',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tGroupElementContainer.prototype = new LogItemContainerElement();',\n'',\n'\t\t\tcopyProperties(GroupElementContainer.prototype, {',\n'\t\t\t\ttoggleExpanded: function() {',\n'\t\t\t\t\tif (!this.isRoot) {',\n'\t\t\t\t\t\tvar oldCssClass, newCssClass, expanderText;',\n'\t\t\t\t\t\tif (this.group.expanded) {',\n'\t\t\t\t\t\t\tnewCssClass = \"expanded\";',\n'\t\t\t\t\t\t\toldCssClass = \"collapsed\";',\n'\t\t\t\t\t\t\texpanderText = \"-\";',\n'\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\tnewCssClass = \"collapsed\";',\n'\t\t\t\t\t\t\toldCssClass = \"expanded\";',\n'\t\t\t\t\t\t\texpanderText = \"+\";',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\treplaceClass(this.contentDiv, newCssClass, oldCssClass);',\n'\t\t\t\t\t\tthis.expanderTextNode.nodeValue = expanderText;',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tremove: function() {',\n'\t\t\t\t\tif (!this.isRoot) {',\n'\t\t\t\t\t\tthis.headingDiv = null;',\n'\t\t\t\t\t\tthis.expander.onclick = null;',\n'\t\t\t\t\t\tthis.expander = null;',\n'\t\t\t\t\t\tthis.expanderTextNode = null;',\n'\t\t\t\t\t\tthis.contentDiv = null;',\n'\t\t\t\t\t\tthis.containerDomNode = null;',\n'\t\t\t\t\t\tthis.mainDiv.parentNode.removeChild(this.mainDiv);',\n'\t\t\t\t\t\tthis.mainDiv = null;',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\treverseChildren: function() {',\n'\t\t\t\t\t// Invert the order of the log entries',\n'\t\t\t\t\tvar node = null;',\n'',\n'\t\t\t\t\t// Remove all the log container nodes',\n'\t\t\t\t\tvar childDomNodes = [];',\n'\t\t\t\t\twhile ((node = this.contentDiv.firstChild)) {',\n'\t\t\t\t\t\tthis.contentDiv.removeChild(node);',\n'\t\t\t\t\t\tchildDomNodes.push(node);',\n'\t\t\t\t\t}',\n'',\n'\t\t\t\t\t// Put them all back in reverse order',\n'\t\t\t\t\twhile ((node = childDomNodes.pop())) {',\n'\t\t\t\t\t\tthis.contentDiv.appendChild(node);',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tupdate: function() {',\n'\t\t\t\t\tif (!this.isRoot) {',\n'\t\t\t\t\t\tif (this.group.expandable) {',\n'\t\t\t\t\t\t\tremoveClass(this.expander, \"greyedout\");',\n'\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\taddClass(this.expander, \"greyedout\");',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tclear: function() {',\n'\t\t\t\t\tif (this.isRoot) {',\n'\t\t\t\t\t\tthis.contentDiv.innerHTML = \"\";',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t});',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction Group(name, isRoot, initiallyExpanded) {',\n'\t\t\t\tthis.name = name;',\n'\t\t\t\tthis.group = null;',\n'\t\t\t\tthis.isRoot = isRoot;',\n'\t\t\t\tthis.initiallyExpanded = initiallyExpanded;',\n'\t\t\t\tthis.elementContainers = [];',\n'\t\t\t\tthis.children = [];',\n'\t\t\t\tthis.expanded = initiallyExpanded;',\n'\t\t\t\tthis.rendered = false;',\n'\t\t\t\tthis.expandable = false;',\n'\t\t\t}',\n'',\n'\t\t\tGroup.prototype = new LogItem();',\n'',\n'\t\t\tcopyProperties(Group.prototype, {',\n'\t\t\t\taddChild: function(logItem) {',\n'\t\t\t\t\tthis.children.push(logItem);',\n'\t\t\t\t\tlogItem.group = this;',\n'\t\t\t\t},',\n'',\n'\t\t\t\trender: function() {',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\tvar unwrappedDomContainer, wrappedDomContainer;',\n'\t\t\t\t\t\tif (this.isRoot) {',\n'\t\t\t\t\t\t\tunwrappedDomContainer = logMainContainer;',\n'\t\t\t\t\t\t\twrappedDomContainer = logMainContainer;',\n'\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\tunwrappedDomContainer = this.getUnwrappedDomContainer();',\n'\t\t\t\t\t\t\twrappedDomContainer = this.getWrappedDomContainer();',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tthis.unwrappedElementContainer = new GroupElementContainer(this, unwrappedDomContainer, this.isRoot, false);',\n'\t\t\t\t\t\tthis.wrappedElementContainer = new GroupElementContainer(this, wrappedDomContainer, this.isRoot, true);',\n'\t\t\t\t\t\tthis.elementContainers = [this.unwrappedElementContainer, this.wrappedElementContainer];',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tvar mainDomContainer = this.isRoot ? logMainContainer : this.getMainDomContainer();',\n'\t\t\t\t\t\tthis.mainElementContainer = new GroupElementContainer(this, mainDomContainer, this.isRoot, false);',\n'\t\t\t\t\t\tthis.elementContainers = [this.mainElementContainer];',\n'\t\t\t\t\t}',\n'\t\t\t\t\tthis.rendered = true;',\n'\t\t\t\t},',\n'',\n'\t\t\t\ttoggleExpanded: function() {',\n'\t\t\t\t\tthis.expanded = !this.expanded;',\n'\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\tthis.elementContainers[i].toggleExpanded();',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\texpand: function() {',\n'\t\t\t\t\tif (!this.expanded) {',\n'\t\t\t\t\t\tthis.toggleExpanded();',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\taccept: function(visitor) {',\n'\t\t\t\t\tvisitor.visitGroup(this);',\n'\t\t\t\t},',\n'',\n'\t\t\t\treverseChildren: function() {',\n'\t\t\t\t\tif (this.rendered) {',\n'\t\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\t\tthis.elementContainers[i].reverseChildren();',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tupdate: function() {',\n'\t\t\t\t\tvar previouslyExpandable = this.expandable;',\n'\t\t\t\t\tthis.expandable = (this.children.length !== 0);',\n'\t\t\t\t\tif (this.expandable !== previouslyExpandable) {',\n'\t\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\t\tthis.elementContainers[i].update();',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tflatten: function() {',\n'\t\t\t\t\tvar visitor = new GroupFlattener();',\n'\t\t\t\t\tthis.accept(visitor);',\n'\t\t\t\t\treturn visitor.logEntriesAndSeparators;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tremoveChild: function(child, doUpdate) {',\n'\t\t\t\t\tarray_remove(this.children, child);',\n'\t\t\t\t\tchild.group = null;',\n'\t\t\t\t\tif (doUpdate) {',\n'\t\t\t\t\t\tthis.update();',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tremove: function(doUpdate, removeFromGroup) {',\n'\t\t\t\t\tfor (var i = 0, len = this.children.length; i < len; i++) {',\n'\t\t\t\t\t\tthis.children[i].remove(false, false);',\n'\t\t\t\t\t}',\n'\t\t\t\t\tthis.children = [];',\n'\t\t\t\t\tthis.update();',\n'\t\t\t\t\tif (this === currentGroup) {',\n'\t\t\t\t\t\tcurrentGroup = this.group;',\n'\t\t\t\t\t}',\n'\t\t\t\t\tthis.doRemove(doUpdate, removeFromGroup);',\n'\t\t\t\t},',\n'',\n'\t\t\t\tserialize: function(items) {',\n'\t\t\t\t\titems.push([LogItem.serializedItemKeys.GROUP_START, this.name]);',\n'\t\t\t\t\tfor (var i = 0, len = this.children.length; i < len; i++) {',\n'\t\t\t\t\t\tthis.children[i].serialize(items);',\n'\t\t\t\t\t}',\n'\t\t\t\t\tif (this !== currentGroup) {',\n'\t\t\t\t\t\titems.push([LogItem.serializedItemKeys.GROUP_END]);',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tclear: function() {',\n'\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\tthis.elementContainers[i].clear();',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t});',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogEntryElementContainer() {',\n'\t\t\t}',\n'',\n'\t\t\tLogEntryElementContainer.prototype = new LogItemContainerElement();',\n'',\n'\t\t\tcopyProperties(LogEntryElementContainer.prototype, {',\n'\t\t\t\tremove: function() {',\n'\t\t\t\t\tthis.doRemove();',\n'\t\t\t\t},',\n'',\n'\t\t\t\tdoRemove: function() {',\n'\t\t\t\t\tthis.mainDiv.parentNode.removeChild(this.mainDiv);',\n'\t\t\t\t\tthis.mainDiv = null;',\n'\t\t\t\t\tthis.contentElement = null;',\n'\t\t\t\t\tthis.containerDomNode = null;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tsetContent: function(content, wrappedContent) {',\n'\t\t\t\t\tif (content === this.formattedMessage) {',\n'\t\t\t\t\t\tthis.contentElement.innerHTML = \"\";',\n'\t\t\t\t\t\tthis.contentElement.appendChild(document.createTextNode(this.formattedMessage));',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tthis.contentElement.innerHTML = content;',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tsetSearchMatch: function(isMatch) {',\n'\t\t\t\t\tvar oldCssClass = isMatch ? \"searchnonmatch\" : \"searchmatch\";',\n'\t\t\t\t\tvar newCssClass = isMatch ? \"searchmatch\" : \"searchnonmatch\";',\n'\t\t\t\t\treplaceClass(this.mainDiv, newCssClass, oldCssClass);',\n'\t\t\t\t},',\n'',\n'\t\t\t\tclearSearch: function() {',\n'\t\t\t\t\tremoveClass(this.mainDiv, \"searchmatch\");',\n'\t\t\t\t\tremoveClass(this.mainDiv, \"searchnonmatch\");',\n'\t\t\t\t}',\n'\t\t\t});',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogEntryWrappedElementContainer(logEntry, containerDomNode) {',\n'\t\t\t\tthis.logEntry = logEntry;',\n'\t\t\t\tthis.containerDomNode = containerDomNode;',\n'\t\t\t\tthis.mainDiv = document.createElement(\"div\");',\n'\t\t\t\tthis.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));',\n'\t\t\t\tthis.mainDiv.className = \"logentry wrapped \" + this.logEntry.level;',\n'\t\t\t\tthis.contentElement = this.mainDiv;',\n'\t\t\t}',\n'',\n'\t\t\tLogEntryWrappedElementContainer.prototype = new LogEntryElementContainer();',\n'',\n'\t\t\tLogEntryWrappedElementContainer.prototype.setContent = function(content, wrappedContent) {',\n'\t\t\t\tif (content === this.formattedMessage) {',\n'\t\t\t\t\tthis.contentElement.innerHTML = \"\";',\n'\t\t\t\t\tthis.contentElement.appendChild(document.createTextNode(this.formattedMessage));',\n'\t\t\t\t} else {',\n'\t\t\t\t\tthis.contentElement.innerHTML = wrappedContent;',\n'\t\t\t\t}',\n'\t\t\t};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogEntryUnwrappedElementContainer(logEntry, containerDomNode) {',\n'\t\t\t\tthis.logEntry = logEntry;',\n'\t\t\t\tthis.containerDomNode = containerDomNode;',\n'\t\t\t\tthis.mainDiv = document.createElement(\"div\");',\n'\t\t\t\tthis.mainDiv.className = \"logentry unwrapped \" + this.logEntry.level;',\n'\t\t\t\tthis.pre = this.mainDiv.appendChild(document.createElement(\"pre\"));',\n'\t\t\t\tthis.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));',\n'\t\t\t\tthis.pre.className = \"unwrapped\";',\n'\t\t\t\tthis.contentElement = this.pre;',\n'\t\t\t}',\n'',\n'\t\t\tLogEntryUnwrappedElementContainer.prototype = new LogEntryElementContainer();',\n'',\n'\t\t\tLogEntryUnwrappedElementContainer.prototype.remove = function() {',\n'\t\t\t\tthis.doRemove();',\n'\t\t\t\tthis.pre = null;',\n'\t\t\t};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogEntryMainElementContainer(logEntry, containerDomNode) {',\n'\t\t\t\tthis.logEntry = logEntry;',\n'\t\t\t\tthis.containerDomNode = containerDomNode;',\n'\t\t\t\tthis.mainDiv = document.createElement(\"div\");',\n'\t\t\t\tthis.mainDiv.className = \"logentry nonielogentry \" + this.logEntry.level;',\n'\t\t\t\tthis.contentElement = this.mainDiv.appendChild(document.createElement(\"span\"));',\n'\t\t\t\tthis.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));',\n'\t\t\t}',\n'',\n'\t\t\tLogEntryMainElementContainer.prototype = new LogEntryElementContainer();',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogEntry(level, formattedMessage) {',\n'\t\t\t\tthis.level = level;',\n'\t\t\t\tthis.formattedMessage = formattedMessage;',\n'\t\t\t\tthis.rendered = false;',\n'\t\t\t}',\n'',\n'\t\t\tLogEntry.prototype = new LogItem();',\n'',\n'\t\t\tcopyProperties(LogEntry.prototype, {',\n'\t\t\t\trender: function() {',\n'\t\t\t\t\tvar logEntry = this;',\n'\t\t\t\t\tvar containerDomNode = this.group.contentDiv;',\n'',\n'\t\t\t\t\t// Support for the CSS attribute white-space in IE for Windows is',\n'\t\t\t\t\t// non-existent pre version 6 and slightly odd in 6, so instead',\n'\t\t\t\t\t// use two different HTML elements',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\tthis.formattedMessage = this.formattedMessage.replace(/\\\\r\\\\n/g, \"\\\\r\"); // Workaround for IE\\'s treatment of white space',\n'\t\t\t\t\t\tthis.unwrappedElementContainer = new LogEntryUnwrappedElementContainer(this, this.getUnwrappedDomContainer());',\n'\t\t\t\t\t\tthis.wrappedElementContainer = new LogEntryWrappedElementContainer(this, this.getWrappedDomContainer());',\n'\t\t\t\t\t\tthis.elementContainers = [this.unwrappedElementContainer, this.wrappedElementContainer];',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tthis.mainElementContainer = new LogEntryMainElementContainer(this, this.getMainDomContainer());',\n'\t\t\t\t\t\tthis.elementContainers = [this.mainElementContainer];',\n'\t\t\t\t\t}',\n'\t\t\t\t\tthis.content = this.formattedMessage;',\n'\t\t\t\t\tthis.rendered = true;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tsetContent: function(content, wrappedContent) {',\n'\t\t\t\t\tif (content != this.content) {',\n'\t\t\t\t\t\tif (isIe && (content !== this.formattedMessage)) {',\n'\t\t\t\t\t\t\tcontent = content.replace(/\\\\r\\\\n/g, \"\\\\r\"); // Workaround for IE\\'s treatment of white space',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\t\tthis.elementContainers[i].setContent(content, wrappedContent);',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tthis.content = content;',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tgetSearchMatches: function() {',\n'\t\t\t\t\tvar matches = [];',\n'\t\t\t\t\tvar i, len;',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\tvar unwrappedEls = getElementsByClass(this.unwrappedElementContainer.mainDiv, \"searchterm\", \"span\");',\n'\t\t\t\t\t\tvar wrappedEls = getElementsByClass(this.wrappedElementContainer.mainDiv, \"searchterm\", \"span\");',\n'\t\t\t\t\t\tfor (i = 0, len = unwrappedEls.length; i < len; i++) {',\n'\t\t\t\t\t\t\tmatches[i] = new Match(this.level, null, unwrappedEls[i], wrappedEls[i]);',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tvar els = getElementsByClass(this.mainElementContainer.mainDiv, \"searchterm\", \"span\");',\n'\t\t\t\t\t\tfor (i = 0, len = els.length; i < len; i++) {',\n'\t\t\t\t\t\t\tmatches[i] = new Match(this.level, els[i]);',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t\treturn matches;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tsetSearchMatch: function(isMatch) {',\n'\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\tthis.elementContainers[i].setSearchMatch(isMatch);',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tclearSearch: function() {',\n'\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {',\n'\t\t\t\t\t\tthis.elementContainers[i].clearSearch();',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\taccept: function(visitor) {',\n'\t\t\t\t\tvisitor.visitLogEntry(this);',\n'\t\t\t\t},',\n'',\n'\t\t\t\tserialize: function(items) {',\n'\t\t\t\t\titems.push([LogItem.serializedItemKeys.LOG_ENTRY, this.level, this.formattedMessage]);',\n'\t\t\t\t}',\n'\t\t\t});',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogItemVisitor() {',\n'\t\t\t}',\n'',\n'\t\t\tLogItemVisitor.prototype = {',\n'\t\t\t\tvisit: function(logItem) {',\n'\t\t\t\t},',\n'',\n'\t\t\t\tvisitParent: function(logItem) {',\n'\t\t\t\t\tif (logItem.group) {',\n'\t\t\t\t\t\tlogItem.group.accept(this);',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tvisitChildren: function(logItem) {',\n'\t\t\t\t\tfor (var i = 0, len = logItem.children.length; i < len; i++) {',\n'\t\t\t\t\t\tlogItem.children[i].accept(this);',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tvisitLogEntry: function(logEntry) {',\n'\t\t\t\t\tthis.visit(logEntry);',\n'\t\t\t\t},',\n'',\n'\t\t\t\tvisitSeparator: function(separator) {',\n'\t\t\t\t\tthis.visit(separator);',\n'\t\t\t\t},',\n'',\n'\t\t\t\tvisitGroup: function(group) {',\n'\t\t\t\t\tthis.visit(group);',\n'\t\t\t\t}',\n'\t\t\t};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction GroupFlattener() {',\n'\t\t\t\tthis.logEntriesAndSeparators = [];',\n'\t\t\t}',\n'',\n'\t\t\tGroupFlattener.prototype = new LogItemVisitor();',\n'',\n'\t\t\tGroupFlattener.prototype.visitGroup = function(group) {',\n'\t\t\t\tthis.visitChildren(group);',\n'\t\t\t};',\n'',\n'\t\t\tGroupFlattener.prototype.visitLogEntry = function(logEntry) {',\n'\t\t\t\tthis.logEntriesAndSeparators.push(logEntry);',\n'\t\t\t};',\n'',\n'\t\t\tGroupFlattener.prototype.visitSeparator = function(separator) {',\n'\t\t\t\tthis.logEntriesAndSeparators.push(separator);',\n'\t\t\t};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\twindow.onload = function() {',\n'\t\t\t\t// Sort out document.domain',\n'\t\t\t\tif (location.search) {',\n'\t\t\t\t\tvar queryBits = unescape(location.search).substr(1).split(\"&\"), nameValueBits;',\n'\t\t\t\t\tfor (var i = 0, len = queryBits.length; i < len; i++) {',\n'\t\t\t\t\t\tnameValueBits = queryBits[i].split(\"=\");',\n'\t\t\t\t\t\tif (nameValueBits[0] == \"log4javascript_domain\") {',\n'\t\t\t\t\t\t\tdocument.domain = nameValueBits[1];',\n'\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'',\n'\t\t\t\t// Create DOM objects',\n'\t\t\t\tlogMainContainer = $(\"log\");',\n'\t\t\t\tif (isIePre7) {',\n'\t\t\t\t\taddClass(logMainContainer, \"oldIe\");',\n'\t\t\t\t}',\n'',\n'\t\t\t\trootGroup = new Group(\"root\", true);',\n'\t\t\t\trootGroup.render();',\n'\t\t\t\tcurrentGroup = rootGroup;',\n'',\n'\t\t\t\tsetCommandInputWidth();',\n'\t\t\t\tsetLogContainerHeight();',\n'\t\t\t\ttoggleLoggingEnabled();',\n'\t\t\t\ttoggleSearchEnabled();',\n'\t\t\t\ttoggleSearchFilter();',\n'\t\t\t\ttoggleSearchHighlight();',\n'\t\t\t\tapplyFilters();',\n'\t\t\t\tcheckAllLevels();',\n'\t\t\t\ttoggleWrap();',\n'\t\t\t\ttoggleNewestAtTop();',\n'\t\t\t\ttoggleScrollToLatest();',\n'\t\t\t\trenderQueuedLogItems();',\n'\t\t\t\tloaded = true;',\n'\t\t\t\t$(\"command\").value = \"\";',\n'\t\t\t\t$(\"command\").autocomplete = \"off\";',\n'\t\t\t\t$(\"command\").onkeydown = function(evt) {',\n'\t\t\t\t\tevt = getEvent(evt);',\n'\t\t\t\t\tif (evt.keyCode == 10 || evt.keyCode == 13) { // Return/Enter',\n'\t\t\t\t\t\tevalCommandLine();',\n'\t\t\t\t\t\tstopPropagation(evt);',\n'\t\t\t\t\t} else if (evt.keyCode == 27) { // Escape',\n'\t\t\t\t\t\tthis.value = \"\";',\n'\t\t\t\t\t\tthis.focus();',\n'\t\t\t\t\t} else if (evt.keyCode == 38 && commandHistory.length > 0) { // Up',\n'\t\t\t\t\t\tcurrentCommandIndex = Math.max(0, currentCommandIndex - 1);',\n'\t\t\t\t\t\tthis.value = commandHistory[currentCommandIndex];',\n'\t\t\t\t\t\tmoveCaretToEnd(this);',\n'\t\t\t\t\t} else if (evt.keyCode == 40 && commandHistory.length > 0) { // Down',\n'\t\t\t\t\t\tcurrentCommandIndex = Math.min(commandHistory.length - 1, currentCommandIndex + 1);',\n'\t\t\t\t\t\tthis.value = commandHistory[currentCommandIndex];',\n'\t\t\t\t\t\tmoveCaretToEnd(this);',\n'\t\t\t\t\t}',\n'\t\t\t\t};',\n'',\n'\t\t\t\t// Prevent the keypress moving the caret in Firefox',\n'\t\t\t\t$(\"command\").onkeypress = function(evt) {',\n'\t\t\t\t\tevt = getEvent(evt);',\n'\t\t\t\t\tif (evt.keyCode == 38 && commandHistory.length > 0 && evt.preventDefault) { // Up',\n'\t\t\t\t\t\tevt.preventDefault();',\n'\t\t\t\t\t}',\n'\t\t\t\t};',\n'',\n'\t\t\t\t// Prevent the keyup event blurring the input in Opera',\n'\t\t\t\t$(\"command\").onkeyup = function(evt) {',\n'\t\t\t\t\tevt = getEvent(evt);',\n'\t\t\t\t\tif (evt.keyCode == 27 && evt.preventDefault) { // Up',\n'\t\t\t\t\t\tevt.preventDefault();',\n'\t\t\t\t\t\tthis.focus();',\n'\t\t\t\t\t}',\n'\t\t\t\t};',\n'',\n'\t\t\t\t// Add document keyboard shortcuts',\n'\t\t\t\tdocument.onkeydown = function keyEventHandler(evt) {',\n'\t\t\t\t\tevt = getEvent(evt);',\n'\t\t\t\t\tswitch (evt.keyCode) {',\n'\t\t\t\t\t\tcase 69: // Ctrl + shift + E: re-execute last command',\n'\t\t\t\t\t\t\tif (evt.shiftKey && (evt.ctrlKey || evt.metaKey)) {',\n'\t\t\t\t\t\t\t\tevalLastCommand();',\n'\t\t\t\t\t\t\t\tcancelKeyEvent(evt);',\n'\t\t\t\t\t\t\t\treturn false;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t\tcase 75: // Ctrl + shift + K: focus search',\n'\t\t\t\t\t\t\tif (evt.shiftKey && (evt.ctrlKey || evt.metaKey)) {',\n'\t\t\t\t\t\t\t\tfocusSearch();',\n'\t\t\t\t\t\t\t\tcancelKeyEvent(evt);',\n'\t\t\t\t\t\t\t\treturn false;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t\tcase 40: // Ctrl + shift + down arrow: focus command line',\n'\t\t\t\t\t\tcase 76: // Ctrl + shift + L: focus command line',\n'\t\t\t\t\t\t\tif (evt.shiftKey && (evt.ctrlKey || evt.metaKey)) {',\n'\t\t\t\t\t\t\t\tfocusCommandLine();',\n'\t\t\t\t\t\t\t\tcancelKeyEvent(evt);',\n'\t\t\t\t\t\t\t\treturn false;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t}',\n'\t\t\t\t};',\n'',\n'\t\t\t\t// Workaround to make sure log div starts at the correct size',\n'\t\t\t\tsetTimeout(setLogContainerHeight, 20);',\n'',\n'\t\t\t\tsetShowCommandLine(showCommandLine);',\n'\t\t\t\tdoSearch();',\n'\t\t\t};',\n'',\n'\t\t\twindow.onunload = function() {',\n'\t\t\t\tif (mainWindowExists()) {',\n'\t\t\t\t\tappender.unload();',\n'\t\t\t\t}',\n'\t\t\t\tappender = null;',\n'\t\t\t};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction toggleLoggingEnabled() {',\n'\t\t\t\tsetLoggingEnabled($(\"enableLogging\").checked);',\n'\t\t\t}',\n'',\n'\t\t\tfunction setLoggingEnabled(enable) {',\n'\t\t\t\tloggingEnabled = enable;',\n'\t\t\t}',\n'',\n'\t\t\tvar appender = null;',\n'',\n'\t\t\tfunction setAppender(appenderParam) {',\n'\t\t\t\tappender = appenderParam;',\n'\t\t\t}',\n'',\n'\t\t\tfunction setShowCloseButton(showCloseButton) {',\n'\t\t\t\t$(\"closeButton\").style.display = showCloseButton ? \"inline\" : \"none\";',\n'\t\t\t}',\n'',\n'\t\t\tfunction setShowHideButton(showHideButton) {',\n'\t\t\t\t$(\"hideButton\").style.display = showHideButton ? \"inline\" : \"none\";',\n'\t\t\t}',\n'',\n'\t\t\tvar newestAtTop = false;',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction LogItemContentReverser() {',\n'\t\t\t}',\n'',\n'\t\t\tLogItemContentReverser.prototype = new LogItemVisitor();',\n'',\n'\t\t\tLogItemContentReverser.prototype.visitGroup = function(group) {',\n'\t\t\t\tgroup.reverseChildren();',\n'\t\t\t\tthis.visitChildren(group);',\n'\t\t\t};',\n'',\n'\t\t\t/*----------------------------------------------------------------*/',\n'',\n'\t\t\tfunction setNewestAtTop(isNewestAtTop) {',\n'\t\t\t\tvar oldNewestAtTop = newestAtTop;',\n'\t\t\t\tvar i, iLen, j, jLen;',\n'\t\t\t\tnewestAtTop = Boolean(isNewestAtTop);',\n'\t\t\t\tif (oldNewestAtTop != newestAtTop) {',\n'\t\t\t\t\tvar visitor = new LogItemContentReverser();',\n'\t\t\t\t\trootGroup.accept(visitor);',\n'',\n'\t\t\t\t\t// Reassemble the matches array',\n'\t\t\t\t\tif (currentSearch) {',\n'\t\t\t\t\t\tvar currentMatch = currentSearch.matches[currentMatchIndex];',\n'\t\t\t\t\t\tvar matchIndex = 0;',\n'\t\t\t\t\t\tvar matches = [];',\n'\t\t\t\t\t\tvar actOnLogEntry = function(logEntry) {',\n'\t\t\t\t\t\t\tvar logEntryMatches = logEntry.getSearchMatches();',\n'\t\t\t\t\t\t\tfor (j = 0, jLen = logEntryMatches.length; j < jLen; j++) {',\n'\t\t\t\t\t\t\t\tmatches[matchIndex] = logEntryMatches[j];',\n'\t\t\t\t\t\t\t\tif (currentMatch && logEntryMatches[j].equals(currentMatch)) {',\n'\t\t\t\t\t\t\t\t\tcurrentMatchIndex = matchIndex;',\n'\t\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\t\tmatchIndex++;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t};',\n'\t\t\t\t\t\tif (newestAtTop) {',\n'\t\t\t\t\t\t\tfor (i = logEntries.length - 1; i >= 0; i--) {',\n'\t\t\t\t\t\t\t\tactOnLogEntry(logEntries[i]);',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\tfor (i = 0, iLen = logEntries.length; i < iLen; i++) {',\n'\t\t\t\t\t\t\t\tactOnLogEntry(logEntries[i]);',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tcurrentSearch.matches = matches;',\n'\t\t\t\t\t\tif (currentMatch) {',\n'\t\t\t\t\t\t\tcurrentMatch.setCurrent();',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t} else if (scrollToLatest) {',\n'\t\t\t\t\t\tdoScrollToLatest();',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\t$(\"newestAtTop\").checked = isNewestAtTop;',\n'\t\t\t}',\n'',\n'\t\t\tfunction toggleNewestAtTop() {',\n'\t\t\t\tvar isNewestAtTop = $(\"newestAtTop\").checked;',\n'\t\t\t\tsetNewestAtTop(isNewestAtTop);',\n'\t\t\t}',\n'',\n'\t\t\tvar scrollToLatest = true;',\n'',\n'\t\t\tfunction setScrollToLatest(isScrollToLatest) {',\n'\t\t\t\tscrollToLatest = isScrollToLatest;',\n'\t\t\t\tif (scrollToLatest) {',\n'\t\t\t\t\tdoScrollToLatest();',\n'\t\t\t\t}',\n'\t\t\t\t$(\"scrollToLatest\").checked = isScrollToLatest;',\n'\t\t\t}',\n'',\n'\t\t\tfunction toggleScrollToLatest() {',\n'\t\t\t\tvar isScrollToLatest = $(\"scrollToLatest\").checked;',\n'\t\t\t\tsetScrollToLatest(isScrollToLatest);',\n'\t\t\t}',\n'',\n'\t\t\tfunction doScrollToLatest() {',\n'\t\t\t\tvar l = logMainContainer;',\n'\t\t\t\tif (typeof l.scrollTop != \"undefined\") {',\n'\t\t\t\t\tif (newestAtTop) {',\n'\t\t\t\t\t\tl.scrollTop = 0;',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tvar latestLogEntry = l.lastChild;',\n'\t\t\t\t\t\tif (latestLogEntry) {',\n'\t\t\t\t\t\t\tl.scrollTop = l.scrollHeight;',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tvar closeIfOpenerCloses = true;',\n'',\n'\t\t\tfunction setCloseIfOpenerCloses(isCloseIfOpenerCloses) {',\n'\t\t\t\tcloseIfOpenerCloses = isCloseIfOpenerCloses;',\n'\t\t\t}',\n'',\n'\t\t\tvar maxMessages = null;',\n'',\n'\t\t\tfunction setMaxMessages(max) {',\n'\t\t\t\tmaxMessages = max;',\n'\t\t\t\tpruneLogEntries();',\n'\t\t\t}',\n'',\n'\t\t\tvar showCommandLine = false;',\n'',\n'\t\t\tfunction setShowCommandLine(isShowCommandLine) {',\n'\t\t\t\tshowCommandLine = isShowCommandLine;',\n'\t\t\t\tif (loaded) {',\n'\t\t\t\t\t$(\"commandLine\").style.display = showCommandLine ? \"block\" : \"none\";',\n'\t\t\t\t\tsetCommandInputWidth();',\n'\t\t\t\t\tsetLogContainerHeight();',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction focusCommandLine() {',\n'\t\t\t\tif (loaded) {',\n'\t\t\t\t\t$(\"command\").focus();',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction focusSearch() {',\n'\t\t\t\tif (loaded) {',\n'\t\t\t\t\t$(\"searchBox\").focus();',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction getLogItems() {',\n'\t\t\t\tvar items = [];',\n'\t\t\t\tfor (var i = 0, len = logItems.length; i < len; i++) {',\n'\t\t\t\t\tlogItems[i].serialize(items);',\n'\t\t\t\t}',\n'\t\t\t\treturn items;',\n'\t\t\t}',\n'',\n'\t\t\tfunction setLogItems(items) {',\n'\t\t\t\tvar loggingReallyEnabled = loggingEnabled;',\n'\t\t\t\t// Temporarily turn logging on',\n'\t\t\t\tloggingEnabled = true;',\n'\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {',\n'\t\t\t\t\tswitch (items[i][0]) {',\n'\t\t\t\t\t\tcase LogItem.serializedItemKeys.LOG_ENTRY:',\n'\t\t\t\t\t\t\tlog(items[i][1], items[i][2]);',\n'\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t\tcase LogItem.serializedItemKeys.GROUP_START:',\n'\t\t\t\t\t\t\tgroup(items[i][1]);',\n'\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t\tcase LogItem.serializedItemKeys.GROUP_END:',\n'\t\t\t\t\t\t\tgroupEnd();',\n'\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\tloggingEnabled = loggingReallyEnabled;',\n'\t\t\t}',\n'',\n'\t\t\tfunction log(logLevel, formattedMessage) {',\n'\t\t\t\tif (loggingEnabled) {',\n'\t\t\t\t\tvar logEntry = new LogEntry(logLevel, formattedMessage);',\n'\t\t\t\t\tlogEntries.push(logEntry);',\n'\t\t\t\t\tlogEntriesAndSeparators.push(logEntry);',\n'\t\t\t\t\tlogItems.push(logEntry);',\n'\t\t\t\t\tcurrentGroup.addChild(logEntry);',\n'\t\t\t\t\tif (loaded) {',\n'\t\t\t\t\t\tif (logQueuedEventsTimer !== null) {',\n'\t\t\t\t\t\t\tclearTimeout(logQueuedEventsTimer);',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tlogQueuedEventsTimer = setTimeout(renderQueuedLogItems, renderDelay);',\n'\t\t\t\t\t\tunrenderedLogItemsExist = true;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction renderQueuedLogItems() {',\n'\t\t\t\tlogQueuedEventsTimer = null;',\n'\t\t\t\tvar pruned = pruneLogEntries();',\n'',\n'\t\t\t\t// Render any unrendered log entries and apply the current search to them',\n'\t\t\t\tvar initiallyHasMatches = currentSearch ? currentSearch.hasMatches() : false;',\n'\t\t\t\tfor (var i = 0, len = logItems.length; i < len; i++) {',\n'\t\t\t\t\tif (!logItems[i].rendered) {',\n'\t\t\t\t\t\tlogItems[i].render();',\n'\t\t\t\t\t\tlogItems[i].appendToLog();',\n'\t\t\t\t\t\tif (currentSearch && (logItems[i] instanceof LogEntry)) {',\n'\t\t\t\t\t\t\tcurrentSearch.applyTo(logItems[i]);',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\tif (currentSearch) {',\n'\t\t\t\t\tif (pruned) {',\n'\t\t\t\t\t\tif (currentSearch.hasVisibleMatches()) {',\n'\t\t\t\t\t\t\tif (currentMatchIndex === null) {',\n'\t\t\t\t\t\t\t\tsetCurrentMatchIndex(0);',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\tdisplayMatches();',\n'\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\tdisplayNoMatches();',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t} else if (!initiallyHasMatches && currentSearch.hasVisibleMatches()) {',\n'\t\t\t\t\t\tsetCurrentMatchIndex(0);',\n'\t\t\t\t\t\tdisplayMatches();',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\tif (scrollToLatest) {',\n'\t\t\t\t\tdoScrollToLatest();',\n'\t\t\t\t}',\n'\t\t\t\tunrenderedLogItemsExist = false;',\n'\t\t\t}',\n'',\n'\t\t\tfunction pruneLogEntries() {',\n'\t\t\t\tif ((maxMessages !== null) && (logEntriesAndSeparators.length > maxMessages)) {',\n'\t\t\t\t\tvar numberToDelete = logEntriesAndSeparators.length - maxMessages;',\n'\t\t\t\t\tvar prunedLogEntries = logEntriesAndSeparators.slice(0, numberToDelete);',\n'\t\t\t\t\tif (currentSearch) {',\n'\t\t\t\t\t\tcurrentSearch.removeMatches(prunedLogEntries);',\n'\t\t\t\t\t}',\n'\t\t\t\t\tvar group;',\n'\t\t\t\t\tfor (var i = 0; i < numberToDelete; i++) {',\n'\t\t\t\t\t\tgroup = logEntriesAndSeparators[i].group;',\n'\t\t\t\t\t\tarray_remove(logItems, logEntriesAndSeparators[i]);',\n'\t\t\t\t\t\tarray_remove(logEntries, logEntriesAndSeparators[i]);',\n'\t\t\t\t\t\tlogEntriesAndSeparators[i].remove(true, true);',\n'\t\t\t\t\t\tif (group.children.length === 0 && group !== currentGroup && group !== rootGroup) {',\n'\t\t\t\t\t\t\tarray_remove(logItems, group);',\n'\t\t\t\t\t\t\tgroup.remove(true, true);',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t\tlogEntriesAndSeparators = array_removeFromStart(logEntriesAndSeparators, numberToDelete);',\n'\t\t\t\t\treturn true;',\n'\t\t\t\t}',\n'\t\t\t\treturn false;',\n'\t\t\t}',\n'',\n'\t\t\tfunction group(name, startExpanded) {',\n'\t\t\t\tif (loggingEnabled) {',\n'\t\t\t\t\tinitiallyExpanded = (typeof startExpanded === \"undefined\") ? true : Boolean(startExpanded);',\n'\t\t\t\t\tvar newGroup = new Group(name, false, initiallyExpanded);',\n'\t\t\t\t\tcurrentGroup.addChild(newGroup);',\n'\t\t\t\t\tcurrentGroup = newGroup;',\n'\t\t\t\t\tlogItems.push(newGroup);',\n'\t\t\t\t\tif (loaded) {',\n'\t\t\t\t\t\tif (logQueuedEventsTimer !== null) {',\n'\t\t\t\t\t\t\tclearTimeout(logQueuedEventsTimer);',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tlogQueuedEventsTimer = setTimeout(renderQueuedLogItems, renderDelay);',\n'\t\t\t\t\t\tunrenderedLogItemsExist = true;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction groupEnd() {',\n'\t\t\t\tcurrentGroup = (currentGroup === rootGroup) ? rootGroup : currentGroup.group;',\n'\t\t\t}',\n'',\n'\t\t\tfunction mainPageReloaded() {',\n'\t\t\t\tcurrentGroup = rootGroup;',\n'\t\t\t\tvar separator = new Separator();',\n'\t\t\t\tlogEntriesAndSeparators.push(separator);',\n'\t\t\t\tlogItems.push(separator);',\n'\t\t\t\tcurrentGroup.addChild(separator);',\n'\t\t\t}',\n'',\n'\t\t\tfunction closeWindow() {',\n'\t\t\t\tif (appender && mainWindowExists()) {',\n'\t\t\t\t\tappender.close(true);',\n'\t\t\t\t} else {',\n'\t\t\t\t\twindow.close();',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction hide() {',\n'\t\t\t\tif (appender && mainWindowExists()) {',\n'\t\t\t\t\tappender.hide();',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tvar mainWindow = window;',\n'\t\t\tvar windowId = \"log4javascriptConsoleWindow_\" + new Date().getTime() + \"_\" + (\"\" + Math.random()).substr(2);',\n'',\n'\t\t\tfunction setMainWindow(win) {',\n'\t\t\t\tmainWindow = win;',\n'\t\t\t\tmainWindow[windowId] = window;',\n'\t\t\t\t// If this is a pop-up, poll the opener to see if it\\'s closed',\n'\t\t\t\tif (opener && closeIfOpenerCloses) {',\n'\t\t\t\t\tpollOpener();',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction pollOpener() {',\n'\t\t\t\tif (closeIfOpenerCloses) {',\n'\t\t\t\t\tif (mainWindowExists()) {',\n'\t\t\t\t\t\tsetTimeout(pollOpener, 500);',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tcloseWindow();',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction mainWindowExists() {',\n'\t\t\t\ttry {',\n'\t\t\t\t\treturn (mainWindow && !mainWindow.closed &&',\n'\t\t\t\t\t\tmainWindow[windowId] == window);',\n'\t\t\t\t} catch (ex) {}',\n'\t\t\t\treturn false;',\n'\t\t\t}',\n'',\n'\t\t\tvar logLevels = [\"TRACE\", \"DEBUG\", \"INFO\", \"WARN\", \"ERROR\", \"FATAL\"];',\n'',\n'\t\t\tfunction getCheckBox(logLevel) {',\n'\t\t\t\treturn $(\"switch_\" + logLevel);',\n'\t\t\t}',\n'',\n'\t\t\tfunction getIeWrappedLogContainer() {',\n'\t\t\t\treturn $(\"log_wrapped\");',\n'\t\t\t}',\n'',\n'\t\t\tfunction getIeUnwrappedLogContainer() {',\n'\t\t\t\treturn $(\"log_unwrapped\");',\n'\t\t\t}',\n'',\n'\t\t\tfunction applyFilters() {',\n'\t\t\t\tfor (var i = 0; i < logLevels.length; i++) {',\n'\t\t\t\t\tif (getCheckBox(logLevels[i]).checked) {',\n'\t\t\t\t\t\taddClass(logMainContainer, logLevels[i]);',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tremoveClass(logMainContainer, logLevels[i]);',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\tupdateSearchFromFilters();',\n'\t\t\t}',\n'',\n'\t\t\tfunction toggleAllLevels() {',\n'\t\t\t\tvar turnOn = $(\"switch_ALL\").checked;',\n'\t\t\t\tfor (var i = 0; i < logLevels.length; i++) {',\n'\t\t\t\t\tgetCheckBox(logLevels[i]).checked = turnOn;',\n'\t\t\t\t\tif (turnOn) {',\n'\t\t\t\t\t\taddClass(logMainContainer, logLevels[i]);',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tremoveClass(logMainContainer, logLevels[i]);',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction checkAllLevels() {',\n'\t\t\t\tfor (var i = 0; i < logLevels.length; i++) {',\n'\t\t\t\t\tif (!getCheckBox(logLevels[i]).checked) {',\n'\t\t\t\t\t\tgetCheckBox(\"ALL\").checked = false;',\n'\t\t\t\t\t\treturn;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\tgetCheckBox(\"ALL\").checked = true;',\n'\t\t\t}',\n'',\n'\t\t\tfunction clearLog() {',\n'\t\t\t\trootGroup.clear();',\n'\t\t\t\tcurrentGroup = rootGroup;',\n'\t\t\t\tlogEntries = [];',\n'\t\t\t\tlogItems = [];',\n'\t\t\t\tlogEntriesAndSeparators = [];',\n' \t\t\t\tdoSearch();',\n'\t\t\t}',\n'',\n'\t\t\tfunction toggleWrap() {',\n'\t\t\t\tvar enable = $(\"wrap\").checked;',\n'\t\t\t\tif (enable) {',\n'\t\t\t\t\taddClass(logMainContainer, \"wrap\");',\n'\t\t\t\t} else {',\n'\t\t\t\t\tremoveClass(logMainContainer, \"wrap\");',\n'\t\t\t\t}',\n'\t\t\t\trefreshCurrentMatch();',\n'\t\t\t}',\n'',\n'\t\t\t/* ------------------------------------------------------------------- */',\n'',\n'\t\t\t// Search',\n'',\n'\t\t\tvar searchTimer = null;',\n'',\n'\t\t\tfunction scheduleSearch() {',\n'\t\t\t\ttry {',\n'\t\t\t\t\tclearTimeout(searchTimer);',\n'\t\t\t\t} catch (ex) {',\n'\t\t\t\t\t// Do nothing',\n'\t\t\t\t}',\n'\t\t\t\tsearchTimer = setTimeout(doSearch, 500);',\n'\t\t\t}',\n'',\n'\t\t\tfunction Search(searchTerm, isRegex, searchRegex, isCaseSensitive) {',\n'\t\t\t\tthis.searchTerm = searchTerm;',\n'\t\t\t\tthis.isRegex = isRegex;',\n'\t\t\t\tthis.searchRegex = searchRegex;',\n'\t\t\t\tthis.isCaseSensitive = isCaseSensitive;',\n'\t\t\t\tthis.matches = [];',\n'\t\t\t}',\n'',\n'\t\t\tSearch.prototype = {',\n'\t\t\t\thasMatches: function() {',\n'\t\t\t\t\treturn this.matches.length > 0;',\n'\t\t\t\t},',\n'',\n'\t\t\t\thasVisibleMatches: function() {',\n'\t\t\t\t\tif (this.hasMatches()) {',\n'\t\t\t\t\t\tfor (var i = 0; i < this.matches.length; i++) {',\n'\t\t\t\t\t\t\tif (this.matches[i].isVisible()) {',\n'\t\t\t\t\t\t\t\treturn true;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t\treturn false;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tmatch: function(logEntry) {',\n'\t\t\t\t\tvar entryText = String(logEntry.formattedMessage);',\n'\t\t\t\t\tvar matchesSearch = false;',\n'\t\t\t\t\tif (this.isRegex) {',\n'\t\t\t\t\t\tmatchesSearch = this.searchRegex.test(entryText);',\n'\t\t\t\t\t} else if (this.isCaseSensitive) {',\n'\t\t\t\t\t\tmatchesSearch = (entryText.indexOf(this.searchTerm) > -1);',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tmatchesSearch = (entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1);',\n'\t\t\t\t\t}',\n'\t\t\t\t\treturn matchesSearch;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tgetNextVisibleMatchIndex: function() {',\n'\t\t\t\t\tfor (var i = currentMatchIndex + 1; i < this.matches.length; i++) {',\n'\t\t\t\t\t\tif (this.matches[i].isVisible()) {',\n'\t\t\t\t\t\t\treturn i;',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t\t// Start again from the first match',\n'\t\t\t\t\tfor (i = 0; i <= currentMatchIndex; i++) {',\n'\t\t\t\t\t\tif (this.matches[i].isVisible()) {',\n'\t\t\t\t\t\t\treturn i;',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t\treturn -1;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tgetPreviousVisibleMatchIndex: function() {',\n'\t\t\t\t\tfor (var i = currentMatchIndex - 1; i >= 0; i--) {',\n'\t\t\t\t\t\tif (this.matches[i].isVisible()) {',\n'\t\t\t\t\t\t\treturn i;',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t\t// Start again from the last match',\n'\t\t\t\t\tfor (var i = this.matches.length - 1; i >= currentMatchIndex; i--) {',\n'\t\t\t\t\t\tif (this.matches[i].isVisible()) {',\n'\t\t\t\t\t\t\treturn i;',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t\treturn -1;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tapplyTo: function(logEntry) {',\n'\t\t\t\t\tvar doesMatch = this.match(logEntry);',\n'\t\t\t\t\tif (doesMatch) {',\n'\t\t\t\t\t\tlogEntry.group.expand();',\n'\t\t\t\t\t\tlogEntry.setSearchMatch(true);',\n'\t\t\t\t\t\tvar logEntryContent;',\n'\t\t\t\t\t\tvar wrappedLogEntryContent;',\n'\t\t\t\t\t\tvar searchTermReplacementStartTag = \"<span class=\\\\\\\"searchterm\\\\\\\">\";',\n'\t\t\t\t\t\tvar searchTermReplacementEndTag = \"<\" + \"/span>\";',\n'\t\t\t\t\t\tvar preTagName = isIe ? \"pre\" : \"span\";',\n'\t\t\t\t\t\tvar preStartTag = \"<\" + preTagName + \" class=\\\\\\\"pre\\\\\\\">\";',\n'\t\t\t\t\t\tvar preEndTag = \"<\" + \"/\" + preTagName + \">\";',\n'\t\t\t\t\t\tvar startIndex = 0;',\n'\t\t\t\t\t\tvar searchIndex, matchedText, textBeforeMatch;',\n'\t\t\t\t\t\tif (this.isRegex) {',\n'\t\t\t\t\t\t\tvar flags = this.isCaseSensitive ? \"g\" : \"gi\";',\n'\t\t\t\t\t\t\tvar capturingRegex = new RegExp(\"(\" + this.searchRegex.source + \")\", flags);',\n'',\n'\t\t\t\t\t\t\t// Replace the search term with temporary tokens for the start and end tags',\n'\t\t\t\t\t\t\tvar rnd = (\"\" + Math.random()).substr(2);',\n'\t\t\t\t\t\t\tvar startToken = \"%%s\" + rnd + \"%%\";',\n'\t\t\t\t\t\t\tvar endToken = \"%%e\" + rnd + \"%%\";',\n'\t\t\t\t\t\t\tlogEntryContent = logEntry.formattedMessage.replace(capturingRegex, startToken + \"$1\" + endToken);',\n'',\n'\t\t\t\t\t\t\t// Escape the HTML to get rid of angle brackets',\n'\t\t\t\t\t\t\tlogEntryContent = escapeHtml(logEntryContent);',\n'',\n'\t\t\t\t\t\t\t// Substitute the proper HTML back in for the search match',\n'\t\t\t\t\t\t\tvar result;',\n'\t\t\t\t\t\t\tvar searchString = logEntryContent;',\n'\t\t\t\t\t\t\tlogEntryContent = \"\";',\n'\t\t\t\t\t\t\twrappedLogEntryContent = \"\";',\n'\t\t\t\t\t\t\twhile ((searchIndex = searchString.indexOf(startToken, startIndex)) > -1) {',\n'\t\t\t\t\t\t\t\tvar endTokenIndex = searchString.indexOf(endToken, searchIndex);',\n'\t\t\t\t\t\t\t\tmatchedText = searchString.substring(searchIndex + startToken.length, endTokenIndex);',\n'\t\t\t\t\t\t\t\ttextBeforeMatch = searchString.substring(startIndex, searchIndex);',\n'\t\t\t\t\t\t\t\tlogEntryContent += preStartTag + textBeforeMatch + preEndTag;',\n'\t\t\t\t\t\t\t\tlogEntryContent += searchTermReplacementStartTag + preStartTag + matchedText +',\n'\t\t\t\t\t\t\t\t\tpreEndTag + searchTermReplacementEndTag;',\n'\t\t\t\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\t\t\t\twrappedLogEntryContent += textBeforeMatch + searchTermReplacementStartTag +',\n'\t\t\t\t\t\t\t\t\t\tmatchedText + searchTermReplacementEndTag;',\n'\t\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\t\tstartIndex = endTokenIndex + endToken.length;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\tlogEntryContent += preStartTag + searchString.substr(startIndex) + preEndTag;',\n'\t\t\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\t\t\twrappedLogEntryContent += searchString.substr(startIndex);',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\tlogEntryContent = \"\";',\n'\t\t\t\t\t\t\twrappedLogEntryContent = \"\";',\n'\t\t\t\t\t\t\tvar searchTermReplacementLength = searchTermReplacementStartTag.length +',\n'\t\t\t\t\t\t\t\tthis.searchTerm.length + searchTermReplacementEndTag.length;',\n'\t\t\t\t\t\t\tvar searchTermLength = this.searchTerm.length;',\n'\t\t\t\t\t\t\tvar searchTermLowerCase = this.searchTerm.toLowerCase();',\n'\t\t\t\t\t\t\tvar logTextLowerCase = logEntry.formattedMessage.toLowerCase();',\n'\t\t\t\t\t\t\twhile ((searchIndex = logTextLowerCase.indexOf(searchTermLowerCase, startIndex)) > -1) {',\n'\t\t\t\t\t\t\t\tmatchedText = escapeHtml(logEntry.formattedMessage.substr(searchIndex, this.searchTerm.length));',\n'\t\t\t\t\t\t\t\ttextBeforeMatch = escapeHtml(logEntry.formattedMessage.substring(startIndex, searchIndex));',\n'\t\t\t\t\t\t\t\tvar searchTermReplacement = searchTermReplacementStartTag +',\n'\t\t\t\t\t\t\t\t\tpreStartTag + matchedText + preEndTag + searchTermReplacementEndTag;',\n'\t\t\t\t\t\t\t\tlogEntryContent += preStartTag + textBeforeMatch + preEndTag + searchTermReplacement;',\n'\t\t\t\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\t\t\t\twrappedLogEntryContent += textBeforeMatch + searchTermReplacementStartTag +',\n'\t\t\t\t\t\t\t\t\t\tmatchedText + searchTermReplacementEndTag;',\n'\t\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\t\tstartIndex = searchIndex + searchTermLength;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\tvar textAfterLastMatch = escapeHtml(logEntry.formattedMessage.substr(startIndex));',\n'\t\t\t\t\t\t\tlogEntryContent += preStartTag + textAfterLastMatch + preEndTag;',\n'\t\t\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\t\t\twrappedLogEntryContent += textAfterLastMatch;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tlogEntry.setContent(logEntryContent, wrappedLogEntryContent);',\n'\t\t\t\t\t\tvar logEntryMatches = logEntry.getSearchMatches();',\n'\t\t\t\t\t\tthis.matches = this.matches.concat(logEntryMatches);',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tlogEntry.setSearchMatch(false);',\n'\t\t\t\t\t\tlogEntry.setContent(logEntry.formattedMessage, logEntry.formattedMessage);',\n'\t\t\t\t\t}',\n'\t\t\t\t\treturn doesMatch;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tremoveMatches: function(logEntries) {',\n'\t\t\t\t\tvar matchesToRemoveCount = 0;',\n'\t\t\t\t\tvar currentMatchRemoved = false;',\n'\t\t\t\t\tvar matchesToRemove = [];',\n'\t\t\t\t\tvar i, iLen, j, jLen;',\n'',\n'\t\t\t\t\t// Establish the list of matches to be removed',\n'\t\t\t\t\tfor (i = 0, iLen = this.matches.length; i < iLen; i++) {',\n'\t\t\t\t\t\tfor (j = 0, jLen = logEntries.length; j < jLen; j++) {',\n'\t\t\t\t\t\t\tif (this.matches[i].belongsTo(logEntries[j])) {',\n'\t\t\t\t\t\t\t\tmatchesToRemove.push(this.matches[i]);',\n'\t\t\t\t\t\t\t\tif (i === currentMatchIndex) {',\n'\t\t\t\t\t\t\t\t\tcurrentMatchRemoved = true;',\n'\t\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'',\n'\t\t\t\t\t// Set the new current match index if the current match has been deleted',\n'\t\t\t\t\t// This will be the first match that appears after the first log entry being',\n'\t\t\t\t\t// deleted, if one exists; otherwise, it\\'s the first match overall',\n'\t\t\t\t\tvar newMatch = currentMatchRemoved ? null : this.matches[currentMatchIndex];',\n'\t\t\t\t\tif (currentMatchRemoved) {',\n'\t\t\t\t\t\tfor (i = currentMatchIndex, iLen = this.matches.length; i < iLen; i++) {',\n'\t\t\t\t\t\t\tif (this.matches[i].isVisible() && !array_contains(matchesToRemove, this.matches[i])) {',\n'\t\t\t\t\t\t\t\tnewMatch = this.matches[i];',\n'\t\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'',\n'\t\t\t\t\t// Remove the matches',\n'\t\t\t\t\tfor (i = 0, iLen = matchesToRemove.length; i < iLen; i++) {',\n'\t\t\t\t\t\tarray_remove(this.matches, matchesToRemove[i]);',\n'\t\t\t\t\t\tmatchesToRemove[i].remove();',\n'\t\t\t\t\t}',\n'',\n'\t\t\t\t\t// Set the new match, if one exists',\n'\t\t\t\t\tif (this.hasVisibleMatches()) {',\n'\t\t\t\t\t\tif (newMatch === null) {',\n'\t\t\t\t\t\t\tsetCurrentMatchIndex(0);',\n'\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\t// Get the index of the new match',\n'\t\t\t\t\t\t\tvar newMatchIndex = 0;',\n'\t\t\t\t\t\t\tfor (i = 0, iLen = this.matches.length; i < iLen; i++) {',\n'\t\t\t\t\t\t\t\tif (newMatch === this.matches[i]) {',\n'\t\t\t\t\t\t\t\t\tnewMatchIndex = i;',\n'\t\t\t\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t\tsetCurrentMatchIndex(newMatchIndex);',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tcurrentMatchIndex = null;',\n'\t\t\t\t\t\tdisplayNoMatches();',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t};',\n'',\n'\t\t\tfunction getPageOffsetTop(el, container) {',\n'\t\t\t\tvar currentEl = el;',\n'\t\t\t\tvar y = 0;',\n'\t\t\t\twhile (currentEl && currentEl != container) {',\n'\t\t\t\t\ty += currentEl.offsetTop;',\n'\t\t\t\t\tcurrentEl = currentEl.offsetParent;',\n'\t\t\t\t}',\n'\t\t\t\treturn y;',\n'\t\t\t}',\n'',\n'\t\t\tfunction scrollIntoView(el) {',\n'\t\t\t\tvar logContainer = logMainContainer;',\n'\t\t\t\t// Check if the whole width of the element is visible and centre if not',\n'\t\t\t\tif (!$(\"wrap\").checked) {',\n'\t\t\t\t\tvar logContainerLeft = logContainer.scrollLeft;',\n'\t\t\t\t\tvar logContainerRight = logContainerLeft  + logContainer.offsetWidth;',\n'\t\t\t\t\tvar elLeft = el.offsetLeft;',\n'\t\t\t\t\tvar elRight = elLeft + el.offsetWidth;',\n'\t\t\t\t\tif (elLeft < logContainerLeft || elRight > logContainerRight) {',\n'\t\t\t\t\t\tlogContainer.scrollLeft = elLeft - (logContainer.offsetWidth - el.offsetWidth) / 2;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\t// Check if the whole height of the element is visible and centre if not',\n'\t\t\t\tvar logContainerTop = logContainer.scrollTop;',\n'\t\t\t\tvar logContainerBottom = logContainerTop  + logContainer.offsetHeight;',\n'\t\t\t\tvar elTop = getPageOffsetTop(el) - getToolBarsHeight();',\n'\t\t\t\tvar elBottom = elTop + el.offsetHeight;',\n'\t\t\t\tif (elTop < logContainerTop || elBottom > logContainerBottom) {',\n'\t\t\t\t\tlogContainer.scrollTop = elTop - (logContainer.offsetHeight - el.offsetHeight) / 2;',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction Match(logEntryLevel, spanInMainDiv, spanInUnwrappedPre, spanInWrappedDiv) {',\n'\t\t\t\tthis.logEntryLevel = logEntryLevel;',\n'\t\t\t\tthis.spanInMainDiv = spanInMainDiv;',\n'\t\t\t\tif (isIe) {',\n'\t\t\t\t\tthis.spanInUnwrappedPre = spanInUnwrappedPre;',\n'\t\t\t\t\tthis.spanInWrappedDiv = spanInWrappedDiv;',\n'\t\t\t\t}',\n'\t\t\t\tthis.mainSpan = isIe ? spanInUnwrappedPre : spanInMainDiv;',\n'\t\t\t}',\n'',\n'\t\t\tMatch.prototype = {',\n'\t\t\t\tequals: function(match) {',\n'\t\t\t\t\treturn this.mainSpan === match.mainSpan;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tsetCurrent: function() {',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\taddClass(this.spanInUnwrappedPre, \"currentmatch\");',\n'\t\t\t\t\t\taddClass(this.spanInWrappedDiv, \"currentmatch\");',\n'\t\t\t\t\t\t// Scroll the visible one into view',\n'\t\t\t\t\t\tvar elementToScroll = $(\"wrap\").checked ? this.spanInWrappedDiv : this.spanInUnwrappedPre;',\n'\t\t\t\t\t\tscrollIntoView(elementToScroll);',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\taddClass(this.spanInMainDiv, \"currentmatch\");',\n'\t\t\t\t\t\tscrollIntoView(this.spanInMainDiv);',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tbelongsTo: function(logEntry) {',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\treturn isDescendant(this.spanInUnwrappedPre, logEntry.unwrappedPre);',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\treturn isDescendant(this.spanInMainDiv, logEntry.mainDiv);',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tsetNotCurrent: function() {',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\tremoveClass(this.spanInUnwrappedPre, \"currentmatch\");',\n'\t\t\t\t\t\tremoveClass(this.spanInWrappedDiv, \"currentmatch\");',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tremoveClass(this.spanInMainDiv, \"currentmatch\");',\n'\t\t\t\t\t}',\n'\t\t\t\t},',\n'',\n'\t\t\t\tisOrphan: function() {',\n'\t\t\t\t\treturn isOrphan(this.mainSpan);',\n'\t\t\t\t},',\n'',\n'\t\t\t\tisVisible: function() {',\n'\t\t\t\t\treturn getCheckBox(this.logEntryLevel).checked;',\n'\t\t\t\t},',\n'',\n'\t\t\t\tremove: function() {',\n'\t\t\t\t\tif (isIe) {',\n'\t\t\t\t\t\tthis.spanInUnwrappedPre = null;',\n'\t\t\t\t\t\tthis.spanInWrappedDiv = null;',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tthis.spanInMainDiv = null;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t};',\n'',\n'\t\t\tvar currentSearch = null;',\n'\t\t\tvar currentMatchIndex = null;',\n'',\n'\t\t\tfunction doSearch() {',\n'\t\t\t\tvar searchBox = $(\"searchBox\");',\n'\t\t\t\tvar searchTerm = searchBox.value;',\n'\t\t\t\tvar isRegex = $(\"searchRegex\").checked;',\n'\t\t\t\tvar isCaseSensitive = $(\"searchCaseSensitive\").checked;',\n'\t\t\t\tvar i;',\n'',\n'\t\t\t\tif (searchTerm === \"\") {',\n'\t\t\t\t\t$(\"searchReset\").disabled = true;',\n'\t\t\t\t\t$(\"searchNav\").style.display = \"none\";',\n'\t\t\t\t\tremoveClass(document.body, \"searching\");',\n'\t\t\t\t\tremoveClass(searchBox, \"hasmatches\");',\n'\t\t\t\t\tremoveClass(searchBox, \"nomatches\");',\n'\t\t\t\t\tfor (i = 0; i < logEntries.length; i++) {',\n'\t\t\t\t\t\tlogEntries[i].clearSearch();',\n'\t\t\t\t\t\tlogEntries[i].setContent(logEntries[i].formattedMessage, logEntries[i].formattedMessage);',\n'\t\t\t\t\t}',\n'\t\t\t\t\tcurrentSearch = null;',\n'\t\t\t\t\tsetLogContainerHeight();',\n'\t\t\t\t} else {',\n'\t\t\t\t\t$(\"searchReset\").disabled = false;',\n'\t\t\t\t\t$(\"searchNav\").style.display = \"block\";',\n'\t\t\t\t\tvar searchRegex;',\n'\t\t\t\t\tvar regexValid;',\n'\t\t\t\t\tif (isRegex) {',\n'\t\t\t\t\t\ttry {',\n'\t\t\t\t\t\t\tsearchRegex = isCaseSensitive ? new RegExp(searchTerm, \"g\") : new RegExp(searchTerm, \"gi\");',\n'\t\t\t\t\t\t\tregexValid = true;',\n'\t\t\t\t\t\t\treplaceClass(searchBox, \"validregex\", \"invalidregex\");',\n'\t\t\t\t\t\t\tsearchBox.title = \"Valid regex\";',\n'\t\t\t\t\t\t} catch (ex) {',\n'\t\t\t\t\t\t\tregexValid = false;',\n'\t\t\t\t\t\t\treplaceClass(searchBox, \"invalidregex\", \"validregex\");',\n'\t\t\t\t\t\t\tsearchBox.title = \"Invalid regex: \" + (ex.message ? ex.message : (ex.description ? ex.description : \"unknown error\"));',\n'\t\t\t\t\t\t\treturn;',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tsearchBox.title = \"\";',\n'\t\t\t\t\t\tremoveClass(searchBox, \"validregex\");',\n'\t\t\t\t\t\tremoveClass(searchBox, \"invalidregex\");',\n'\t\t\t\t\t}',\n'\t\t\t\t\taddClass(document.body, \"searching\");',\n'\t\t\t\t\tcurrentSearch = new Search(searchTerm, isRegex, searchRegex, isCaseSensitive);',\n'\t\t\t\t\tfor (i = 0; i < logEntries.length; i++) {',\n'\t\t\t\t\t\tcurrentSearch.applyTo(logEntries[i]);',\n'\t\t\t\t\t}',\n'\t\t\t\t\tsetLogContainerHeight();',\n'',\n'\t\t\t\t\t// Highlight the first search match',\n'\t\t\t\t\tif (currentSearch.hasVisibleMatches()) {',\n'\t\t\t\t\t\tsetCurrentMatchIndex(0);',\n'\t\t\t\t\t\tdisplayMatches();',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tdisplayNoMatches();',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction updateSearchFromFilters() {',\n'\t\t\t\tif (currentSearch) {',\n'\t\t\t\t\tif (currentSearch.hasMatches()) {',\n'\t\t\t\t\t\tif (currentMatchIndex === null) {',\n'\t\t\t\t\t\t\tcurrentMatchIndex = 0;',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tvar currentMatch = currentSearch.matches[currentMatchIndex];',\n'\t\t\t\t\t\tif (currentMatch.isVisible()) {',\n'\t\t\t\t\t\t\tdisplayMatches();',\n'\t\t\t\t\t\t\tsetCurrentMatchIndex(currentMatchIndex);',\n'\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\tcurrentMatch.setNotCurrent();',\n'\t\t\t\t\t\t\t// Find the next visible match, if one exists',\n'\t\t\t\t\t\t\tvar nextVisibleMatchIndex = currentSearch.getNextVisibleMatchIndex();',\n'\t\t\t\t\t\t\tif (nextVisibleMatchIndex > -1) {',\n'\t\t\t\t\t\t\t\tsetCurrentMatchIndex(nextVisibleMatchIndex);',\n'\t\t\t\t\t\t\t\tdisplayMatches();',\n'\t\t\t\t\t\t\t} else {',\n'\t\t\t\t\t\t\t\tdisplayNoMatches();',\n'\t\t\t\t\t\t\t}',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tdisplayNoMatches();',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction refreshCurrentMatch() {',\n'\t\t\t\tif (currentSearch && currentSearch.hasVisibleMatches()) {',\n'\t\t\t\t\tsetCurrentMatchIndex(currentMatchIndex);',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction displayMatches() {',\n'\t\t\t\treplaceClass($(\"searchBox\"), \"hasmatches\", \"nomatches\");',\n'\t\t\t\t$(\"searchBox\").title = \"\" + currentSearch.matches.length + \" matches found\";',\n'\t\t\t\t$(\"searchNav\").style.display = \"block\";',\n'\t\t\t\tsetLogContainerHeight();',\n'\t\t\t}',\n'',\n'\t\t\tfunction displayNoMatches() {',\n'\t\t\t\treplaceClass($(\"searchBox\"), \"nomatches\", \"hasmatches\");',\n'\t\t\t\t$(\"searchBox\").title = \"No matches found\";',\n'\t\t\t\t$(\"searchNav\").style.display = \"none\";',\n'\t\t\t\tsetLogContainerHeight();',\n'\t\t\t}',\n'',\n'\t\t\tfunction toggleSearchEnabled(enable) {',\n'\t\t\t\tenable = (typeof enable == \"undefined\") ? !$(\"searchDisable\").checked : enable;',\n'\t\t\t\t$(\"searchBox\").disabled = !enable;',\n'\t\t\t\t$(\"searchReset\").disabled = !enable;',\n'\t\t\t\t$(\"searchRegex\").disabled = !enable;',\n'\t\t\t\t$(\"searchNext\").disabled = !enable;',\n'\t\t\t\t$(\"searchPrevious\").disabled = !enable;',\n'\t\t\t\t$(\"searchCaseSensitive\").disabled = !enable;',\n'\t\t\t\t$(\"searchNav\").style.display = (enable && ($(\"searchBox\").value !== \"\") &&',\n'\t\t\t\t\t\tcurrentSearch && currentSearch.hasVisibleMatches()) ?',\n'\t\t\t\t\t\"block\" : \"none\";',\n'\t\t\t\tif (enable) {',\n'\t\t\t\t\tremoveClass($(\"search\"), \"greyedout\");',\n'\t\t\t\t\taddClass(document.body, \"searching\");',\n'\t\t\t\t\tif ($(\"searchHighlight\").checked) {',\n'\t\t\t\t\t\taddClass(logMainContainer, \"searchhighlight\");',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tremoveClass(logMainContainer, \"searchhighlight\");',\n'\t\t\t\t\t}',\n'\t\t\t\t\tif ($(\"searchFilter\").checked) {',\n'\t\t\t\t\t\taddClass(logMainContainer, \"searchfilter\");',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tremoveClass(logMainContainer, \"searchfilter\");',\n'\t\t\t\t\t}',\n'\t\t\t\t\t$(\"searchDisable\").checked = !enable;',\n'\t\t\t\t} else {',\n'\t\t\t\t\taddClass($(\"search\"), \"greyedout\");',\n'\t\t\t\t\tremoveClass(document.body, \"searching\");',\n'\t\t\t\t\tremoveClass(logMainContainer, \"searchhighlight\");',\n'\t\t\t\t\tremoveClass(logMainContainer, \"searchfilter\");',\n'\t\t\t\t}',\n'\t\t\t\tsetLogContainerHeight();',\n'\t\t\t}',\n'',\n'\t\t\tfunction toggleSearchFilter() {',\n'\t\t\t\tvar enable = $(\"searchFilter\").checked;',\n'\t\t\t\tif (enable) {',\n'\t\t\t\t\taddClass(logMainContainer, \"searchfilter\");',\n'\t\t\t\t} else {',\n'\t\t\t\t\tremoveClass(logMainContainer, \"searchfilter\");',\n'\t\t\t\t}',\n'\t\t\t\trefreshCurrentMatch();',\n'\t\t\t}',\n'',\n'\t\t\tfunction toggleSearchHighlight() {',\n'\t\t\t\tvar enable = $(\"searchHighlight\").checked;',\n'\t\t\t\tif (enable) {',\n'\t\t\t\t\taddClass(logMainContainer, \"searchhighlight\");',\n'\t\t\t\t} else {',\n'\t\t\t\t\tremoveClass(logMainContainer, \"searchhighlight\");',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction clearSearch() {',\n'\t\t\t\t$(\"searchBox\").value = \"\";',\n'\t\t\t\tdoSearch();',\n'\t\t\t}',\n'',\n'\t\t\tfunction searchNext() {',\n'\t\t\t\tif (currentSearch !== null && currentMatchIndex !== null) {',\n'\t\t\t\t\tcurrentSearch.matches[currentMatchIndex].setNotCurrent();',\n'\t\t\t\t\tvar nextMatchIndex = currentSearch.getNextVisibleMatchIndex();',\n'\t\t\t\t\tif (nextMatchIndex > currentMatchIndex || confirm(\"Reached the end of the page. Start from the top?\")) {',\n'\t\t\t\t\t\tsetCurrentMatchIndex(nextMatchIndex);',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction searchPrevious() {',\n'\t\t\t\tif (currentSearch !== null && currentMatchIndex !== null) {',\n'\t\t\t\t\tcurrentSearch.matches[currentMatchIndex].setNotCurrent();',\n'\t\t\t\t\tvar previousMatchIndex = currentSearch.getPreviousVisibleMatchIndex();',\n'\t\t\t\t\tif (previousMatchIndex < currentMatchIndex || confirm(\"Reached the start of the page. Continue from the bottom?\")) {',\n'\t\t\t\t\t\tsetCurrentMatchIndex(previousMatchIndex);',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction setCurrentMatchIndex(index) {',\n'\t\t\t\tcurrentMatchIndex = index;',\n'\t\t\t\tcurrentSearch.matches[currentMatchIndex].setCurrent();',\n'\t\t\t}',\n'',\n'\t\t\t/* ------------------------------------------------------------------------- */',\n'',\n'\t\t\t// CSS Utilities',\n'',\n'\t\t\tfunction addClass(el, cssClass) {',\n'\t\t\t\tif (!hasClass(el, cssClass)) {',\n'\t\t\t\t\tif (el.className) {',\n'\t\t\t\t\t\tel.className += \" \" + cssClass;',\n'\t\t\t\t\t} else {',\n'\t\t\t\t\t\tel.className = cssClass;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction hasClass(el, cssClass) {',\n'\t\t\t\tif (el.className) {',\n'\t\t\t\t\tvar classNames = el.className.split(\" \");',\n'\t\t\t\t\treturn array_contains(classNames, cssClass);',\n'\t\t\t\t}',\n'\t\t\t\treturn false;',\n'\t\t\t}',\n'',\n'\t\t\tfunction removeClass(el, cssClass) {',\n'\t\t\t\tif (hasClass(el, cssClass)) {',\n'\t\t\t\t\t// Rebuild the className property',\n'\t\t\t\t\tvar existingClasses = el.className.split(\" \");',\n'\t\t\t\t\tvar newClasses = [];',\n'\t\t\t\t\tfor (var i = 0, len = existingClasses.length; i < len; i++) {',\n'\t\t\t\t\t\tif (existingClasses[i] != cssClass) {',\n'\t\t\t\t\t\t\tnewClasses[newClasses.length] = existingClasses[i];',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t}',\n'\t\t\t\t\tel.className = newClasses.join(\" \");',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction replaceClass(el, newCssClass, oldCssClass) {',\n'\t\t\t\tremoveClass(el, oldCssClass);',\n'\t\t\t\taddClass(el, newCssClass);',\n'\t\t\t}',\n'',\n'\t\t\t/* ------------------------------------------------------------------------- */',\n'',\n'\t\t\t// Other utility functions',\n'',\n'\t\t\tfunction getElementsByClass(el, cssClass, tagName) {',\n'\t\t\t\tvar elements = el.getElementsByTagName(tagName);',\n'\t\t\t\tvar matches = [];',\n'\t\t\t\tfor (var i = 0, len = elements.length; i < len; i++) {',\n'\t\t\t\t\tif (hasClass(elements[i], cssClass)) {',\n'\t\t\t\t\t\tmatches.push(elements[i]);',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\treturn matches;',\n'\t\t\t}',\n'',\n'\t\t\t// Syntax borrowed from Prototype library',\n'\t\t\tfunction $(id) {',\n'\t\t\t\treturn document.getElementById(id);',\n'\t\t\t}',\n'',\n'\t\t\tfunction isDescendant(node, ancestorNode) {',\n'\t\t\t\twhile (node != null) {',\n'\t\t\t\t\tif (node === ancestorNode) {',\n'\t\t\t\t\t\treturn true;',\n'\t\t\t\t\t}',\n'\t\t\t\t\tnode = node.parentNode;',\n'\t\t\t\t}',\n'\t\t\t\treturn false;',\n'\t\t\t}',\n'',\n'\t\t\tfunction isOrphan(node) {',\n'\t\t\t\tvar currentNode = node;',\n'\t\t\t\twhile (currentNode) {',\n'\t\t\t\t\tif (currentNode == document.body) {',\n'\t\t\t\t\t\treturn false;',\n'\t\t\t\t\t}',\n'\t\t\t\t\tcurrentNode = currentNode.parentNode;',\n'\t\t\t\t}',\n'\t\t\t\treturn true;',\n'\t\t\t}',\n'',\n'\t\t\tfunction escapeHtml(str) {',\n'\t\t\t\treturn str.replace(/&/g, \"&amp;\").replace(/[<]/g, \"&lt;\").replace(/>/g, \"&gt;\");',\n'\t\t\t}',\n'',\n'\t\t\tfunction getWindowWidth() {',\n'\t\t\t\tif (window.innerWidth) {',\n'\t\t\t\t\treturn window.innerWidth;',\n'\t\t\t\t} else if (document.documentElement && document.documentElement.clientWidth) {',\n'\t\t\t\t\treturn document.documentElement.clientWidth;',\n'\t\t\t\t} else if (document.body) {',\n'\t\t\t\t\treturn document.body.clientWidth;',\n'\t\t\t\t}',\n'\t\t\t\treturn 0;',\n'\t\t\t}',\n'',\n'\t\t\tfunction getWindowHeight() {',\n'\t\t\t\tif (window.innerHeight) {',\n'\t\t\t\t\treturn window.innerHeight;',\n'\t\t\t\t} else if (document.documentElement && document.documentElement.clientHeight) {',\n'\t\t\t\t\treturn document.documentElement.clientHeight;',\n'\t\t\t\t} else if (document.body) {',\n'\t\t\t\t\treturn document.body.clientHeight;',\n'\t\t\t\t}',\n'\t\t\t\treturn 0;',\n'\t\t\t}',\n'',\n'\t\t\tfunction getToolBarsHeight() {',\n'\t\t\t\treturn $(\"switches\").offsetHeight;',\n'\t\t\t}',\n'',\n'\t\t\tfunction getChromeHeight() {',\n'\t\t\t\tvar height = getToolBarsHeight();',\n'\t\t\t\tif (showCommandLine) {',\n'\t\t\t\t\theight += $(\"commandLine\").offsetHeight;',\n'\t\t\t\t}',\n'\t\t\t\treturn height;',\n'\t\t\t}',\n'',\n'\t\t\tfunction setLogContainerHeight() {',\n'\t\t\t\tif (logMainContainer) {',\n'\t\t\t\t\tvar windowHeight = getWindowHeight();',\n'\t\t\t\t\t$(\"body\").style.height = getWindowHeight() + \"px\";',\n'\t\t\t\t\tlogMainContainer.style.height = \"\" +',\n'\t\t\t\t\t\tMath.max(0, windowHeight - getChromeHeight()) + \"px\";',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction setCommandInputWidth() {',\n'\t\t\t\tif (showCommandLine) {',\n'\t\t\t\t\t$(\"command\").style.width = \"\" + Math.max(0, $(\"commandLineContainer\").offsetWidth -',\n'\t\t\t\t\t\t($(\"evaluateButton\").offsetWidth + 13)) + \"px\";',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\twindow.onresize = function() {',\n'\t\t\t\tsetCommandInputWidth();',\n'\t\t\t\tsetLogContainerHeight();',\n'\t\t\t};',\n'',\n'\t\t\tif (!Array.prototype.push) {',\n'\t\t\t\tArray.prototype.push = function() {',\n'\t\t\t\t\tfor (var i = 0, len = arguments.length; i < len; i++){',\n'\t\t\t\t\t\tthis[this.length] = arguments[i];',\n'\t\t\t\t\t}',\n'\t\t\t\t\treturn this.length;',\n'\t\t\t\t};',\n'\t\t\t}',\n'',\n'\t\t\tif (!Array.prototype.pop) {',\n'\t\t\t\tArray.prototype.pop = function() {',\n'\t\t\t\t\tif (this.length > 0) {',\n'\t\t\t\t\t\tvar val = this[this.length - 1];',\n'\t\t\t\t\t\tthis.length = this.length - 1;',\n'\t\t\t\t\t\treturn val;',\n'\t\t\t\t\t}',\n'\t\t\t\t};',\n'\t\t\t}',\n'',\n'\t\t\tif (!Array.prototype.shift) {',\n'\t\t\t\tArray.prototype.shift = function() {',\n'\t\t\t\t\tif (this.length > 0) {',\n'\t\t\t\t\t\tvar firstItem = this[0];',\n'\t\t\t\t\t\tfor (var i = 0, len = this.length - 1; i < len; i++) {',\n'\t\t\t\t\t\t\tthis[i] = this[i + 1];',\n'\t\t\t\t\t\t}',\n'\t\t\t\t\t\tthis.length = this.length - 1;',\n'\t\t\t\t\t\treturn firstItem;',\n'\t\t\t\t\t}',\n'\t\t\t\t};',\n'\t\t\t}',\n'',\n'\t\t\tif (!Array.prototype.splice) {',\n'\t\t\t\tArray.prototype.splice = function(startIndex, deleteCount) {',\n'\t\t\t\t\tvar itemsAfterDeleted = this.slice(startIndex + deleteCount);',\n'\t\t\t\t\tvar itemsDeleted = this.slice(startIndex, startIndex + deleteCount);',\n'\t\t\t\t\tthis.length = startIndex;',\n'\t\t\t\t\t// Copy the arguments into a proper Array object',\n'\t\t\t\t\tvar argumentsArray = [];',\n'\t\t\t\t\tfor (var i = 0, len = arguments.length; i < len; i++) {',\n'\t\t\t\t\t\targumentsArray[i] = arguments[i];',\n'\t\t\t\t\t}',\n'\t\t\t\t\tvar itemsToAppend = (argumentsArray.length > 2) ?',\n'\t\t\t\t\t\titemsAfterDeleted = argumentsArray.slice(2).concat(itemsAfterDeleted) : itemsAfterDeleted;',\n'\t\t\t\t\tfor (i = 0, len = itemsToAppend.length; i < len; i++) {',\n'\t\t\t\t\t\tthis.push(itemsToAppend[i]);',\n'\t\t\t\t\t}',\n'\t\t\t\t\treturn itemsDeleted;',\n'\t\t\t\t};',\n'\t\t\t}',\n'',\n'\t\t\tfunction array_remove(arr, val) {',\n'\t\t\t\tvar index = -1;',\n'\t\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {',\n'\t\t\t\t\tif (arr[i] === val) {',\n'\t\t\t\t\t\tindex = i;',\n'\t\t\t\t\t\tbreak;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\tif (index >= 0) {',\n'\t\t\t\t\tarr.splice(index, 1);',\n'\t\t\t\t\treturn index;',\n'\t\t\t\t} else {',\n'\t\t\t\t\treturn false;',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction array_removeFromStart(array, numberToRemove) {',\n'\t\t\t\tif (Array.prototype.splice) {',\n'\t\t\t\t\tarray.splice(0, numberToRemove);',\n'\t\t\t\t} else {',\n'\t\t\t\t\tfor (var i = numberToRemove, len = array.length; i < len; i++) {',\n'\t\t\t\t\t\tarray[i - numberToRemove] = array[i];',\n'\t\t\t\t\t}',\n'\t\t\t\t\tarray.length = array.length - numberToRemove;',\n'\t\t\t\t}',\n'\t\t\t\treturn array;',\n'\t\t\t}',\n'',\n'\t\t\tfunction array_contains(arr, val) {',\n'\t\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {',\n'\t\t\t\t\tif (arr[i] == val) {',\n'\t\t\t\t\t\treturn true;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\treturn false;',\n'\t\t\t}',\n'',\n'\t\t\tfunction getErrorMessage(ex) {',\n'\t\t\t\tif (ex.message) {',\n'\t\t\t\t\treturn ex.message;',\n'\t\t\t\t} else if (ex.description) {',\n'\t\t\t\t\treturn ex.description;',\n'\t\t\t\t}',\n'\t\t\t\treturn \"\" + ex;',\n'\t\t\t}',\n'',\n'\t\t\tfunction moveCaretToEnd(input) {',\n'\t\t\t\tif (input.setSelectionRange) {',\n'\t\t\t\t\tinput.focus();',\n'\t\t\t\t\tvar length = input.value.length;',\n'\t\t\t\t\tinput.setSelectionRange(length, length);',\n'\t\t\t\t} else if (input.createTextRange) {',\n'\t\t\t\t\tvar range = input.createTextRange();',\n'\t\t\t\t\trange.collapse(false);',\n'\t\t\t\t\trange.select();',\n'\t\t\t\t}',\n'\t\t\t\tinput.focus();',\n'\t\t\t}',\n'',\n'\t\t\tfunction stopPropagation(evt) {',\n'\t\t\t\tif (evt.stopPropagation) {',\n'\t\t\t\t\tevt.stopPropagation();',\n'\t\t\t\t} else if (typeof evt.cancelBubble != \"undefined\") {',\n'\t\t\t\t\tevt.cancelBubble = true;',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction getEvent(evt) {',\n'\t\t\t\treturn evt ? evt : event;',\n'\t\t\t}',\n'',\n'\t\t\tfunction getTarget(evt) {',\n'\t\t\t\treturn evt.target ? evt.target : evt.srcElement;',\n'\t\t\t}',\n'',\n'\t\t\tfunction getRelatedTarget(evt) {',\n'\t\t\t\tif (evt.relatedTarget) {',\n'\t\t\t\t\treturn evt.relatedTarget;',\n'\t\t\t\t} else if (evt.srcElement) {',\n'\t\t\t\t\tswitch(evt.type) {',\n'\t\t\t\t\t\tcase \"mouseover\":',\n'\t\t\t\t\t\t\treturn evt.fromElement;',\n'\t\t\t\t\t\tcase \"mouseout\":',\n'\t\t\t\t\t\t\treturn evt.toElement;',\n'\t\t\t\t\t\tdefault:',\n'\t\t\t\t\t\t\treturn evt.srcElement;',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tfunction cancelKeyEvent(evt) {',\n'\t\t\t\tevt.returnValue = false;',\n'\t\t\t\tstopPropagation(evt);',\n'\t\t\t}',\n'',\n'\t\t\tfunction evalCommandLine() {',\n'\t\t\t\tvar expr = $(\"command\").value;',\n'\t\t\t\tevalCommand(expr);',\n'\t\t\t\t$(\"command\").value = \"\";',\n'\t\t\t}',\n'',\n'\t\t\tfunction evalLastCommand() {',\n'\t\t\t\tif (lastCommand != null) {',\n'\t\t\t\t\tevalCommand(lastCommand);',\n'\t\t\t\t}',\n'\t\t\t}',\n'',\n'\t\t\tvar lastCommand = null;',\n'\t\t\tvar commandHistory = [];',\n'\t\t\tvar currentCommandIndex = 0;',\n'',\n'\t\t\tfunction evalCommand(expr) {',\n'\t\t\t\tif (appender) {',\n'\t\t\t\t\tappender.evalCommandAndAppend(expr);',\n'\t\t\t\t} else {',\n'\t\t\t\t\tvar prefix = \">>> \" + expr + \"\\\\r\\\\n\";',\n'\t\t\t\t\ttry {',\n'\t\t\t\t\t\tlog(\"INFO\", prefix + eval(expr));',\n'\t\t\t\t\t} catch (ex) {',\n'\t\t\t\t\t\tlog(\"ERROR\", prefix + \"Error: \" + getErrorMessage(ex));',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\t// Update command history',\n'\t\t\t\tif (expr != commandHistory[commandHistory.length - 1]) {',\n'\t\t\t\t\tcommandHistory.push(expr);',\n'\t\t\t\t\t// Update the appender',\n'\t\t\t\t\tif (appender) {',\n'\t\t\t\t\t\tappender.storeCommandHistory(commandHistory);',\n'\t\t\t\t\t}',\n'\t\t\t\t}',\n'\t\t\t\tcurrentCommandIndex = (expr == commandHistory[currentCommandIndex]) ? currentCommandIndex + 1 : commandHistory.length;',\n'\t\t\t\tlastCommand = expr;',\n'\t\t\t}',\n'\t\t\t//]]>',\n'\t\t</script>',\n'\t\t<style type=\"text/css\">',\n'\t\t\tbody {',\n'\t\t\t\tbackground-color: white;',\n'\t\t\t\tcolor: black;',\n'\t\t\t\tpadding: 0;',\n'\t\t\t\tmargin: 0;',\n'\t\t\t\tfont-family: tahoma, verdana, arial, helvetica, sans-serif;',\n'\t\t\t\toverflow: hidden;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#switchesContainer input {',\n'\t\t\t\tmargin-bottom: 0;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.toolbar {',\n'\t\t\t\tborder-top: solid #ffffff 1px;',\n'\t\t\t\tborder-bottom: solid #aca899 1px;',\n'\t\t\t\tbackground-color: #f1efe7;',\n'\t\t\t\tpadding: 3px 5px;',\n'\t\t\t\tfont-size: 68.75%;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.toolbar, div#search input {',\n'\t\t\t\tfont-family: tahoma, verdana, arial, helvetica, sans-serif;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.toolbar input.button {',\n'\t\t\t\tpadding: 0 5px;',\n'\t\t\t\tfont-size: 100%;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.toolbar input.hidden {',\n'\t\t\t\tdisplay: none;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#switches input#clearButton {',\n'\t\t\t\tmargin-left: 20px;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#levels label {',\n'\t\t\t\tfont-weight: bold;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#levels label, div#options label {',\n'\t\t\t\tmargin-right: 5px;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#levels label#wrapLabel {',\n'\t\t\t\tfont-weight: normal;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#search label {',\n'\t\t\t\tmargin-right: 10px;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#search label.searchboxlabel {',\n'\t\t\t\tmargin-right: 0;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#search input {',\n'\t\t\t\tfont-size: 100%;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#search input.validregex {',\n'\t\t\t\tcolor: green;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#search input.invalidregex {',\n'\t\t\t\tcolor: red;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#search input.nomatches {',\n'\t\t\t\tcolor: white;',\n'\t\t\t\tbackground-color: #ff6666;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#search input.nomatches {',\n'\t\t\t\tcolor: white;',\n'\t\t\t\tbackground-color: #ff6666;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#searchNav {',\n'\t\t\t\tdisplay: none;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#commandLine {',\n'\t\t\t\tdisplay: none;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#commandLine input#command {',\n'\t\t\t\tfont-size: 100%;',\n'\t\t\t\tfont-family: Courier New, Courier;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#commandLine input#evaluateButton {',\n'\t\t\t}',\n'',\n'\t\t\t*.greyedout {',\n'\t\t\t\tcolor: gray !important;',\n'\t\t\t\tborder-color: gray !important;',\n'\t\t\t}',\n'',\n'\t\t\t*.greyedout *.alwaysenabled { color: black; }',\n'',\n'\t\t\t*.unselectable {',\n'\t\t\t\t-khtml-user-select: none;',\n'\t\t\t\t-moz-user-select: none;',\n'\t\t\t\tuser-select: none;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#log {',\n'\t\t\t\tfont-family: Courier New, Courier;',\n'\t\t\t\tfont-size: 75%;',\n'\t\t\t\twidth: 100%;',\n'\t\t\t\toverflow: auto;',\n'\t\t\t\tclear: both;',\n'\t\t\t\tposition: relative;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.group {',\n'\t\t\t\tborder-color: #cccccc;',\n'\t\t\t\tborder-style: solid;',\n'\t\t\t\tborder-width: 1px 0 1px 1px;',\n'\t\t\t\toverflow: visible;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.oldIe div.group, div.oldIe div.group *, div.oldIe *.logentry {',\n'\t\t\t\theight: 1%;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.group div.groupheading span.expander {',\n'\t\t\t\tborder: solid black 1px;',\n'\t\t\t\tfont-family: Courier New, Courier;',\n'\t\t\t\tfont-size: 0.833em;',\n'\t\t\t\tbackground-color: #eeeeee;',\n'\t\t\t\tposition: relative;',\n'\t\t\t\ttop: -1px;',\n'\t\t\t\tcolor: black;',\n'\t\t\t\tpadding: 0 2px;',\n'\t\t\t\tcursor: pointer;',\n'\t\t\t\tcursor: hand;',\n'\t\t\t\theight: 1%;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.group div.groupcontent {',\n'\t\t\t\tmargin-left: 10px;',\n'\t\t\t\tpadding-bottom: 2px;',\n'\t\t\t\toverflow: visible;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.group div.expanded {',\n'\t\t\t\tdisplay: block;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.group div.collapsed {',\n'\t\t\t\tdisplay: none;',\n'\t\t\t}',\n'',\n'\t\t\t*.logentry {',\n'\t\t\t\toverflow: visible;',\n'\t\t\t\tdisplay: none;',\n'\t\t\t\twhite-space: pre;',\n'\t\t\t}',\n'',\n'\t\t\tspan.pre {',\n'\t\t\t\twhite-space: pre;',\n'\t\t\t}',\n'',\n'\t\t\tpre.unwrapped {',\n'\t\t\t\tdisplay: inline !important;',\n'\t\t\t}',\n'',\n'\t\t\tpre.unwrapped pre.pre, div.wrapped pre.pre {',\n'\t\t\t\tdisplay: inline;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.wrapped pre.pre {',\n'\t\t\t\twhite-space: normal;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.wrapped {',\n'\t\t\t\tdisplay: none;',\n'\t\t\t}',\n'',\n'\t\t\tbody.searching *.logentry span.currentmatch {',\n'\t\t\t\tcolor: white !important;',\n'\t\t\t\tbackground-color: green !important;',\n'\t\t\t}',\n'',\n'\t\t\tbody.searching div.searchhighlight *.logentry span.searchterm {',\n'\t\t\t\tcolor: black;',\n'\t\t\t\tbackground-color: yellow;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.wrap *.logentry {',\n'\t\t\t\twhite-space: normal !important;',\n'\t\t\t\tborder-width: 0 0 1px 0;',\n'\t\t\t\tborder-color: #dddddd;',\n'\t\t\t\tborder-style: dotted;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.wrap #log_wrapped, #log_unwrapped {',\n'\t\t\t\tdisplay: block;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.wrap #log_unwrapped, #log_wrapped {',\n'\t\t\t\tdisplay: none;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.wrap *.logentry span.pre {',\n'\t\t\t\toverflow: visible;',\n'\t\t\t\twhite-space: normal;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.wrap *.logentry pre.unwrapped {',\n'\t\t\t\tdisplay: none;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.wrap *.logentry span.wrapped {',\n'\t\t\t\tdisplay: inline;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.searchfilter *.searchnonmatch {',\n'\t\t\t\tdisplay: none !important;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#log *.TRACE, label#label_TRACE {',\n'\t\t\t\tcolor: #666666;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#log *.DEBUG, label#label_DEBUG {',\n'\t\t\t\tcolor: green;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#log *.INFO, label#label_INFO {',\n'\t\t\t\tcolor: #000099;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#log *.WARN, label#label_WARN {',\n'\t\t\t\tcolor: #999900;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#log *.ERROR, label#label_ERROR {',\n'\t\t\t\tcolor: red;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#log *.FATAL, label#label_FATAL {',\n'\t\t\t\tcolor: #660066;',\n'\t\t\t}',\n'',\n'\t\t\tdiv.TRACE#log *.TRACE,',\n'\t\t\tdiv.DEBUG#log *.DEBUG,',\n'\t\t\tdiv.INFO#log *.INFO,',\n'\t\t\tdiv.WARN#log *.WARN,',\n'\t\t\tdiv.ERROR#log *.ERROR,',\n'\t\t\tdiv.FATAL#log *.FATAL {',\n'\t\t\t\tdisplay: block;',\n'\t\t\t}',\n'',\n'\t\t\tdiv#log div.separator {',\n'\t\t\t\tbackground-color: #cccccc;',\n'\t\t\t\tmargin: 5px 0;',\n'\t\t\t\tline-height: 1px;',\n'\t\t\t}',\n'\t\t</style>',\n'\t</head>',\n'',\n'\t<body id=\"body\">',\n'\t\t<div id=\"switchesContainer\">',\n'\t\t\t<div id=\"switches\">',\n'\t\t\t\t<div id=\"levels\" class=\"toolbar\">',\n'\t\t\t\t\tFilters:',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"switch_TRACE\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide trace messages\" /><label for=\"switch_TRACE\" id=\"label_TRACE\">trace</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"switch_DEBUG\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide debug messages\" /><label for=\"switch_DEBUG\" id=\"label_DEBUG\">debug</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"switch_INFO\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide info messages\" /><label for=\"switch_INFO\" id=\"label_INFO\">info</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"switch_WARN\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide warn messages\" /><label for=\"switch_WARN\" id=\"label_WARN\">warn</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"switch_ERROR\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide error messages\" /><label for=\"switch_ERROR\" id=\"label_ERROR\">error</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"switch_FATAL\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide fatal messages\" /><label for=\"switch_FATAL\" id=\"label_FATAL\">fatal</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"switch_ALL\" onclick=\"toggleAllLevels(); applyFilters()\" checked=\"checked\" title=\"Show/hide all messages\" /><label for=\"switch_ALL\" id=\"label_ALL\">all</label>',\n'\t\t\t\t</div>',\n'\t\t\t\t<div id=\"search\" class=\"toolbar\">',\n'\t\t\t\t\t<label for=\"searchBox\" class=\"searchboxlabel\">Search:</label> <input type=\"text\" id=\"searchBox\" onclick=\"toggleSearchEnabled(true)\" onkeyup=\"scheduleSearch()\" size=\"20\" />',\n'\t\t\t\t\t<input type=\"button\" id=\"searchReset\" disabled=\"disabled\" value=\"Reset\" onclick=\"clearSearch()\" class=\"button\" title=\"Reset the search\" />',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"searchRegex\" onclick=\"doSearch()\" title=\"If checked, search is treated as a regular expression\" /><label for=\"searchRegex\">Regex</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"searchCaseSensitive\" onclick=\"doSearch()\" title=\"If checked, search is case sensitive\" /><label for=\"searchCaseSensitive\">Match case</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"searchDisable\" onclick=\"toggleSearchEnabled()\" title=\"Enable/disable search\" /><label for=\"searchDisable\" class=\"alwaysenabled\">Disable</label>',\n'\t\t\t\t\t<div id=\"searchNav\">',\n'\t\t\t\t\t\t<input type=\"button\" id=\"searchNext\" disabled=\"disabled\" value=\"Next\" onclick=\"searchNext()\" class=\"button\" title=\"Go to the next matching log entry\" />',\n'\t\t\t\t\t\t<input type=\"button\" id=\"searchPrevious\" disabled=\"disabled\" value=\"Previous\" onclick=\"searchPrevious()\" class=\"button\" title=\"Go to the previous matching log entry\" />',\n'\t\t\t\t\t\t<input type=\"checkbox\" id=\"searchFilter\" onclick=\"toggleSearchFilter()\" title=\"If checked, non-matching log entries are filtered out\" /><label for=\"searchFilter\">Filter</label>',\n'\t\t\t\t\t\t<input type=\"checkbox\" id=\"searchHighlight\" onclick=\"toggleSearchHighlight()\" title=\"Highlight matched search terms\" /><label for=\"searchHighlight\" class=\"alwaysenabled\">Highlight all</label>',\n'\t\t\t\t\t</div>',\n'\t\t\t\t</div>',\n'\t\t\t\t<div id=\"options\" class=\"toolbar\">',\n'\t\t\t\t\tOptions:',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"enableLogging\" onclick=\"toggleLoggingEnabled()\" checked=\"checked\" title=\"Enable/disable logging\" /><label for=\"enableLogging\" id=\"enableLoggingLabel\">Log</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"wrap\" onclick=\"toggleWrap()\" title=\"Enable / disable word wrap\" /><label for=\"wrap\" id=\"wrapLabel\">Wrap</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"newestAtTop\" onclick=\"toggleNewestAtTop()\" title=\"If checked, causes newest messages to appear at the top\" /><label for=\"newestAtTop\" id=\"newestAtTopLabel\">Newest at the top</label>',\n'\t\t\t\t\t<input type=\"checkbox\" id=\"scrollToLatest\" onclick=\"toggleScrollToLatest()\" checked=\"checked\" title=\"If checked, window automatically scrolls to a new message when it is added\" /><label for=\"scrollToLatest\" id=\"scrollToLatestLabel\">Scroll to latest</label>',\n'\t\t\t\t\t<input type=\"button\" id=\"clearButton\" value=\"Clear\" onclick=\"clearLog()\" class=\"button\" title=\"Clear all log messages\"  />',\n'\t\t\t\t\t<input type=\"button\" id=\"hideButton\" value=\"Hide\" onclick=\"hide()\" class=\"hidden button\" title=\"Hide the console\" />',\n'\t\t\t\t\t<input type=\"button\" id=\"closeButton\" value=\"Close\" onclick=\"closeWindow()\" class=\"hidden button\" title=\"Close the window\" />',\n'\t\t\t\t</div>',\n'\t\t\t</div>',\n'\t\t</div>',\n'\t\t<div id=\"log\" class=\"TRACE DEBUG INFO WARN ERROR FATAL\"></div>',\n'\t\t<div id=\"commandLine\" class=\"toolbar\">',\n'\t\t\t<div id=\"commandLineContainer\">',\n'\t\t\t\t<input type=\"text\" id=\"command\" title=\"Enter a JavaScript command here and hit return or press \\'Evaluate\\'\" />',\n'\t\t\t\t<input type=\"button\" id=\"evaluateButton\" value=\"Evaluate\" class=\"button\" title=\"Evaluate the command\" onclick=\"evalCommandLine()\" />',\n'\t\t\t</div>',\n'\t\t</div>',\n'\t</body>',\n'</html>',\n''\n];\n\t\t};\n\n\t\tvar defaultCommandLineFunctions = [];\n\n\t\tConsoleAppender = function() {};\n\n\t\tvar consoleAppenderIdCounter = 1;\n\t\tConsoleAppender.prototype = new Appender();\n\n\t\tConsoleAppender.prototype.create = function(inPage, container,\n\t\t\t\tlazyInit, initiallyMinimized, useDocumentWrite, width, height, focusConsoleWindow) {\n\t\t\tvar appender = this;\n\n\t\t\t// Common properties\n\t\t\tvar initialized = false;\n\t\t\tvar consoleWindowCreated = false;\n\t\t\tvar consoleWindowLoaded = false;\n\t\t\tvar consoleClosed = false;\n\n\t\t\tvar queuedLoggingEvents = [];\n\t\t\tvar isSupported = true;\n\t\t\tvar consoleAppenderId = consoleAppenderIdCounter++;\n\n\t\t\t// Local variables\n\t\t\tinitiallyMinimized = extractBooleanFromParam(initiallyMinimized, this.defaults.initiallyMinimized);\n\t\t\tlazyInit = extractBooleanFromParam(lazyInit, this.defaults.lazyInit);\n\t\t\tuseDocumentWrite = extractBooleanFromParam(useDocumentWrite, this.defaults.useDocumentWrite);\n\t\t\tvar newestMessageAtTop = this.defaults.newestMessageAtTop;\n\t\t\tvar scrollToLatestMessage = this.defaults.scrollToLatestMessage;\n\t\t\twidth = width ? width : this.defaults.width;\n\t\t\theight = height ? height : this.defaults.height;\n\t\t\tvar maxMessages = this.defaults.maxMessages;\n\t\t\tvar showCommandLine = this.defaults.showCommandLine;\n\t\t\tvar commandLineObjectExpansionDepth = this.defaults.commandLineObjectExpansionDepth;\n\t\t\tvar showHideButton = this.defaults.showHideButton;\n\t\t\tvar showCloseButton = this.defaults.showCloseButton;\n\n\t\t\tthis.setLayout(this.defaults.layout);\n\n\t\t\t// Functions whose implementations vary between subclasses\n\t\t\tvar init, createWindow, safeToAppend, getConsoleWindow, open;\n\n\t\t\t// Configuration methods. The function scope is used to prevent\n\t\t\t// direct alteration to the appender configuration properties.\n\t\t\tvar appenderName = inPage ? \"InPageAppender\" : \"PopUpAppender\";\n\t\t\tvar checkCanConfigure = function(configOptionName) {\n\t\t\t\tif (consoleWindowCreated) {\n\t\t\t\t\thandleError(appenderName + \": configuration option '\" + configOptionName + \"' may not be set after the appender has been initialized\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\tvar consoleWindowExists = function() {\n\t\t\t\treturn (consoleWindowLoaded && isSupported && !consoleClosed);\n\t\t\t};\n\n\t\t\tthis.isNewestMessageAtTop = function() { return newestMessageAtTop; };\n\t\t\tthis.setNewestMessageAtTop = function(newestMessageAtTopParam) {\n\t\t\t\tnewestMessageAtTop = bool(newestMessageAtTopParam);\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().setNewestAtTop(newestMessageAtTop);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.isScrollToLatestMessage = function() { return scrollToLatestMessage; };\n\t\t\tthis.setScrollToLatestMessage = function(scrollToLatestMessageParam) {\n\t\t\t\tscrollToLatestMessage = bool(scrollToLatestMessageParam);\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().setScrollToLatest(scrollToLatestMessage);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getWidth = function() { return width; };\n\t\t\tthis.setWidth = function(widthParam) {\n\t\t\t\tif (checkCanConfigure(\"width\")) {\n\t\t\t\t\twidth = extractStringFromParam(widthParam, width);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getHeight = function() { return height; };\n\t\t\tthis.setHeight = function(heightParam) {\n\t\t\t\tif (checkCanConfigure(\"height\")) {\n\t\t\t\t\theight = extractStringFromParam(heightParam, height);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getMaxMessages = function() { return maxMessages; };\n\t\t\tthis.setMaxMessages = function(maxMessagesParam) {\n\t\t\t\tmaxMessages = extractIntFromParam(maxMessagesParam, maxMessages);\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().setMaxMessages(maxMessages);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.isShowCommandLine = function() { return showCommandLine; };\n\t\t\tthis.setShowCommandLine = function(showCommandLineParam) {\n\t\t\t\tshowCommandLine = bool(showCommandLineParam);\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().setShowCommandLine(showCommandLine);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.isShowHideButton = function() { return showHideButton; };\n\t\t\tthis.setShowHideButton = function(showHideButtonParam) {\n\t\t\t\tshowHideButton = bool(showHideButtonParam);\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().setShowHideButton(showHideButton);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.isShowCloseButton = function() { return showCloseButton; };\n\t\t\tthis.setShowCloseButton = function(showCloseButtonParam) {\n\t\t\t\tshowCloseButton = bool(showCloseButtonParam);\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().setShowCloseButton(showCloseButton);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getCommandLineObjectExpansionDepth = function() { return commandLineObjectExpansionDepth; };\n\t\t\tthis.setCommandLineObjectExpansionDepth = function(commandLineObjectExpansionDepthParam) {\n\t\t\t\tcommandLineObjectExpansionDepth = extractIntFromParam(commandLineObjectExpansionDepthParam, commandLineObjectExpansionDepth);\n\t\t\t};\n\n\t\t\tvar minimized = initiallyMinimized;\n\t\t\tthis.isInitiallyMinimized = function() { return initiallyMinimized; };\n\t\t\tthis.setInitiallyMinimized = function(initiallyMinimizedParam) {\n\t\t\t\tif (checkCanConfigure(\"initiallyMinimized\")) {\n\t\t\t\t\tinitiallyMinimized = bool(initiallyMinimizedParam);\n\t\t\t\t\tminimized = initiallyMinimized;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.isUseDocumentWrite = function() { return useDocumentWrite; };\n\t\t\tthis.setUseDocumentWrite = function(useDocumentWriteParam) {\n\t\t\t\tif (checkCanConfigure(\"useDocumentWrite\")) {\n\t\t\t\t\tuseDocumentWrite = bool(useDocumentWriteParam);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Common methods\n\t\t\tfunction QueuedLoggingEvent(loggingEvent, formattedMessage) {\n\t\t\t\tthis.loggingEvent = loggingEvent;\n\t\t\t\tthis.levelName = loggingEvent.level.name;\n\t\t\t\tthis.formattedMessage = formattedMessage;\n\t\t\t}\n\n\t\t\tQueuedLoggingEvent.prototype.append = function() {\n\t\t\t\tgetConsoleWindow().log(this.levelName, this.formattedMessage);\n\t\t\t};\n\n\t\t\tfunction QueuedGroup(name, initiallyExpanded) {\n\t\t\t\tthis.name = name;\n\t\t\t\tthis.initiallyExpanded = initiallyExpanded;\n\t\t\t}\n\n\t\t\tQueuedGroup.prototype.append = function() {\n\t\t\t\tgetConsoleWindow().group(this.name, this.initiallyExpanded);\n\t\t\t};\n\n\t\t\tfunction QueuedGroupEnd() {}\n\n\t\t\tQueuedGroupEnd.prototype.append = function() {\n\t\t\t\tgetConsoleWindow().groupEnd();\n\t\t\t};\n\n\t\t\tvar checkAndAppend = function() {\n\t\t\t\t// Next line forces a check of whether the window has been closed\n\t\t\t\tsafeToAppend();\n\t\t\t\tif (!initialized) {\n\t\t\t\t\tinit();\n\t\t\t\t} else if (consoleClosed && reopenWhenClosed) {\n\t\t\t\t\tcreateWindow();\n\t\t\t\t}\n\t\t\t\tif (safeToAppend()) {\n\t\t\t\t\tappendQueuedLoggingEvents();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.append = function(loggingEvent) {\n\t\t\t\tif (isSupported) {\n\t\t\t\t\t// Format the message\n\t\t\t\t\tvar formattedMessage = appender.getLayout().formatWithException(loggingEvent);\n\t\t\t\t\tqueuedLoggingEvents.push(new QueuedLoggingEvent(loggingEvent, formattedMessage));\n\t\t\t\t\tcheckAndAppend();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.group = function(name, initiallyExpanded) {\n\t\t\t\tif (isSupported) {\n\t\t\t\t\tqueuedLoggingEvents.push(new QueuedGroup(name, initiallyExpanded));\n\t\t\t\t\tcheckAndAppend();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.groupEnd = function() {\n\t\t\t\tif (isSupported) {\n\t\t\t\t\tqueuedLoggingEvents.push(new QueuedGroupEnd());\n\t\t\t\t\tcheckAndAppend();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar appendQueuedLoggingEvents = function() {\n\t\t\t\twhile (queuedLoggingEvents.length > 0) {\n\t\t\t\t\tqueuedLoggingEvents.shift().append();\n\t\t\t\t}\n\t\t\t\tif (focusConsoleWindow) {\n\t\t\t\t\tgetConsoleWindow().focus();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.setAddedToLogger = function(logger) {\n\t\t\t\tthis.loggers.push(logger);\n\t\t\t\tif (enabled && !lazyInit) {\n\t\t\t\t\tinit();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.clear = function() {\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().clearLog();\n\t\t\t\t}\n\t\t\t\tqueuedLoggingEvents.length = 0;\n\t\t\t};\n\n\t\t\tthis.focus = function() {\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().focus();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.focusCommandLine = function() {\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().focusCommandLine();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.focusSearch = function() {\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().focusSearch();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar commandWindow = window;\n\n\t\t\tthis.getCommandWindow = function() { return commandWindow; };\n\t\t\tthis.setCommandWindow = function(commandWindowParam) {\n\t\t\t\tcommandWindow = commandWindowParam;\n\t\t\t};\n\n\t\t\tthis.executeLastCommand = function() {\n\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\tgetConsoleWindow().evalLastCommand();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar commandLayout = new PatternLayout(\"%m\");\n\t\t\tthis.getCommandLayout = function() { return commandLayout; };\n\t\t\tthis.setCommandLayout = function(commandLayoutParam) {\n\t\t\t\tcommandLayout = commandLayoutParam;\n\t\t\t};\n\n\t\t\tthis.evalCommandAndAppend = function(expr) {\n\t\t\t\tvar commandReturnValue = { appendResult: true, isError: false };\n\t\t\t\tvar commandOutput = \"\";\n\t\t\t\t// Evaluate the command\n\t\t\t\ttry {\n\t\t\t\t\tvar result, i;\n\t\t\t\t\t// The next three lines constitute a workaround for IE. Bizarrely, iframes seem to have no\n\t\t\t\t\t// eval method on the window object initially, but once execScript has been called on\n\t\t\t\t\t// it once then the eval method magically appears. See http://www.thismuchiknow.co.uk/?p=25\n\t\t\t\t\tif (!commandWindow.eval && commandWindow.execScript) {\n\t\t\t\t\t\tcommandWindow.execScript(\"null\");\n\t\t\t\t\t}\n\n\t\t\t\t\tvar commandLineFunctionsHash = {};\n\t\t\t\t\tfor (i = 0, len = commandLineFunctions.length; i < len; i++) {\n\t\t\t\t\t\tcommandLineFunctionsHash[commandLineFunctions[i][0]] = commandLineFunctions[i][1];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Keep an array of variables that are being changed in the command window so that they\n\t\t\t\t\t// can be restored to their original values afterwards\n\t\t\t\t\tvar objectsToRestore = [];\n\t\t\t\t\tvar addObjectToRestore = function(name) {\n\t\t\t\t\t\tobjectsToRestore.push([name, commandWindow[name]]);\n\t\t\t\t\t};\n\n\t\t\t\t\taddObjectToRestore(\"appender\");\n\t\t\t\t\tcommandWindow.appender = appender;\n\n\t\t\t\t\taddObjectToRestore(\"commandReturnValue\");\n\t\t\t\t\tcommandWindow.commandReturnValue = commandReturnValue;\n\n\t\t\t\t\taddObjectToRestore(\"commandLineFunctionsHash\");\n\t\t\t\t\tcommandWindow.commandLineFunctionsHash = commandLineFunctionsHash;\n\n\t\t\t\t\tvar addFunctionToWindow = function(name) {\n\t\t\t\t\t\taddObjectToRestore(name);\n\t\t\t\t\t\tcommandWindow[name] = function() {\n\t\t\t\t\t\t\treturn this.commandLineFunctionsHash[name](appender, arguments, commandReturnValue);\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (i = 0, len = commandLineFunctions.length; i < len; i++) {\n\t\t\t\t\t\taddFunctionToWindow(commandLineFunctions[i][0]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Another bizarre workaround to get IE to eval in the global scope\n\t\t\t\t\tif (commandWindow === window && commandWindow.execScript) {\n\t\t\t\t\t\taddObjectToRestore(\"evalExpr\");\n\t\t\t\t\t\taddObjectToRestore(\"result\");\n\t\t\t\t\t\twindow.evalExpr = expr;\n\t\t\t\t\t\tcommandWindow.execScript(\"window.result=eval(window.evalExpr);\");\n\t\t\t\t\t\tresult = window.result;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = commandWindow.eval(expr);\n\t\t\t\t\t}\n\t\t\t\t\tcommandOutput = isUndefined(result) ? result : formatObjectExpansion(result, commandLineObjectExpansionDepth);\n\n\t\t\t\t\t// Restore variables in the command window to their original state\n\t\t\t\t\tfor (i = 0, len = objectsToRestore.length; i < len; i++) {\n\t\t\t\t\t\tcommandWindow[objectsToRestore[i][0]] = objectsToRestore[i][1];\n\t\t\t\t\t}\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tcommandOutput = \"Error evaluating command: \" + getExceptionStringRep(ex);\n\t\t\t\t\tcommandReturnValue.isError = true;\n\t\t\t\t}\n\t\t\t\t// Append command output\n\t\t\t\tif (commandReturnValue.appendResult) {\n\t\t\t\t\tvar message = \">>> \" + expr;\n\t\t\t\t\tif (!isUndefined(commandOutput)) {\n\t\t\t\t\t\tmessage += newLine + commandOutput;\n\t\t\t\t\t}\n\t\t\t\t\tvar level = commandReturnValue.isError ? Level.ERROR : Level.INFO;\n\t\t\t\t\tvar loggingEvent = new LoggingEvent(null, new Date(), level, [message], null);\n\t\t\t\t\tvar mainLayout = this.getLayout();\n\t\t\t\t\tthis.setLayout(commandLayout);\n\t\t\t\t\tthis.append(loggingEvent);\n\t\t\t\t\tthis.setLayout(mainLayout);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar commandLineFunctions = defaultCommandLineFunctions.concat([]);\n\n\t\t\tthis.addCommandLineFunction = function(functionName, commandLineFunction) {\n\t\t\t\tcommandLineFunctions.push([functionName, commandLineFunction]);\n\t\t\t};\n\n\t\t\tvar commandHistoryCookieName = \"log4javascriptCommandHistory\";\n\t\t\tthis.storeCommandHistory = function(commandHistory) {\n\t\t\t\tsetCookie(commandHistoryCookieName, commandHistory.join(\",\"));\n\t\t\t};\n\n\t\t\tvar writeHtml = function(doc) {\n\t\t\t\tvar lines = getConsoleHtmlLines();\n\t\t\t\tdoc.open();\n\t\t\t\tfor (var i = 0, len = lines.length; i < len; i++) {\n\t\t\t\t\tdoc.writeln(lines[i]);\n\t\t\t\t}\n\t\t\t\tdoc.close();\n\t\t\t};\n\n\t\t\t// Set up event listeners\n\t\t\tthis.setEventTypes([\"load\", \"unload\"]);\n\n\t\t\tvar consoleWindowLoadHandler = function() {\n\t\t\t\tvar win = getConsoleWindow();\n\t\t\t\twin.setAppender(appender);\n\t\t\t\twin.setNewestAtTop(newestMessageAtTop);\n\t\t\t\twin.setScrollToLatest(scrollToLatestMessage);\n\t\t\t\twin.setMaxMessages(maxMessages);\n\t\t\t\twin.setShowCommandLine(showCommandLine);\n\t\t\t\twin.setShowHideButton(showHideButton);\n\t\t\t\twin.setShowCloseButton(showCloseButton);\n\t\t\t\twin.setMainWindow(window);\n\n\t\t\t\t// Restore command history stored in cookie\n\t\t\t\tvar storedValue = getCookie(commandHistoryCookieName);\n\t\t\t\tif (storedValue) {\n\t\t\t\t\twin.commandHistory = storedValue.split(\",\");\n\t\t\t\t\twin.currentCommandIndex = win.commandHistory.length;\n\t\t\t\t}\n\n\t\t\t\tappender.dispatchEvent(\"load\", { \"win\" : win });\n\t\t\t};\n\n\t\t\tthis.unload = function() {\n\t\t\t\tlogLog.debug(\"unload \" + this + \", caller: \" + this.unload.caller);\n\t\t\t\tif (!consoleClosed) {\n\t\t\t\t\tlogLog.debug(\"really doing unload \" + this);\n\t\t\t\t\tconsoleClosed = true;\n\t\t\t\t\tconsoleWindowLoaded = false;\n\t\t\t\t\tconsoleWindowCreated = false;\n\t\t\t\t\tappender.dispatchEvent(\"unload\", {});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar pollConsoleWindow = function(windowTest, interval, successCallback, errorMessage) {\n\t\t\t\tfunction doPoll() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// Test if the console has been closed while polling\n\t\t\t\t\t\tif (consoleClosed) {\n\t\t\t\t\t\t\tclearInterval(poll);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (windowTest(getConsoleWindow())) {\n\t\t\t\t\t\t\tclearInterval(poll);\n\t\t\t\t\t\t\tsuccessCallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tclearInterval(poll);\n\t\t\t\t\t\tisSupported = false;\n\t\t\t\t\t\thandleError(errorMessage, ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Poll the pop-up since the onload event is not reliable\n\t\t\t\tvar poll = setInterval(doPoll, interval);\n\t\t\t};\n\n\t\t\tvar getConsoleUrl = function() {\n\t\t\t\tvar documentDomainSet = (document.domain != location.hostname);\n\t\t\t\treturn useDocumentWrite ? \"\" : getBaseUrl() + \"console_uncompressed.html\" +\n\t\t\t\t\t\t\t\t\t\t\t   (documentDomainSet ? \"?log4javascript_domain=\" + escape(document.domain) : \"\");\n\t\t\t};\n\n\t\t\t// Define methods and properties that vary between subclasses\n\t\t\tif (inPage) {\n\t\t\t\t// InPageAppender\n\n\t\t\t\tvar containerElement = null;\n\n\t\t\t\t// Configuration methods. The function scope is used to prevent\n\t\t\t\t// direct alteration to the appender configuration properties.\n\t\t\t\tvar cssProperties = [];\n\t\t\t\tthis.addCssProperty = function(name, value) {\n\t\t\t\t\tif (checkCanConfigure(\"cssProperties\")) {\n\t\t\t\t\t\tcssProperties.push([name, value]);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Define useful variables\n\t\t\t\tvar windowCreationStarted = false;\n\t\t\t\tvar iframeContainerDiv;\n\t\t\t\tvar iframeId = uniqueId + \"_InPageAppender_\" + consoleAppenderId;\n\n\t\t\t\tthis.hide = function() {\n\t\t\t\t\tif (initialized && consoleWindowCreated) {\n\t\t\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\t\t\tgetConsoleWindow().$(\"command\").blur();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tiframeContainerDiv.style.display = \"none\";\n\t\t\t\t\t\tminimized = true;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.show = function() {\n\t\t\t\t\tif (initialized) {\n\t\t\t\t\t\tif (consoleWindowCreated) {\n\t\t\t\t\t\t\tiframeContainerDiv.style.display = \"block\";\n\t\t\t\t\t\t\tthis.setShowCommandLine(showCommandLine); // Force IE to update\n\t\t\t\t\t\t\tminimized = false;\n\t\t\t\t\t\t} else if (!windowCreationStarted) {\n\t\t\t\t\t\t\tcreateWindow(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.isVisible = function() {\n\t\t\t\t\treturn !minimized && !consoleClosed;\n\t\t\t\t};\n\n\t\t\t\tthis.close = function(fromButton) {\n\t\t\t\t\tif (!consoleClosed && (!fromButton || confirm(\"This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?\"))) {\n\t\t\t\t\t\tiframeContainerDiv.parentNode.removeChild(iframeContainerDiv);\n\t\t\t\t\t\tthis.unload();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Create open, init, getConsoleWindow and safeToAppend functions\n\t\t\t\topen = function() {\n\t\t\t\t\tvar initErrorMessage = \"InPageAppender.open: unable to create console iframe\";\n\n\t\t\t\t\tfunction finalInit() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!initiallyMinimized) {\n\t\t\t\t\t\t\t\tappender.show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsoleWindowLoadHandler();\n\t\t\t\t\t\t\tconsoleWindowLoaded = true;\n\t\t\t\t\t\t\tappendQueuedLoggingEvents();\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tisSupported = false;\n\t\t\t\t\t\t\thandleError(initErrorMessage, ex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction writeToDocument() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar windowTest = function(win) { return isLoaded(win); };\n\t\t\t\t\t\t\tif (useDocumentWrite) {\n\t\t\t\t\t\t\t\twriteHtml(getConsoleWindow().document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (windowTest(getConsoleWindow())) {\n\t\t\t\t\t\t\t\tfinalInit();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpollConsoleWindow(windowTest, 100, finalInit, initErrorMessage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tisSupported = false;\n\t\t\t\t\t\t\thandleError(initErrorMessage, ex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tminimized = false;\n\t\t\t\t\tiframeContainerDiv = containerElement.appendChild(document.createElement(\"div\"));\n\n\t\t\t\t\tiframeContainerDiv.style.width = width;\n\t\t\t\t\tiframeContainerDiv.style.height = height;\n\t\t\t\t\tiframeContainerDiv.style.border = \"solid gray 1px\";\n\n\t\t\t\t\tfor (var i = 0, len = cssProperties.length; i < len; i++) {\n\t\t\t\t\t\tiframeContainerDiv.style[cssProperties[i][0]] = cssProperties[i][1];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar iframeSrc = useDocumentWrite ? \"\" : \" src='\" + getConsoleUrl() + \"'\";\n\n\t\t\t\t\t// Adding an iframe using the DOM would be preferable, but it doesn't work\n\t\t\t\t\t// in IE5 on Windows, or in Konqueror prior to version 3.5 - in Konqueror\n\t\t\t\t\t// it creates the iframe fine but I haven't been able to find a way to obtain\n\t\t\t\t\t// the iframe's window object\n\t\t\t\t\tiframeContainerDiv.innerHTML = \"<iframe id='\" + iframeId + \"' name='\" + iframeId +\n\t\t\t\t\t\t\"' width='100%' height='100%' frameborder='0'\" + iframeSrc +\n\t\t\t\t\t\t\" scrolling='no'></iframe>\";\n\t\t\t\t\tconsoleClosed = false;\n\n\t\t\t\t\t// Write the console HTML to the iframe\n\t\t\t\t\tvar iframeDocumentExistsTest = function(win) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn bool(win) && bool(win.document);\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (iframeDocumentExistsTest(getConsoleWindow())) {\n\t\t\t\t\t\twriteToDocument();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpollConsoleWindow(iframeDocumentExistsTest, 100, writeToDocument, initErrorMessage);\n\t\t\t\t\t}\n\t\t\t\t\tconsoleWindowCreated = true;\n\t\t\t\t};\n\n\t\t\t\tcreateWindow = function(show) {\n\t\t\t\t\tif (show || !initiallyMinimized) {\n\t\t\t\t\t\tvar pageLoadHandler = function() {\n\t\t\t\t\t\t\tif (!container) {\n\t\t\t\t\t\t\t\t// Set up default container element\n\t\t\t\t\t\t\t\tcontainerElement = document.createElement(\"div\");\n\t\t\t\t\t\t\t\tcontainerElement.style.position = \"fixed\";\n\t\t\t\t\t\t\t\tcontainerElement.style.left = \"0\";\n\t\t\t\t\t\t\t\tcontainerElement.style.right = \"0\";\n\t\t\t\t\t\t\t\tcontainerElement.style.bottom = \"0\";\n\t\t\t\t\t\t\t\tdocument.body.appendChild(containerElement);\n\t\t\t\t\t\t\t\tappender.addCssProperty(\"borderWidth\", \"1px 0 0 0\");\n\t\t\t\t\t\t\t\tappender.addCssProperty(\"zIndex\", 1000000); // Can't find anything authoritative that says how big z-index can be\n\t\t\t\t\t\t\t\topen();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tvar el = document.getElementById(container);\n\t\t\t\t\t\t\t\t\tif (el.nodeType == 1) {\n\t\t\t\t\t\t\t\t\t\tcontainerElement = el;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\topen();\n\t\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\t\thandleError(\"InPageAppender.init: invalid container element '\" + container + \"' supplied\", ex);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Test the type of the container supplied. First, check if it's an element\n\t\t\t\t\t\tif (pageLoaded && container && container.appendChild) {\n\t\t\t\t\t\t\tcontainerElement = container;\n\t\t\t\t\t\t\topen();\n\t\t\t\t\t\t} else if (pageLoaded) {\n\t\t\t\t\t\t\tpageLoadHandler();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlog4javascript.addEventListener(\"load\", pageLoadHandler);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twindowCreationStarted = true;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tinit = function() {\n\t\t\t\t\tcreateWindow();\n\t\t\t\t\tinitialized = true;\n\t\t\t\t};\n\n\t\t\t\tgetConsoleWindow = function() {\n\t\t\t\t\tvar iframe = window.frames[iframeId];\n\t\t\t\t\tif (iframe) {\n\t\t\t\t\t\treturn iframe;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tsafeToAppend = function() {\n\t\t\t\t\tif (isSupported && !consoleClosed) {\n\t\t\t\t\t\tif (consoleWindowCreated && !consoleWindowLoaded && getConsoleWindow() && isLoaded(getConsoleWindow())) {\n\t\t\t\t\t\t\tconsoleWindowLoaded = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn consoleWindowLoaded;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// PopUpAppender\n\n\t\t\t\t// Extract params\n\t\t\t\tvar useOldPopUp = appender.defaults.useOldPopUp;\n\t\t\t\tvar complainAboutPopUpBlocking = appender.defaults.complainAboutPopUpBlocking;\n\t\t\t\tvar reopenWhenClosed = this.defaults.reopenWhenClosed;\n\n\t\t\t\t// Configuration methods. The function scope is used to prevent\n\t\t\t\t// direct alteration to the appender configuration properties.\n\t\t\t\tthis.isUseOldPopUp = function() { return useOldPopUp; };\n\t\t\t\tthis.setUseOldPopUp = function(useOldPopUpParam) {\n\t\t\t\t\tif (checkCanConfigure(\"useOldPopUp\")) {\n\t\t\t\t\t\tuseOldPopUp = bool(useOldPopUpParam);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.isComplainAboutPopUpBlocking = function() { return complainAboutPopUpBlocking; };\n\t\t\t\tthis.setComplainAboutPopUpBlocking = function(complainAboutPopUpBlockingParam) {\n\t\t\t\t\tif (checkCanConfigure(\"complainAboutPopUpBlocking\")) {\n\t\t\t\t\t\tcomplainAboutPopUpBlocking = bool(complainAboutPopUpBlockingParam);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.isFocusPopUp = function() { return focusConsoleWindow; };\n\t\t\t\tthis.setFocusPopUp = function(focusPopUpParam) {\n\t\t\t\t\t// This property can be safely altered after logging has started\n\t\t\t\t\tfocusConsoleWindow = bool(focusPopUpParam);\n\t\t\t\t};\n\n\t\t\t\tthis.isReopenWhenClosed = function() { return reopenWhenClosed; };\n\t\t\t\tthis.setReopenWhenClosed = function(reopenWhenClosedParam) {\n\t\t\t\t\t// This property can be safely altered after logging has started\n\t\t\t\t\treopenWhenClosed = bool(reopenWhenClosedParam);\n\t\t\t\t};\n\n\t\t\t\tthis.close = function() {\n\t\t\t\t\tlogLog.debug(\"close \" + this);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpopUp.close();\n\t\t\t\t\t\tthis.unload();\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t// Do nothing\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.hide = function() {\n\t\t\t\t\tlogLog.debug(\"hide \" + this);\n\t\t\t\t\tif (consoleWindowExists()) {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.show = function() {\n\t\t\t\t\tlogLog.debug(\"show \" + this);\n\t\t\t\t\tif (!consoleWindowCreated) {\n\t\t\t\t\t\topen();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.isVisible = function() {\n\t\t\t\t\treturn safeToAppend();\n\t\t\t\t};\n\n\t\t\t\t// Define useful variables\n\t\t\t\tvar popUp;\n\n\t\t\t\t// Create open, init, getConsoleWindow and safeToAppend functions\n\t\t\t\topen = function() {\n\t\t\t\t\tvar windowProperties = \"width=\" + width + \",height=\" + height + \",status,resizable\";\n\t\t\t\t\tvar frameInfo = \"\";\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar frameEl = window.frameElement;\n\t\t\t\t\t\tif (frameEl) {\n\t\t\t\t\t\t\tframeInfo = \"_\" + frameEl.tagName + \"_\" + (frameEl.name || frameEl.id || \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tframeInfo = \"_inaccessibleParentFrame\";\n\t\t\t\t\t}\n\t\t\t\t\tvar windowName = \"PopUp_\" + location.host.replace(/[^a-z0-9]/gi, \"_\") + \"_\" + consoleAppenderId + frameInfo;\n\t\t\t\t\tif (!useOldPopUp || !useDocumentWrite) {\n\t\t\t\t\t\t// Ensure a previous window isn't used by using a unique name\n\t\t\t\t\t\twindowName = windowName + \"_\" + uniqueId;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar checkPopUpClosed = function(win) {\n\t\t\t\t\t\tif (consoleClosed) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\treturn bool(win) && win.closed;\n\t\t\t\t\t\t\t} catch(ex) {}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\n\t\t\t\t\tvar popUpClosedCallback = function() {\n\t\t\t\t\t\tif (!consoleClosed) {\n\t\t\t\t\t\t\tappender.unload();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction finalInit() {\n\t\t\t\t\t\tgetConsoleWindow().setCloseIfOpenerCloses(!useOldPopUp || !useDocumentWrite);\n\t\t\t\t\t\tconsoleWindowLoadHandler();\n\t\t\t\t\t\tconsoleWindowLoaded = true;\n\t\t\t\t\t\tappendQueuedLoggingEvents();\n\t\t\t\t\t\tpollConsoleWindow(checkPopUpClosed, 500, popUpClosedCallback,\n\t\t\t\t\t\t\t\t\"PopUpAppender.checkPopUpClosed: error checking pop-up window\");\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpopUp = window.open(getConsoleUrl(), windowName, windowProperties);\n\t\t\t\t\t\tconsoleClosed = false;\n\t\t\t\t\t\tconsoleWindowCreated = true;\n\t\t\t\t\t\tif (popUp && popUp.document) {\n\t\t\t\t\t\t\tif (useDocumentWrite && useOldPopUp && isLoaded(popUp)) {\n\t\t\t\t\t\t\t\tpopUp.mainPageReloaded();\n\t\t\t\t\t\t\t\tfinalInit();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (useDocumentWrite) {\n\t\t\t\t\t\t\t\t\twriteHtml(popUp.document);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Check if the pop-up window object is available\n\t\t\t\t\t\t\t\tvar popUpLoadedTest = function(win) { return bool(win) && isLoaded(win); };\n\t\t\t\t\t\t\t\tif (isLoaded(popUp)) {\n\t\t\t\t\t\t\t\t\tfinalInit();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpollConsoleWindow(popUpLoadedTest, 100, finalInit,\n\t\t\t\t\t\t\t\t\t\t\t\"PopUpAppender.init: unable to create console window\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tisSupported = false;\n\t\t\t\t\t\t\tlogLog.warn(\"PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender\");\n\t\t\t\t\t\t\tif (complainAboutPopUpBlocking) {\n\t\t\t\t\t\t\t\thandleError(\"log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\thandleError(\"PopUpAppender.init: error creating pop-up\", ex);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcreateWindow = function() {\n\t\t\t\t\tif (!initiallyMinimized) {\n\t\t\t\t\t\topen();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tinit = function() {\n\t\t\t\t\tcreateWindow();\n\t\t\t\t\tinitialized = true;\n\t\t\t\t};\n\n\t\t\t\tgetConsoleWindow = function() {\n\t\t\t\t\treturn popUp;\n\t\t\t\t};\n\n\t\t\t\tsafeToAppend = function() {\n\t\t\t\t\tif (isSupported && !isUndefined(popUp) && !consoleClosed) {\n\t\t\t\t\t\tif (popUp.closed ||\n\t\t\t\t\t\t\t\t(consoleWindowLoaded && isUndefined(popUp.closed))) { // Extra check for Opera\n\t\t\t\t\t\t\tappender.unload();\n\t\t\t\t\t\t\tlogLog.debug(\"PopUpAppender: pop-up closed\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!consoleWindowLoaded && isLoaded(popUp)) {\n\t\t\t\t\t\t\tconsoleWindowLoaded = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn isSupported && consoleWindowLoaded && !consoleClosed;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Expose getConsoleWindow so that automated tests can check the DOM\n\t\t\tthis.getConsoleWindow = getConsoleWindow;\n\t\t};\n\n\t\tConsoleAppender.addGlobalCommandLineFunction = function(functionName, commandLineFunction) {\n\t\t\tdefaultCommandLineFunctions.push([functionName, commandLineFunction]);\n\t\t};\n\n\t\t/* ------------------------------------------------------------------ */\n\n\t\tfunction PopUpAppender(lazyInit, initiallyMinimized, useDocumentWrite,\n\t\t\t\t\t\t\t   width, height) {\n\t\t\tthis.create(false, null, lazyInit, initiallyMinimized,\n\t\t\t\t\tuseDocumentWrite, width, height, this.defaults.focusPopUp);\n\t\t}\n\n\t\tPopUpAppender.prototype = new ConsoleAppender();\n\n\t\tPopUpAppender.prototype.defaults = {\n\t\t\tlayout: new PatternLayout(\"%d{HH:mm:ss} %-5p - %m{1}%n\"),\n\t\t\tinitiallyMinimized: false,\n\t\t\tfocusPopUp: false,\n\t\t\tlazyInit: true,\n\t\t\tuseOldPopUp: true,\n\t\t\tcomplainAboutPopUpBlocking: true,\n\t\t\tnewestMessageAtTop: false,\n\t\t\tscrollToLatestMessage: true,\n\t\t\twidth: \"600\",\n\t\t\theight: \"400\",\n\t\t\treopenWhenClosed: false,\n\t\t\tmaxMessages: null,\n\t\t\tshowCommandLine: true,\n\t\t\tcommandLineObjectExpansionDepth: 1,\n\t\t\tshowHideButton: false,\n\t\t\tshowCloseButton: true,\n\t\t\tuseDocumentWrite: true\n\t\t};\n\n\t\tPopUpAppender.prototype.toString = function() {\n\t\t\treturn \"PopUpAppender\";\n\t\t};\n\n\t\tlog4javascript.PopUpAppender = PopUpAppender;\n\n\t\t/* ------------------------------------------------------------------ */\n\n\t\tfunction InPageAppender(container, lazyInit, initiallyMinimized,\n\t\t\t\t\t\t\t\tuseDocumentWrite, width, height) {\n\t\t\tthis.create(true, container, lazyInit, initiallyMinimized,\n\t\t\t\t\tuseDocumentWrite, width, height, false);\n\t\t}\n\n\t\tInPageAppender.prototype = new ConsoleAppender();\n\n\t\tInPageAppender.prototype.defaults = {\n\t\t\tlayout: new PatternLayout(\"%d{HH:mm:ss} %-5p - %m{1}%n\"),\n\t\t\tinitiallyMinimized: false,\n\t\t\tlazyInit: true,\n\t\t\tnewestMessageAtTop: false,\n\t\t\tscrollToLatestMessage: true,\n\t\t\twidth: \"100%\",\n\t\t\theight: \"220px\",\n\t\t\tmaxMessages: null,\n\t\t\tshowCommandLine: true,\n\t\t\tcommandLineObjectExpansionDepth: 1,\n\t\t\tshowHideButton: false,\n\t\t\tshowCloseButton: false,\n\t\t\tshowLogEntryDeleteButtons: true,\n\t\t\tuseDocumentWrite: true\n\t\t};\n\n\t\tInPageAppender.prototype.toString = function() {\n\t\t\treturn \"InPageAppender\";\n\t\t};\n\n\t\tlog4javascript.InPageAppender = InPageAppender;\n\n\t\t// Next line for backwards compatibility\n\t\tlog4javascript.InlineAppender = InPageAppender;\n\t})();\n\t/* ---------------------------------------------------------------------- */\n\t// Console extension functions\n\n\tfunction padWithSpaces(str, len) {\n\t\tif (str.length < len) {\n\t\t\tvar spaces = [];\n\t\t\tvar numberOfSpaces = Math.max(0, len - str.length);\n\t\t\tfor (var i = 0; i < numberOfSpaces; i++) {\n\t\t\t\tspaces[i] = \" \";\n\t\t\t}\n\t\t\tstr += spaces.join(\"\");\n\t\t}\n\t\treturn str;\n\t}\n\n\t(function() {\n\t\tfunction dir(obj) {\n\t\t\tvar maxLen = 0;\n\t\t\t// Obtain the length of the longest property name\n\t\t\tfor (var p in obj) {\n\t\t\t\tmaxLen = Math.max(toStr(p).length, maxLen);\n\t\t\t}\n\t\t\t// Create the nicely formatted property list\n\t\t\tvar propList = [];\n\t\t\tfor (p in obj) {\n\t\t\t\tvar propNameStr = \"  \" + padWithSpaces(toStr(p), maxLen + 2);\n\t\t\t\tvar propVal;\n\t\t\t\ttry {\n\t\t\t\t\tpropVal = splitIntoLines(toStr(obj[p])).join(padWithSpaces(newLine, maxLen + 6));\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tpropVal = \"[Error obtaining property. Details: \" + getExceptionMessage(ex) + \"]\";\n\t\t\t\t}\n\t\t\t\tpropList.push(propNameStr + propVal);\n\t\t\t}\n\t\t\treturn propList.join(newLine);\n\t\t}\n\n\t\tvar nodeTypes = {\n\t\t\tELEMENT_NODE: 1,\n\t\t\tATTRIBUTE_NODE: 2,\n\t\t\tTEXT_NODE: 3,\n\t\t\tCDATA_SECTION_NODE: 4,\n\t\t\tENTITY_REFERENCE_NODE: 5,\n\t\t\tENTITY_NODE: 6,\n\t\t\tPROCESSING_INSTRUCTION_NODE: 7,\n\t\t\tCOMMENT_NODE: 8,\n\t\t\tDOCUMENT_NODE: 9,\n\t\t\tDOCUMENT_TYPE_NODE: 10,\n\t\t\tDOCUMENT_FRAGMENT_NODE: 11,\n\t\t\tNOTATION_NODE: 12\n\t\t};\n\n\t\tvar preFormattedElements = [\"script\", \"pre\"];\n\n\t\t// This should be the definitive list, as specified by the XHTML 1.0 Transitional DTD\n\t\tvar emptyElements = [\"br\", \"img\", \"hr\", \"param\", \"link\", \"area\", \"input\", \"col\", \"base\", \"meta\"];\n\t\tvar indentationUnit = \"  \";\n\n\t\t// Create and return an XHTML string from the node specified\n\t\tfunction getXhtml(rootNode, includeRootNode, indentation, startNewLine, preformatted) {\n\t\t\tincludeRootNode = (typeof includeRootNode == \"undefined\") ? true : !!includeRootNode;\n\t\t\tif (typeof indentation != \"string\") {\n\t\t\t\tindentation = \"\";\n\t\t\t}\n\t\t\tstartNewLine = !!startNewLine;\n\t\t\tpreformatted = !!preformatted;\n\t\t\tvar xhtml;\n\n\t\t\tfunction isWhitespace(node) {\n\t\t\t\treturn ((node.nodeType == nodeTypes.TEXT_NODE) && /^[ \\t\\r\\n]*$/.test(node.nodeValue));\n\t\t\t}\n\n\t\t\tfunction fixAttributeValue(attrValue) {\n\t\t\t\treturn attrValue.toString().replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/\"/g, \"&quot;\");\n\t\t\t}\n\n\t\t\tfunction getStyleAttributeValue(el) {\n\t\t\t\tvar stylePairs = el.style.cssText.split(\";\");\n\t\t\t\tvar styleValue = \"\";\n\t\t\t\tfor (var j = 0, len = stylePairs.length; j < len; j++) {\n\t\t\t\t\tvar nameValueBits = stylePairs[j].split(\":\");\n\t\t\t\t\tvar props = [];\n\t\t\t\t\tif (!/^\\s*$/.test(nameValueBits[0])) {\n\t\t\t\t\t\tprops.push(trim(nameValueBits[0]).toLowerCase() + \":\" + trim(nameValueBits[1]));\n\t\t\t\t\t}\n\t\t\t\t\tstyleValue = props.join(\";\");\n\t\t\t\t}\n\t\t\t\treturn styleValue;\n\t\t\t}\n\n\t\t\tfunction getNamespace(el) {\n\t\t\t\tif (el.prefix) {\n\t\t\t\t\treturn el.prefix;\n\t\t\t\t} else if (el.outerHTML) {\n\t\t\t\t\tvar regex = new RegExp(\"<([^:]+):\" + el.tagName + \"[^>]*>\", \"i\");\n\t\t\t\t\tif (regex.test(el.outerHTML)) {\n\t\t\t\t\t\treturn RegExp.$1.toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\tvar lt = \"<\";\n\t\t\tvar gt = \">\";\n\t\t\tvar i, len;\n\n\t\t\tif (includeRootNode && rootNode.nodeType != nodeTypes.DOCUMENT_FRAGMENT_NODE) {\n\t\t\t\tswitch (rootNode.nodeType) {\n\t\t\t\t\tcase nodeTypes.ELEMENT_NODE:\n\t\t\t\t\t\tvar tagName = rootNode.tagName.toLowerCase();\n\t\t\t\t\t\txhtml = startNewLine ? newLine + indentation : \"\";\n\t\t\t\t\t\txhtml += lt;\n\t\t\t\t\t\t// Allow for namespaces, where present\n\t\t\t\t\t\tvar prefix = getNamespace(rootNode);\n\t\t\t\t\t\tvar hasPrefix = !!prefix;\n\t\t\t\t\t\tif (hasPrefix) {\n\t\t\t\t\t\t\txhtml += prefix + \":\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\txhtml += tagName;\n\t\t\t\t\t\tfor (i = 0, len = rootNode.attributes.length; i < len; i++) {\n\t\t\t\t\t\t\tvar currentAttr = rootNode.attributes[i];\n\t\t\t\t\t\t\t// Check the attribute is valid.\n\t\t\t\t\t\t\tif (!\tcurrentAttr.specified ||\n\t\t\t\t\t\t\t\t\tcurrentAttr.nodeValue === null ||\n\t\t\t\t\t\t\t\t\tcurrentAttr.nodeName.toLowerCase() === \"style\" ||\n\t\t\t\t\t\t\t\t\ttypeof currentAttr.nodeValue !== \"string\" ||\n\t\t\t\t\t\t\t\t\tcurrentAttr.nodeName.indexOf(\"_moz\") === 0) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\txhtml += \" \" + currentAttr.nodeName.toLowerCase() + \"=\\\"\";\n\t\t\t\t\t\t\txhtml += fixAttributeValue(currentAttr.nodeValue);\n\t\t\t\t\t\t\txhtml += \"\\\"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Style needs to be done separately as it is not reported as an\n\t\t\t\t\t\t// attribute in IE\n\t\t\t\t\t\tif (rootNode.style.cssText) {\n\t\t\t\t\t\t\tvar styleValue = getStyleAttributeValue(rootNode);\n\t\t\t\t\t\t\tif (styleValue !== \"\") {\n\t\t\t\t\t\t\t\txhtml += \" style=\\\"\" + getStyleAttributeValue(rootNode) + \"\\\"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (array_contains(emptyElements, tagName) ||\n\t\t\t\t\t\t\t\t(hasPrefix && !rootNode.hasChildNodes())) {\n\t\t\t\t\t\t\txhtml += \"/\" + gt;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\txhtml += gt;\n\t\t\t\t\t\t\t// Add output for childNodes collection (which doesn't include attribute nodes)\n\t\t\t\t\t\t\tvar childStartNewLine = !(rootNode.childNodes.length === 1 &&\n\t\t\t\t\t\t\t\trootNode.childNodes[0].nodeType === nodeTypes.TEXT_NODE);\n\t\t\t\t\t\t\tvar childPreformatted = array_contains(preFormattedElements, tagName);\n\t\t\t\t\t\t\tfor (i = 0, len = rootNode.childNodes.length; i < len; i++) {\n\t\t\t\t\t\t\t\txhtml += getXhtml(rootNode.childNodes[i], true, indentation + indentationUnit,\n\t\t\t\t\t\t\t\t\tchildStartNewLine, childPreformatted);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Add the end tag\n\t\t\t\t\t\t\tvar endTag = lt + \"/\" + tagName + gt;\n\t\t\t\t\t\t\txhtml += childStartNewLine ? newLine + indentation + endTag : endTag;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn xhtml;\n\t\t\t\t\tcase nodeTypes.TEXT_NODE:\n\t\t\t\t\t\tif (isWhitespace(rootNode)) {\n\t\t\t\t\t\t\txhtml = \"\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (preformatted) {\n\t\t\t\t\t\t\t\txhtml = rootNode.nodeValue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Trim whitespace from each line of the text node\n\t\t\t\t\t\t\t\tvar lines = splitIntoLines(trim(rootNode.nodeValue));\n\t\t\t\t\t\t\t\tvar trimmedLines = [];\n\t\t\t\t\t\t\t\tfor (i = 0, len = lines.length; i < len; i++) {\n\t\t\t\t\t\t\t\t\ttrimmedLines[i] = trim(lines[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\txhtml = trimmedLines.join(newLine + indentation);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (startNewLine) {\n\t\t\t\t\t\t\t\txhtml = newLine + indentation + xhtml;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn xhtml;\n\t\t\t\t\tcase nodeTypes.CDATA_SECTION_NODE:\n\t\t\t\t\t\treturn \"<![CDA\" + \"TA[\" + rootNode.nodeValue + \"]\" + \"]>\" + newLine;\n\t\t\t\t\tcase nodeTypes.DOCUMENT_NODE:\n\t\t\t\t\t\txhtml = \"\";\n\t\t\t\t\t\t// Add output for childNodes collection (which doesn't include attribute nodes)\n\t\t\t\t\t\tfor (i = 0, len = rootNode.childNodes.length; i < len; i++) {\n\t\t\t\t\t\t\txhtml += getXhtml(rootNode.childNodes[i], true, indentation);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn xhtml;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhtml = \"\";\n\t\t\t\t// Add output for childNodes collection (which doesn't include attribute nodes)\n\t\t\t\tfor (i = 0, len = rootNode.childNodes.length; i < len; i++) {\n\t\t\t\t\txhtml += getXhtml(rootNode.childNodes[i], true, indentation + indentationUnit);\n\t\t\t\t}\n\t\t\t\treturn xhtml;\n\t\t\t}\n\t\t}\n\n\t\tfunction createCommandLineFunctions() {\n\t\t\tConsoleAppender.addGlobalCommandLineFunction(\"$\", function(appender, args, returnValue) {\n\t\t\t\treturn document.getElementById(args[0]);\n\t\t\t});\n\n\t\t\tConsoleAppender.addGlobalCommandLineFunction(\"dir\", function(appender, args, returnValue) {\n\t\t\t\tvar lines = [];\n\t\t\t\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\t\t\t\tlines[i] = dir(args[i]);\n\t\t\t\t}\n\t\t\t\treturn lines.join(newLine + newLine);\n\t\t\t});\n\n\t\t\tConsoleAppender.addGlobalCommandLineFunction(\"dirxml\", function(appender, args, returnValue) {\n\t\t\t\tvar lines = [];\n\t\t\t\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\t\t\t\tlines[i] = getXhtml(args[i]);\n\t\t\t\t}\n\t\t\t\treturn lines.join(newLine + newLine);\n\t\t\t});\n\n\t\t\tConsoleAppender.addGlobalCommandLineFunction(\"cd\", function(appender, args, returnValue) {\n\t\t\t\tvar win, message;\n\t\t\t\tif (args.length === 0 || args[0] === \"\") {\n\t\t\t\t\twin = window;\n\t\t\t\t\tmessage = \"Command line set to run in main window\";\n\t\t\t\t} else {\n\t\t\t\t\tif (args[0].window == args[0]) {\n\t\t\t\t\t\twin = args[0];\n\t\t\t\t\t\tmessage = \"Command line set to run in frame '\" + args[0].name + \"'\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\twin = window.frames[args[0]];\n\t\t\t\t\t\tif (win) {\n\t\t\t\t\t\t\tmessage = \"Command line set to run in frame '\" + args[0] + \"'\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturnValue.isError = true;\n\t\t\t\t\t\t\tmessage = \"Frame '\" + args[0] + \"' does not exist\";\n\t\t\t\t\t\t\twin = appender.getCommandWindow();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tappender.setCommandWindow(win);\n\t\t\t\treturn message;\n\t\t\t});\n\n\t\t\tConsoleAppender.addGlobalCommandLineFunction(\"clear\", function(appender, args, returnValue) {\n\t\t\t\treturnValue.appendResult = false;\n\t\t\t\tappender.clear();\n\t\t\t});\n\n\t\t\tConsoleAppender.addGlobalCommandLineFunction(\"keys\", function(appender, args, returnValue) {\n\t\t\t\tvar keys = [];\n\t\t\t\tfor (var k in args[0]) {\n\t\t\t\t\tkeys.push(k);\n\t\t\t\t}\n\t\t\t\treturn keys;\n\t\t\t});\n\n\t\t\tConsoleAppender.addGlobalCommandLineFunction(\"values\", function(appender, args, returnValue) {\n\t\t\t\tvar values = [];\n\t\t\t\tfor (var k in args[0]) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvalues.push(args[0][k]);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tlogLog.warn(\"values(): Unable to obtain value for key \" + k + \". Details: \" + getExceptionMessage(ex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t});\n\n\t\t\tConsoleAppender.addGlobalCommandLineFunction(\"expansionDepth\", function(appender, args, returnValue) {\n\t\t\t\tvar expansionDepth = parseInt(args[0], 10);\n\t\t\t\tif (isNaN(expansionDepth) || expansionDepth < 0) {\n\t\t\t\t\treturnValue.isError = true;\n\t\t\t\t\treturn \"\" + args[0] + \" is not a valid expansion depth\";\n\t\t\t\t} else {\n\t\t\t\t\tappender.setCommandLineObjectExpansionDepth(expansionDepth);\n\t\t\t\t\treturn \"Object expansion depth set to \" + expansionDepth;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction init() {\n\t\t\t// Add command line functions\n\t\t\tcreateCommandLineFunctions();\n\t\t}\n\n\t\t/* ------------------------------------------------------------------ */\n\n\t\tinit();\n\t})();\n\n\t/* ---------------------------------------------------------------------- */\n\n\tfunction createDefaultLogger() {\n\t\tvar logger = log4javascript.getLogger(defaultLoggerName);\n\t\tvar a = new log4javascript.PopUpAppender();\n\t\tlogger.addAppender(a);\n\t\treturn logger;\n\t}\n\n\t/* ---------------------------------------------------------------------- */\n\t// Main load\n\n\tlog4javascript.setDocumentReady = function() {\n\t\tpageLoaded = true;\n\t\tlog4javascript.dispatchEvent(\"load\", {});\n\t};\n\n\tif (window.addEventListener) {\n\t\twindow.addEventListener(\"load\", log4javascript.setDocumentReady, false);\n\t} else if (window.attachEvent) {\n\t\twindow.attachEvent(\"onload\", log4javascript.setDocumentReady);\n\t} else {\n\t\tvar oldOnload = window.onload;\n\t\tif (typeof window.onload != \"function\") {\n\t\t\twindow.onload = log4javascript.setDocumentReady;\n\t\t} else {\n\t\t\twindow.onload = function(evt) {\n\t\t\t\tif (oldOnload) {\n\t\t\t\t\toldOnload(evt);\n\t\t\t\t}\n\t\t\t\tlog4javascript.setDocumentReady();\n\t\t\t};\n\t\t}\n\t}\n\n\n  return log4javascript;\n\n});\n\n","csui.define('nuc/utils/log/console.re.appender',['nuc/lib/log4javascript'], function (log4javascript) {\n  'use strict';\n\n  function ConsoleReAppender() {}\n\n  ConsoleReAppender.prototype = Object.create(log4javascript.Appender.prototype);\n  ConsoleReAppender.prototype.layout = new log4javascript.NullLayout();\n  ConsoleReAppender.prototype.threshold = log4javascript.Level.DEBUG;\n\n  ConsoleReAppender.prototype.append = function(loggingEvent) {\n    var Level = log4javascript.Level,\n        appender = this;\n\n    var getFormattedMessage = function() {\n      var layout = appender.getLayout();\n      var formattedMessage = layout.format(loggingEvent);\n      if (layout.ignoresThrowable() && loggingEvent.exception) {\n        formattedMessage += loggingEvent.getThrowableStrRep();\n      }\n      return formattedMessage;\n    };\n\n    if (window.console && window.console.re && window.console.re.log) {\n      var formattedMesage = getFormattedMessage();\n      // Log to Firebug using its logging methods or revert to the console.log\n      // method in Safari\n      if (window.console.re.debug && Level.DEBUG.isGreaterOrEqual(loggingEvent.level)) {\n        window.console.re.debug(formattedMesage);\n      } else if (window.console.re.info && Level.INFO.equals(loggingEvent.level)) {\n        window.console.re.info(formattedMesage);\n      } else if (window.console.re.warn && Level.WARN.equals(loggingEvent.level)) {\n        window.console.re.warn(formattedMesage);\n      } else if (window.console.re.error && loggingEvent.level.isGreaterOrEqual(Level.ERROR)) {\n        window.console.re.error(formattedMesage);\n      } else {\n        window.console.re.log(formattedMesage);\n      }\n    }\n  };\n\n  ConsoleReAppender.prototype.group = function(name) {\n    if (window.console && window.console.re && window.console.re.group) {\n      window.console.re.group(name);\n    }\n  };\n\n  ConsoleReAppender.prototype.groupEnd = function() {\n    if (window.console && window.console.re && window.console.re.groupEnd) {\n      window.console.re.groupEnd();\n    }\n  };\n\n  ConsoleReAppender.prototype.toString = function() {\n    return 'ConsoleReAppender';\n  };\n\n  return ConsoleReAppender;\n\n});\n","csui.define('bundles/nuc-log4javascript',[\n  'nuc/lib/log4javascript',\n  'nuc/utils/log/console.re.appender'\n], {});\n\n"]}