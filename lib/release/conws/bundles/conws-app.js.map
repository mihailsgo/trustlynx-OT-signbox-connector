{"version":3,"sources":["../../src/utils/icons/icons!css","../../src/utils/icons/icons.js","../../src/utils/icons/conws.icons.v2.js","../../src/models/workspacetypes/workspacetype.model.js","../../src/models/workspacetypes/workspacetypes.model.js","../../src/models/workspacetypes/workspacetypes.factory.js","../../src/controls/inlineforms/conwstemplate/impl/nls/lang.js","../../src/controls/inlineforms/conwstemplate/impl/nls/root/lang.js","../../src/controls/inlineforms/conwstemplate/impl/nls/lang!i18n","../../src/controls/inlineforms/conwstemplate/conws.inlineform.schemas.js","../../src/controls/form/fields/referencefield.states.behavior.js","../../src/controls/form/impl/fields/reference/reference!hbs","../../src/controls/form/impl/nls/lang.js","../../src/controls/form/impl/nls/root/lang.js","../../src/controls/form/impl/fields/reference/reference!css","../../src/controls/form/fields/reference.view.js","../../src/controls/form/fields/alpaca/referencefield.js","../../src/models/pickers/pickerinfo.model.js","../../src/models/pickers/pickerinfo.factory.js","../../src/controls/customcolumnpicker/impl/customcolumnpicker!css","../../src/controls/form/fields/customcolumnpickerfield.view.js","../../src/controls/form/fields/alpaca/alpcustomcolumnpickerfield.js","../../src/models/workspacetypes/workspacetype.factory.js","../../src/controls/typeaheadpicker/impl/typeaheadpicker!css","../../src/controls/form/fields/alpaca/alpworkspacetypefield.js","../../src/controls/form/impl/fields/workspacefield/lqlsearch.util.js","../../src/controls/form/fields/workspacefield.view.js","../../src/controls/form/fields/alpaca/alpworkspacefield.js","../../src/controls/description/impl/description!hbs","../../src/controls/description/impl/nls/lang.js","../../src/controls/description/impl/nls/root/lang.js","../../src/controls/description/impl/description!css","../../src/controls/description/description.view.js","../../src/controls/lazyactions/impl/lazy.loading.template!hbs","../../src/controls/lazyactions/lazyToolbar.view.js","../../src/controls/selectedmetadataform/selectedmetadataform.view.js","../../src/utils/commands/permissions/permissions.util.js","../../src/controls/table/cells/role/impl/role!hbs","../../src/controls/table/cells/role/impl/nls/lang.js","../../src/controls/table/cells/role/impl/nls/root/lang.js","../../src/controls/table/cells/role/impl/role!css","../../src/controls/table/cells/role/role.view.js","../../src/controls/table/cells/permission/role.permission.level.view.js","../../src/controls/userpicker/nls/role.lang.js","../../src/controls/userpicker/nls/root/role.lang.js","../../src/controls/userpicker/role!hbs","../../src/controls/userpicker/role.view.js","../../src/controls/userpicker/conws.roles.js","../../src/dialogs/addoreditrole/impl/nls/lang.js","../../src/dialogs/addoreditrole/impl/nls/root/lang.js","../../src/dialogs/addoreditrole/impl/nls/lang!i18n","../../src/controls/wizard/step/impl/footer.view.js","../../src/controls/wizard/step/wizard.step.view.js","../../src/controls/wizard/impl/wizard!css","../../src/controls/wizard/wizard.view.js","../../src/dialogs/addoreditrole/impl/tabbable.form.view.js","../../src/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view!hbs","../../src/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view!css","../../src/dialogs/addoreditrole/impl/roleheader/roleheader.view.js","../../src/dialogs/addoreditrole/impl/roledetails/impl/roledetails!hbs","../../src/dialogs/addoreditrole/impl/roledetails/impl/roledetails!css","../../src/dialogs/addoreditrole/impl/roledetails/roledetails.view.js","../../src/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions.title.view.js","../../src/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions!hbs","../../src/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions!css","../../src/dialogs/addoreditrole/impl/rolepermissions/rolepermissions.view.js","../../src/widgets/team/impl/controls/avatar/impl/avatar!hbs","../../src/widgets/team/impl/controls/avatar/impl/avatar!css","../../src/widgets/team/impl/controls/avatar/avatar.view.js","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.details!hbs","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.delete!hbs","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem!css","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.view.js","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants!hbs","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants!css","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants.view.js","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants!hbs","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants!css","../../src/dialogs/addoreditrole/impl/roleparticipants/roleparticipants.view.js","../../src/dialogs/addoreditrole/addoreditrole.wizard.js","../../src/dialogs/applyrolepermissions/impl/nls/lang.js","../../src/dialogs/applyrolepermissions/impl/nls/root/lang.js","../../src/dialogs/applyrolepermissions/impl/apply.role.permissions!hbs","../../src/dialogs/applyrolepermissions/impl/apply.role.permissions!css","../../src/dialogs/applyrolepermissions/apply.role.permissions.view.js","../../src/dialogs/regen.reference/impl/regen.reference!hbs","../../src/dialogs/regen.reference/impl/nls/lang.js","../../src/dialogs/regen.reference/impl/nls/root/lang.js","../../src/dialogs/regen.reference/impl/regen.reference!css","../../src/dialogs/regen.reference/regen.reference.view.js","../../src/dialogs/applyrolepermissions/impl/header/apply.role.permissions.header.view.js","../../src/dialogs/node.picker/impl/nls/lang.js","../../src/dialogs/node.picker/impl/nls/root/lang.js","../../src/dialogs/node.picker/impl/nls/lang!i18n","../../src/dialogs/node.picker/start.locations/facets.volume/facets.volume.factory.js","../../src/utils/commands/nls/commands.lang.js","../../src/utils/commands/nls/root/commands.lang.js","../../src/utils/commands/tabletoolbar.extension.js","../../src/utils/commands/navigate/impl/flyout.toolitem.view.js","../../src/utils/commands/navigate/navigateup.js","../../src/utils/commands/navigate/impl/navigate!css","../../src/utils/commands/navigate/impl/navigateup.arrow.view.js","../../src/utils/commands/navigate/toolbaritems.js","../../src/utils/commands/permissions/permissions.dropdown.menu.items.extension.js","../../src/utils/commands/permissions/permissions.list.toolbaritems.extension.js","../../src/controls/treebrowse/workspace.navigation.tree.plugin.js","../../src/controls/navigation.header/conws.add.navigation.header.controls.js","../../src/utils/commands/addbwsfromsidepanel.js","../../src/widgets/navigation.header/controls/create.workspace/impl/nls/localized.strings.js","../../src/widgets/navigation.header/controls/create.workspace/impl/nls/root/localized.strings.js","../../src/widgets/navigation.header/controls/create.workspace/impl/create.workspace!hbs","../../src/widgets/navigation.header/controls/create.workspace/impl/create.workspace!css","../../src/widgets/navigation.header/controls/create.workspace/create.workspace.view.js","../../src/controls/breadcrumbspanel/breadcrumbspanel.extension.js","../../src/utils/context.help/context.help.ids.js","../../src/widgets/header/impl/headertoolbaritems.masks.js","../../src/utils/commands/addconws.js","../../src/utils/commands/addconwstemplate.js","../../src/utils/commands/move.js","../../src/utils/commands/delete.js","../../src/utils/commands/permissions/addoreditrole.js","../../src/utils/workspaces/busyindicator.js","../../src/utils/commands/addrelateditem.js","../../src/utils/commands/deleterelateditem.js","../../../../../../../../empty:/utils/commands/nls/localized.strings!i18n","../../src/utils/commands/permissions/deleterole.js","../../src/utils/commands/permissions/edit.role.permissions.js","../../../../../../../../empty:/widgets/permissions/impl/nls/lang!i18n","../../src/utils/commands/permissions/edit.role.permission.helper.js","../../src/utils/dragndrop/dragndrop.subtypes.js","../../src/utils/overlay/impl/conwsoverlay!css","../../src/utils/overlay/conwsoverlay.js","../../src/widgets/relatedworkspaces/impl/relatedworkspaces.searchresult.model.js","../../src/widgets/relatedworkspaces/impl/relatedworkspaces.searchform.model.js","../../src/widgets/relatedworkspaces/impl/nls/lang.js","../../src/widgets/relatedworkspaces/impl/nls/root/lang.js","../../src/widgets/relatedworkspaces/impl/nls/lang!i18n","../../src/widgets/relatedworkspaces/addrelatedworkspaces.search.js","../../src/utils/workspaces/impl/nls/lang.js","../../src/utils/workspaces/impl/nls/root/lang.js","../../src/utils/workspaces/workspaces!css","../../src/utils/workspaces/error.template!hbs","../../src/utils/workspaces/workspaces.view.js","../../src/utils/previewpane/impl/previewheader!hbs","../../src/utils/previewpane/impl/previewheader.view.js","../../src/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view!hbs","../../src/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view!css","../../src/widgets/team/impl/dialogs/modaldialog/modal.dialog.view.js","../../src/widgets/team/impl/controls/rolepicker/impl/role!hbs","../../src/widgets/team/impl/controls/rolepicker/impl/role.view.js","../../src/widgets/team/impl/controls/rolepicker/impl/rolepicker!hbs","../../src/widgets/team/impl/controls/rolepicker/impl/rolepicker.clear!hbs","../../src/widgets/team/impl/controls/rolepicker/impl/rolepicker.input!hbs","../../src/widgets/team/impl/controls/rolepicker/impl/rolepicker!css","../../src/widgets/team/impl/controls/rolepicker/rolepicker.view.js","../../src/widgets/team/impl/behaviors/list.keyboard.behavior.js","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.roles!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.roles!css","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.roles.view.js","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.roles!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.delete!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem!css","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.view.js","../../src/widgets/team/impl/controls/footer/impl/footer!hbs","../../src/widgets/team/impl/controls/footer/impl/button!hbs","../../src/widgets/team/impl/controls/footer/impl/footer!css","../../src/widgets/team/impl/controls/footer/footer.view.js","../../src/widgets/team/impl/dialogs/addparticipants/impl/addparticipants!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/addparticipants!css","../../src/widgets/team/impl/dialogs/addparticipants/addparticipants.view.js","../../src/utils/commands/addparticipant.js","../../src/utils/commands/export.js","../../src/widgets/team/impl/commands/exportparticipants.js","../../src/utils/commands/showroles.js","../../src/utils/commands/removeparticipant.js","../../src/widgets/team/impl/commands/exportroles.js","../../src/utils/commands/showdetails.js","../../src/utils/commands/deleterole.js","../../src/widgets/team/impl/participants.toolbaritems.js","../../src/widgets/team/impl/roles.toolbaritems.js","../../src/widgets/team/impl/controls/filter/impl/filter!hbs","../../src/widgets/team/impl/controls/filter/impl/filter.search!hbs","../../src/widgets/team/impl/controls/filter/impl/filter.clear!hbs","../../src/widgets/team/impl/controls/filter/impl/filter.searchicon!hbs","../../src/widgets/team/impl/controls/filter/impl/filter!css","../../src/widgets/team/impl/controls/filter/filter.view.js","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove!hbs","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove.view.js","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit.list!hbs","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit.list.view.js","../../src/widgets/team/impl/dialogs/participants/impl/roles.readonly.list!hbs","../../src/widgets/team/impl/cells/roles/impl/roles!css","../../src/widgets/team/impl/dialogs/participants/impl/roles.readonly.list.view.js","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit!hbs","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit!css","../../src/widgets/team/impl/dialogs/participants/roles.edit.view.js","../../src/widgets/team/impl/dialogs/role/impl/role.details.member!hbs","../../src/widgets/team/impl/dialogs/role/impl/role.details.member!css","../../src/widgets/team/impl/dialogs/role/impl/role.details.member.view.js","../../src/widgets/team/impl/dialogs/role/impl/role.details.members.view.js","../../src/widgets/team/impl/dialogs/role/impl/role.details!hbs","../../src/widgets/team/impl/dialogs/role/impl/role.details!css","../../src/widgets/team/impl/dialogs/role/role.details.view.js","../../src/widgets/team/impl/team.tablinks!hbs","../../src/widgets/team/impl/team!css","../../src/widgets/team/impl/team.tablinks.view.js","../../src/widgets/team/impl/teamtables!hbs","../../src/widgets/team/impl/cells/avatar/impl/avatar!hbs","../../src/widgets/team/impl/cells/avatar/impl/avatar!css","../../src/widgets/team/impl/cells/avatar/avatar.view.js","../../src/widgets/team/impl/cells/name/impl/name!hbs","../../src/widgets/team/impl/cells/name/impl/name!css","../../src/widgets/team/impl/cells/name/name.view.js","../../src/widgets/team/impl/cells/roles/impl/roles!hbs","../../src/widgets/team/impl/cells/roles/roles.view.js","../../src/widgets/team/impl/cells/login/login.view.js","../../src/widgets/team/impl/cells/email/email.view.js","../../src/widgets/team/impl/cells/department/department.view.js","../../src/widgets/team/impl/cells/rolename/impl/rolename!hbs","../../src/widgets/team/impl/cells/rolename/impl/rolename!css","../../src/widgets/team/impl/cells/rolename/rolename.view.js","../../src/widgets/team/impl/cells/participants/impl/participants!hbs","../../src/widgets/team/impl/cells/participants/impl/participants!css","../../src/widgets/team/impl/cells/participants/participants.view.js","../../src/widgets/team/impl/teamtables.view.js","../../src/widgets/team/impl/controls/listitem/impl/listitemteammember!hbs","../../src/widgets/team/impl/controls/listitem/impl/listitemteamrole!hbs","../../src/widgets/team/impl/controls/listitem/impl/listitemteammember!css","../../src/widgets/team/impl/controls/listitem/listitemteammember.view.js","../../src/utils/previewpane/impl/rolemembers.empty!hbs","../../src/utils/previewpane/impl/previewpane!css","../../src/utils/previewpane/impl/rolemembers.view.js","../../src/widgets/metadata/impl/nls/metadata.lang.js","../../src/widgets/metadata/impl/nls/root/metadata.lang.js","../../src/widgets/metadata/impl/nls/metadata.lang!i18n","../../src/widgets/metadata/impl/forms.metadata.update.model.js","../../src/utils/previewpane/impl/previewpane!hbs","../../src/utils/previewpane/previewpane.view.js","../../src/widgets/relatedworkspaces/impl/relateditem!hbs","../../src/widgets/relatedworkspaces/impl/relateditem!css","../../src/widgets/relatedworkspaces/impl/relateditem.view.js","../../src/utils/workspaces/close.expanded.view.js","../../src/widgets/relatedworkspaces/commands.js","../../src/widgets/relatedworkspaces/toolbaritems!csui-ext","../../src/widgets/relatedworkspaces/toolbaritems.js","../../src/widgets/relatedworkspaces/toolbaritems.masks.js","../../src/widgets/relatedworkspaces/headermenuitems!csui-ext","../../src/widgets/relatedworkspaces/headermenuitems.js","../../src/widgets/relatedworkspaces/headermenuitems.masks.js","../../src/utils/workspaces/workspacestable!hbs","../../src/utils/workspaces/workspaces.columns.js","../../src/utils/workspaces/workspacestable!css","../../src/utils/workspaces/workspacestable.view.js","../../src/widgets/relatedworkspaces/impl/relatedworkspacestable!css","../../src/widgets/relatedworkspaces/impl/relatedworkspacestable.view.js","../../src/widgets/relatedworkspaces/relatedworkspaces.view.js","../../lib/src/csui/utils/high.contrast/detector.js","../../src/widgets/header/impl/navitem!hbs","../../src/widgets/header/impl/nls/header.lang.js","../../src/widgets/header/impl/nls/root/header.lang.js","../../src/widgets/header/impl/editicon!hbs","../../src/widgets/header/impl/editicon!css","../../src/widgets/header/impl/editicon.view.js","../../src/widgets/header/impl/headertoolbar!hbs","../../src/widgets/header/impl/collapse/collapse!hbs","../../src/widgets/header/impl/collapse/collapse!css","../../src/widgets/header/impl/collapse/collapse.page.overlay.js","../../src/widgets/header/impl/headertoolbar!css","../../src/widgets/header/impl/headertoolbar.view.js","../../src/widgets/header/impl/icon!hbs","../../src/widgets/header/impl/icon.view.js","../../src/widgets/header/impl/header!hbs","../../src/widgets/header/impl/error.template!hbs","../../src/widgets/header/impl/header!css","../../src/widgets/header/header.view.js","../../src/utils/behaviors/expanding.behavior.js","../../src/widgets/team/impl/controls/teamheader/impl/teamheader!hbs","../../src/widgets/team/impl/controls/teamheader/impl/teamheader!css","../../src/widgets/team/impl/controls/teamheader/teamheader.view.js","../../src/widgets/team/team.view.js","../../src/widgets/myworkspaces/impl/myworkspaceslistitem.view.js","../../src/widgets/myworkspaces/impl/nls/lang.js","../../src/widgets/myworkspaces/impl/nls/root/lang.js","../../src/widgets/myworkspaces/impl/nls/lang!i18n","../../src/widgets/myworkspaces/impl/myworkspacestable.view.js","../../src/widgets/myworkspaces/myworkspaces.view.js","../../src/widgets/metadata/impl/forms.metadata.update.factory.js","../../src/widgets/metadata/impl/metadata!hbs","../../src/widgets/metadata/impl/metadata!css","../../src/widgets/metadata/metadata.view.js","../../src/widgets/outlook/impl/wksp/impl/wksp!hbs","../../src/widgets/outlook/impl/utils/emailservice.js","../../src/widgets/outlook/impl/folder/impl/item!hbs","../../src/widgets/outlook/impl/dialog/impl/logindialog!hbs","../../../../../../../../empty:/pages/start/nls/root/lang!i18n","../../src/widgets/outlook/impl/dialog/authenticator.js","../../src/widgets/outlook/impl/dialog/impl/nameresolver!hbs","../../src/widgets/outlook/impl/dialog/nameresolver.js","../../../../../../../../empty:/utils/impl/nls/lang!i18n","../../src/widgets/outlook/impl/utils/csservice.js","../../src/widgets/outlook/impl/dialog/impl/nameControl!hbs","../../src/widgets/outlook/impl/conwsoutlook!css","../../src/widgets/outlook/impl/dialog/nameControl.view.js","../../src/widgets/outlook/impl/metadata/impl/metadata.forms.factory.js","../../src/widgets/outlook/impl/metadata/impl/form.item!hbs","../../src/widgets/outlook/impl/metadata/form.item.view.js","../../src/widgets/outlook/impl/metadata/impl/metadata.forms!hbs","../../src/widgets/outlook/impl/metadata/metadata.forms.view.js","../../src/widgets/outlook/impl/dialog/impl/saveSection!hbs","../../src/widgets/outlook/impl/dialog/saveSection.view.js","../../src/widgets/outlook/impl/folder/item.view.js","../../src/widgets/outlook/impl/folder/impl/folders!hbs","../../src/widgets/outlook/impl/folder/folders.view.js","../../src/widgets/outlook/impl/wksp/wksp.view.js","../../src/widgets/outlook/impl/recentwksps/impl/recentwksps!hbs","../../src/widgets/outlook/impl/recentwksps/recentwksps.view.js","../../src/widgets/outlook/impl/favoritewksps/impl/favoritewksps!hbs","../../src/widgets/outlook/impl/favoritewksps/favoritewksps.view.js","../../src/widgets/outlook/impl/searchwksps/impl/searchresult!hbs","../../src/widgets/outlook/impl/searchwksps/searchresult.view.js","../../src/widgets/outlook/impl/searchwksps/simplesearch.view.js","../../src/widgets/outlook/impl/searchwksps/impl/wksptype!hbs","../../src/widgets/outlook/impl/searchwksps/wksptypes.view.js","../../src/widgets/outlook/impl/searchwksps/impl/simplesearchresult.model.js","../../src/widgets/outlook/impl/searchwksps/simplesearchresult.view.js","../../src/widgets/outlook/impl/searchwksps/impl/searchwksps!hbs","../../src/widgets/outlook/impl/searchwksps/searchwksps.view.js","../../src/widgets/outlook/impl/suggestedwksps/impl/suggestedwksps!hbs","../../src/widgets/outlook/impl/suggestedwksps/suggestedwksps.view.js","../../src/widgets/outlook/impl/searchwksps/impl/customsearch!hbs","../../src/widgets/outlook/impl/searchwksps/customSearchSection.view.js","../../src/widgets/outlook/impl/conwsoutlook!hbs","../../src/widgets/outlook/conwsoutlook.view.js","../../src/widgets/configurationvolume/impl/nls/lang.js","../../src/widgets/configurationvolume/impl/nls/root/lang.js","../../src/widgets/configurationvolume/impl/configurationvolume!css","../../src/widgets/configurationvolume/configurationvolume.view.js","../../src/widgets/metadata/general.fields/workspacetype/impl/nls/lang.js","../../src/widgets/metadata/general.fields/workspacetype/impl/nls/root/lang.js","../../src/widgets/metadata/general.fields/workspacetype/impl/nls/lang!i18n","../../src/widgets/metadata/general.fields/workspacetype/metadata.general.form.field.controller.js","../../src/widgets/metadata/metadata.general.form.fields.js","../../src/widgets/relatedworkspaces/relatedworkspaces.manifest.json!json","../../src/widgets/header/header.manifest.json!json","../../src/widgets/team/team.manifest.json!json","../../src/widgets/myworkspaces/myworkspaces.manifest.json!json","../../src/widgets/metadata/metadata.manifest.json!json","../../src/widgets/configurationvolume/configurationvolume.manifest.json!json","../../src/widgets/configurationvolume/impl/nls/configurationvolume.manifest.js","../../src/widgets/configurationvolume/impl/nls/root/configurationvolume.manifest.js","../../src/widgets/configurationvolume/impl/nls/configurationvolume.manifest!i18n","../../src/widgets/team/impl/nls/team.manifest.js","../../src/widgets/team/impl/nls/root/team.manifest.js","../../src/widgets/team/impl/nls/team.manifest!i18n","../../src/widgets/metadata/impl/nls/metadata.manifest.js","../../src/widgets/metadata/impl/nls/root/metadata.manifest.js","../../src/widgets/metadata/impl/nls/metadata.manifest!i18n","../../src/widgets/relatedworkspaces/impl/nls/relatedworkspaces.manifest.js","../../src/widgets/relatedworkspaces/impl/nls/root/relatedworkspaces.manifest.js","../../src/widgets/relatedworkspaces/impl/nls/relatedworkspaces.manifest!i18n","../../src/widgets/header/impl/nls/header.manifest.js","../../src/widgets/header/impl/nls/root/header.manifest.js","../../src/widgets/header/impl/nls/header.manifest!i18n","../../src/widgets/myworkspaces/impl/nls/myworkspaces.manifest.js","../../src/widgets/myworkspaces/impl/nls/root/myworkspaces.manifest.js","../../src/utils/usersettings/impl/nls/lang.js","../../src/utils/usersettings/impl/nls/root/lang.js","../../src/utils/usersettings/impl/nls/lang!i18n","../../src/utils/usersettings/impl/usersettings.model.js","../../src/utils/usersettings/usersettings.tabs/navigation.field.view.js","../../src/utils/usersettings/usersettings.tabs/core.usersettings.tabs.js","conws-app.js"],"names":["csui","define","nodeSprites","equals","type","className","iconName","withColorSchemaIconName","conws_mime_workspace","conws_mime_related_workspace","conws_action_navigate_up","conws_action_quick_link32","conws_colorschema_mime_workspace","conws_action_backv2","require","_","$","Backbone","Url","Model","extend","nameAttribute","imageAttribute","constructor","attributes","options","prototype","apply","this","arguments","pick","parse","response","fetched","data","properties","wksp_info","id","wksp_type_id","display_name","wksp_type_name","ensureFetched","success","Deferred","resolve","promise","fetch","reject","error","deferred","finish","wstypes","model","get","set","call","bind","WorkspacesTypesFactory","context","getModel","then","ClientSideMixin","WSTypeModel","WorkspaceTypeCollection","Collection","makeClientSideBrowsable","connector","assignTo","url","baseUrl","getConnectionUrl","getApiBase","combine","results","isFetchable","mixin","module","ModelFactory","ConnectorFactory","WorkspacesTypes","commands","propertyPrefix","getObject","property","undefined","root","en-us","en","NamePlaceholder","WSTypePlaceholder","WorkspaceTypesFactory","lang","addableCommandInfo","signature","group","form","fields","name","required","namePlaceholder","multilingual","reference_type","hideInEditMode","getData","filterWsTypes","selectEnum","forEach","wst","push","value","displayName","selected","done","FormFieldStatesBehavior","view","isReadOnly","hbs","Handlebars","t","template","1","container","depth0","helpers","partials","stack1","lookupProperty","parent","propertyName","Object","hasOwnProperty","nullContext","hash","fn","program","inverse","loc","start","line","column","end","2","helper","escapeExpression","hooks","helperMissing","4","noop","5","7","9","11","12","13","compiler","main","registerPartial","genRefNumber","reGenRefNumber","depFieldsText","rmClassificationText","rmClassificationNameText","independentFieldsText","alpacaPlaceholderOTCustomColumnPicker","alpacaPlaceholderOTWorkspacePicker","alpacaPlaceholderOTWorkspaceTypePicker","titleWorkspaceSearchIcon","titleWorkspaceTypeSearchIcon","serverResponseEmptyErrMsg","Marionette","FormFieldView","FormFieldEditable2Behavior","ModalAlert","PubSub","ReferenceFieldStatesBehavior","create","mode","catId","dataId","split","formView","alpacaField","config","node","generatereference","regenerateReference","parentsAttrDataChanged","parentattrIds","parentsattrData","canRegenerateReference","schema","isInDocTemplateVolTree","rmClassificationUsed","rmClassificationsAttached","oldReferenceAttributeID","listenTo","invalidFieldChange","attr","hasValue","depattrlist","each","alpaca","getAttrData","parentChange","length","checkReadyForGenerateReference","collection","rmClassificationChange","idBtnLabel","labelId","refDataId","uniqueId","getDependencyInlineText","btnDesc","label","templateHelpers","generateReference","curVal","readOnly","readonly","depInlineText","behaviors","FormFieldEditable","behaviorClass","FormFieldStates","events","click button.reference-generate-number","onRender","referenceButton","$el","find","addClass","rmClassData","dependencyInlineText","rmClassName","inherited_rmclassification_name","depattrtext","generateReferenceNumber","event","preventDefault","fullUrl","getV2Url","connection","self","previousNodeName","formData","getFormData","ajaxOptions","status","jXHR","errMsg","showError","oldReferenceElement","getAttrElement","setValue","refresh","referenceNumber","getValue","render","focus","ele","text","currentNodeName","nodeName","metadataView","metadataHeaderView","metadataItemNameView","trigger","xhr","errorContent","responseJSON","errorDetail","defaultErrorGenerateNumber","extendAjaxOptions","makeAjaxCall","fieldId","document","getElementById","target","closest","getAttribute","depattr","element","beforeChange","removeClass","afterParentChange","that","beforeParentChange","insertParentAttrData","count","parentData","String","field","attrData","setData","setID","attrID","str","catID","i","replace","metadataview","formViewList","childrenByPropertyId","children","allowEditOnClickReadArea","node_id","parent_id","category_id","attribute_keys","attribute_values","cache_id","cacheId","rmclassification_id","rm_class_ids","inherited_rmclassification_id","toString","Alpaca","FormModel","ReferenceFieldView","base","Fields","ReferenceField","TextField","onError","getFieldType","postRender","callback","showField","id4Label","labelElement","fieldView","path","$field","getControlEl","replaceWith","region","Region","el","show","setFocus","destroy","onShow","click","e","stopPropagation","registerFieldClass","ResourceMixin","PickerInfoModel","makeResource","columnId","nodeId","pickerType","getUrl","queryObj","forward","object_id","config_id","query","combineQueryString","appendQuery","PickerInfoFactory","pickerInfo","listenToOnce","omit","NodeModel","NodePickerFieldView","LastCustomColumnNodeFactory","type_control","parameters","select_types","globalSearch","lastColumnNode","permanent","detached","mapFieldValueToNodeId","parameterPlaceholder","match","exec","customColumnModel","picker_type","mapNodeIdToFieldValue","clear","silent","_getNodePicker","hasNode","lastParent","startLocation","startLocations","AlpCsuiPickerFieldMixin","CustomColumnPickerFieldView","ConwsCustColPickerField","placeholder","alpacaFieldType","PickerFieldView","makeAlpCsuiPickerField","AlpTypeaheadFieldMixin","WorkspaceTypesModel","WorkspaceTypeFactory","TypeaheadFieldView","ConwsWorkspaceTypeField","css","customImage","defaultIcon","alpacaPlaceholder","pickerOptions","titleSearchIcon","itemOptions","showAllOnClickIcon","typeaheadOptions","minLength","ItemModelFactory","makeAlpTypeaheadField","makeRegexClass","chars","include","exclude","middle_phrase","delimRegex","Error","truncation_phrase","RegExp","regexQuoteClass","word_phrase","quoteClass","makePhrases","incompleteStart","incompleteEnd","result","left","nonDelimEndRegex","right","nonDelimStartRegex","middle","word","words","delimChars","quoteChars","delimClass","nonDelimClass","incompleteStartClass","incompleteEndClass","incompleteStartRegex","incompleteEndRegex","regexChars","makePhrasesForContainsSearch","makePhrasesForStartsWithSearch","makeLQLFromPhrases","phrases","conditions","join","getSignificanceForPhrases","significance","trim","Log","SearchResultsModel","TypeaheadFieldViewMixin","SearchUtil","WorkspaceModel","connectSearchFilterAndQuery","searchResultsModel","where","phrase","fieldOptions","wksptypes","workspace_types","filters","searchtype","search_type","log","debug","console","last","queryable","WorkspaceSearchResultsModel","models","skip","top","orderBy","select","reset","WorkspaceFieldView","pagesize","page_size","searchResultCollection","enableInfiniteScrolling","fetchMoreItemsThreshold","items","makeTypeaheadFieldView","defaultActionItems","WkspFieldNodeModelFactory","wkspFieldNode","autofetch","getAllCommandSignatures","ConwsWorkspaceField","showmore","showmoreAria","showless","showlessAria","TabableRegionBehavior","PerfectScrollingBehavior","heightToSet","ItemView","initialize","shortDescMode","has_more_desc","hideShowLess","collapsedHeightIsOneLine","complete_description","complete_desc","current_description","more_description","showmore_tooltip","showmore_aria","showless_tooltip","showless_aria","show_expandedView","expandDescription","ui","description","readMore","showLess","caretDiv","keydown @ui.readMore","keydown @ui.showLess","click @ui.readMore","click @ui.showLess","TabableRegion","PerfectScrolling","contentParent","suppressScrollX","scrollYMarginOffset","_truncateIfNecessary","triggerMethod","currentlyFocusedElement","onDestroy","renderTimer","clearTimeout","_setTimer","setTimeout","_updateDescriptionAndCaret","_enableCaretState","maxHeight","actualHeight","getActualHeight","getMaxHeight","height","parseFloat","readMoreClicked","keyCode","showLessClicked","scrollTop","toggleClass","NodeCollection","FilteredToolItemsCollection","DelayedToolbarView","ToolbarCommandController","lazyLoadingTemplate","nodes","originatingView","commandController","toolbarItems","delayedActions","mask","toolbarItemsMask","_refreshLazyToolbar","_toolbarItemClicked","show.binf.dropdown","onBeforeShowDropDown","obj","selectedNodes","lazyActionsRetrieved","isLocallyCreatedNode","nonPromotedActionCommands","append","isArray","selectedNode","isLocallyCreated","_renderLazyActions","_onDomRefresh","toolItemView","args","toolitemClicked","toolItem","FormView","GlobalMessage","getSelectorPath","is","realNode","localName","toLowerCase","index","getFocusInfo","focusPath","focused","control","scrolltop","restoreFocus","focusInfo","CallOnCount","fct","makeCountCallback","coc","adaptChildrenLength","val","ii","addItem","removeItem","getRefreshFields","changes","iserror","propertyId","concat","refreshFields","_saveField","_hasDependentFields","dependentFieldMappings","topFieldView","_getTopMostTKLParentField","_getDependencyFields","_saveChanges","getControlByPath","substring","isTKLField","parentViews","fieldEleView","fieldPropertyId","fieldPath","isInSync","values","segpath","segments","change","paths","formValues","getValues","assign","key","idStartsWith","idEndsWith","isNaN","keys","search","parentPropertyId","temp","indexOf","_validate","_blockActions","urlBase","async","updateData","Event","fail","jqxhr","restore","restoreData","showMessage","message","always","_unblockActions","nodeRolePermissionModel","action","roleId","queryparameters","isWorkspaceRole","right_id_expand","isLeaderRole","nodeModel","isInheritedRole","leader_id","isWorkspace","3","roleAria","roleAccessTitle","UserCellView","cellViewRegistry","MemberModel","PermissionsUtil","roleTemplate","RoleCellView","renderValue","getValueData","getTemplate","html","__super__","sformat","getDisplayName","extraMemberModels","some","memberModel","registerByColumnKey","PermissionLevelCellView","RolePermissionLevelCellView","onClickPermissionLevel","command","_handlePermissionLevelFocus","cellView","_handlePermissionLevelClicked","roleViewGroupTitle","roleViewLeaderTitle","inheritedrole","6","8","10","Base","GroupView","formatMemberName","role-title","leader","leader-title","isInheritedRole-title","disabled","disabled-message","disabledMessage","lightWeight","RoleView","viewClass","dialogTitle","missingConnector","AddRole","EditRole","doneButtonLabel","nextButtonLabel","cancelButtonLabel","RoleStepName","PermissionsStepName","ParticipantsStepName","RoleName","RoleNamePlaceholder","RoleDesc","RoleDescPlaceholder","TeamLead","SubItemsInherit","backButtonTooltip","backButtonAria","selectPermissionLevel","simplePermissionSelection","rolePartcipantsWithNoparticipantsMessage","participantsTitle","addParticipantTitle","roleParticipantsUserPickerPlaceholder","roleParticipantsDisabledMemberMessage","roleParticipantsSearchAria","WizardStepFooterView","i18n","ConwsButtonView","tagName","triggers","View","isTabable","prop","button","isButton","toolTip","separate","title","aria-label","role","settings","rtl","updateButton","$button","hidden","childView","LayoutViewEventsPropagationMixin","WizardStepView","ConwsWizardStepFooterView","ConwsWizardStepView","setViewInitialFocus","_renderFooter","footerView","footer","defaultButtons","isFirstStep","previousButtonLabel","back","default","seperatePrevious","onClickPreviousButton","nextButton","next","disableNext","seperateNext","onClickNextButton","doneButton","disableDone","seperateDone","onClickDoneButton","cancel","seperateCancel","close","buttons","wizardView","onClickButton","attachView","WizardView","ConwsWizardView","getCurrentView","currentStep","stepViews","stepNum","steps","wizard","isLastStep","nextStep","prevStep","save","closeWizard","showCurrentView","currentView","TabablesBehavior","recursiveNavigation","containTabFocus","keydown","$form","tabElements","tabableElements","onKeyInView","tabableEleLength","shiftKey","_setFocus","eq","LayoutView","regions","StepHeaderRegion","Step1","Step2","Step3","_updateClasses","TabbableFormView","RoleHeaderView","RoleDetailsView","HeaderRegion","LeftRegion","RightRegion","keyup input","_createHeaderControl","headerViewoptions","onSetInitialFocus","propagateEventsToRegions","roleNameAndDescForm","role_name","addrole","role_description","hideInitValidationError","maxLength","team_lead","isFirstRole","TeamLeadForm","roleNameAndDescFormView","TeamLeadFormView","onAfterShow","TitleView","compile","PermissionLevelSelectorView","PermissionAttributesView","NodePermissionModel","BackButtonView","RolePermissionsView","PickerRegion","TitleRegion","BackButtonRegion","click .conws-addoreditrole-rolepermissions-back","keydown .conws-addoreditrole-rolepermissions-back","SubItemsInheritForm","subitems_inherit","permissionLevelView","getPermissionLevel","isContainer","permissionModel","SubItemsInheritFormView","titleView","lastSelectedPermLevel","PERMISSION_LEVEL_CUSTOM","lastSelectedCustomPermissions","on","onPermissionLevelSelection","customPermissionView","permissions","showButtons","isCustom","onBackSelection","getSelectedPermissions","PERMISSION_LEVEL_NONE","onBackKeySelection","getMemberType","profileImage","profileImageDefault","_displayProfileImage","photoUrl","_getUserPhotoUrl","getPhotoOptions","dataType","_releasePhotoUrl","statusText","URL","createObjectURL","remove","_getPlaceholderImageClass","cgiUrl","getCgiScript","memberId","photoId","photoPath","revokeObjectURL","UserModelFactory","UserWidget","Avatar","itemTemplate","detailsTemplate","deleteTemplate","ParticipantPropertiesView","email","displayEmail","displayTitle","department","displayDepartment","office","displayOffice","personalizedImage","defaultImage","avatar","loggedUser","userProfilePicOptions","userid","showUserProfileLink","showMiniProfile","loggedUserId","showUserWidgetFor","getUser","ParticipantDeleteView","removeParticipant","addParticipantsRemove","removeParticipantAria","click .remove","keydown .remove","onRemoveOnClick","onRemoveOnKeyDown","ParticipantListItemView","content","delete","onParticipantRemove","_parent","selectedIndex","_index","Participant","EmptyRoleParticipantsView","UserPicker","ParticipantsListCollectionView","CollectionView","onRemoveChild","moveTabIndex","numberOfChildren","targetIndex","targetModel","at","newFocus","findByModel","RoleParticipantsView","userPickerRegion","participantsRegion","_createEmptyRoleParticipantsView","_createParticipantsListCollectionView","comparator","localeCompareString","user","limit","clearOnSelect","onRetrieveMembers","retrieveMembersCallback","prettyScrolling","initialActivationWeight","onUserItemChanged","participants","member","participant","add","participantView","onParticipantsChanged","onParticipantsRemove","_views","item","current","exists","findWhere","BlockingView","addOrEditRoleWizard","defaults","defaultOptions","_getConnector","msg","initialSelection","_showWizard","_deferred","_steps","_createWizardSteps","_wizard","imbue","onClickFinishButton","onClickCancelButton","_RoleDetailsView","roleDetailsView","teamLead","_RolePermissionsView","_RoleParticipantsView","dialogClassName","userClassName","step1","step2","step3","permissionLevelDescId","largeSize","aria-labelledby","aria-describedby","onHideDialog","_result","state","cancelled","applyToSubItems","getRoleDetailsView","rolePermissionsView","getPermissionsView","getParticipantsView","participantModel","apply_to","initialContainer","initalSelection","applyRolePermissionHeaderTitle","deleteRolePermissionHeaderTitle","removeRolePermissionHeaderTitle","applyToItem","deleteToItem","removeToItem","ApplyRolePermissionsView","applyRolePermissionMsg","ContentRegion","removePermission","isRoleDelete","roleName","name_formatted","regenReferenceTitle","regenReferenceDlgMsg","regenReferenceDlgInutLabel","regenRefDlgMsg","regenRefDlgInutLabel","ref_regen","regenSwitchView","BooleanFieldView","fieldvalue","ApplyPermissionHeaderView","headerTitle","memberName","labelFacetsVolume","NodeBaseFactory","icon","unselectable","defaultName","updateLocationModel","CommandNameEmail","CommandNameExport","CommandNameAddParticipant","CommandNameExportParticipants","CommandNamePrintParticipants","CommandNameShowRoles","CommandNameRemoveParticipant","CommandNameAddRole","CommandNameEditRole","CommandNamePrintRoles","CommandNameExportRoles","CommandNameShowDetails","CommandNameDeleteRole","CommandNameAddConnectedWorkspace","RemoveParticipantTitleSingle","RemoveParticipantTitleMultiple","RemoveParticipantMessage","RemoveParticipantErrorMessageDefault","DeleteRoleTitleSingle","DeleteRoleTitleMultiple","DeleteRoleMessageNoParticipantsAffected","DeleteRoleMessageParticipantsAffectedSingle","DeleteRoleMessageParticipantsAffectedMultiple","ErrorLoadingAddItemMenu","AddConwsMetadataDialogTitle","BusinessWorkspace","AddConwsMetadataDialogAddButtonTitle","BusinessWorkspaceTypeName","BusinessWorkspaceSuccessfullyCreated","nameIsGeneratedAutomatically","errorGettingCreateForm","CommandNameAddCONWSTemplate","ErrorAddingSubfolderToNodesTable","ServerCommandNameDeleteRelatedItem","CommandNameDeleteRelatedItem","CommandVerbDeleteRelatedItem","DeleteRelatedItemsNoneMessage","DeleteOneRelatedItemSuccessMessage","DeleteSomeRelatedItemsSuccessMessage","DeleteManyRelatedItemsSuccessMessage","DeleteOneRelatedItemConfirmMessage","DeleteSomeRelatedItemsConfirmMessage","DeleteManyRelatedItemsConfirmMessage","CommandNameAddRelatedItem","CommandVerbAddRelatedItem","AddRelatedItemsNoneMessage","AddOneRelatedItemSuccessMessage","AddSomeRelatedItemsSuccessMessage","AddManyRelatedItemsSuccessMessage","AddRoleSuccess","EditRoleSuccess","BusinessWorkspaceRole","DeletePermissionCommandForSubItems","ToolbarItemEditRolePermission","DeleteRoleCommandSuccessMessage","DeleteRoleCommandFailMessage","CommandNameNavigateUp","CommandMessageOpen","CommandNameCreateConnectedWorkspace","CreateBusinessWorkspace","AvailableBWSTemplate","sidePanelNextButton","sidePanelCreateButton","sidePanelTitle","failedToCreateItem","noResults","noWSTypes","ToolItemModel","ToolbarExtension","_addMenuItems","businessWorkspaceTypes","toolItems","bwtype","templates","tmpl","subTypeName","subType","commandData","wsType","sort","a","b","aname","bname","usage","OnUpdateToolbar","conwsTemplateToolItem","getWsTypesUrl","businessworkspacetypes","jqXHR","lines","responseText","respObj","JSON","errmsg","tableToolbarView","extension","Hammer","FlyoutToolItemView","longPress","click @ui.link","_closeDropDown","_stopEvent","stopImmediatePropagation","activeSubmenu","_assignTouchControl","relatedTarget","contains","onKeyDown","_isOnPrimaryItem","_handleClick","hammer","Manager","tap","Tap","press","Press","time","_onTap","_onPress","menu","_toggleDropDown","hasClass","toggle","which","currentTarget","CommandModel","NavigateUtil","ConwsMainNodeExtraData","enabled","isEnabled","checkWorkspaceNavigation","navigateUp","checkWorkspaceHierarchy","level","hasModel","getBwsInfo","checkNavigationExtension","navigation","execute","suppressSuccessMessage","NextNodeModelFactory","NodeModelFactory","targetid","nextnode","nodeid","viewStateModel","CommandCollection","ToolItemsFactory","FlyoutToolItemView2","NavigateupCommand","EnabledNavigateupCommand","hasObject","hasCollection","getFactory","getCollection","_reRender","ancestorsData","_getAncestorsData","isEqual","toolItemData","toolItemAria","menuWithMoreOptions","flyout","toolItemsFactory","filteredCollection","flyoutOptions","blockingParentView","noMenuRoles","toolbarCommandController","useIconsForDarkBackground","_toolItemAction","_toolItemChildAction","makeFocusable","empty","wkspid","ancestors","unshift","_toolItemViewAction","executionContext","NavigateupArrowView","navigationToolbar","customView","dropdownMenuList","inlineToolbar","treeView","rootNodes","getWorkspaceModel","sequence","parentClassName","CommandHelper","visibleFlag","addBwsEnabled","showQuickCreation","scope","visible","SidePanelView","MetadataActionOneItemPropertiesView","EmptyView","SelectTemplateView","WorkspaceCreateFormCollection","WorkspaceMetadataController","DefaultActionBehavior","AddbwsfromsidepanelCollectionFactory","successWithLinkMessage","newNode","msgOptions","nextNodeModelFactory","link_url","getDefaultActionNodeUrl","link_label","targetFolder","openNewWorkspace","updateNameAndView","formCollection","metadataAddItemPropView","general","containerId","metadataPropertiesView","headerView","nameView","gs","placeHolder","setPlaceHolder","once","removeAttr","focusEl","selectTemplateView","selectedTemplate","metadataController","bwsTemplates","bwsTemplatesGroups","wsTypesCollection","wksp_type_icon","rm_enabled","bwsTemplate","subtype","wksp_type","type_name","image_url","sortBy","groupName","subtitle","sidePanelSize","size","sidePanelResize","resize","templatesGroup","getAtLeastOneNode","sidePanel","slides","subTitle","sidePanelClassName","layout","templateData","header","actionButton","validate","blockActions","createItem","unblockActions","hide","direct_open","resp","newCategories","addReferenceAnchor","bo_type_id","bo_id","metadataAddItemController","allForms","_events","firstFocusCalled","emptyTemplatesList","CreateWorkspaceIconTitle","createWorkspaceTitleAria","AddBWSFromSidePanelCommand","localizedStrings","CreateWorkspaceViewContainerRegion","createBWSIcon","createBWSIconContainer","createWorkspaceViewContainer","click @ui.createBWSIcon","buttonEnabled","addworkspaceCommand","_showQuickWSCreationSidePanel","parentView","CreateBWSHeaderIconClicked","Navigable","hasContextHeaderWidget","perspective","widget","hideBreadcrumbs","wantsBackToPrevious","decides","contextHelpId","ToolItemMask","GlobalMenuItemsMask","ToolbarItemsMasks","globalMask","toolbars","reduce","toolbar","normalize","source","extendMask","storeMask","verb","doneVerb","sub_folder_id","MetadataAddItemController","hideNameAndView","dialog","off","unhideNameAndView","showNodeOrMessage","update","folder_id","sub_folder","err","addButtonTitle","formOptions","displayForm","addableTypes","nodeData","doctemplatesInfo","doctemplates_info","bwsinfo","addableType","addableTypeName","is_doctemplate","forwardToTable","MoveCommand","CWSMoveCommand","getExternalBodyParams","selectedNodeIds","dfd","DialogView","RegenView","nodeId_list","canRegenReference","_view","externalBodyParams","toJSON","DeleteCommand","origEnabled","DeleteCommandRelatedWorkspaceCheck","members","unset","_selectAddOrEditRoleOptions","selectedOptions","roleModelData","include_sub_types","patch","wait","_getMessageWithRoleName","permissionsContentView","permissionsListView","isWorkspaceRoleExists","permissionCollection","getReadPermissions","currentLeaderId","right_id","isLeader","filteredModels","filter","initials","AddOrEditRoleWizard","dialogClass","addButtonLabel","AddButtonLabel","availablePermissions","applyTo","BusyIndicator","on_fct","off_fct","OnOff","onoff","busyIndicator","busy","ActionModel","getAction","workspace","actions","command_key","successMessages","formatForNone","formatForOne","formatForTwo","formatForFive","submit","submitNodes","openSearch","callData","calls","href","requestArgs","urlParams","rel_bw_id","rel_type","apiCall","params","fRequestArgs","fVersionNumber","parseInt","fParamTicket","fParamMethod","method","fCallName","connectionUrl","FormData","stringify","exitOnError","contentType","processData","successmsg","formatMessage","request","errormsg","suppressFailMessage","AddRelatedWorkspacesSearch","addWkspSearch","lasterror","searchView","sig","rel_source","rel_target","del_action","body","content_type","form_href","confirmMessages","confirmmsg","confirmQuestion","DeletePermissionCommand","CommandError","csuilang","permissionType","canDeleteRole","localGlobalMessage","ApplyRolePermissionView","ApplyRolePermissionsHeaderView","PermissionPreCheck","_executeDeletePermission","_deletePermission","_performActions","successMsg","failureMsg","_getMessageWithUserDisplayName","DeletePermissionCommandFailMessage","destroyDialog","DeletePermissionCommandSuccessMessageWithCount","DeletePermissionCommandSuccessMessage","processForEmptyOwner","commandError","handleFailure","abort","errorDetails","undefinedCollection","oneFileFailure","errObjects","errObject","commandName","failedPermissionsCollection","errCollection","mime_type","showPermissionApplyingProgress","PermissionUtil","ConwsPermissionsUtil","targetView","EditPermissionCommandFailMessage","userHasEditPermissions","EditRolePermissionHelper","loginUserId","editRolePermissionHelper","popoverPlacement","popoverAtBodyElement","isExpandedView","popoverTargetElement","_showSelectPermissionLevelPopover","userSelection","saveAttr","includeSubTypes","generateSuccessMessage","unformattedMsg","publicAccess","EditPermissionHelper","showApplyPermissionDialog","midSize","applyButtonLabel","onClickApplyButton","selectedSubItems","_applyDialog","Controller","_transitionEnd","transition","transitions","WebkitTransition","MozTransition","OTransition","createElement","style","_hidePresentationView","onHidePresentationView","modalContent","modalWrapper","detach","presentationView","_showOtherView","onShowOtherView","_hideOtherView","onHideOtherView","_showPresentationView","presentationRoot","onShowPresentationView","position","one","BrowsableMixin","NodeResourceMixin","ExpandableMixin","WorkspacesCollectionMixin","Searching","columns","Sorting","orderby","sortedColumns","links","sort_key","sort_order","slice","sort_spec","sort_name","charAt","toUpperCase","el_key","el_name","RelatedWorkspacesSearchResultCollection","wherePart","selectedSettings","searchFacets","getAvailableFacets","clearFilter","makeBrowsable","makeNodeResource","makeExpandable","makeWorkspacesCollection","completeColumns","dataCollectionName","searching","sorting","super_parse","queryParams","_cleanupQuery","mergeUrlPaging","mergeUrlSorting","mergeUrlFiltering","workspaceNodeId","apiBase","getBaseUrl","global_metadata","queryParamsToString","resetColumns","definitions","meta_data","where_rel_type","OTName","setPreviousOrder","previousOrderBy","skipSort","getResourceScope","deepClone","setResourceScope","WorkspaceUtil","SetField","FormField","col","getFormFieldTemplate","FormObject","blacklist","favorite","modify_date","setFromColumns","tableColumns","compact","searchform","col_key","col_data","fieldform","searchPlaceholder","noResultsPlaceholder","errorFieldFormatTagUnrecognized","searchAria","expandAria","ToolbarItemAddRelation","ToolbarItemAddRelationSubmit","ToolbarItemRemoveRelation","initialSearchLoadMessage","expandTableAria","ConwsOverlay","SearchResultsView","RelatedWorkspacesSearchResultModel","RelatedWorkspacesSearchFormModel","SearchQueryModelFactory","where_workspace_type_ids","encodeURIComponent","where_workspace_type_id","where_relationtype","decodeURIComponent","union","searchquery","autoreset","stateEnabled","searchFormModel","maxItemsShown","dropDownText","ToolbarItemMore","dropDownIconName","addGroupSeparators","otherToolbar","tableHeaderToolbar","basicSearchResultsView","enableBackButton","enableSearchSettings","showFacetPanel","customSearchViewModel","initialLoadMessage","handleResize","resized","addEventListener","removeEventListener","overlay","_overlay","errorCustomColumnConfigInvalid","errorCustomColumnMissingBraces","errorOrderByMustNotBeString","errorOrderByMissingBraces","errorFilteringFailed","noWorkspacesFound","selectedItemActionBarAria","ToolbarItemCloseExpandedView","ListView","NodeSpriteCollection","LimitingBehavior","ExpandingBehavior","ListViewKeyboardBehavior","InfiniteScrollingBehavior","IconView","NodeTypeIconView","errorTemplate","WorkspacesExpandingBehavior","collapsedView","ev","widgetView","expandedView","_expandOtherView","expand","_enableExpandingAgain","delegate","pageSize","defaultPageSize","configOptionsData","clone","lastFilterValue","_renderWorkspaceTitleIcon","handleError","getContext","_reset","messageOnError","destroyEmptyView","changed","completeCollection","_resetInfiniteScrolling","onClickHeader","setLimit","_getTitle","imageUrl","_getTitleIcon","src","imageClass","_getSearchPlaceholder","childEvents","click:item","onClickItem","viewClassName","workspaceType","resetLimit","searchInput","searchClicked","CustomEvent","workspacesCollectionFactory","workspacesTableView","LimitedList","_getCollectionAttributes","_getCollectionOptions","ExpandableList","expandedViewOptions","_getExpandedViewOptions","dialogTitleIconNameRight","titleBarImageUrl","titleBarImageClass","cssClass","InfiniteScrolling","_getCollectionUrlQuery","filterChanged","filterValue","filterTimeout","_getFilterPropertyName","filterOptions","setFilter","titleIcon","titleDivEl","titleImgEl","titleIconView","ret","getClosestLocalizedString","_getNoResultsPlaceholder","collectionEvents","onCollectionSync","synced","isEmpty","onRenderItem","_nodeIconView","emptyEl","errorMessage","states","numeral","moment","iconRegistry","headerTemplate","DefaultAction","click .conws-preview-header-title","previewPane","NonEmptyingRegion","attachHtml","appendChild","ModalDialogView","tabindex","aria-hidden","existsHeader","isUndefined","existsBody","existsFooter","modalClassName","hidden.binf.modal","shown.binf.modal","binf_modal","getDefaultContainer","kill","dialogTxtAria","backdrop","keyboard","onHidden","onShown","tplRolePicker","tplClear","tplInput","RolePickerSearch","searchbox","keydown @ui.searchbox","keyup @ui.searchbox","dragstart .typeahead.binf-dropdown-menu li > a","click @ui.searchbox","focus @ui.searchbox","delay","addParticipantsRolePickerPlaceholder","roles","showInherited","rolePicked","typeahead","afterSelect","_afterSelect","highlighter","_renderHighlighter","displayText","_retrieveDisplayText","matcher","_matcher","afterHide","_afterHide","nextHighlighter","_nextHighlighter","accessbility","_accessbility","currentHighlighter","_currentHighlighter","sorter","_sorter","_source","appendTo","afterShow","_positionContainer","onClick","onKeyUp","filterLength","onDragRole","addParticipantsContainer","$element","scrollableDropdownContainer","$scrollContainer","elemBoundingRect","getBoundingClientRect","targetEleTopHeight","offset","targetEleBottomHeight","scrollContainerHeight","$menu","offsetHeight","spaceOnTop","Math","abs","max-height","spaceOnBottom","RolePickerClear","clearValue","addParticipantsRolePickerClear","searchclear","click @ui.searchclear","keyup @ui.searchclear","updateStyles","onClickClear","onClearKeyUp","display","RolePickerView","showValues","addParticipantsRolePickerShow","rolepicker","searchicon","searchRegion","clearRegion","click @ui.searchicon","updateFocus","clearView","Behavior","currentlyFocusedElementSelector","$preElem","_moveTo","_selectPrevious","_selectNext","$elem","$item","ListKeyboardBehavior","childTemplate","ParticipantRolesItemView","removeRole","rolesDialogRemoveRole","keydown .binf-alert","ListKeyboard","onAddChild","RolePicker","ParticipantRolesListView","rolesTemplate","workspaceContext","ParticipantRolesView","rolesListRegion","rolePickerRegion","onRoleItemRemove","addParticipantsRolePickerPlaceholderMore","onRoleItemChanged","onParticipantRolesChanged","applyRolesStyle","applyRolesHeight","added","space","outerHeight","picker","len","templateFooter","templateButton","ButtonView","click @ui.button","isFunction","FooterView","resetRegion","submitRegion","cancelRegion","resetView","submitView","cancelView","NodeFactory","WorkspaceContextFactory","ParticipantView","ButtonBar","AddParticipantsView","buttonsRegion","addParticipantsTitle","roles-help","addParticipantsRolesHelp","teamRoles","roleCollection","teamParticipants","participantCollection","buttonsModel","addParticipantsUserPickerPlaceholder","addParticipantsDisabledMemberMessage","addParticipantsSearchAria","buttonModel","addParticipantsButtonClear","addParticipantsButtonSave","onClickSave","addParticipantsButtonCancel","updateScrollbar","addNewParticipant","refreshAfterSave","afterFetch","addParticipantsErrorMessageDefault","setNewParticipant","disableClear","disableSave","perfectScrollbar","sc1","sc","teamlang","actionEdit","isNull","csv","_export","_download","_exportHeader","_exportModel","file","blob","Blob","window","navigator","msSaveOrOpenBlob","link","download","innerHTML","webkitURL","onclick","removeChild","ExportCommandModel","commandsLang","teamLang","participantNameColTitle","participantRolesColTitle","participantLoginColTitle","participantEmailColTitle","participantDepartmentColTitle","getLeadingRole","getRolesIndicator","allowed","canRemove","answer","_refresh","rolesNameColTitle","rolesParticipantsColTitle","displayMembers","canDelete","_evaluateMembersRemoved","_refreshCollections","affectedParticipants","uniq","unaffectedParticipants","difference","first","second","third","FilterModel","tplView","tplSearch","tplIcon","FilterSearch","caption","tooltip","keyup @ui.search","toggleSearch","changeFilter","onSearchKeyUp","direction","FilterClear","searchClearIconTooltip","click @ui.clear","keyup @ui.clear","toggleClear","isString","onClearClick","FilterIcon","searchIconTooltip","click @ui.icon","keydown @ui.icon","onSearchIconClick","onSearchIconKeyDown","FilterView","active","iconRegion","toggleLabel","focusIcon","focusSearch","iconView","lambda","filterModel","focusedItem","click @ui.item","click @ui.focusedItem","captions","RemoveParticipant1","rolesDialogRemoveParticipant1","RemoveParticipant2","rolesDialogRemoveParticipant2","RemoveParticipantWarning","rolesDialogRemoveParticipantWarning","RoleInherited","rolesNameColInherited","onKeyDownExt","calculateSelectedIndex","setRoles","filterList","keywords","totalCount","itemRemove","click @ui.select","click li","dragstart @ui.select","allRoles","itemSelect","itemDrag","buffer","blockHelperMissing","Filter","RolesRemoveList","RolesEditList","RolesReadOnlyList","RolesCollection","ParticipantsCollection","RolesModelCollection","ButtonLabels","Close","rolesDialogButtonClose","Save","rolesDialogButtonSave","Cancel","rolesDialogButtonCancel","Reset","rolesDialogButtonReset","Remove","rolesDialogButtonRemove","RolesEditView","rolesCountForFilter","modified","availableRoles","assignedRoles","filterModel1","filterModel2","assignedRolesHeaderRegion","assignedRolesListRegion","availableRolesHeaderRegion","availableRolesListRegion","readonlyRolesListRegion","AssignedRoles","rolesDialogAssignedRoles","TooltipAssignedRoles","rolesDialogTooltipAssignedRoles","AvailableRoles","rolesDialogAvailableRoles","TooltipAvailableRoles","rolesDialogTooltipAvailableRoles","tmp","notInheritedRoles","m","setDialogState","removeAssignedRole","addAvailableRole","r","editRolesButtons","titleTemplate","userRolesDialogTitle","groupRolesDialogTitle","canEdit","sc2","saveClicked","ParticpantsCol","dataChanged","actParticipant","participantfind","role2","saveRolesForUser","rolesEditDialogDataNotUptoDateUser","rolesEditDialogDataNotUptoDateGroup","getErrorMessageTitle","removed","successAdd","rolesAdded","rolesEditDialogSuccessfulAdded","errorAdd","rolesNotAdded","rolesEditDialogNotAdded","successRemove","rolesRemoved","rolesEditDialogSuccessfulRemoved","errorRemove","rolesNotRemoved","rolesEditDialogNotRemoved","rolesEditDialogErrorTitleUser","rolesEditDialogErrorTitleGroup","afterRolesFetch","resetClicked","userProfileName","userProfileImg","touchstart @ui.userProfileName","onTouchProfileName","isTouchBrowser","userWidgetOptions","isUser","MemberView","addChild","child","ChildView","Checkbox","RoleDetailsMembers","onWindowResize","Title","roleDetailsTitle","roleDetailsName","Participants","RolesParticipantsColTooltip","rolesParticipantsColTooltip","Description","roleDetailsDescription","Permissions","roleDetailsPermissions","rolesNameColTeamLead","Read","roleDetailsRead","Write","roleDetailsWrite","Manage","roleDetailsManage","Advanced","roleDetailsAdvanced","participantsHeaderRegion","participantsListRegion","teamLeadSwitch","hideTeamLead","scrollXMarginOffset","scrollLeft","roleDetailsLeftPane","aria-selected","data-binf-toggle","tabName","aria","updateAttributes","aria-controls","TemplatedCellView","ParticipantsTableColumnCollection","RolesTableColumnCollection","AvatarCellView","participantStatus","participantStateNew","inherited","isNew","hasFixedWidth","columnClassName","noTitleInHeader","columnNames","NameCellView","dragstart @ui.userProfileName","onDrag","formattedValue","EditView","ParticipantsCollectionFactory","RolesCollectionFactory","RolesCellView","roleEdit","click @ui.roleEdit","dragstart @ui.roleEdit","indicator","cannotEdit","participantRrolesColTooltip","roleEditClicked","setWorkspaceSpecific","editor","tableView","roleEditDrag","LoginCellView","displayLogin","login","EmailCellView","DepartmentCellView","RolesNameCellView","roleDetails","click @ui.roleDetails","dragstart @ui.roleDetails","rolesNameColTooltip","roleDetailsClicked","parentCollection","roleDetailsDrag","ParticipantsCellView","valueClass","rolesParticipantsColNoParticipants","AddParticipantCommand","ExportParticipantsCommand","ShowRolesCommand","RemoveParticipantCommand","ExportRolesCommand","ShowDetailsCommand","DeleteRoleCommand","TableToolbarView","TableView","participantToolbarItems","roleToolbarItems","ParticipantsView","RolesView","TeamTabView","TeamTablesView","dirty","shown.binf.tab .binf-nav-tabs a","tabParticipantsRegion","tabRolesRegion","participantsToolbarRegion","rolesToolbarRegion","rolesRegion","newParticipants","part","filterBy","conws_participantname","conws_rolename","onChanged","reload","binf_tab","renderParticipantsAfterFetch","participantsToolbarView","cmd","onShowRoles","participantsTableView","colsWithSearch","rest","getColumnKeys","selectColumn","enableSorting","nameEdit","haveDetailsRowExpandCollapseColumn","columnsWithSearch","tableTexts","zeroRecords","zeroRecordsOrFilteredParticipants","tableAria","rolesParticipantsTableAria","updateParticipantsToolItems","row","accFocusedState","renderRolesAfterFetch","rolesToolbarView","onShowDetails","rolesTableView","zeroRecordsOrFilteredRoles","participantRolesTableAria","updateRolesToolItems","updateForSelectedChildren","getSelectedChildren","participantsTableDomRefresh","rolesTableDomRefresh","onShownTab","participantsTabLink","rolesTabLink","rolesEditor","detailsEditor","StandardListItem","memberTemplate","click @ui.userAvatar","click @ui.userProfileName","userAvatar","miniProfile","memberType","HeaderModelFactory","TeamCollectionFactory","ListItem","RoleMembersEmptyTemplate","getEmptyView","emptyViewOptions","noRoleMembersMessage","childViewOptions","stage","click:profile","onClickProfile","defaultMetadataWidgetTitle","noMetadataMessage","loadingMetadata","RelatedWorkspaceType","BaseUtils","NodeConnectableMixin","collectValues","getprop","props","configElement","inner","MetadataUpdateFormModel","makeNodeConnectable","metadataConfig","metadata","hideEmptyFields","form_models","categoryIds","categoryId","workspaceTypeIds","workspaceTypeId","where_rel_wksp_type_ids","where_category_ids","resources","param","_getChanges","catModel","oldData","destinationModel","splice","forms","filterId","options_fields","schema_properties","cat_form","relWSType","relbws","relbwskey","workspace_type_id","rel_form","_fillModel","prefix","_createAttribute","_createCategory","_createRelation","innerData","innerProperties","innerFields","innerDestinationModel","subFieldId","attributeId","modelElement","sourceModel","setType","attributeType","_createRow","fieldElement","fieldIndex","fieldVal","_isEmpty","uniqueElements","allEmpty","WidgetContainerBehavior","PreviewHeaderModel","PreviewHeaderView","PreviewAttributesModel","RoleMemberCollection","RoleMembersView","MetadataModel","MetadataView","PreviewPaneView","headerRegion","metaDataRegion","roleMembersRegion","change #header-ws-add-icon-file","click  #header-ws-remove-icon","blankImage","_localize","headerModel","metaDataModel","roleMemberCollection","binf_popover","placement","tip","insertAfter","pos","getPosition","$container","containerDim","actualWidth","offsetWidth","width","defaultPosition","$tip","$pop","proxy","info","delayedHide","onBeforeDestroy","hideTimeout","showCancelled","$deferred","roleView","metaDataView","_attachUserFieldHandlers","proms","when","popoverId","renderMeta","debugNoHide","handler","userFields","14","16","17","19","21","22","24","26","click .conws-relateditem-border","mouseenter","mouseleave","destroyPreviewPane","showPreviewPane","preview","hidePreviewPane","serializeData","allval","_getObject","topRight","bottomLeft","bottomRight","defaultActionUrl","notLastItem","inactive","defaultActionController","hasAction","object","expression","_getValue","exp","valueFormat","_formatPlaceholder","columnModels","orgPropertyName","formatDate","format","CloseExpandedViewCommand","wksplang","TooItemModel","FavoriteStarView","extraToolItems","addToolbar","addTrailingDivider","lazyActions","rightToolbar","hAlign","moduleToolItems","targetToolbar","extraMenuItems","headerMenuToolbar","other","dropDownIcon","moduleMenuItems","menuItems","menuItem","TableColumnModel","idAttribute","TableColumnCollection","pluck","map","permanentColumn","TableRowSelectionToolbarView","PaginationView","WorkspacesColumns","Accessibility","orderByDefault","sortColumn","sortOrder","accessibleTable","isAccessibleTable","toolbarContainer","tableToolbarRegion","tableRowSelectionToolbarRegion","tableRegion","paginationRegion","onWinRefresh","windowRefresh","selectActions","showSelectColumn","existsSelectable","hasTableRowSelection","showCondensedHeaderToggle","showSelectionCounter","_beforeExecuteCommand","_toolbarActionTriggered","_refreshTableToolbar","initAllSelection","selcmds","sigcmds","flatten","rightToolbarView","refilter","showAlternatingToolbar","doRender","renderAfterFetch","_setToolBar","_setTableRowSelectionToolbar","toolItemFactory","toolbarItemsMasks","_setTableRowSelectionToolbarEventListeners","_tableRowSelectionToolbarView","_getCustomColumns","allSelectedNodes","actionItems","_setTableViewEvents","enableEmptyViewText","paginationView","toolbarActionContext","commandSignature","getCollectionWithSpecificModelId","removeItemToAllSelectedItems","addItemToAllSelectedItems","resetAllSelectedItems","findNodeFromCollection","MultiSelectCollection","modelId","allSelectedCollection","cancelAnyExistingInlineForm","selectedModels","unselectedNodes","unselectedNode","isDestroyed","_onSelectionUpdateCssClasses","titleNodeModel","headermenuItems","headermenuItemsMask","creationToolItemsMask","captionView","selectedChildren","scrollableParent","toolbarView","showingBothToolbars","_triggerToolbarActivityEvent","toolbarVisible","headerVisible","selectionLength","transitionEnd","_tableRowSelectionToolbarVisible","$rowSelectionToolbarEl","redraw","customColumns","errors","unknownError","seqnr","cc","errfmt","_getCustomColumnKeys","_getCoreColumnKeys","getColumnsToFetch","coreColumns","requiredColumns","coreColumn","inArray","requiredColumn","onDomRefresh","regionManager","_regions","HeaderMenuItemsMasks","workspaceUtil","WorkspacesTableView","addToolbarView","headermenuItemsMasks","relatedWorkspaces","sortExpanded","orderByAsString","relationType","expand_users","newNodes","csuiIsSelected","selectable","topCount","updateSelectableState","resetScrollToTop","collectionChange","skipCount","WorkspacesView","RelatedItemView","RelatedWorkspacesCollectionFactory","RelatedWorkspacesTableView","langWksp","n","checkDefaultAction","sortCollapsed","_getDefaultSortOrder","customPropertiesToFetch","_getPropertiesToFetch","propertiesToFetch","_getFirstPlaceholder","_getConfiguredProperties","regex","recurse","getElementByIndex","detectHighContrast","div","backgroundColor","borderWidth","borderStyle","borderTopColor","borderRightColor","getComputedStyle","highContrast","hcMode","documentElement","classList","load","_require","onLoad","ensureHighContrastDetection","readyState","isBuild","changeIconDialogTitle","changeIconDialogMessage","changeIconDialogBtnReset","changeIconDialogBtnResetTitle","changeIconDialogBtnUpload","changeIconDialogBtnUploadTitle","changeIconDialogBtnCancel","changeIconDialogBtnCancelTitle","changeIconDialogDefaultError","chooseInpFileTitle","iconMessage","CollapsePageOverlay","classname","click .reset > a","click .upload","click .cancel","resetButton","uploadButton","_currentlyFocusedElement","resetTitle","upload","uploadTitle","cancelTitle","_focusNextElement","backwards","idx","elem","onClickReset","onClickUpload","onClickCancel","theme","_useIconsForDarkBackground","iconTheme","_executeCollapse","LazyToolbarView","ToolbarView","CollapseView","HeaderToolbarView","statusIndicatorsRegion","dividerRegion","toolbarRegion","delayedActionsToolbarRegion","collapseRegion","hasToolbarView","hideToolbar","toolItemsMask","commonToolbarOptions","rightToolbarItems","rightToolbarMask","_righttoolbarView","_setToolbarView","delayedActionsToolbarItems","delayedActionsToolbar","delayedActionsToolbarMask","_delayedActionsToolbarView","statusIndicatorsView","statusIndicatorsViewOptions","_statusIndicatorsView","enableCollapse","collapseOptions","_collapseView","adjustToolbar","_DomRefresh","showDivider","delegateEvents","_showDivider","toolbarMask","toolOptions","tabIndex","IconViewHeader","HeaderIconModel","EditIconView","change .conws-header-icon-file","defaultIconFileTypes","defaultIconFileSize","canChange","iconData","getImageInfo","iconContent","iconCustomized","iconLocation","iconFileTypes","iconMsg","iconFileSize","iconModel","animation","renderPopover","imageInfo","getReadableFileSizeString","onClickPopover","onSetIcon","files","RequestErrorMessage","location","nodeLinks","headerNavItemTemplate","ActivityFeedFactory","ActivityFeedContent","NavigateExtensions","BackToPreviousLocation","HeaderToolbarItems","HeaderToolbarItemsMask","FavoriteModel","DescriptionView","CsuiIconView","goToPrevious","backToPrevious","backCommand","hasPreviousLink","router","constants","activityfeedwidget","moduleConfig","HeaderNavItemView","backLinkIcon","HeaderNavBarView","click .conws-header-navlink","clickLink","resolveProperty","hasChildView","hasDescription","hideDescription","isDescriptionEmpty","hasEmptyDescription","hasWorkspaceType","hideWorkspaceType","hasMetadataExtension","hasMetadata","childViewRegion","toolBarRegion","descriptionRegion","iconViewRegion","onClickLink","hideToolbarExtension","hideActivityFeed","toolbarBlacklist","extensionToolbarBlacklist","checkHeaderViewOptions","extended","Array","delayedToolbarBlacklist","headerToolbarItemsMask","extensionToolbarDelayedActionsBlacklist","headerExtensionToolbarItemsMask","workspaceNode","_makeActivityWidget","getDelayedHeaderViewActions","tabBarRightExtensionView","tabBarRightExtensionViewOptions","headerExtensionToolbaritems","customClass","disableExtensionOnOtherTabs","renderWorkspaceIcon","postCallbackFunction","renderNavigationBar","headerToolbarView","headertoolbaritems","addActivityFeedClass","has","_clampTexts","descriptionView","_observer","disconnect","navigationBar","MutationObserver","mutations","mutation","titleClampLines","observe","attributeFilter","subtree","parents","activityFeedContent","listView","contentView","backToPreviousTitle","backToPreviousLink","getLinkInfo","showBackLink","crumb","navbar","insertBefore","resizeTimer","clamp","widgetOptions","feedsize","feedtype","feedSettings","enableComments","enableFilters","feedsource","hideExpandIcon","configProperty","isWorkspaceType","tags","tag","resolveModelValue","formatted","names","metadataNames","section","categories","parts","business_properties","persona","expandMemberValue","expprop","expval","formatMember","formatValue","truncate","textElem","nodeValue","truncChars","chunks","splitChar","splitChars","shift","chunk","pop","clientHeight","lastChild","headerToolbarDelayedActions","chain","unique","option","getOption","destroyWithAnimation","_destroyExpandedView","onExpand","expanded","filterVal","expandedViewValue","expandedViewClass","requiredModules","limited","iconLeft","imageLeftUrl","imageLeftClass","iconRight","headerControl","immediately","tabableRegionBehavior","navigationBehavior","targetElement","tileExpand","setInitialTabIndex","currentTabPosition","primaryTitle","secondaryTitle","CollectionStateBehavior","ListStateView","TeamHeaderView","showTitleIcon","showWorkspaceIcon","loadingText","loadingListText","titleBarIcon","filterByProperty","getIconData","dialogTitleIconRight","CollectionState","stateView","stateMessages","loading","failed","failedListText","findByNode","onRefreshList","myworkspaces","expanded_view","MyWorkspacesListItem","MyWorkspacesCollectionFactory","MyWorkspacesTableView","enableIcon","CategoryFormCollection","EmptyListView","SelectedMetadataFormView","MetadataUpdateFormFactory","loadContainer","tileHeader","tileContent","hideHeader","headerIcon","keydown .form-metadata","ActiveElementInView","activeElement","Tabable_Elements","Element_Index","remove_Elements","Class_List","Class_Index","searchTabContentForTabableElements","modelConfig","workspaceTypes","relationData","relatedGroupName","_hideLoadContainer","titleId","_currentShortcutIndex","reg","removeRegion","attributeList","attributeDetails","lastIndexOf","attrs","addRegion","Region0","WkspUtil","getCurrentMailboxItem","isEdit","editMode","currentEmail","currentUser","Office","mailbox","userProfile","emailAddress","cast","toItemRead","archivableAttachments","attachments","attachment","attachmentType","MailboxEnums","AttachmentType","File","emailItemChanged","eventArgs","SavingSubmitted","EmailChangedAfterSaving","previousItem","CurrentEmailItem","yPosition","pageYOffset","itemId","writeTrace","subject","uiShow","PreSaveSection","uiHide","ScorllPositionBeforeSaving","scrollTo","SuggestedWkspsView","insertLink","warning_no_outlook_context","emailItem","getTypeAsync","AsyncResultStatus","Failed","BodyType","Html","setSelectedDataAsync","coercionType","CoercionType","asyncResult","Text","resolved","cs_config_missing","config_CS_missing","retrieve_email_error","error_retrieve_email","publicLang","TabKeyBehavior","modalClass","userName","passkey","click .csui-yes","hide.binf.modal","keyup","getConnector","urlObj","hostName","getHost","ticketCookieName","ssoDeferred","llCookie","isSSOMessageReceived","beingAuthenticated","signInButtonTitle","signIn_button_Title","usernameLabel","signIn_username","passkeyLabel","signIn_passkey","signInMessage","signIn_message","ProductName","signInTitle","signIn_title","stopGlobalSpinner","modalOpen","centerVertically","$clone","round","notify","onHiding","modalClose","processKey","onClickYes","messageArea","signIn_required","credentials","username","password","domain","confirmingReload","authenticator","session","csUser","setPersistentSetting","ticket","expries","timeoutProcessed","getErrorMessage","_setTabFocus","lastIndex","tabShift","_getStartIndex","activeIndex","$tabElem","isVisibleInWindowViewport","startIndex","authenticate","existingTicket","ticketSource","authPromise","savedTicket","getPersistentSetting","verifyPromise","verifyAuthentication","SSOEnabled","getSSOTicket","traceLoginUser","startGlobalSpinner","originDomain","ServerOrigin","messageListener","registerMessageListener","detachMessageListener","dummyPara","Date","getTime","ServerCgiScript","SSOLoginURL","isSafeURL","defer","ajax","headers","otcsticket","successful","TraceEnabled","Content-Type","RequestAuthenticator","fileName","keyup #fileName","folderId","proposedName","escapeNameToCreate","originalName","folderName","bodyFormat","validationMessage","validation_name_conflict","validation_no_subject","titleSaveEmail","title_save_email","uniqueNameLabel","save_nameNotUnique","titleOk","title_ok","titleCancel","title_cancel","nameInput","emailNameTyping","inputs","onClickNo","save_enterName","namePromise","verifyingPromise","verifyName","firstNewName","rename","resolveName","newName","errorText","nameToVerify","sprintf","escapeNameToVerify","OTCSTicket","nameToResolve","toRename","lastOpenParenthesis","newSequence","PageContext","EmailService","Authenticator","NameResolver","csuiLang","emailName","metadataValues","saveEmail","attachmentNames","attachmentIds","attachmentTypes","saveAttachment","metadataValueString","mimeType","saveSuccessful","save_successful_all","save_successful_email","save_successful_attachments","save_successful_attachment","errorMsg","getCallbackTokenAsync","tokenResult","dummyBlob","ewsUrl","v1ToV2","csRestMsg","resultCode","error_save_email","reauthenticate","warning_session_expired","error_retrieve_token","confirmSaving","needConfirmation","info_confirm_saving","OkCancel","conn","showWarning","AuthenticationFailureDialogText","Ok","getSuggestedWksps","processes","filterConfig","getSuggestedWkspFilters","rules","rule","filterName","filterWksps","typeId","typeName","weight","emailSearchConfig","getSuggestedWkspEmailSearchConfig","searchTerm","term","searchWksps","whenAll","wksps","wkspProp","foundDuplicate","k","suggestedWeight","kDate","modifyDate","iDate","compareWeight","maxNumber","suggestWksps","j","reportedErrors","wkspType","wkspTypeName","wkspName","queryString","getWkspForEmail","wkspId","wksp","getSuggestedWkspConfig","error_retrieve_suggestedConfig","getSimpleSearchQueries","menuEntries","error_retrieve_searchQueries","getAddinConfig","error_retrieve_config","resolveNames","emailTitleInfo","attachmentInfo","namesToResolve","resolvedNames","checked","isEmail","looper","suggestedName","escapedNames","nameString","nameInfo","nameCandidates","ensuredName","nameConflicted","nameExists","prepareNames","editable","hasConflict","subPromise","candidate","exist","existName","error_validate_name","nameCount","existingNames","initialRequest","baseName","ext","namePart","lastDot","regEx","nameSeed","hasSequence","alreadyExistedNames","candidates","nameArray","NodeSprites","CSService","CompositeView","click #saveSelectionBack","click #itemEditIcon","click #checkButton","keyup #itemName","blur #itemName","keyup #itemEditIcon","iconClass","saveLabel","save_label","showOriginalName","name_untitled","showCheckbox","checkboxDisabled","showEditButton","showIcon","wrapping","avoidHighlight","renderForm","toggleEdit","renderMessage","msgArea","switchEditMode","findClassByNode","nameEditor","renderError","scrollHeight","highlightName","removeProperty","clickCheckbox","checkbox","edit","nameTyping","ensureName","backToPreSave","backToStandard","nameText","range","selection","createTextRange","moveToElementText","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","CollectionFactory","CreateFormCollection","widgetID","createForms","FormItemTemplate","click #toggleIcon","keyup #toggleIcon","toggleStatus","expended","ToggleStatusCollapse","ToggleStatusExpand","errorHandle","hideNotRequired","formItemRegion","layoutMode","templateId","hasRequiredField","requiredFormCount","onRenderForm","objectView","switchToHide","clickToggle","processKeyUp","jsonPath","BlockingBehavior","CreateFormsFactory","MetadataFormItemView","MetadataFormsTemplate","requiredFieldsTitle","required_fields_title","requiredFieldsSwitchTitle","required_fields_switchLabel","Blocking","requiredSwitchRegion","parentId","docParentId","renderForms","categoryChecked","hasRequired","requiredFieldSwitchModel","change input","_refreshDOM","checkRequired","formViews","appendView","requiredFieldSwitchView","getRegion","toggleRequiredFields","metadataFormRetrieved","processMetadata","categoryFormCount","reqFields","getValuesToParent","allValid","metadataValue","viewId","newView","NameView","MetadataFormsView","change:status","childViewContainer","click #saveSectionBack","click #saveEmailDiv #checkButton","click #saveAttachmentCheckbox","click #saveAttachmentDiv #checkButton","click #saveNextButton","keyup #saveSectionBack, #saveNextButton, #metadataFormBack","click #metadataFormBack","templateContext","saveEmailText","hasAttachment","save_email_text","save_email_text_noAttachment","saveAttachmentText","save_attachment_text","saveAttachmentOption","save_attachment_option","saveInfo","save_email_info","backLabel","save_button_back","stageCode","initial","nameChecking","finished","saveStage","nothingToSave","proposedEmailName","metadataFormView","hasRequiredMetadata","requiredMetadataResolved","previousStage","saveFailed","saveMessage","clickBack","clickNext","clickMetadataBack","onStatusChange","renderChildren","ConflictHighlighted","TraceAreaHeight","emailNameRegion","emailTitle","save_button_next","save_selection_conflict","save_selection_conflict_msg","save_button_close","saveTitle","attachmentOption","attachmentClass","save_noSelection","clickSaveAttachment","clickOneAttachment","thisCheckbox","querySelector","allBox","attachmentBoxes","changeToSelected","changeToMix","clickSaveEmail","collectInfo","nameResolvingPromise","nameCheckingPassed","savingEmailName","savingAttachments","metadataRegion","title_save_error","processSave","save_metadate_form_invalid","savePromise","title_save_success","SaveView","serverOrigin","supportFolder","ContentServerSupportPath","hasChild","ToggleStatusEmpty","insert_action","actionIcon","subFolders","$actionBar","$toggleIcon","click .listItemFolder","mouseenter #wkspFolderItem","mouseleave #wkspFolderItem","click #saveEmailButton","focusin #saveEmailButton","focusout #saveEmailButton, #folderNameDiv","keyup #toggleIcon, #folderNameDiv, #saveEmailButton","keydown #folderNameDiv, #saveEmailButton","renderToggleIcon","container_size","accessUrl","folderRetrieved","folderExpended","getIconClass","clickFolder","targetId","FoldersView","foldersView","parentNode","pageNo","toggleIcon","showActionBar","emailSavingConfig","onlySaveToEmailFolder","bar","hideActionBar","processKeyDown","buttonFocused","buttonFocusOut","focusId","saveRegion","saveEmailView","insertPromise","atts","FoldersModel","showMoreLink","showMore_link","showMoreFoldersTitle","showMore_folders","click #moreLink","renderFolders","retrieveNextPage","paging","nextPageUrl","isFirstPage","previous","origLength","_addItems","collIndex","getChildView","_addChild","WkspModel","expendable","openLinkTitle","wksp_open_link","linkToWS","$saveMenuItem","$saveButton","click .listItemWksp","mouseenter #wkspItem","mouseleave #wkspItem","focusin #saveEmailButton, #wkspOpenButton","focusout #saveEmailButton, #wkspOpenButton, #wkspNameDiv","keyup #toggleIcon, #wkspNameDiv, #saveEmailButton","keydown #wkspNameDiv, #wkspOpenButton","enableEmailSaving","allowExpandWorkspace","saveMenuItem","saveButton","updateModelForPreConfigFolder","clickWksp","toToggle","saveFolderId","saveFolderName","keyEnterWksp","preConfigFolderToSave","getPreConfigFolder","hasPreConfigFolder","title_save_email_to","recentwkspsModelFactory","WkspView","sectionTitle","sectionTitle_recent","showMoreWkspTitle","showMore_wksp","click #moreRecentWksp","click #recentToggleIcon","renderWksps","page","noWksp_recent","total_count","error_retrieve_recent","toggleIconClicked","collapsibleClicked","favoritewkspsModelFactory","sectionTitle_favorite","click #moreFavoriteWksp","click #favoriteToggleIcon","pageIndex","noWksp_favorite","fullPageCount","error_retrieve_favorite","SearchResultModel","srchResultMessage","srchResultList","click #moreSearchWksp","typeAhead","pagingLinks","collectionResponse","noWksp_search","highlight","error_retrieve_search","CustomSearchWidgetView","contentViewOptions","bindAll","wrap","afterRender","verifyForm","checking","occupied","SearchFormBottomPadding","wkspTypes","unwrap","setElement","pagingString","cacheIdEx","SearchResultsCollectionFactory","SimpleSearchResultModel","CustomViewSearch","searchwkspsModelFactory","SearchResultView","SimpleSearchView","WkspTypesView","SimpleSearchResultView","wkspTypeSelected","search_selected_wksp_type","SelectedWkspTypeId","WkspSearchPerformed","wkspNameBox","searchButton","searchClearButton","searchFormDropdown","click #searchButton","click #searchClearButton","click #searchResultBackButton","click #wkspTypeButton","focusin #searchButton","sectionTitle_search","helpTooltip","help_button_tooltip","searchTooltip","search_button_tooltip","searchClearTooltip","search_clear_button_tooltip","wkspNamePlaceholder","search_wkspName_placeholder","selectWkspType","search_select_wksp_type","resultTitle","search_result_title","showSearchForm","showSearchFormSelection","previousFormId","renderSearchForm","wkspTypeSelection","wkspNameTextbox","timeoutFun","openWkspTypeSelection","clearSearch","searchButtonFocused","wkspTypeId","resultRegion","search_noCondition","resultView","searchWkspsTyping","sectionTitle_suggested","click #suggestedToggleIcon","startLocalSpinner","info_retrieving","stopLocalSpinner","CurrentEditItem","noWksp_suggested","error_retrieve_suggested","searchFormDW","change #searchFormDW","click #customSearchResultBack","click #customSearchBack","keyup #customSearchBack, #customSearchResultBack","sectionTitle_customSearch","selectSearchForm","search_select_form","queries","factories","searchFormRegion","queryView","savedSearchQueryId","refreshQueryModel","backToSearchForm","searchFormChange","formId","forceRender","queryModel","history","pushState","Function","createDelegate","searchResultsRegion","searchResultsView","ConwsIcons","RecentWkspsView","FavoriteWkspsView","SearchWkspsView","CustomSearchSectionView","favoriteRegion","recentRegion","suggestedRegion","customSearchRegion","customViewSearchResultRegion","dialogRegion","customSearchLabel","search_custom_button_label","click #customSearchButton","requestAuthenticator","paras","setConnector","disableSimpleSearch","getOrigin","rawWhen","onBeforeShow","addinConfigPromise","setConfig","ShowSearchFormSelection","wkspConfigPromise","wkspConfig","showSection","searchForm","queriesPromise","SearchButtonHeight","frames","querySelectorAll","hideFunc","contentWindow","showCustomSearch","emptyResultsText","ShortcutsView","ConfigurationVolumeFactory","EmptyVolumeView","THEME_SUFFIX","perspectiveMode","emptyView","buildChildView","ChildViewClass","modelEvents","onChildViewRender","currentItem","findByIndex","modelChange","_getShortcutTheme","itemIndex","numberOfItems","shortcutTheme","numOfShades","WorkspacetypeName","getGeneralFormFields","formModel","MetadataWorkspacetypeGeneralFormFieldController","controller","$schema","enum","optionLabels","kind","widgetTitle","widgetDescription","shortcutThemeTitle","shortcutThemeDescription","shortcutThemeStone1","shortcutThemeStone2","shortcutThemeTeal1","shortcutThemeTeal2","shortcutThemePink1","shortcutThemePink2","shortcutThemeIndigo1","shortcutThemeIndigo2","tileTitle","tileDescription","tiledescription","hideEmptyFieldsTitle","hideEmptyFieldsDescription","metadataSectionTitle","metadataSectionDescription","categoryOrAttributeTitle","categoryOrAttributeDescription","relatedWSSectionTitle","relatedWSSectionDescription","workspacetypeTitle","workspacetypeTitleDescription","relatedGroupNameTitle","relatedGroupNameDescription","metadataTitle","metadataDescription","workspacetypeDescription","relationTypeTitle","relationTypeDescription","relationTypeOptionLabelChild","relationTypeOptionLabelParent","collapsedViewTitle","collapsedViewDescription","noResultsPlaceholderTitle","noResultsPlaceholderDescription","previewPaneTitle","previewPaneDescription","previewTitle","previewDescription","noMetadataMessageTitle","noMetadataMessageDescription","roleTitle","roleDescription","noRoleMembersMessageTitle","noRoleMembersMessageDesc","CategoryOrAttributeTitle","CategoryOrAttributeDesc","orderTitle","orderDescription","sortColumnTitle","sortColumnDescription","sortOrderTitle","sortOrderDescription","sortOrderOptionLabelAsc","sortOrderOptionLabelDesc","relatedWorkspaceTitle","relatedWorkspaceDesc","valueTitle","valueDescription","descriptionSectionTitle","descriptionSectionDesc","descriptionValueTitle","descriptionFieldValue","topRightSectionTitle","topRightSectionDescription","topRightLabel","topRightLabelDesc","topRightValue","topRightValueDesc","bottomLeftTitle","bottomLeftTitleDesc","bottomLeftLabelTitle","bottomLeftLabelDesc","bottomLeftValue","bottomLeftValueDesc","bottomRightTitle","bottomRightTitleDesc","bottomRightLabel","bottomRightLabelDesc","bottomRightValue","bottomRightValueDesc","expandedViewSectionTitle","expandedViewSectionDesc","expandedViewOrderByTitle","expandedViewOrderByDesc","expandedViewSortColumnTitle","expandedViewSortColumnDesc","expandedViewSortOrderTitle","expandedViewSortOrderDesc","customColumnsSectionTitle","customColumnsSectionDesc","customColumnsItemsTitle","customColumnsItemsDesc","customColumnsPropertiesTitle","customColumnsPropertiesDesc","workspaceTitle","workspaceDescription","workspacePropertiesTitle","workspacePropertiesDesc","businessworkspaceTitle","businessworkspaceDesc","workspaceTypeTitle","workspaceTypeDesc","descriptionSection","embedWidgetSectionTitle","embedWidgetSectionDesc","embedWidgetOptionLabelNone","embedWidgetOptionLabelActivityFeed","titleSection","titleDescription","WorkspaceTypeTitle","WorkspaceTypeDesc","collapsedViewDesc","noResultsPlaceholderDesc","expandedViewTitle","expandedViewDesc","orderBySectionTitle","orderBySectionDesc","sortColumnSectionDesc","sortOrderSectionTitle","sortOrderSectionDesc","customColumnsTitle","customColumnsDesc","customColumnPickerTitle","itemsSectionDesc","keyDescription","navModeLabel","navModeText","navHeader","navInvalidAttribute","ConnectableMixin","UploadableMixin","UserSettingsModel","makeConnectable","makeUploadable","errMsgNav","conwsNavigationTreeView","config_name","preferences","prepare","SmartUI","FormCollection","settingsModeChanged","getRawFormsData","navModeCheckedState","formModels","singleModel","contentRegion","NavigationFieldView","styleLoad"],"mappings":"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ACAj9B,OAAA,wBAMA0d,WACA9X,UACA82E,cACA18E,OAAA,wBAEA28E,aACA38E,OAAA,SACA2oH,gBACA,8BACA,mCAKA55F,SACAnpB,UACAa,SACAzG,OAAA,0BAIAmgB,eACAva,UACAa,SACAzG,OAAA,0BAIA05E,YACA9zE,UACAsH,SACAlN,OAAA,4BAEAyG,SACAzG,OAAA,0BAIA25E,cACA/zE,UACAsH,SACAlN,OAAA,4BAEAyG,SACAzG,OAAA,0BAIA45E,eACAh0E,UACAsH,SACAlN,OAAA,4BAEAyG,SACAzG,OAAA,4BAMA0qD,gBACA9kD,UACA8X,WACA9X,UACA82E,cACA18E,OAAA,wBAEA28E,aACA38E,OAAA,SACA2oH,gBACA,8BACA,mCAKAvnC,iBACAjjE,SACAvY,UACA6hB,OACAznB,OAAA,iCC1UAJ,KAAAC,OAAA,kDACA4oH,UAAA,sDACA15F,QAAA,gBACA5O,cAAA,sBACAzU,UACA1L,OAAA,SACA+B,cACA43C,aACA35C,OAAA,SACA+uB,QAAA,qBACA5O,cAAA,2BACApe,cACAA,cACA/B,OAAA,SACA+uB,QAAA,aACA5O,cAAA,8BACApe,cACAgtB,SACA/uB,OAAA,SACA+uB,QAAA,6BACAqB,UAAA,SACAjQ,cAAA,6BAEAngB,QACAA,OAAA,SACA+uB,QAAA,yBACAqB,UAAA,4CACAjQ,cAAA,yBAEAA,eACAngB,OAAA,SACA+uB,QAAA,8BACAqB,UAAA,gBACAjQ,cAAA,8BAMA6zB,UACAh0C,OAAA,SACA+uB,QAAA,kBACA5O,cAAA,wBACApe,cACA/B,QACAA,OAAA,SACA0oH,QACA,OACA,gBAEA35F,QAAA,8BACA5O,cAAA,kCAMA9e,WACAuE,UACA+zC,aACA/zC,UACA7D,cACA6D,UACAmpB,SACA/uB,OAAA,2BAEAA,QACAA,OAAA,2BAEAmgB,eACAngB,OAAA,+BAMAg0C,UACApuC,UACA5F,QACAA,OAAA,SACA2oH,gBACA,iCACA,iDClFA/oH,KAAAC,OAAA,8CACA4oH,UAAA,sDACA15F,QAAA,kBACA5O,cAAA,wBACAzU,UACA1L,OAAA,SACA+B,cACAgtB,SACA/uB,OAAA,SACA+uB,QAAA,gBACA5O,cAAA,yBAIA9e,WACAuE,UACAmpB,SACA/uB,OAAA,gCCjBAJ,KAAAC,OAAA,8DACA4oH,UAAA,sDACA15F,QAAA,gBACA5O,cAAA,sBACAzU,UACA1L,OAAA,SACA8F,YAAA,mBACA/D,cACAgtB,SACA/uB,OAAA,SACA+uB,QAAA,mBACA5O,cAAA,wBAEAyyD,mBACA5yE,OAAA,UACA+uB,QAAA,yBACA5O,cAAA,yBAEAoqC,iBACAvqD,OAAA,SACA+uB,QAAA,yBACA5O,cAAA,wBACApe,cACA2kD,wBACA1mD,OAAA,SACA+uB,QAAA,gCACA5O,cAAA,kCAIAuqC,gBACA1qD,OAAA,SACA+uB,QAAA,wBACA5O,cAAA,uBACApe,cACAq/E,iBACAphF,OAAA,QACA+uB,QAAA,yBACA5O,cAAA,wBACAhC,SACAne,OAAA,SACAmgB,cAAA,uBACApe,cACA0lB,OACAznB,OAAA,SACAmgB,cAAA,yBAKAzC,WACA1d,OAAA,SACA+uB,QAAA,0BACA5O,cAAA,yBACApe,cACA26E,cACA18E,OAAA,SACAmgB,cAAA,6BAEAw8D,aACA38E,OAAA,SACAowB,UAAA,MACAs4F,QAAA,MAAA,QACA35F,QAAA,4BACA5O,cAAA,kCAQA9e,WACAuE,UACAmpB,SACA/uB,OAAA,4BAEA4yE,mBACA5yE,OAAA,4BAEAuqD,iBACA3kD,UACA8gD,wBACA1mD,OAAA,8BAIA0qD,gBACA9kD,UACAw7E,iBACAjjE,SACAvY,UACA6hB,OACAznB,OAAA,uBACA4W,gBACAC,cACA4V,cAAA,oCAOA/O,WACA9X,UACA82E,cACA18E,OAAA,uBACA4W,gBACAC,cACA4V,cAAA,iCAIAkwD,aACA38E,OAAA,SACA2oH,gBACA,8BACA,yCCrHA/oH,KAAAC,OAAA,sDACA4oH,UAAA,sDACA15F,QAAA,kBACA5O,cAAA,wBACAzU,UACA1L,OAAA,SACA+B,cACAgtB,SACA/uB,OAAA,SACA+uB,QAAA,gBACA5O,cAAA,uBAEAoyD,mBACAvyE,OAAA,UACA0oH,SAAA,GAAA,GACAt4F,WAAA,EACArB,QAAA,2BACA5O,cAAA,kCAEAuiE,qBACA1iF,OAAA,SACA+uB,QAAA,4BACA5O,cAAA,kCACApe,cACAm2F,oBACAl4F,OAAA,SACA+uB,QAAA,4BACA5O,cAAA,mCAEA63E,kBACAh4F,OAAA,QACA+uB,QAAA,oBACA5O,cAAA,0BACAhC,SACAne,OAAA,SACA+B,cACA6wE,mBACA7jD,QAAA,yBACA5O,cAAA,oCACAngB,OAAA,gBAOAsyE,YACAtyE,OAAA,QACA+uB,QAAA,2BACA5O,cAAA,iCACAhC,SACAne,OAAA,SACA+uB,QAAA,+BACA5O,cAAA,yCAKA9e,WACAuE,UACAmpB,SACA/uB,OAAA,4BAEA0iF,qBACA98E,UACAsyF,oBACAl4F,OAAA,4BAEAg4F,kBACA75E,SACAvY,UACAgtE,mBACA5yE,OAAA,iCAOAsyE,YACA1sE,UACAq3B,QACAj9B,OAAA,0BClFAJ,KAAAC,OAAA,4EACA4oH,UAAA,sDACA15F,QAAA,kBACA5O,cAAA,wBACAyoG,OAAA,OACAl9G,UACA1L,OAAA,SACA+B,cACAmmH,iBACAn5F,QAAA,yBACA5O,cAAA,+BACAngB,OAAA,SACA0oH,QACA,6BACA,6BACA,4BACA,4BACA,4BACA,4BACA,8BACA,kCAKArnH,WACAuE,UACAsiH,iBACAloH,OAAA,SACA2oH,gBACA,0BACA,0BACA,yBACA,yBACA,yBACA,yBACA,2BACA,iCAOA/oH,KAAAC,OAAA,2EC3CAoF,QAAA,EAEAC,SAAA,EACAC,MAAA,IAGAvF,KAAAC,OAAA,gFCPAgpH,cAAA,uBACAC,oBAAA,iFAEAC,qBAAA,QACAC,2BAAA,yBACAC,sBAAA,gBACAC,sBAAA,gBACAC,qBAAA,eACAC,qBAAA,eACAC,qBAAA,eACAC,qBAAA,eACAC,uBAAA,iBACAC,uBAAA,mBCZA5pH,KAAAC,OAAA,6CCCAoF,QAAA,EAEAC,SAAA,EACAC,MAAA,IAGAvF,KAAAC,OAAA,kDCPA4pH,YAAA,QACAC,kBAAA,0BACAb,cAAA,OACAC,oBAAA,mDCHAlpH,KAAAC,OAAA,qDCCAoF,QAAA,EAEAC,SAAA,EACAC,MAAA,IAGAvF,KAAAC,OAAA,0DCPA4pH,YAAA,QACAE,kBAAA,+BACAd,cAAA,WACAC,oBAAA,0CACAc,uBAAA,oBACAC,6BAAA,kCACAC,uBAAA,WACAC,6BAAA,wCACAC,2BAAA,wBACAC,iCAAA,sCACAC,wBAAA,qBACAC,8BAAA,sCACAC,qBAAA,iBACAC,gCAAA,oFACAC,wBAAA,aACAC,8BAAA,kKACAC,gBAAA,kBACAC,sBAAA,wGCjBA7qH,KAAAC,OAAA,uECCAoF,QAAA,EAEAC,SAAA,EACAC,MAAA,IAGAvF,KAAAC,OAAA,4ECPAgpH,cAAA,qBACAC,oBAAA,iEACAW,YAAA,QACAC,kBAAA,yCACAU,qBAAA,iBACAM,2BAAA,0CACAC,oBAAA,gBACAC,0BAAA,0CACAC,+BAAA,QACAC,gCAAA,SACAC,qBAAA,iBACAC,2BAAA,gDACAC,4BAAA,2BACAC,kCAAA,iEACAC,mBAAA,eACAC,yBAAA,+BACAC,eAAA,gBACAC,qBAAA,4BACAC,yBAAA,6BACAC,+BAAA,6CACAC,YAAA,eACAC,kBAAA,iEACAC,4BAAA,yBACAC,2BAAA,sEACApB,gBAAA,2BACAC,sBAAA,qCACAoB,2BAAA,wBACAC,0BAAA,sCACAC,aAAA,WACAC,mBAAA,kDACAC,kBAAA,SACAC,wBAAA,qBACAC,iBAAA,aACAC,uBAAA,wBACAC,0BAAA,YACAC,2BAAA,aACAC,wBAAA,0BACAC,uBAAA,mDACAC,aAAA,QACAC,mBAAA,4BACAC,0BAAA,gCACAC,yBAAA,yDACAC,wBAAA,cACAC,wBAAA,kCACAC,uBAAA,2BACAC,6BAAA,oEACAC,gBAAA,QACAC,oBAAA,+BACAC,gBAAA,QACAC,oBAAA,yCACAC,kBAAA,8BACAC,sBAAA,sEACAC,uBAAA,QACAC,sBAAA,+BACAC,kBAAA,QACAC,sBAAA,qDACAC,mBAAA,+BACAC,uBAAA,uEACAC,mBAAA,QACAC,uBAAA,+BACAC,mBAAA,QACAC,uBAAA,sDACAC,2BAAA,gBACAC,0BAAA,+CACAC,2BAAA,WACAC,0BAAA,kDACAC,8BAAA,SACAC,6BAAA,qBACAC,6BAAA,aACAC,4BAAA,wBACAC,4BAAA,iBACAC,2BAAA,qCACAC,0BAAA,qBACAC,yBAAA,oCACAC,+BAAA,SACAC,8BAAA,8BC3EAlvH,KAAAC,OAAA,iDCCAoF,QAAA,EAEAC,SAAA,EACAC,MAAA,IAGAvF,KAAAC,OAAA,sDCPA4pH,YAAA,SACAC,kBAAA,wCACAqF,iBAAA,YACAC,uBAAA,6BACAC,2BAAA,aACAC,0BAAA,2BACAC,yBAAA,QACAC,wBAAA,iCACAC,qBAAA,OACAC,oBAAA,6BACA3C,0BAAA,cACA4C,qBAAA,wCACA1G,cAAA,SACAC,oBAAA,8DACA0G,0BAAA,eACAC,yBAAA,6CACAC,6BAAA,OACAC,qCAAA,kBCjBA/vH,KAAAC,OAAA,6DCCAoF,QAAA,EAEAC,SAAA,EACAC,MAAA,IAGAvF,KAAAC,OAAA,kECPA4pH,YAAA,aACAC,kBAAA,2EACAkG,eAAA,QACAC,mBAAA,iCACAC,qBAAA,iBACAC,oBAAA,0CACAhF,qBAAA,iBACAiF,oBAAA,+CACA/E,4BAAA,2BACAgF,2BAAA,yDACAC,oBAAA,gBACAC,mBAAA,+CACAC,sBAAA,UACAC,qBAAA,kDACAC,wBAAA,qBACAC,wBAAA,YACAC,uBAAA,wBACAnE,0BAAA,YACAC,2BAAA,aACAmE,qBAAA,iBACAC,oBAAA,qCACAC,0BAAA,SACAC,mBAAA,oCACAC,iBAAA,8BCvBAjxH,KAAAC,OAAA,0CAEAoF,QAAA,EAEAC,SAAA,EACAC,MAAA,IAIAvF,KAAAC,OAAA,+CCTAixH,eAAA,kBACAC,cAAA,kHACAC,YAAA,qBACAC,sBAAA,8BCHArxH,KAAAC,OAAA,oDAAA,SCAA,kBACA,sBACA,oBACA,iBACA,iBACA,mDACA,iDACA,+CAEA,SAAA2E,EAAA5D,EAAAD,EAAAE,EAAAC,EAAAob,EAAAg1G,EAAAC,EAAA5rH,GACA,YAEA,IAAA0X,GAAA,GAAAf,GAAA1X,EAAAvC,IAEAmvH,EAAAvwH,EAAAE,MAAAC,QAEAG,cAAA,SAAAE,GACAR,EAAAE,MAAAO,UAAAH,YAAAI,MAAAC,KAAAC,WACAD,KAAA0B,KAAAjB,KAAAZ,EAAAm4B,SAAA7hB,UAAA,IACAnW,KAAA6vH,gBAAAhwH,GACAG,KAAA8vH,eAAAjwH,IAGA0wC,WAAA,WACA,IAAA,IAAAvwC,KAAAyB,IAAA,6BAAA,IAAAzB,KAAAyB,IAAA,2BAAA,CACA,GAAAsuH,GAAA5wH,EAAA0R,IAAAoY,QAAAllB,EAAA0rH,oBAAA,0BAEA,OADAh0G,GAAAC,MAAAq0G,GACAA,IAIAvtH,MAAA,WACA,GAAAA,GAAAlD,EAAAsD,QAAA5C,KAAAsC,UAAAI,mBAAAC,WAAA,MAAA,sBAEA,OADAH,GAAAlD,EAAAsV,YAAApS,EAAA,sCAIArC,QAAA,SAAAC,EAAAP,GACA,GAAAgtF,MAAA1qE,QAAA/hB,EAAAyC,SAAA,CAEA,GAAAvC,GAAAF,EAAAyC,QAAA,GAAAvC,KACA0vH,GAAA,CAMA,OALA1vH,IAAA,YAAAA,EAAA2vH,YACAD,EAAA1vH,EAAA4vH,YAAAF,wBAEAv0G,EAAAC,MAAA,8EAEAs0G,0BAAAA,GAGA,GAAAziH,GAAAnN,EAAA+gD,MAAA7gD,KAAAiN,IACA,IAAA,QAAAA,EAAAqsC,QAAA,IAAArsC,EAAA0tC,KAAAjwC,OAIA,QAFAyQ,GAAAC,MAAA,qCAQAy0G,UAAA,SAAA7vH,EAAAT,GACA,OAAAuwH,WAAAJ,0BAAA1vH,EAAA0vH,4BAQA,OAHAN,GAAA3sH,MAAA6sH,EAAA9vH,WACA6vH,EAAA5sH,MAAA6sH,EAAA9vH,WAEA8vH,IAGAxxH,KAAAC,OAAA,oEAAA,kBCzEA,sBACA,sBACA,mBACA,oBACA,+BACA,wCACA,wCACA,kBACA,uCACA,mDACA,+CACA,SAAAe,EAAAD,EAAA0J,EAAAqJ,EAAAm+G,EAAAztG,EAAAogF,EAAAnnE,EAAAzpB,EAAApJ,EACA4mH,EAAA7rH,GACA,YAoFA,OAlFA8E,GAAA6U,SAAAle,QAEAG,cAAA,SAAAE,GACAG,KAAAwB,MAAA,GAAAouH,GAAA/vH,GACAgJ,EAAA6U,SAAA5d,UAAAH,YAAAI,MAAAC,MACAA,KAAAswH,oBAAAtwH,KAAAwB,MAAAC,IAAA,yBAAA,EACAo6B,EAAAY,MAAAz8B,MACAA,KAAAwB,MAAAN,QACAlB,KAAAuK,SAAAvK,KAAAwB,MAAA,OAAAxB,KAAAuM,UACAhC,SAAAvK,KAAAwB,MAAA,QAAA,SAAAA,EAAA84C,EAAAz6C,GACAG,KAAA0wC,eAAA3wC,MAAAC,KAAAC,WACAq6C,GACAtxC,EAAA+E,UAAA,GAAAqE,GAAAmG,MAAA+hC,GAAAjzB,YAKAyF,UAAA,MACAnnB,YAAA,EAEA4qH,kBAAA,SAAA3yF,GACA,OACAk0C,UACAxxE,QACA0vH,0BAAApyF,GAEA/9B,WACAuE,UACA4rH,2BACAliG,UAAA,EACApiB,QAAA3H,EAAAurH,aACA9wH,OAAA,WACA0I,SAAAnD,EAAAwrH,eAIArlH,UACA3J,cACAyvH,2BACAjkH,YAAA,EACAzH,YAAA,EACA9F,OAAA,YAGA+uB,QAAAxpB,EAAAyrH,UACAhxH,OAAA,cAOA+N,WAAA,WACA,GAAAikH,GAAAxwH,KAAAwB,MAAAC,IAAA,2BACAgvH,EAAA,GAAAJ,EACAI,GAAAr0G,MAAAq0G,EAAAtwH,MAAAH,KAAAuwH,gBAAAC,IACA,IAAAE,GAAA,GAAAx+G,GAAAu+G,EAAA10G,OAAA,GAAAnc,WAAAkyE,MAAA,IACA6+C,EAAA,GAAA9nH,GAAAwK,QACAC,KAAAtT,KAAAsT,KAEA9J,EAAA,GAAAoZ,IACA9gB,UAAA,GAAAkhG,GACAxhG,QAAAkvH,EACAtnH,OAAA,UAGApJ,MAAAuK,SAAAf,EAAA,eAAA,SAAA0D,GACAlN,KAAAswH,qBAAAtwH,KAAAswH,oBACAtwH,KAAAwB,MAAAE,KACA4uH,sBAAAtwH,KAAAswH,oBACAN,0BAAA9iH,EAAAjI,QAEAjF,KAAAwB,MAAAkvB,QACA1wB,MACAA,KAAAuK,SAAAf,EAAA,cAAA,SAAA0D,GACAlN,KAAA+O,QAAA,uBACA/O,MAEA2wH,EAAAp9G,KAAA/J,QAMApL,KAAAC,OAAA,qEAAA,oECnGA,SAAAuyH,GACA,OACA1kF,WAAA,IACAlhB,YAAA4lG,KCDAxyH,KAAAC,OAAA,qBAEA,0BACA,mCAGA,oEACA,mDACA,+DACA,0DACA,sDACA,0DACA,4CACA,iDACA,8CACA,8CACA,gEACA,4CACA,mEACA,sCACA,wCAGA,mDACA,iEACA,qDACA,oFAGA,gFAGA,8CACA,6CACA,6EACA,2EACA,6DAGA,wEACA,kFACA,6DACA,4CAGA,qDAGA,gCACA,2CACA,wCACA,2CACA,4BACA,8BACA,iDACA,sCACA,yCACA,8CACA,yDACA,+DACA,2CAGA,8DAGA,yDACA,mCACA,+BACA,+CACA,uCACA,0CACA,6DACA,sDAGA,uEACA,iDACA,6CACA,6DACA,qDACA,2EAIA,gDACA,2CAGA,6CACA,yDACA,2CACA,uDACA,+EACA,iDACA,yDACA,2EACA,qDACA,iEAGA,yEAIAD,KAAAc,SAAA,UAAA,OAAA,SAAAA,EAAAmY,GAEAA,EAAAw5G,UAAA3xH,EAAA,2BAAA","file":"conws-app.js","sourcesContent":["\ncsui.define('css!conws/utils/icons/icons',[],function(){});\n","/**\r\n * Register custom icons\r\n */\r\ncsui.define('conws/utils/icons/icons',[\r\n  'css!conws/utils/icons/icons'\r\n], function (nodeSprites) {\r\n\r\n  return [\r\n    {\r\n      equals: {type: 864},\r\n      className: 'csui-icon conws-mime_workspace'\r\n    },\r\n    {\r\n      equals: {type: 848},\r\n      className: 'csui-icon conws-mime_workspace',\r\n      iconName: 'conws_mime_workspace',\r\n      withColorSchemaIconName: 'conws_colorschema_mime_workspace'\r\n    },\r\n    {\r\n      equals: {type: 854},\r\n      className: 'csui-icon conws-mime_related_workspace',\r\n      iconName: 'conws_mime_related_workspace'\r\n    },\r\n    {\r\n      equals: {type: 20541},\r\n      className: 'csui-icon conws-doctemplates_volume'\r\n    }\r\n  ];\r\n});\n","csui.define('conws/utils/icons/conws.icons.v2',[], function () {\n  return {\n\"conws_mime_workspace\":'<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 32 32\" class=\"csui-icon-v2 csui-icon-v2__conws_mime_workspace\"><g/><g/><g/><g/><g><g><g><path fill=\"#4A5962\" d=\"M14.672,11.609h5.782V4.525c0-1.72-1.407-3.127-3.127-3.127H4.589c-1.72,0-3.127,1.407-3.127,3.127 v12.739c0,1.72,1.407,3.127,3.127,3.127h6.957v-5.655C11.546,13.016,12.953,11.609,14.672,11.609z\"/><path fill=\"#FFFFFF\" d=\"M17.328,1.399c1.72,0,3.127,1.407,3.127,3.127v7.084h-5.782c-1.72,0-3.127,1.407-3.127,3.127v5.655H4.589 c-1.72,0-3.127-1.407-3.127-3.127V4.525c0-1.72,1.407-3.127,3.127-3.127H17.328 M17.328,0.399H4.589 c-2.275,0-4.127,1.851-4.127,4.127v12.739c0,2.275,1.851,4.127,4.127,4.127h6.957h1v-1v-5.655c0-1.173,0.954-2.127,2.127-2.127 h5.782h1v-1V4.525C21.454,2.25,19.603,0.399,17.328,0.399L17.328,0.399z\"/></g><g><path fill=\"#7B9AB0\" d=\"M27.411,11.609h-6.957v5.655c0,1.72-1.407,3.127-3.127,3.127h-5.782v7.084 c0,1.72,1.407,3.127,3.127,3.127h12.739c1.72,0,3.127-1.407,3.127-3.127V14.736C30.538,13.016,29.131,11.609,27.411,11.609z\"/><path fill=\"#FFFFFF\" d=\"M27.411,11.609c1.72,0,3.127,1.407,3.127,3.127v12.739c0,1.72-1.407,3.127-3.127,3.127H14.672 c-1.72,0-3.127-1.407-3.127-3.127v-7.084h5.782c1.72,0,3.127-1.407,3.127-3.127v-5.655H27.411 M27.411,10.609h-6.957h-1v1v5.655 c0,1.173-0.954,2.127-2.127,2.127h-5.782h-1v1v7.084c0,2.275,1.851,4.127,4.127,4.127h12.739c2.275,0,4.127-1.851,4.127-4.127 V14.736C31.538,12.46,29.687,10.609,27.411,10.609L27.411,10.609z\"/></g><g><path fill=\"#627783\" d=\"M20.454,17.264v-5.655h-5.782c-1.72,0-3.127,1.407-3.127,3.127v5.655h5.782 C19.047,20.391,20.454,18.984,20.454,17.264z\"/><path fill=\"#FFFFFF\" d=\"M20.454,11.609v5.655c0,1.72-1.407,3.127-3.127,3.127h-5.782v-5.655c0-1.72,1.407-3.127,3.127-3.127 H20.454 M21.454,10.609h-1h-5.782c-2.275,0-4.127,1.851-4.127,4.127v5.655v1h1h5.782c2.276,0,4.127-1.851,4.127-4.127v-5.655 V10.609L21.454,10.609z\"/></g></g></g><g/></svg>',\n\"conws_mime_related_workspace\":'<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 32 32\" class=\"csui-icon-v2 csui-icon-v2__conws_mime_related_workspace\"><g><g><g><path fill=\"#B36601\" d=\"M1.5,27.5v-21c0-1.1,0.9-2,2.1-2h8.2c0.5,0,0.9,0.2,1.3,0.5l3.8,3.2c0.3,0.2,0.4,0.3,0.6,0.3h10.9c1.1,0,2.1,0.9,2.1,2v17H1.5z\"/></g><g><g><path fill=\"#FFFFFF\" d=\"M11.8,5c0.4,0,0.7,0.1,1,0.4l3.7,3.2C16.8,8.8,17.1,9,17.4,9h10.9c0.8,0,1.7,0.7,1.7,1.5V27H2V6.5C2,5.7,2.7,5,3.6,5H11.8 M11.8,4H3.6C2.1,4,1,5.1,1,6.5V27v1h1H30h1v-1V10.5C31,9.1,29.9,8,28.4,8H17.6c0,0-0.1,0-0.3-0.2l-3.7-3.2l0,0l0,0C13,4.2,12.4,4,11.8,4L11.8,4z\"/></g></g></g></g><g><path fill=\"#E3992E\" d=\"M28,11H4c-0.6,0-1,0.4-1,1v14l26-13v-1C29,11.5,28.6,11,28,11z\"/></g><g><polygon fill=\"#DD8100\" points=\"29,26 29,13 3.1,26\"/></g><g><g><g><path fill=\"#B36601\" d=\"M9,17.9v-3.9c0-0.6,0.4-1.1,1.1-1.1h3.9c0.6,0,1.1,0.4,1.1,1.1v3.9c0,0.6-0.4,1.1-1.1,1.1h-3.9C9.4,19,9,18.5,9,17.9z\"/></g></g></g><g><g><g><path fill=\"#B36601\" d=\"M16,17.9v-3.9c0-0.6,0.4-1.1,1.1-1.1h3.9c0.6,0,1.1,0.4,1.1,1.1v3.9c0,0.6-0.4,1.1-1.1,1.1h-3.9C16.4,19,16,18.5,16,17.9z\"/></g></g></g><g><g><g><path fill=\"#B36601\" d=\"M9,24.9v-3.9c0-0.6,0.4-1.1,1.1-1.1h3.9c0.6,0,1.1,0.4,1.1,1.1v3.9c0,0.6-0.4,1.1-1.1,1.1h-3.9C9.4,26,9,25.5,9,24.9z\"/></g></g></g><g><g><g><path fill=\"#B36601\" d=\"M16,24.9v-3.9c0-0.6,0.4-1.1,1.1-1.1h3.9c0.6,0,1.1,0.4,1.1,1.1v3.9c0,0.6-0.4,1.1-1.1,1.1h-3.9C16.4,26,16,25.5,16,24.9z\"/></g></g></g><g><g><g><path fill=\"#FFFFFF\" d=\"M9,16.9v-3.9c0-0.6,0.4-1.1,1.1-1.1h3.9c0.6,0,1.1,0.4,1.1,1.1v3.9c0,0.6-0.4,1.1-1.1,1.1h-3.9C9.4,18,9,17.5,9,16.9z\"/></g></g></g><g><g><g><path fill=\"#FFFFFF\" d=\"M16,16.9v-3.9c0-0.6,0.4-1.1,1.1-1.1h3.9c0.6,0,1.1,0.4,1.1,1.1v3.9c0,0.6-0.4,1.1-1.1,1.1h-3.9C16.4,18,16,17.5,16,16.9z\"/></g></g></g><g><g><g><path fill=\"#FFFFFF\" d=\"M9,23.9v-3.9c0-0.6,0.4-1.1,1.1-1.1h3.9c0.6,0,1.1,0.4,1.1,1.1v3.9c0,0.6-0.4,1.1-1.1,1.1h-3.9C9.4,25,9,24.5,9,23.9z\"/></g></g></g><g><g><g><path fill=\"#FFFFFF\" d=\"M16,23.9v-3.9c0-0.6,0.4-1.1,1.1-1.1h3.9c0.6,0,1.1,0.4,1.1,1.1v3.9c0,0.6-0.4,1.1-1.1,1.1h-3.9C16.4,25,16,24.5,16,23.9z\"/></g></g></g></svg>',\n\"conws_action_navigate_up\":'<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 32 32\" class=\"csui-icon-v2 csui-icon-v2__conws_action_navigate_up\"><circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"#FFFFFF\" class=\"csui-icon-v2-state\"/><circle cx=\"16\" cy=\"16\" r=\"15.5\" fill=\"none\" stroke=\"#2E3D98\" class=\"csui-icon-v2-focus\"/><g><g><path d=\"M21.8,22.6c0,0.1,0,0.2-0.1,0.3c0,0.1-0.1,0.2-0.2,0.3c-0.1,0.1-0.2,0.1-0.3,0.2c-0.1,0-0.2,0.1-0.3,0.1h-3.4 c-1,0-1.9-0.4-2.6-1.1c-0.7-0.7-1.1-1.6-1.1-2.6v-8.4l-2.2,2.2c-0.1,0.1-0.2,0.1-0.3,0.2c-0.1,0-0.2,0.1-0.3,0.1 c-0.1,0-0.2,0-0.3-0.1c-0.1,0-0.2-0.1-0.3-0.2c-0.2-0.2-0.2-0.4-0.2-0.6s0.1-0.4,0.2-0.6L14,8.7c0.2-0.2,0.4-0.2,0.6-0.2 c0.2,0,0.4,0.1,0.6,0.2l3.6,3.6c0.1,0.1,0.1,0.2,0.2,0.3c0,0.1,0.1,0.2,0.1,0.3s0,0.2-0.1,0.3c0,0.1-0.1,0.2-0.2,0.3 c-0.1,0.1-0.2,0.1-0.3,0.2c-0.1,0-0.2,0.1-0.3,0.1c-0.1,0-0.2,0-0.3-0.1c-0.1,0-0.2-0.1-0.3-0.2l-2.1-2.1v8.3c0,0.3,0,0.5,0.1,0.8 c0.1,0.2,0.2,0.5,0.4,0.7c0.2,0.2,0.4,0.3,0.7,0.4c0.2,0.1,0.5,0.2,0.8,0.1h3.4c0.2,0,0.4,0.1,0.6,0.3 C21.7,22.2,21.8,22.4,21.8,22.6z\" fill=\"#333333\" class=\"csui-icon-v2-metaphor0\"/></g></g></svg>',\n\"conws_action_quick_link32\":'<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 32 32\" class=\"csui-icon-v2 csui-icon-v2__conws_action_quick_link32\"><circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"#FFFFFF\" class=\"csui-icon-v2-state\"/><circle cx=\"16\" cy=\"16\" r=\"15.5\" fill=\"none\" stroke=\"#2E3D98\" class=\"csui-icon-v2-focus\"/><g><path d=\"M16,25.375c-5.17,0-9.375-4.205-9.375-9.375S10.83,6.625,16,6.625S25.375,10.83,25.375,16 S21.17,25.375,16,25.375z\" fill=\"#333333\" opacity=\"0.5\" class=\"csui-icon-v2-metaphor0\"/><path d=\"M16,6C10.477,6,6,10.477,6,16s4.477,10,10,10s10-4.478,10-10S21.523,6,16,6z M16,24.75 c-2.188,0-4.186-0.812-5.721-2.145l8.846-8.846v5.991c0,0.345,0.28,0.625,0.625,0.625s0.625-0.28,0.625-0.625v-8.125H12.25 c-0.345,0-0.625,0.28-0.625,0.625s0.28,0.625,0.625,0.625h5.991l-8.846,8.846C8.062,20.186,7.25,18.188,7.25,16 c0-4.825,3.925-8.75,8.75-8.75s8.75,3.925,8.75,8.75S20.825,24.75,16,24.75z\" fill=\"#F7F7F7\" class=\"csui-icon-v2-metaphor1\"/></g></svg>',\n\"conws_colorschema_mime_workspace\":'<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 16 16\" class=\"csui-icon-v2 csui-icon-v2__conws_colorschema_mime_workspace\"><path d=\"M13.5,6H10v2.5C10,9.328,9.328,10,8.5,10H6v3.5C6,14.328,6.672,15,7.5,15h6 c0.828,0,1.5-0.672,1.5-1.5v-6C15,6.672,14.328,6,13.5,6z\" fill=\"#98A8B2\" class=\"csui-icon-v2-colorFirst\"/><path d=\"M6,7.5V10H2.5C1.672,10,1,9.328,1,8.5v-6C1,1.672,1.672,1,2.5,1h6C9.328,1,10,1.672,10,2.5V6 H7.5C6.672,6,6,6.672,6,7.5z M10,8.5V6H7.5C6.672,6,6,6.672,6,7.5V10h2.5C9.328,10,10,9.328,10,8.5z\" fill=\"#758B98\" class=\"csui-icon-v2-colorThird\"/><path d=\"M13.5,5H11V2.5C11,1.122,9.878,0,8.5,0h-6C1.122,0,0,1.122,0,2.5v6C0,9.878,1.122,11,2.5,11H5 v2.5C5,14.878,6.122,16,7.5,16h6c1.378,0,2.5-1.122,2.5-2.5v-6C16,6.122,14.878,5,13.5,5z M2.5,10C1.672,10,1,9.328,1,8.5v-6 C1,1.672,1.672,1,2.5,1h6C9.328,1,10,1.672,10,2.5V5H7.5C6.122,5,5,6.122,5,7.5V10H2.5z M10,6v2.5C10,9.328,9.328,10,8.5,10H6V7.5 C6,6.672,6.672,6,7.5,6H10z M15,13.5c0,0.828-0.672,1.5-1.5,1.5h-6C6.672,15,6,14.328,6,13.5V11h2.5C9.878,11,11,9.878,11,8.5V6h2.5 C14.328,6,15,6.672,15,7.5V13.5z\" fill=\"#FFFFFF\" class=\"csui-icon-v2-colorSecond\"/></svg>',\n\"conws_action_backv2\":'<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 32 32\" class=\"csui-icon-v2 csui-icon-v2__conws_action_backv2\"><circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"#FFFFFF\" class=\"csui-icon-v2-state\"/><path d=\"M23.973,14.79H10.987l6.146-5.588l-1.364-1.433L6.973,15.77l8.796,7.999l1.364-1.433l-6.15-5.59 h12.99c0.553,0,1-0.438,1-0.978C24.973,15.228,24.526,14.79,23.973,14.79z\" fill=\"#5264BE\" class=\"csui-icon-v2-metaphor0\"/></svg>',\n };\n});\n","csui.define('conws/models/workspacetypes/workspacetype.model',[\r\n    'require',\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/backbone',\r\n    'csui/utils/url'\r\n  ], function (require,_, $, Backbone, Url) {\r\n    'use strict';\r\n  \r\n    var WSTypeModel = Backbone.Model.extend({\r\n  \r\n      nameAttribute: 'wksp_type_name',\r\n      imageAttribute: 'wksp_type_icon',\r\n\r\n      constructor: function WSTypeModel(attributes, options) {\r\n        Backbone.Model.prototype.constructor.apply(this, arguments);\r\n        this.options = _.pick(options,'context');\r\n      },\r\n  \r\n      parse: function (response) {\r\n        this.fetched = true;\r\n        var data = response&&response.data||{};\r\n        var attributes = _.extend(data.properties||{},data.wksp_info||{});\r\n        attributes.id = attributes.wksp_type_id;\r\n        attributes.display_name = attributes.wksp_type_name;\r\n        attributes.type = 864;\r\n        return attributes;\r\n      },\r\n\r\n      ensureFetched: function (options) {\r\n        if (this.fetched) {\r\n          if (options && options.success) {\r\n            options.success(this);\r\n          }\r\n          return $.Deferred()\r\n              .resolve(this, {}, options)\r\n              .promise();\r\n        }\r\n        return this.fetch(options);\r\n      },\r\n\r\n      fetch: function(options) {\r\n        function reject() {\r\n          if (options && options.error) {\r\n            options.error(this);\r\n          }\r\n          deferred.reject();\r\n  \t    }\r\n        function finish(wstypes,deferred,options) {\r\n          var model = wstypes.get(this.get('id'));\r\n          if (model) {\r\n            this.set(model.attributes);\r\n            this.fetched = true;\r\n            if (options && options.success) {\r\n              options.success(this);\r\n            }\r\n            deferred.resolve(this, {}, options);\r\n          } else {\r\n            reject.call(this,deferred,options);\r\n          }\r\n        }\r\n        var deferred = $.Deferred();\r\n        require(['conws/models/workspacetypes/workspacetypes.factory'], _.bind(function (WorkspacesTypesFactory) {\r\n          var wstypes = this.options.context.getModel(WorkspacesTypesFactory);\r\n          if (wstypes.fetched) {\r\n            finish.call(this,wstypes,deferred,options);\r\n          } else {\r\n            wstypes.fetch(options).then(_.bind(function(){\r\n              finish.call(this,wstypes,deferred,options);\r\n            },this),_.bind(function(){\r\n              reject.call(this,deferred,options);\r\n            },this));\r\n          }\r\n        }, this),_.bind(function(){\r\n          reject.call(this,deferred,options);\r\n        },this));\r\n        return deferred.promise();\r\n      }\r\n  \r\n    });\r\n  \r\n    return WSTypeModel;\r\n  \r\n  }); \r\n  \n","csui.define('conws/models/workspacetypes/workspacetypes.model',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/backbone',\r\n    'csui/models/browsable/client-side.mixin',\r\n    'csui/utils/url',\r\n    'conws/models/workspacetypes/workspacetype.model'\r\n  ], function (_, $, Backbone, ClientSideMixin, Url, WSTypeModel) {\r\n    'use strict';\r\n  \r\n    var WorkspaceTypeCollection = Backbone.Collection.extend({\r\n\r\n      model:WSTypeModel,\r\n  \r\n      constructor: function WorkspaceTypeCollection(attributes, options) {\r\n        Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n        this.makeClientSideBrowsable(options);\r\n        // Enable this model for communication with the CS REST API\r\n        if (options && options.connector) {\r\n          options.connector.assignTo(this);\r\n        }\r\n      },\r\n  \r\n      url: function () {\r\n        var baseUrl = this.connector.getConnectionUrl().getApiBase('v2'),\r\n            getUrl  = Url.combine(baseUrl, 'businessworkspacetypes');\r\n        return getUrl;\r\n  \r\n      },\r\n  \r\n      parse: function (response) {\r\n        this.fetched = true;\r\n        return response.results;\r\n      },\r\n  \r\n      isFetchable: function () {\r\n        return true;\r\n      }\r\n    });\r\n\r\n    ClientSideMixin.mixin(WorkspaceTypeCollection.prototype);\r\n  \r\n    return WorkspaceTypeCollection;\r\n  \r\n  }); \r\n  \n","csui.define('conws/models/workspacetypes/workspacetypes.factory',[\r\n    'module', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone',\r\n    'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n    'conws/models/workspacetypes/workspacetypes.model', 'csui/utils/commands'\r\n  ], function (module, $, _, Backbone, ModelFactory, ConnectorFactory,\r\n      WorkspacesTypes, commands) {\r\n    'use strict';\r\n  \r\n    var WsTypeFactory = ModelFactory.extend({\r\n      propertyPrefix: 'workspacetypes',\r\n  \r\n      constructor: function WsTypeFactory(context, options) {\r\n        ModelFactory.prototype.constructor.apply(this, arguments);\r\n  \r\n        // Obtain the server connector from the application context to share\r\n        // the server connection with the rest of the application; include\r\n        // the options, which can contain settings for dependent factories\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        this.context = context;\r\n        // Expose the model instance in the `property` key on this factory\r\n        // instance to be used by the context\r\n        options = _.extend(options||{},{\r\n          connector: connector\r\n        });\r\n        this.property = new WorkspacesTypes(undefined, options);\r\n      },\r\n  \r\n      isFetchable: function () {\r\n        return this.property.isFetchable();\r\n      },\r\n  \r\n      fetch: function (options) {\r\n        return this.property.fetch(options);\r\n      }\r\n    });\r\n  \r\n    return WsTypeFactory;\r\n  });\r\n  \n","csui.define('conws/controls/inlineforms/conwstemplate/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/inlineforms/conwstemplate/impl/nls/root/lang',{\r\n  NamePlaceholder: 'Enter name',\r\n  WSTypePlaceholder: 'Select Workspace Type'\r\n});\r\n\n","\n","csui.define('conws/controls/inlineforms/conwstemplate/conws.inlineform.schemas',[\"csui/lib/jquery\",\r\n  'conws/models/workspacetypes/workspacetypes.factory',\r\n  'i18n!conws/controls/inlineforms/conwstemplate/impl/nls/lang'\r\n], function ($, WorkspaceTypesFactory, lang) {\r\n  return [\r\n    {\r\n      equals: {type: 848}, // 140: workspace sub-type\r\n      addableCommandInfo: {\r\n        signature: \"AddCONWSTemplate\",\r\n        group: \"conws\"\r\n      },\r\n      form: {\r\n        fields: {\r\n          name: {\r\n            type: 'text',\r\n            required: true,\r\n            namePlaceholder: lang.NamePlaceholder,\r\n            multilingual: true\r\n          },\r\n          reference_type: {\r\n            type: 'select',\r\n            required: true,\r\n            hideInEditMode: true,\r\n            namePlaceholder: lang.WSTypePlaceholder,\r\n            getData: function (options) {\r\n              var deferred      = $.Deferred(),\r\n                  wstypes       = options.context.getModel(WorkspaceTypesFactory),\r\n                  filterWsTypes = function (wstypes) {\r\n                    var selectEnum = [];\r\n                    wstypes.forEach(function (wst) {\r\n                      selectEnum.push({\r\n                        \"value\": wst.get('id'),\r\n                        \"displayName\": wst.get('wksp_type_name'),\r\n                        \"selected\": false\r\n                      });\r\n                    });\r\n                    return selectEnum;\r\n                  };\r\n\r\n              if (!wstypes.fetched) {\r\n                wstypes.fetch().done(function (wstypes) {\r\n                  deferred.resolve(filterWsTypes(wstypes));\r\n                });\r\n              } else {\r\n                deferred.resolve(filterWsTypes(wstypes));\r\n              }\r\n              return deferred.promise();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n});\r\n\r\n\n","csui.define('conws/controls/form/fields/referencefield.states.behavior',[\r\n    'csui/controls/form/fields/base/csformfield.states.behavior'\r\n], function (FormFieldStatesBehavior) {\r\n\r\n    var ReferenceFieldStatesBehavior = FormFieldStatesBehavior.extend({\r\n\r\n        constructor: function ReferenceFieldStatesBehavior(options, view) {\r\n            FormFieldStatesBehavior.apply(this, arguments);\r\n\r\n        },\r\n\r\n        // Reference Field is Readonly field\r\n        isReadOnly: function () {\r\n            return true;\r\n        }\r\n\r\n    });\r\n\r\n    return ReferenceFieldStatesBehavior;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/form/impl/fields/reference/reference',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasValue\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"loc\":{\"start\":{\"line\":3,\"column\":1},\"end\":{\"line\":18,\"column\":8}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t\t <div class=\\\"btn-container reference-field-data\\\">\\r\\n\t\t\t\t<button aria-labelledby=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"idBtnLabel\") || (depth0 != null ? lookupProperty(depth0,\"idBtnLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"idBtnLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":29},\"end\":{\"line\":5,\"column\":43}}}) : helper)))\n    + \" \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"refDataId\") || (depth0 != null ? lookupProperty(depth0,\"refDataId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"refDataId\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":44},\"end\":{\"line\":5,\"column\":57}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"data\") || (depth0 != null ? lookupProperty(depth0,\"data\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"data\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":66},\"end\":{\"line\":5,\"column\":74}}}) : helper)))\n    + \"\\\">\\r\\n\t\t\t\t\t<span id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"refDataId\") || (depth0 != null ? lookupProperty(depth0,\"refDataId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"refDataId\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":15},\"end\":{\"line\":6,\"column\":28}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"data\") || (depth0 != null ? lookupProperty(depth0,\"data\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"data\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":30},\"end\":{\"line\":6,\"column\":38}}}) : helper)))\n    + \"</span>\\r\\n\t\t\t\t</button>\\r\\n\t\t\t </div>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<div class=\\\"reference-field-generate \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"generateReference\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.noop,\"inverse\":container.program(5, data, 0),\"loc\":{\"start\":{\"line\":10,\"column\":39},\"end\":{\"line\":10,\"column\":88}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n\t\t\t<button id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":11,\"column\":15},\"end\":{\"line\":11,\"column\":21}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"btnDesc\") || (depth0 != null ? lookupProperty(depth0,\"btnDesc\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"btnDesc\",\"hash\":{},\"loc\":{\"start\":{\"line\":11,\"column\":35},\"end\":{\"line\":11,\"column\":46}}}) : helper)))\n    + \"\\\" class=\\\"binf-btn binf-btn-primary reference-generate-number \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"generateReference\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.noop,\"inverse\":container.program(7, data, 0),\"loc\":{\"start\":{\"line\":11,\"column\":107},\"end\":{\"line\":11,\"column\":175}}})) != null ? stack1 : \"\")\n    + \"\\\" \\r\\n\t\t\t\t\ttitle=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"genRefNumber\") || (depth0 != null ? lookupProperty(depth0,\"genRefNumber\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"genRefNumber\",\"hash\":{},\"loc\":{\"start\":{\"line\":12,\"column\":12},\"end\":{\"line\":12,\"column\":28}}}) : helper)))\n    + \"\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"generateReference\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.noop,\"inverse\":container.program(9, data, 0),\"loc\":{\"start\":{\"line\":12,\"column\":30},\"end\":{\"line\":12,\"column\":84}}})) != null ? stack1 : \"\")\n    + \">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"genRefNumber\") || (depth0 != null ? lookupProperty(depth0,\"genRefNumber\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"genRefNumber\",\"hash\":{},\"loc\":{\"start\":{\"line\":12,\"column\":85},\"end\":{\"line\":12,\"column\":101}}}) : helper)))\n    + \"\\r\\n\t\t\t</button>\\r\\n\t\t</div>\\r\\n\t\t<div class=\\\"reference-field-generate-read\\\">\\r\\n\t\t\t<div class=\\\"reference-field-generate-text\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"depInlineText\") || (depth0 != null ? lookupProperty(depth0,\"depInlineText\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"depInlineText\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":46},\"end\":{\"line\":16,\"column\":63}}}) : helper)))\n    + \" </div>\\r\\n\t\t</div>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \" cursor-disabled \";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \" reference-generate-number-disabled \";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    return \" aria-disabled=\\\"true\\\" \";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"   <div class=\\\"cs-field-read\\\">\\r\\n        <div class=\\\"cs-field-read-inner\\\">\\r\\n            <div class=\\\"btn-container\\\">\\r\\n\t\t\t\t<button aria-labelledby=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"idBtnLabel\") || (depth0 != null ? lookupProperty(depth0,\"idBtnLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"idBtnLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":23,\"column\":29},\"end\":{\"line\":23,\"column\":43}}}) : helper)))\n    + \" \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"refDataId\") || (depth0 != null ? lookupProperty(depth0,\"refDataId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"refDataId\",\"hash\":{},\"loc\":{\"start\":{\"line\":23,\"column\":44},\"end\":{\"line\":23,\"column\":57}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"data\") || (depth0 != null ? lookupProperty(depth0,\"data\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"data\",\"hash\":{},\"loc\":{\"start\":{\"line\":23,\"column\":66},\"end\":{\"line\":23,\"column\":74}}}) : helper)))\n    + \"\\\">\\r\\n\t\t\t\t\t<span id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"refDataId\") || (depth0 != null ? lookupProperty(depth0,\"refDataId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"refDataId\",\"hash\":{},\"loc\":{\"start\":{\"line\":24,\"column\":15},\"end\":{\"line\":24,\"column\":28}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"data\") || (depth0 != null ? lookupProperty(depth0,\"data\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"data\",\"hash\":{},\"loc\":{\"start\":{\"line\":24,\"column\":30},\"end\":{\"line\":24,\"column\":38}}}) : helper)))\n    + \"</span>\\r\\n\t\t\t\t</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>   \\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"readOnly\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.noop,\"inverse\":container.program(12, data, 0),\"loc\":{\"start\":{\"line\":29,\"column\":4},\"end\":{\"line\":40,\"column\":11}}})) != null ? stack1 : \"\");\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"canRegenerateReference\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":30,\"column\":2},\"end\":{\"line\":39,\"column\":9}}})) != null ? stack1 : \"\");\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t\t<div class=\\\"reference-field-generate-read\\\">\\r\\n\t\t\t\t<button id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":16},\"end\":{\"line\":32,\"column\":22}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"btnDesc\") || (depth0 != null ? lookupProperty(depth0,\"btnDesc\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"btnDesc\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":36},\"end\":{\"line\":32,\"column\":47}}}) : helper)))\n    + \"\\\" class=\\\"binf-btn binf-btn-primary reference-generate-number\\\"\\r\\n\t\t\t\t\t\ttitle=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"reGenRefNumber\") || (depth0 != null ? lookupProperty(depth0,\"reGenRefNumber\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"reGenRefNumber\",\"hash\":{},\"loc\":{\"start\":{\"line\":33,\"column\":13},\"end\":{\"line\":33,\"column\":31}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"reGenRefNumber\") || (depth0 != null ? lookupProperty(depth0,\"reGenRefNumber\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"reGenRefNumber\",\"hash\":{},\"loc\":{\"start\":{\"line\":33,\"column\":33},\"end\":{\"line\":33,\"column\":51}}}) : helper)))\n    + \"\\r\\n\t\t\t\t</button>\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"reference-field-generate-read\\\">\\r\\n\t\t\t\t<div class=\\\"reference-field-generate-text\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"depInlineText\") || (depth0 != null ? lookupProperty(depth0,\"depInlineText\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"depInlineText\",\"hash\":{},\"loc\":{\"start\":{\"line\":37,\"column\":47},\"end\":{\"line\":37,\"column\":64}}}) : helper)))\n    + \" </div>\\r\\n\t\t\t</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"reference-field\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"create\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(11, data, 0),\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":41,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_controls_form_impl_fields_reference_reference', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/form/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/form/impl/nls/root/lang',{\r\n  genRefNumber: \"Generate reference\",\r\n  reGenRefNumber: \"Re-generate reference\",\r\n  depFieldsText: \"Value can be generated automatically and depends on\",\r\n  rmClassificationText : \"RM Classification\",\r\n  rmClassificationNameText : \"Following RM classification will be used in reference generation:\",\r\n  independentFieldsText: \"Value can be generated automatically\",\r\n\r\n  alpacaPlaceholderOTCustomColumnPicker: 'Select column',\r\n  alpacaPlaceholderOTWorkspacePicker: 'Select workspace',\r\n  alpacaPlaceholderOTWorkspaceTypePicker: 'Select type',\r\n\r\n  titleWorkspaceSearchIcon: \"Show available workspaces\",\r\n  titleWorkspaceTypeSearchIcon: \"Show available workspace types\",\r\n  serverResponseEmptyErrMsg: \"Server response is empty\"\r\n});\r\n\r\n\n","\ncsui.define('css!conws/controls/form/impl/fields/reference/reference',[],function(){});\n","csui.define('conws/controls/form/fields/reference.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/form/fields/base/csformfield.view',\r\n  'csui/utils/url',\r\n  'csui/controls/form/fields/base/csformfield.editable.behavior',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/form/pub.sub',\r\n  'conws/controls/form/fields/referencefield.states.behavior',\r\n  'hbs!conws/controls/form/impl/fields/reference/reference',\r\n  'i18n!conws/controls/form/impl/nls/lang',\r\n  'css!conws/controls/form/impl/fields/reference/reference'\r\n], function (_, $, Backbone, Marionette, FormFieldView, Url,\r\n    FormFieldEditable2Behavior, ModalAlert, PubSub, ReferenceFieldStatesBehavior, template, lang) {\r\n  \"use strict\";\r\n\r\n  var ReferenceFieldView = FormFieldView.extend({\r\n\r\n    constructor: function ReferenceFieldView(options) {\r\n      FormFieldView.apply(this, arguments);\r\n      this.create = this.options.mode === \"create\" ? true : false;\r\n      this.catId = this.options.dataId.split(\"_\")[0];\r\n      this.formView = this.options.alpacaField.connector.config.formView;\r\n      this.node = !!this.formView.node ? this.formView.node:this.formView.model.node;\r\n      this.connector = this.node.connector;\r\n      this.generatereference = false;\r\n      this.regenerateReference = false;\r\n      this.parentsAttrDataChanged = false;\r\n      this.parentattrIds = [];\r\n      this.parentsattrData = [];\r\n      this.canRegenerateReference = this.alpacaField.schema.canRegenerateReference;\r\n      this.isInDocTemplateVolTree = this.alpacaField.schema.isInDocTemplateVolTree;\r\n      this.rmClassificationUsed = this.alpacaField.schema.rmClassificationUsed;\r\n      this.rmClassificationsAttached = true;\r\n      if (!!this.alpacaField.schema.oldReferenceAttributeID) {\r\n          this.oldReferenceAttributeID = this.alpacaField.schema.oldReferenceAttributeID;\r\n      }\r\n      if( this.create ){\r\n\t\t  this.listenTo(this.formView, 'invalid:field', this.invalidFieldChange );\r\n      }\r\n      var attr;\r\n      this.hasValue = this.alpacaField.data === null || this.alpacaField.data === undefined ||\r\n                      this.alpacaField.data === \"\" ? false : true;\r\n      if(!!this.alpacaField.schema.depattrlist) {\r\n        _.each(this.options.alpaca.schema.depattrlist, function (parent) {\r\n          this.parentattrIds.push(parent);\r\n          attr = {id: parent, data: this.getAttrData(parent)};\r\n          this.parentsattrData.push(attr);\r\n\r\n          //We need to listen to parent events only when we are adding a category\r\n\t\t  //In the metadata page once the category is added, we don't need to listen to dependent attributes\r\n\t\t  if( this.create ) {\r\n\t\t\t\tthis.listenTo(PubSub, parent + 'dependentattrchanged', this.parentChange);\r\n\t\t  }\r\n\t\t  \r\n        }, this);\r\n      }\r\n      if (this.parentattrIds.length > 0) {\r\n        this.checkReadyForGenerateReference();\r\n      } else {\r\n        if (!this.hasValue) {\r\n          this.generatereference = true;\r\n        }\r\n      }\r\n\r\n\t  //We have to listen to RM model changes only when we are adding a category\r\n      if (this.create && this.rmClassificationUsed && this.formView.model.collection) {\r\n        this.listenTo(this.formView.model.collection, 'add',\r\n            this.rmClassificationChange);\r\n        this.listenTo(this.formView.model.collection, 'remove',\r\n            this.rmClassificationChange);\r\n        if (!this.formView.model.collection.get(\"recordsDetails\")) {\r\n          this.rmClassificationsAttached = false;\r\n          this.generatereference = false;\r\n          this.regenerateReference = false;\r\n        }\r\n      }\r\n\t  //If we are in metadata page, always enable re-generate reference\r\n\t  if( this.create === false ) {\r\n\t\t  this.regenerateReference = true;\r\n\t  }\r\n\t  this.idBtnLabel = this.options.labelId ? this.options.labelId : \"\";\r\n    this.refDataId = _.uniqueId('referenceData');\r\n\t  this.depFieldsText = this.getDependencyInlineText();\r\n\t  this.btnDesc = this.alpacaField.options.label + \", \" + (this.hasValue ? lang.reGenRefNumber : lang.genRefNumber) + \", \" + (this.canRegenerateReference ? this.depFieldsText : \"\");\r\n    },\r\n    className: 'cs-formfield cs-referencefield',\r\n    template: template,\r\n    templateHelpers: function () {\r\n      return {\r\n        create: this.create,\r\n        generateReference: this.generatereference,\r\n        data: this.curVal,\r\n        hasValue: this.hasValue,\r\n        readOnly: this.alpacaField.schema.readonly,\r\n        depInlineText: this.depFieldsText,\r\n        id: this.model && this.model.get('id') ? this.model.get('id') : _.uniqueId(\"button\"),\r\n        genRefNumber: lang.genRefNumber,\r\n        reGenRefNumber: lang.reGenRefNumber,\r\n        canRegenerateReference : this.canRegenerateReference,\r\n\t\t    idBtnLabel: this.idBtnLabel,\r\n        refDataId: this.refDataId,\r\n\t\t    btnDesc: this.btnDesc\r\n      };\r\n    },\r\n    behaviors: {\r\n      FormFieldEditable: {\r\n        behaviorClass: FormFieldEditable2Behavior\r\n      },\r\n      FormFieldStates: {\r\n        behaviorClass: ReferenceFieldStatesBehavior\r\n      }\r\n    },\r\n    events: {\r\n      'click button.reference-generate-number': 'generateReferenceNumber'\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.isInDocTemplateVolTree) {\r\n        var referenceButton = this.$el.find('button.reference-generate-number');\r\n        referenceButton.addClass('reference-generate-number-disabled').attr('aria-disabled', 'true');\r\n        referenceButton.parent('div').addClass('cursor-disabled');\r\n      }\r\n    },\r\n\r\n      getDependencyInlineText: function () {\r\n          var dependencyInlineText = '';\r\n          var rmClassName = '';\r\n\t\t  var rmClassData;\r\n          if ( this.rmClassificationUsed && this.rmClassificationsAttached && this.formView.model.collection ) {\r\n              if ( this.formView.model.collection.get(\"recordsDetails\").options.className ) {\r\n                  rmClassName = this.formView.model.collection.get(\"recordsDetails\").options.className;\r\n              } else if( this.formView.model.collection.get(\"recordsDetails\").get(\"data\")) {\r\n\t\t\t\t  rmClassData = this.formView.model.collection.get(\"recordsDetails\").get(\"data\");\r\n\t\t\t\t  if ( rmClassData.name ) {\r\n\t\t\t\t\t  rmClassName = this.formView.model.collection.get(\"recordsDetails\").get(\"data\").name;\r\n\t\t\t\t  } else if ( rmClassData.inherited_rmclassification_name ) {\r\n\t\t\t\t\t\trmClassName = rmClassData.inherited_rmclassification_name[0];\r\n\t\t\t\t  }\r\n\t\t\t\t  // Enable below lines once LPU-9026 is resolved\r\n\t\t\t\t  //elseif(rmClassData.default_rmclassification_name) {\r\n\t\t\t\t  //  rmClassName = rmClassData.inherited_rmclassification_name[0];\r\n\t\t\t\t  //} \r\n              }\r\n          }\r\n          if (this.parentattrIds.length > 0) {\r\n              dependencyInlineText = lang.depFieldsText + \" \" + this.alpacaField.schema.depattrtext;\r\n              if (this.rmClassificationUsed) {\r\n                  dependencyInlineText = dependencyInlineText + \", \" + lang.rmClassificationText;\r\n                  if (this.rmClassificationsAttached) {\r\n                      dependencyInlineText = dependencyInlineText + \". \" + lang.rmClassificationNameText + \" \" +\r\n                          rmClassName;\r\n                  }\r\n              }\r\n          } else if (this.rmClassificationUsed) {\r\n              dependencyInlineText = lang.depFieldsText + \" \" + lang.rmClassificationText;\r\n              if (this.rmClassificationsAttached) {\r\n                  dependencyInlineText = dependencyInlineText + \". \" + lang.rmClassificationNameText + \" \" +\r\n                      rmClassName;\r\n              }\r\n          } else {\r\n              dependencyInlineText = lang.independentFieldsText;\r\n          }\r\n          return dependencyInlineText;\r\n      },\r\n    generateReferenceNumber: function (event) {\r\n      if (this.$el.find('button.reference-generate-number').attr('aria-disabled') === 'true') {\r\n\t\treturn event.preventDefault();\r\n\t  }\r\n\t  var fullUrl;\r\n      var connector = this.node.connector;\r\n      var url = this.getV2Url(connector.connection.url);\r\n      var self = this;\r\n      var previousNodeName = self.node.get(\"name\");\r\n      var formData = this.getFormData();\r\n      fullUrl = Url.combine(url,'refnumbers');\r\n\r\n      var ajaxOptions = {\r\n        type: 'POST',\r\n        url: fullUrl,\r\n        data: formData,\r\n        success: function (response, status, jXHR) {\r\n          if (response.results) {\r\n            if (response.results.errMsg) {\r\n              ModalAlert.showError(response.results.errMsg);\r\n            } else {\r\n              if (self.regenerateReference && !!self.oldReferenceAttributeID) {\r\n                var oldReferenceElement = self.getAttrElement(self.oldReferenceAttributeID);\r\n                /*\r\n                 * in case no oldReferenceElement is added to the widget,\r\n                 * oldReferenceElement will be undefined, so no UI change necessary.\r\n                 */\r\n                if (typeof oldReferenceElement !== 'undefined') {\r\n                  oldReferenceElement.setValue(self.curVal);\r\n                  oldReferenceElement.refresh();\r\n                }\r\n              }\r\n              self.options.alpacaField.setValue(response.results.referenceNumber);\r\n              self.hasValue = true;\r\n              self.curVal = self.options.alpacaField.getValue();\r\n              self.generatereference = false;\r\n              //If we are in metadata page, always enable re-generate reference\r\n              if (self.create === false) {\r\n                self.regenerateReference = true;\r\n              }\r\n              self.parentsAttrDataChanged = false;\r\n              if (!self.create) {\r\n                var ele = self.$el.find('.reference-field .btn-container button');\r\n                ele.find('span').text(self.curVal);\r\n                ele.attr('title', self.curVal);\r\n                ele.focus();\r\n              } else {\r\n                if (self.render(self.$el.find('.reference-field-data button').length > 0)) {\r\n                  self.$el.find('.reference-field-data button').focus();\r\n                }\r\n              }\r\n\r\n              var currentNodeName = response.results.nodeName;\r\n              //Currently name re-generation is supported only for business workspaces\r\n              if (!self.create && self.node.get(\"type\") === 848) {\r\n                if (self.formView.options.metadataView) {\r\n                  self.formView.options.metadataView.metadataHeaderView.metadataItemNameView.model.set(\r\n                    \"name\", currentNodeName);\r\n                } else {\r\n                  self.formView.options.node.set(\"name\", currentNodeName);\r\n                }\r\n              }\r\n\r\n              //triggered upon successful regenerate reference\r\n              if (!!currentNodeName && !!previousNodeName && previousNodeName !== currentNodeName && self.formView.options.context) {\r\n                self.formView.options.context.trigger('current:folder:changed', { attributes: { id: self.node.get(\"id\"), name: currentNodeName } });\r\n              }\r\n\r\n            }\r\n          } else {\r\n            ModalAlert.showError(lang.serverResponseEmptyErrMsg);\r\n          }\r\n        },\r\n        error: function (xhr, status, text) {\r\n          var errorContent = xhr.responseJSON ?\r\n                             ( xhr.responseJSON.errorDetail ? xhr.responseJSON.errorDetail :\r\n                               xhr.responseJSON.error) : lang.defaultErrorGenerateNumber;\r\n          ModalAlert.showError(errorContent);\r\n        }\r\n      };\r\n      connector.extendAjaxOptions(ajaxOptions);\r\n      connector.makeAjaxCall(ajaxOptions);\r\n    },\r\n    getV2Url: function (url) {\r\n      return new Url(url).getApiBase('v2');\r\n    },\r\n    invalidFieldChange: function(event) {\r\n\r\n        var fieldId = document.getElementById(event.target.id).closest('.alpaca-container-item').getAttribute('data-alpaca-container-item-name');\r\n        var self = this;\r\n\r\n        _.each(this.options.alpaca.schema.depattrlist, function (depattr) {\r\n            if (depattr === fieldId) {\r\n                _.each(self.parentsattrData, function (element) {\r\n                    if (element.id === fieldId) {\r\n                        element.data = null;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        var beforeChange = this.generatereference;\r\n\r\n        this.checkReadyForGenerateReference();\r\n\r\n        if (this.create) {\r\n            this.regenerateReference = false;\r\n        } else if (!this.hasValue) {\r\n            this.generatereference = true;\r\n        } else {\r\n            this.generatereference = false;\r\n        }\r\n\r\n        if (beforeChange !== this.generatereference) {\r\n            if (this.generatereference) {\r\n              if (!this.isInDocTemplateVolTree) {\r\n                this.$el.find('button.reference-generate-number').removeClass('reference-generate-number-disabled').attr('aria-disabled', 'false');\r\n              }\r\n            } else {\r\n                this.$el.find('.reference-field-generate').addClass('cursor-disabled');\r\n                this.$el.find('button.reference-generate-number').addClass('reference-generate-number-disabled').attr('aria-disabled', 'true');\r\n            }\r\n        }\r\n    },\r\n    parentChange: function (parent) {\r\n      var that = parent;\r\n\t  var beforeParentChange = this.generatereference;\r\n\t  var afterParentChange;\r\n      if (that !== this) {\r\n        this.insertParentAttrData(parent);\r\n        this.checkReadyForGenerateReference();\r\n        if (this.create) {\r\n          this.regenerateReference = false;\r\n        } else if (!this.hasValue) {\r\n          this.generatereference = true;\r\n        } else {\r\n          this.generatereference = false;\r\n        }\r\n\t\tafterParentChange = this.generatereference;\r\n\t\tif ( beforeParentChange !== afterParentChange ) {\r\n\t\t\tif( this.generatereference ) {\r\n        if (!this.isInDocTemplateVolTree) {\r\n\t\t\t\tthis.$el.find('button.reference-generate-number').removeClass('reference-generate-number-disabled').attr('aria-disabled', 'false');\r\n        }\r\n\t\t\t}else {\r\n\t\t\t\tthis.$el.find('.reference-field-generate').addClass('cursor-disabled');\r\n\t\t\t\tthis.$el.find('button.reference-generate-number').addClass('reference-generate-number-disabled').attr('aria-disabled', 'true');\r\n\t\t\t}\r\n\t\t}\r\n      }\r\n\r\n    },\r\n    rmClassificationChange: function () {\r\n\t  var beforeParentChange = this.generatereference;\r\n\t  var afterParentChange;\r\n      if (this.formView.model.collection && this.formView.model.collection.get(\"recordsDetails\")) {\r\n        this.rmClassificationsAttached = true;\r\n        if (this.create) {\r\n          this.generatereference = true;\r\n        } else {\r\n          this.regenerateReference = true;\r\n        }\r\n      } else {\r\n        this.rmClassificationsAttached = false;\r\n        this.generatereference = false;\r\n        this.regenerateReference = false;\r\n      }\r\n\t  this.checkReadyForGenerateReference();\r\n\t  var depFieldsText = this.getDependencyInlineText();\r\n\t  var btnDesc = this.alpacaField.options.label + \", \" + (this.hasValue ? lang.reGenRefNumber : lang.genRefNumber) + \", \" \r\n\t\t\t\t\t+ (this.canRegenerateReference ? depFieldsText : \"\");\r\n\t  this.$el.find('.reference-field .reference-field-generate-read .reference-field-generate-text').text(depFieldsText);\r\n\t  this.$el.find('button.reference-generate-number').attr('aria-label',btnDesc);\r\n      afterParentChange = this.generatereference;\r\n\t  if ( beforeParentChange !== afterParentChange ) {\r\n\t\tif( this.generatereference ) {\r\n      if (!this.isInDocTemplateVolTree) {\r\n\t\t\tthis.$el.find('.reference-field-generate').removeClass('cursor-disabled');\r\n\t\t\tthis.$el.find('button.reference-generate-number').removeClass('reference-generate-number-disabled').attr('aria-disabled', 'false');\r\n      }\r\n\t\t}else {\r\n\t\t\tthis.$el.find('.reference-field-generate').addClass('cursor-disabled');\r\n\t\t\tthis.$el.find('button.reference-generate-number').addClass('reference-generate-number-disabled').attr('aria-disabled', 'true');\r\n\t\t}\r\n\t  }\r\n    },\r\n    checkReadyForGenerateReference: function () {\r\n      var count = 0;\r\n      _.each(this.parentsattrData, function (attr) {\r\n        if (attr.data !== undefined && attr.data !== null && attr.data !== \"\") {\r\n          count++;\r\n        }\r\n      });\r\n        if (count === this.parentsattrData.length) {\r\n            if (this.create && this.hasValue) {\r\n                this.generatereference = false;\r\n                this.regenerateReference = false;\r\n            } else {\r\n                if (this.rmClassificationsAttached) {\r\n                    if (this.create) {\r\n                        this.generatereference = true;\r\n                        this.regenerateReference = false;\r\n                    }\r\n                    else if (this.parentsAttrDataChanged) {\r\n                        this.regenerateReference = true;\r\n                    } else {\r\n                        this.generatereference = true;\r\n                    }\r\n                } else {\r\n                    this.generatereference = false;\r\n                    this.regenerateReference = false;\r\n                }\r\n            }\r\n        }\r\n      else {\r\n        this.generatereference = false;\r\n        this.regenerateReference = false;\r\n      }\r\n\r\n    },\r\n    insertParentAttrData: function (parent) {\r\n      var self = this;\r\n      var parentData = parent.curVal;\r\n      _.each(self.parentsattrData, function (attr) {\r\n        if (attr.id === parent.options.dataId) {\r\n          if (typeof parent.curVal === 'object') {\r\n            parentData = parent.curVal.id;\r\n          }\r\n          if (String(attr.data) !== parentData) {\r\n            attr.data = parentData;\r\n            self.generatereference = true;\r\n            self.regenerateReference = true;\r\n            self.parentsAttrDataChanged = true;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    getAttrData: function (field) {\r\n      var attrData, setData, setID, attrID;\r\n      var str = field.split(\"_\");\r\n      var catID = str[0];\r\n      var i = 0;\r\n      if (str.length > 3) {\r\n        if (str.length === 6) {\r\n          setID = str[0] + \"_\" + str[1];\r\n          setData = this.formView.alpaca.data[setID];\r\n          attrID = field.replace(setID + \"_\", \"\");\r\n          if (typeof setData !== 'undefined') {\r\n            attrData = setData[attrID];\r\n          }\r\n          else {\r\n            if (this.formView.metadataview.formViewList.length > 1) {\r\n              for (i = 0; i < this.formView.metadataview.formViewList.length; i++) {\r\n                if (typeof this.formView.metadataview.formViewList[i].alpaca.data[attrID] !==\r\n                    'undefined') {\r\n                  attrData = this.formView.metadataview.formViewList[i].alpaca.data[attrID];\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else if (str.length === 7) {\r\n          if (str[2] === catID) {\r\n            setID = str[0] + \"_\" + str[1];\r\n            setData = this.formView.alpaca.data[setID];\r\n            attrID = str[2] + \"_\" + str[3] + \"_\" + str[4] + \"_\" + str[5];\r\n            attrData = setData[attrID][0];\r\n          } else {\r\n            setID = str[0] + \"_\" + str[1];\r\n            setData = this.formView.alpaca.data[setID][0];\r\n            attrID = str[3] + \"_\" + str[4] + \"_\" + str[5] + \"_\" + str[6];\r\n            attrData = setData[attrID];\r\n          }\r\n\r\n        } else {\r\n          setID = str[0] + \"_\" + str[1];\r\n          setData = this.formView.alpaca.data[setID][0];\r\n          attrID = str[3] + \"_\" + str[4] + \"_\" + str[5] + \"_\" + str[6];\r\n          attrData = setData[attrID][0];\r\n        }\r\n      }\r\n      else {\r\n        field = str[0] + \"_\" + str[1];\r\n        attrData = this.formView.alpaca.data[field];\r\n        /*\r\n         * if the element is 'undefined' and more than one formView exists, then all the formviews are searched to update the dependent element value if at all element exists.\r\n         */\r\n        if (typeof attrData === 'undefined' && this.formView.metadataview.formViewList.length > 1) {\r\n          for (i = 0; i < this.formView.metadataview.formViewList.length; i++) {\r\n            if (typeof this.formView.metadataview.formViewList[i].alpaca.data[field] !==\r\n                'undefined') {\r\n              attrData = this.formView.metadataview.formViewList[i].alpaca.data[field];\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (str.length === 3) {\r\n          attrData = attrData[0];\r\n        }\r\n      }\r\n      return attrData;\r\n\r\n    },\r\n    getAttrElement: function (field) {\r\n      var element, setID, attrID;\r\n      var str = field.split(\"_\");\r\n      var catID = str[0];\r\n      var i = 0;\r\n      if (str.length > 3) {\r\n        if (str.length === 6) {\r\n          setID = str[0] + \"_\" + str[1];\r\n          element = this.formView.$el.alpaca().childrenByPropertyId[setID];\r\n          attrID = field.replace(setID + \"_\", \"\");\r\n          if (typeof element !== 'undefined') {\r\n            element = element.childrenByPropertyId[attrID];\r\n          }\r\n          else {\r\n            if (this.formView.metadataview.formViewList.length > 1) {\r\n              for (i = 0; i < this.formView.metadataview.formViewList.length; i++) {\r\n                if (typeof this.formView.metadataview.formViewList[i].$el.alpaca().childrenByPropertyId[attrID] !==\r\n                    'undefined') {\r\n                  element = this.formView.metadataview.formViewList[i].$el.alpaca().childrenByPropertyId[attrID];\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else if (str.length === 7) {\r\n          if (str[2] === catID) {\r\n            setID = str[0] + \"_\" + str[1];\r\n            element = this.formView.$el.alpaca().childrenByPropertyId[setID];\r\n            attrID = str[2] + \"_\" + str[3] + \"_\" + str[4] + \"_\" + str[5];\r\n            element = element.childrenByPropertyId[attrID].children[0];\r\n          } else {\r\n            setID = str[0] + \"_\" + str[1];\r\n            element = this.formView.$el.alpaca().childrenByPropertyId[setID].children[0];\r\n            attrID = str[3] + \"_\" + str[4] + \"_\" + str[5] + \"_\" + str[6];\r\n            element = element.childrenByPropertyId[attrID];\r\n          }\r\n\r\n        } else {\r\n          setID = str[0] + \"_\" + str[1];\r\n          element = this.formView.$el.alpaca().childrenByPropertyId[setID].children[0];\r\n          attrID = str[3] + \"_\" + str[4] + \"_\" + str[5] + \"_\" + str[6];\r\n          element = element.childrenByPropertyId[attrID].children[0];\r\n        }\r\n\r\n      }\r\n      else {\r\n        field = str[0] + \"_\" + str[1];\r\n        element = this.formView.$el.alpaca().childrenByPropertyId[field];\r\n        /*\r\n         * if the element is 'undefined' and more than one formView exists, then all the formviews are searched to update the dependent element value if at all element exists.\r\n         */\r\n        if (typeof element === 'undefined' && this.formView.metadataview.formViewList.length > 1) {\r\n          for (i = 0; i < this.formView.metadataview.formViewList.length; i++) {\r\n            if (typeof this.formView.metadataview.formViewList[i].$el.alpaca().childrenByPropertyId[field] !==\r\n                'undefined') {\r\n              element = this.formView.metadataview.formViewList[i].$el.alpaca().childrenByPropertyId[field];\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (str.length === 3) {\r\n          element = element.children[0];\r\n        }\r\n      }\r\n      return element;\r\n\r\n    },\r\n    allowEditOnClickReadArea: function () {\r\n      return false;\r\n    },\r\n    getFormData: function () {\r\n      var urlParameters = \"\";\r\n      var formData = {};\r\n      var create = this.create;\r\n      var node_id = this.node.attributes.id;\r\n      var parent_id = this.node.attributes.parent_id;\r\n      var category_id = this.catId;\r\n      var attribute_keys =\"\";\r\n      var attribute_values = \"\";\r\n      var count = 0;\r\n      var cache_id = this.options.alpaca.schema.cacheId;\r\n\t  var rmClassData;\r\n      if (create !== undefined) {\r\n        formData.create = create;\r\n      }\r\n      if (!create) {\r\n        if (node_id !== undefined) {\r\n          formData.node_id = node_id;\r\n        }\r\n        return formData;\r\n      }\r\n      if (cache_id !== undefined) {\r\n        formData.cache_id = cache_id;\r\n      }\r\n      if (parent_id !== undefined) {\r\n        if (typeof parent_id === 'object') {\r\n          parent_id = parent_id.id;\r\n        }\r\n        formData.parent_id = parent_id;\r\n      }\r\n      if (category_id !== undefined) {\r\n        formData.category_id = category_id;\r\n      }\r\n\t  if (this.formView.model.collection.get(\"recordsDetails\")) {\r\n\t\t  rmClassData = this.formView.model.collection.get(\"recordsDetails\").get(\"data\")\r\n\t\t  if( rmClassData.rmclassification_id && rmClassData.rmclassification_id[0] !== 0 ) {\r\n\t\t\t  formData.rm_class_ids = rmClassData.rmclassification_id[0];\r\n\t\t  } else if( rmClassData.inherited_rmclassification_id ){\r\n\t\t\t  formData.rm_class_ids = rmClassData.inherited_rmclassification_id[0];\r\n\t\t  }\r\n\t\t  // Enable below lines once LPU-9026 is resolved\r\n\t\t  // else if( rmClassData.default_rmclassification_id ){\r\n\t\t\t  //formData.rm_class_ids = rmClassData.default_rmclassification_id[0];\r\n\t\t  //}\r\n\t  }      \r\n      if (this.parentattrIds.length > 0) {\r\n        var length = this.parentsattrData.length;\r\n        _.each(this.parentsattrData, function (attr) {\r\n          count++;\r\n          if (count !== length) {\r\n            attribute_keys = \"\" + attribute_keys + \"'\" + attr.id + \"',\";\r\n            attribute_values = \"\" + attribute_values + \"'\" + attr.data + \"',\";\r\n          } else {\r\n            attribute_keys = attribute_keys + \"'\" + attr.id + \"'\";\r\n            attribute_values = attribute_values + \"'\" + attr.data + \"'\";\r\n          }\r\n        });\r\n\r\n        if (attribute_values !== undefined && attribute_keys !== undefined ) {\r\n          formData.attribute_keys = attribute_keys.toString();\r\n          formData.attribute_values = attribute_values.toString();\r\n        }\r\n\r\n      }\r\n\r\n      return formData;\r\n    }\r\n\r\n  });\r\n\r\n  return ReferenceFieldView;\r\n})\r\n;\r\n\n","csui.define('conws/controls/form/fields/alpaca/referencefield',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/lib/alpaca/js/alpaca.lite', 'csui/models/form',\r\n  'conws/controls/form/fields/reference.view',\r\n  'csui/utils/base'\r\n], function (module, _, $, Backbone, Marionette, Alpaca, FormModel, ReferenceFieldView, base) {\r\n\r\n  Alpaca.Fields.ReferenceField = Alpaca.Fields.TextField.extend({\r\n\r\n    constructor: function ReferenceField(container, data, options, schema, view, connector,\r\n        onError) {\r\n      this.base(container, data, options, schema, view, connector, onError);\r\n    },\r\n\r\n    getFieldType: function () {\r\n      return 'reference';\r\n    },\r\n    postRender: function (callback) {\r\n      this.base(callback);\r\n      this.showField();\r\n    },\r\n    showField: function () {\r\n      var id = this.id;\r\n\r\n\t   this.options.id = \"lbl\" + _.uniqueId(id);\r\n\t  \r\n\t  // add an id to the <label> element like alpaca23Label\r\n      var id4Label,\r\n          labelElement = $(this.field[0]).find('label');\r\n\r\n      if (labelElement && labelElement.length === 1) {\r\n        id4Label = labelElement.attr('for') + \"Label\";\r\n        labelElement.attr('id', id4Label);\r\n      }\r\n\r\n      // our field\r\n      this.fieldView = new ReferenceFieldView({\r\n        model: new Backbone.Model({\r\n          data: this.data,\r\n          options: this.options,\r\n          schema: this.schema,\r\n          id: id\r\n        }),\r\n         id: _.uniqueId(id),\r\n        alpacaField: this,\r\n\t\tlabelId: id4Label,\r\n        value: this.data,\r\n        readonly: true,\r\n        mode: this.options.mode,\r\n        dataId: this.name,\r\n        path: this.path,\r\n        alpaca: {\r\n          data: this.data,\r\n          options: this.options,\r\n          schema: this.schema\r\n        }\r\n      });\r\n\r\n      // replace alpaca control with empty div having same classes as control\r\n      var $field = $('<div>').addClass('alpaca-control');\r\n      this.getControlEl().replaceWith($field);\r\n\r\n      // show our field in div\r\n      this.region = new Marionette.Region({el: $field});\r\n      this.region.show(this.fieldView);\r\n\r\n      return;\r\n    },\r\n    focus: function () {\r\n      this.fieldView.setFocus();\r\n    },\r\n    destroy: function () {\r\n      this.base();\r\n      if (this.region) {\r\n        this.region.destroy();\r\n      }\r\n    },\r\n\r\n    onShow: function () {\r\n      $('.alpaca-field-reference label').click(function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        return false;\r\n      });\r\n    }\r\n  });\r\n\r\n  Alpaca.registerFieldClass('reference', Alpaca.Fields.ReferenceField, 'bootstrap-csui');\r\n\r\n  return $.alpaca.Fields.ReferenceField;\r\n});\r\n\n","/**\r\n * Created by stefang on 06. Dec. 2019.\r\n */\r\n// Fetches the workspace id of the effective businessworkspace for a given node.\r\ncsui.define('conws/models/pickers/pickerinfo.model',['csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin'\r\n], function ($, _, Backbone,\r\n    Url,\r\n    ResourceMixin) {\r\n\r\n    var PickerInfoModel = Backbone.Model.extend({\r\n\r\n    constructor: function PickerInfoModel(attributes, options) {\r\n      options || (options = {});\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.options = options;\r\n\r\n      this.makeResource(options);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  ResourceMixin.mixin(PickerInfoModel.prototype);\r\n\r\n  _.extend(PickerInfoModel.prototype, {\r\n\r\n    url: function () {\r\n      var columnId = this.get('config_id');\r\n      var nodeId = this.get('object_id');\r\n      var pickerType = this.get('picker_type');\r\n      var baseUrl = this.connector.getConnectionUrl().getApiBase('v2');\r\n      var getUrl = Url.combine(baseUrl, 'pickers', pickerType);\r\n      var queryObj = {};\r\n      if (this.options.forward===undefined) {\r\n        this.options.forward = nodeId!==undefined || columnId===undefined;\r\n      }\r\n      if (this.options.forward) {\r\n        queryObj.object_id = nodeId;\r\n      } else {\r\n        queryObj.config_id = columnId;\r\n      }\r\n      var query = Url.combineQueryString(queryObj);\r\n      var url = Url.appendQuery(getUrl,query);\r\n      return url;\r\n    },\r\n\r\n    parse: function (response) {\r\n\r\n      return response&&response.results&&response.results.data;\r\n    },\r\n\r\n    toString: function () {\r\n      // Format a string for logging purposes\r\n      return \"pickerinfo:\" + this.get('picker_type') + this.get('config_id') + \",\" + this.get('object_id');\r\n    }\r\n\r\n  });\r\n\r\n  return PickerInfoModel;\r\n\r\n});\r\n\n","/**\r\n * Created by stefang on 06. Dec. 2019.\r\n */\r\ncsui.define('conws/models/pickers/pickerinfo.factory',['csui/lib/underscore',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'conws/models/pickers/pickerinfo.model'\r\n], function (_,\r\n  ModelFactory,\r\n  ConnectorFactory,\r\n  PickerInfoModel) {\r\n\r\n  var PickerInfoFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'pickerInfo',\r\n\r\n    constructor: function PickerInfoFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var connector = options.pickerInfo.connector || context.getObject(ConnectorFactory, options);\r\n\r\n      if (options.model) {\r\n        // if call provides a model set new as fetched to avoid superfluous server call.\r\n        var forward = options.forward!==undefined ? options.forward : options.model.options.forward;\r\n        this.property = new PickerInfoModel(options.model.attributes,{connector: connector, forward: forward});\r\n        this.property.fetched = options.model.fetched;\r\n      } else {\r\n        this.property = new PickerInfoModel(options.attributes,{connector: connector, forward: options.forward});\r\n        this.listenToOnce(this.property,\"sync\",function(){\r\n          // get other model here to ensure, that it is also in the context.\r\n          if (this.property.options.forward) {\r\n            context.getModel(PickerInfoFactory,{\r\n              forward: false,\r\n              attributes: _.extend(\r\n                _.omit( options.attributes, \"object_id\" ),\r\n                {\r\n                  config_id: this.property.get(\"config_id\")\r\n                }\r\n              ),\r\n              model: this.property});\r\n          } else {\r\n            context.getModel(PickerInfoFactory,{\r\n              forward: true,\r\n              attributes: _.extend(\r\n                _.omit( options.attributes, \"config_id\" ),\r\n                {\r\n                  object_id: this.property.get(\"object_id\")\r\n                }\r\n              ),\r\n              model: this.property});\r\n          }\r\n        });\r\n      }\r\n\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return PickerInfoFactory;\r\n\r\n});\r\n\n","\ncsui.define('css!conws/controls/customcolumnpicker/impl/customcolumnpicker',[],function(){});\n","csui.define('conws/controls/form/fields/customcolumnpickerfield.view',[\r\n    'csui/lib/jquery', 'csui/lib/underscore',\r\n    'csui/utils/contexts/factories/factory',\r\n    'csui/utils/contexts/factories/connector',\r\n    'csui/models/node/node.model',\r\n    'csui/controls/form/fields/nodepickerfield.view',\r\n    'conws/models/pickers/pickerinfo.factory',\r\n    'css!conws/controls/customcolumnpicker/impl/customcolumnpicker'\r\n  ], function ($, _,\r\n    ModelFactory, ConnectorFactory, NodeModel,\r\n    NodePickerFieldView,\r\n    PickerInfoFactory\r\n    ) {\r\n    'use strict';\r\n\r\n    var LastCustomColumnNodeFactory = ModelFactory.extend({\r\n\r\n      propertyPrefix: 'lastColumnNode',\r\n\r\n      constructor: function LastCustomColumnNodeFactory(context, options) {\r\n        ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        this.property = new NodeModel(undefined,{ connector: connector });\r\n      }\r\n\r\n    });\r\n\r\n    var CustomColumnPickerFieldView = NodePickerFieldView.extend({\r\n\r\n      constructor: function CustomColumnPickerFieldView(options) {\r\n        // note that options in options.model must always already be an object at this point.\r\n        $.extend(true, options.model.get('options'), { type_control: { parameters: {\r\n          select_types: [902],\r\n          globalSearch: false\r\n        } } });\r\n        NodePickerFieldView.apply(this, arguments);\r\n        this.lastColumnNode = this.options.context.getModel(LastCustomColumnNodeFactory, {\r\n          permanent: true,\r\n          detached: true\r\n        });\r\n      },\r\n\r\n      mapFieldValueToNodeId: function(data) {\r\n        if (data) {\r\n          var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g;\r\n          var match = parameterPlaceholder.exec(data);\r\n          var columnId = match && match[1];\r\n          var customColumnModel = this.options.context.getModel(PickerInfoFactory,{\r\n              attributes: {\r\n                config_id: columnId,\r\n                picker_type: \"otconws_customcolumn\"\r\n              }\r\n            });\r\n          return customColumnModel.ensureFetched().then(function(){\r\n            return $.Deferred().resolve(customColumnModel.get('object_id')).promise();\r\n          },function(){\r\n            return $.Deferred().resolve().promise();\r\n          });\r\n        } else {\r\n          return $.Deferred().resolve().promise();\r\n        }\r\n      },\r\n\r\n      mapNodeIdToFieldValue: function(nodeId) {\r\n        var self = this;\r\n        if (nodeId) {\r\n          var customColumnModel = this.options.context.getModel(PickerInfoFactory,{\r\n              attributes: {\r\n                object_id: nodeId,\r\n                picker_type: \"otconws_customcolumn\"\r\n              }\r\n            });\r\n          var deferred = $.Deferred();\r\n          customColumnModel.ensureFetched().then(function() {\r\n              deferred.resolve('{'+customColumnModel.get('config_id')+'}').then(function(){\r\n                if (self.node && self.node.get(\"parent_id\")) {\r\n                  self.lastColumnNode.clear({silent: true});\r\n                  self.lastColumnNode.set(self.node.attributes, {silent: true});\r\n                }\r\n              });\r\n            },function(){\r\n              deferred.resolve();\r\n            });\r\n          return deferred.promise();\r\n        } else {\r\n          return $.Deferred().resolve().promise();\r\n        }\r\n      },\r\n\r\n      _getNodePicker: function() {\r\n        var hasNode = !!this.model.get('data');\r\n        var lastParent = (!hasNode && this.lastColumnNode) ? this.lastColumnNode.get(\"parent_id\") : undefined;\r\n        $.extend(true, this.model.get('options'), { type_control: { parameters: {\r\n          parent: lastParent,\r\n          startLocation: (hasNode || lastParent)\r\n                          ? 'csui/dialogs/node.picker/start.locations/current.location'\r\n                          : 'conws/dialogs/node.picker/start.locations/facets.volume',\r\n          startLocations: [\r\n            'csui/dialogs/node.picker/start.locations/current.location',\r\n            'conws/dialogs/node.picker/start.locations/facets.volume'\r\n          ]\r\n        } } });\r\n        return NodePickerFieldView.prototype._getNodePicker.apply(this,arguments);\r\n      }\r\n    });\r\n\r\n    return CustomColumnPickerFieldView;\r\n  });\r\n\n","csui.define('conws/controls/form/fields/alpaca/alpcustomcolumnpickerfield',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/alpaca/js/alpaca.lite',\r\n  'csui/controls/form/fields/alpaca/alpcsuipickerfield.mixin',\r\n  'conws/controls/form/fields/customcolumnpickerfield.view',\r\n  'i18n!conws/controls/form/impl/nls/lang'\r\n], function ( _, $,\r\n  Alpaca,\r\n  AlpCsuiPickerFieldMixin,\r\n  CustomColumnPickerFieldView,\r\n  lang ) {\r\n\r\n  var ConwsCustColPickerField = AlpCsuiPickerFieldMixin.mixin({\r\n\r\n    constructor: function ConwsCustColPickerField(container, data, options, schema, view, connector, onError) {\r\n      options = _.extend(options||{},{\r\n        placeholder: lang.alpacaPlaceholderOTCustomColumnPicker,\r\n        alpacaFieldType: 'otconws_customcolumn',\r\n        PickerFieldView: CustomColumnPickerFieldView\r\n      });\r\n      this.base(container, data, options, schema, view, connector, onError);\r\n      this.makeAlpCsuiPickerField(container, data, options, schema, view, connector, onError);\r\n    }\r\n  \r\n  });\r\n\r\n  Alpaca.Fields.ConwsCustColPickerField = Alpaca.Fields.TextField.extend(ConwsCustColPickerField);\r\n  Alpaca.registerFieldClass('otconws_customcolumn', Alpaca.Fields.ConwsCustColPickerField, 'bootstrap-csui');\r\n  Alpaca.registerFieldClass('otconws_customcolumn', Alpaca.Fields.ConwsCustColPickerField, 'bootstrap-edit-horizontal');\r\n\r\n  return $.alpaca.Fields.ConwsCustColPickerField;\r\n});\r\n\n","csui.define('conws/models/workspacetypes/workspacetype.factory',[\r\n    'module', 'csui/lib/jquery',  'csui/lib/underscore', 'csui/lib/backbone',\r\n    'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n    'conws/models/workspacetypes/workspacetype.model', 'csui/utils/commands'\r\n  ], function (module, $, _, Backbone, ModelFactory, ConnectorFactory,\r\n      WSTypeModel, commands) {\r\n    'use strict';\r\n  \r\n    var WsTypeFactory = ModelFactory.extend({\r\n      propertyPrefix: 'workspacetype',\r\n  \r\n      constructor: function WsTypeFactory(context, options) {\r\n\r\n        ModelFactory.prototype.constructor.apply(this, arguments);\r\n  \r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        this.context = context;\r\n        options = _.extend(options||{},{\r\n          connector: connector,\r\n          context: context\r\n        });\r\n        this.property = new WSTypeModel(options&&options.attributes,options);\r\n      },\r\n  \r\n    });\r\n  \r\n    return WsTypeFactory;\r\n  });\r\n  \n","\ncsui.define('css!conws/controls/typeaheadpicker/impl/typeaheadpicker',[],function(){});\n","csui.define('conws/controls/form/fields/alpaca/alpworkspacetypefield',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/alpaca/js/alpaca.lite',\r\n  'csui/controls/form/fields/alpaca/alptypeaheadfield.mixin',\r\n  'csui/utils/contexts/factories/connector',\r\n  'conws/models/workspacetypes/workspacetypes.model',\r\n  'conws/models/workspacetypes/workspacetype.factory',\r\n  'csui/controls/form/fields/typeaheadfield.view',\r\n  'i18n!conws/controls/form/impl/nls/lang',\r\n  'css!conws/controls/typeaheadpicker/impl/typeaheadpicker'\r\n], function ( _, $,\r\n  Alpaca,\r\n  AlpTypeaheadFieldMixin,\r\n  ConnectorFactory,\r\n  WorkspaceTypesModel,\r\n  WorkspaceTypeFactory,\r\n  TypeaheadFieldView,\r\n  lang ) {\r\n\r\n  var ConwsWorkspaceTypeField = AlpTypeaheadFieldMixin.mixin({\r\n\r\n    constructor: function ConwsWorkspaceTypeField(container, data, options, schema, view, connector, onError) {\r\n\r\n      options = $.extend(true,options||{},{\r\n        alpacaFieldType: 'otconws_workspacetype_id',\r\n        //alpacaFieldClasses: '...',\r\n        css: {\r\n          // root: '...',\r\n          // itemName: '...',\r\n          customImage: 'wksp-type-custom-image',\r\n          defaultIcon: 'csui-icon csui-nodesprites'\r\n        },\r\n        lang: {\r\n          // fieldReadOnlyAria: '...',\r\n          // emptyFieldReadOnlyAria: '...',\r\n          alpacaPlaceholder: lang.alpacaPlaceholderOTWorkspaceTypePicker\r\n        },\r\n        pickerOptions: {\r\n          //lightWeight: true,\r\n          collection: new WorkspaceTypesModel( undefined, {\r\n            connector: connector.config.context.getObject(ConnectorFactory)\r\n          }),\r\n          css: {\r\n            // root: '...',\r\n            // noResults: '...',\r\n            // itemPicker: '...'\r\n          },\r\n          titleSearchIcon: lang.titleWorkspaceTypeSearchIcon,\r\n          itemOptions: {\r\n            css: {\r\n              // root: '...',\r\n              // itemName: '...',\r\n              customImage: 'csui-icon wksp-type-custom-image',\r\n              defaultIcon: 'csui-icon csui-nodesprites'\r\n            }\r\n          },\r\n          showAllOnClickIcon: true,\r\n          typeaheadOptions: {\r\n            minLength: 0\r\n          }\r\n        }\r\n      });\r\n\r\n      options.ItemModelFactory = WorkspaceTypeFactory;\r\n      // options.TypaheadFieldView = TypeaheadFieldView;\r\n\r\n      this.base(container, data, options, schema, view, connector, onError);\r\n      this.makeAlpTypeaheadField();\r\n    }\r\n\r\n  });\r\n\r\n  // var original = _.extend({},ConwsWorkspaceTypeField);\r\n  // _.extend(ConwsWorkspaceTypeField, {\r\n  //   // place overrides here and use original to access overridden functions\r\n  // });\r\n\r\n  Alpaca.Fields.ConwsWorkspaceTypeField = Alpaca.Fields.TextField.extend(ConwsWorkspaceTypeField);\r\n  Alpaca.registerFieldClass('otconws_workspacetype_id', Alpaca.Fields.ConwsWorkspaceTypeField, 'bootstrap-csui');\r\n  Alpaca.registerFieldClass('otconws_workspacetype_id', Alpaca.Fields.ConwsWorkspaceTypeField, 'bootstrap-edit-horizontal');\r\n\r\n  return $.alpaca.Fields.ConwsWorkspaceTypeField;\r\n});\r\n\n","csui.define('conws/controls/form/impl/fields/workspacefield/lqlsearch.util',[], function () {\r\n\r\n  'use strict';\r\n\r\n  function makeRegexClass(match,chars,include,exclude) {\r\n    if (exclude) {\r\n      chars = chars.replace(exclude,\"\");\r\n    }\r\n    chars = chars.replace(/[\\\\\\]]/g,'\\\\$&');\r\n    if (include) {\r\n      chars = chars + include;\r\n    }\r\n    return match ? \"[\" + chars + \"]\" : \"[^\" + chars + \"]\";\r\n  }\r\n\r\n  // delimChars: all characters, that are used as word delimiters in a LQL phrase\r\n  var quoteChars = \"\\\"“”'‘’´`\";\r\n  var regexChars = \".*+?^${}()|[]\\\\\";\r\n  var otherChars = \"°!²§³%&/=@€~#><µ;,:-\";\r\n  var delimChars = quoteChars + regexChars + otherChars;\r\n\r\n  var delimClass = makeRegexClass(true,delimChars,\"\\\\s\");\r\n  var delimRegex = new RegExp(delimClass+\"+\");\r\n  var nonDelimClass = makeRegexClass(false,delimChars,\"\\\\s\");\r\n  var nonDelimStartRegex = new RegExp(\"^\"+nonDelimClass+\"+\");\r\n  var nonDelimEndRegex = new RegExp(nonDelimClass+\"+$\");\r\n\r\n  var incompleteStartClass = makeRegexClass(false,delimChars,\"\\\\s\");\r\n  var incompleteEndClass = makeRegexClass(false,delimChars,\"\\\\s\",/</g);\r\n  var incompleteStartRegex = new RegExp(\"^\"+incompleteStartClass);\r\n  var incompleteEndRegex = new RegExp(incompleteEndClass+\"$\");\r\n\r\n  var regexClass = makeRegexClass(true,regexChars);\r\n  var quoteClass = makeRegexClass(true,quoteChars);\r\n  var regexQuoteClass = makeRegexClass(true,regexChars+quoteChars);\r\n\r\n  // helper to escape all special regexp characters in a string\r\n  // to make it usable in a regexp to search for that string\r\n  function escapeRegExp(string) {\r\n    return string.replace(new RegExp(regexClass,'g'),'\\\\$&'); // $& means the whole matched string\r\n  }\r\n\r\n  function middle_phrase(name) {\r\n    // in a phrase used for *phrase*: ensure that it contains no delimiter.\r\n    if (delimRegex.exec(name)) {\r\n      throw new Error(\"middle phrase contains delimiters.\");\r\n    }\r\n    return name;\r\n  }\r\n\r\n  function truncation_phrase(name) {\r\n    // in a quoted phrase used in a truncation operation\r\n    // escape regex characters and quote characters.\r\n    // if * is at the end, append a space to avoid syntax error.\r\n    return name.replace(new RegExp(regexQuoteClass,'g'), '\\\\$&').replace(/\\*$/,'$& ');\r\n  }\r\n\r\n  function word_phrase(name) {\r\n    // in a quoted phrase replace * and ? by spaces and escape quote characters.\r\n    return name.replace(/[*?\\s]+/g,' ').replace(new RegExp(quoteClass,'g'),'\\\\$&');\r\n  }\r\n\r\n  function makePhrases(name,incompleteStart,incompleteEnd) {\r\n\r\n    var result = {};\r\n\r\n    if (incompleteStart && incompleteEnd) {\r\n      // if name contains delimiters\r\n      if (delimRegex.exec(name)) {\r\n        // for qlleft-truncation remove last (incomplete) word\r\n        var left = name.replace(nonDelimEndRegex,\"\");\r\n        if (left) {\r\n          if (left.replace(delimRegex,\"\").length===0) {\r\n            left = \"\";\r\n          } else if (!delimRegex.exec(left[left.length-1])) {\r\n            left = left + \" \";\r\n          }\r\n          result.left = truncation_phrase(left);\r\n        }\r\n        // for qlright-truncation remove first (incomplete) word\r\n        var right = name.replace(nonDelimStartRegex,\"\");\r\n        if (right) {\r\n          if (right.replace(delimRegex,\"\").length===0) {\r\n            right = \"\";\r\n          } else if (!delimRegex.exec(right[0])) {\r\n            right = right + \" \";\r\n          }\r\n          result.right = truncation_phrase(right);\r\n        }\r\n      } else {\r\n        // no delimiters, one word truncated left and right.\r\n        result.middle = middle_phrase(name);\r\n      }\r\n\r\n    } else if (incompleteStart && !incompleteEnd) {\r\n      result.left = truncation_phrase(name);\r\n    } else if (!incompleteStart && incompleteEnd) {\r\n      result.right = truncation_phrase(name);\r\n    } else /*if (!incompleteStart && !incompleteEnd)*/ {\r\n      // remove delimiters twice.\r\n      // if result still contains delimiters, name contains multiple words.\r\n      // otherwise if result is not empty, the name is one complete word.\r\n      // otherwise the name is empty or contains delimiters only.\r\n      var word = name.replace(delimRegex,\"\").replace(delimRegex,\"\");\r\n      if (delimRegex.exec(word)) {\r\n        // multiple words\r\n        result.right = result.left = truncation_phrase(name);\r\n      } else {\r\n        // one complete word or empty string or delimiters only.\r\n        // if returned string would contain white spaces only, deliver empty string.\r\n        result.words = word_phrase(name).replace(/^\\s+$/,\"\");\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  var SearchUtil = {\r\n\r\n    /**\r\n     * build LQL phrases from a given string for a \"contains\" search.\r\n     *\r\n     * There is special semantic for \"<\" as it is a word break AND part of the word right to it.\r\n     * There is special semantic for \"_\" as it is a word break AND adjacent words are treated as one only.\r\n     * Also some words (for example \"not\") in a truncation operator cause syntax error even when\r\n     * quoted: to workaround that, we keep the delimiters in the phrase.\r\n     *\r\n     * Thus, for a \"contains\" search, we have to take care for that when splitting the string and\r\n     * escape and substitute LQL special characters in returned string.\r\n     *\r\n     * @param {*} name\r\n     * @returns the phrases for matching or left and right truncation.\r\n     * Note: only returns the phrases not the complete condition.\r\n     */\r\n     makePhrasesForContainsSearch: function(name) {\r\n\r\n      var incompleteStart = incompleteStartRegex.exec(name||\"\");\r\n      var incompleteEnd = incompleteEndRegex.exec(name||\"\");\r\n\r\n      return makePhrases(name, incompleteStart, incompleteEnd);\r\n    },\r\n\r\n    /**\r\n     * build LQL phrases from a given string for a \"startsWith\" search.\r\n     *\r\n     * There is special semantic for \"<\" as it is a word break AND part of the word right to it.\r\n     * There is special semantic for \"_\" as it is a word break AND adjacent words are treated as one only.\r\n     * Also some words (for example \"not\") in a truncation operator cause syntax error even when\r\n     * quoted: to workaround that, we keep the delimiters in the phrase.\r\n     *\r\n     * Thus, for a \"startsWith\" search, we can simply use the string as phrase,\r\n     * we just have to escape and substitute a few special characters.\r\n     *\r\n     * @param {*} name\r\n     * @returns the phrases needed for a LQL query.\r\n     * Note: only returns the phrases, not the complete condition.\r\n     */\r\n    makePhrasesForStartsWithSearch: function(name) {\r\n\r\n      var incompleteStart = incompleteStartRegex.exec(name||\"\");\r\n      var incompleteEnd = incompleteEndRegex.exec(name||\"\");\r\n\r\n      // as name has always to be interpreted as start of the word,\r\n      // we extend it here with space on the left side, if needed,\r\n      // so we can use the same code as for the contains search.\r\n      name = incompleteStart ? \" \"+name : name;\r\n\r\n      return makePhrases(name, false, incompleteEnd);\r\n    },\r\n\r\n\r\n    /**\r\n     * build a LQL query for given phrases.\r\n     *\r\n     * middle:\r\n     * [QLREGION \"OTName\" ] *middle*\r\n     *\r\n     * words:\r\n     * [QLREGION \"OTName\" ] \"words\"\r\n     *\r\n     * left:\r\n     * [QLREGION \"OTName\" ] QLLEFT-TRUNCATION \"left\"\r\n     *\r\n     * right:\r\n     * [QLREGION \"OTName\" ] QLRIGHT-TRUNCATION \"right\"\r\n     *\r\n     * @param {*} phrases an object containing the phrases for matching, words or left and right truncation\r\n     * @returns the LQL query string.\r\n     */\r\n    makeLQLFromPhrases: function(region,phrases){\r\n\r\n      var conditions = [];\r\n\r\n      if (phrases.middle) {\r\n        conditions.push(region + ' *' + phrases.middle + '*');\r\n      }\r\n      if (phrases.words) {\r\n        conditions.push(region + ' \"' + phrases.words + '\"');\r\n      }\r\n      if (phrases.left) {\r\n        conditions.push(region + ' QLLEFT-TRUNCATION \"' + phrases.left + '\"');\r\n      }\r\n      if (phrases.right) {\r\n        conditions.push(region + ' QLRIGHT-TRUNCATION \"' + phrases.right + '\"');\r\n      }\r\n\r\n      return conditions.join(\" & \");\r\n    },\r\n\r\n    getSignificanceForPhrases: function(phrases) {\r\n      var significance = 0;\r\n      if (phrases) {\r\n        if (phrases.words) {\r\n          significance += phrases.words.trim().replace(/\\s+/g,\" \").length + 2;\r\n        }\r\n        if (phrases.middle) {\r\n          significance += phrases.middle.length;\r\n        }\r\n        if (phrases.left) {\r\n          significance += phrases.left.trim().replace(/\\s+/g,\" \").length + 1;\r\n        }\r\n        if (phrases.right) {\r\n          significance += phrases.right.trim().replace(/\\s+/g,\" \").length + 1;\r\n        }\r\n      }\r\n      return significance;\r\n    }\r\n\r\n  };\r\n\r\n  return SearchUtil;\r\n});\n","csui.define('conws/controls/form/fields/workspacefield.view',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/search.results/search.results.model',\r\n  'csui/controls/form/fields/base/csformfield.view',\r\n  'csui/controls/form/fields/typeaheadfield.view.mixin',\r\n  'conws/controls/form/impl/fields/workspacefield/lqlsearch.util',\r\n  'conws/utils/workspaces/workspace.model',\r\n  'i18n!conws/controls/form/impl/nls/lang',\r\n  'css!conws/controls/typeaheadpicker/impl/typeaheadpicker'\r\n], function (module, _, $,\r\n    Backbone, Log,\r\n    ConnectorFactory, SearchResultsModel,\r\n    FormFieldView, TypeaheadFieldViewMixin,\r\n    SearchUtil, WorkspaceModel, lang ) {\r\n\r\n  var log = new Log(module.id);\r\n\r\n  var minLength = 3;\r\n\r\n  function connectSearchFilterAndQuery( searchResultsModel, options ) {\r\n    searchResultsModel.options.query.listenTo(searchResultsModel,\"filter:change\",function(){\r\n      var fieldOptions = options.model && options.model.get('options');\r\n      var parameters = fieldOptions && fieldOptions.type_control && fieldOptions.type_control.parameters;\r\n      var wksptypes = parameters && parameters.workspace_types;\r\n      var name = searchResultsModel.filters && searchResultsModel.filters[\"name\"];\r\n      var where, phrases, phrase;\r\n\r\n      if (wksptypes && wksptypes.length>0) {\r\n        where = '[QLREGION \"XECMWkspLinkRefTypeID\"] IN ('+ wksptypes.toString() +')'\r\n      } else {\r\n        where = '[QLREGION \"OTSubType\"] 848'\r\n      }\r\n      if (name) {\r\n        var searchtype = parameters && parameters.search_type || \"contains\";\r\n        if (searchtype===\"contains\") {\r\n          phrases = SearchUtil.makePhrasesForContainsSearch(name);\r\n        } else if (searchtype===\"startsWith\") {\r\n          phrases = SearchUtil.makePhrasesForStartsWithSearch(name);\r\n        } else {\r\n          throw new Error(\"workspacefield (\"+options.dataId+\"): invalid search_type '\"+searchtype+\"'\");\r\n        }\r\n        if (phrases) {\r\n          phrase = SearchUtil.makeLQLFromPhrases('[QLREGION \"OTName\"]',phrases)\r\n        }\r\n\r\n        where = phrase ? where + ' AND ' + phrase : where;\r\n      }\r\n\r\n      // restrict to workspace instances, avoiding templates.\r\n      where = where + ' AND [QLREGION \"XECMWkspDocTemplateID\"] > 0';\r\n\r\n      var significance = SearchUtil.getSignificanceForPhrases(phrases);\r\n      log.debug(\"WkspField search {0}, {1}, '{2}'\", significance, minLength, where) && console.log(log.last);\r\n      searchResultsModel.options.query.set({ \"queryable\": significance>=minLength, \"where\": where });\r\n    });\r\n  }\r\n\r\n  var WorkspaceSearchResultsModel = SearchResultsModel.extend({\r\n\r\n    model: WorkspaceModel,\r\n\r\n    constructor: function WorkspaceSearchResultsModel(models,options) {\r\n      $.extend(options,{\r\n        skip: 0, top: options.top, orderBy: \"OTName asc\",\r\n        query: new Backbone.Model({select:[\"OTName\",\"OTSubType\"]})\r\n      });\r\n      SearchResultsModel.prototype.constructor.apply(this,arguments);\r\n    },\r\n\r\n    fetch: function() {\r\n      // avoid query be sent to the server, if it's not restrictive enough.\r\n      var queryable = this.options && this.options.query && this.options.query.get(\"queryable\");\r\n      if (queryable) {\r\n        return SearchResultsModel.prototype.fetch.apply(this,arguments);\r\n      } else {\r\n        // if condition is not queryable, then we have no results. we reset the collection.\r\n        this.reset();\r\n        // reject the promise, so typeahead is silent and doesn't show \"no results found\".\r\n        return $.Deferred().reject().promise();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  var WorkspaceFieldView = FormFieldView.extend({\r\n\r\n    constructor: function WorkspaceFieldView(options) {\r\n\r\n      var fieldOptions = options.model && options.model.get('options');\r\n      var parameters = fieldOptions && fieldOptions.type_control && fieldOptions.type_control.parameters;\r\n      var pagesize = parameters && parameters.page_size || 7;\r\n\r\n      var searchResultCollection = new WorkspaceSearchResultsModel( undefined, {\r\n        connector: options.context.getObject(ConnectorFactory),\r\n        top: pagesize\r\n      });\r\n\r\n      connectSearchFilterAndQuery(searchResultCollection,options);\r\n\r\n      options = $.extend(true,options,{\r\n        css: {\r\n          customImage: 'wksp-type-custom-image',\r\n          defaultIcon: 'csui-icon csui-nodesprites'\r\n        },\r\n        lang: {\r\n          alpacaPlaceholder: lang.alpacaPlaceholderOTWorkspacePicker\r\n        },\r\n        pickerOptions: {\r\n          collection: searchResultCollection,\r\n          titleSearchIcon: lang.titleWorkspaceSearchIcon,\r\n          itemOptions: {\r\n            css: {\r\n              customImage: 'csui-icon wksp-type-custom-image',\r\n              defaultIcon: 'csui-icon csui-nodesprites'\r\n            }\r\n          },\r\n          enableInfiniteScrolling: true,\r\n          fetchMoreItemsThreshold: 85,\r\n          showAllOnClickIcon: false,\r\n          items: pagesize,\r\n          typeaheadOptions: {\r\n            minLength: minLength\r\n          }\r\n        }\r\n      });\r\n\r\n      FormFieldView.apply(this, arguments);\r\n      this.makeTypeaheadFieldView(options);\r\n    }\r\n\r\n  });\r\n\r\n  TypeaheadFieldViewMixin.mixin(WorkspaceFieldView.prototype);\r\n\r\n  return WorkspaceFieldView;\r\n});\r\n\n","csui.define('conws/controls/form/fields/alpaca/alpworkspacefield',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/lib/alpaca/js/alpaca.lite',\r\n  'csui/controls/form/fields/alpaca/alptypeaheadfield.mixin',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/commands',\r\n  'csui/utils/defaultactionitems',\r\n  'conws/utils/workspaces/workspace.model',\r\n  'conws/controls/form/fields/workspacefield.view'\r\n ], function ( module, _, $,\r\n  Log,\r\n  Alpaca,\r\n  AlpTypeaheadFieldMixin,\r\n  ModelFactory,\r\n  ConnectorFactory,\r\n  commands,\r\n  defaultActionItems,\r\n  WorkspaceModel,\r\n  WorkspaceFieldView ) {\r\n\r\n  'use strict';\r\n\r\n  var log = new Log(module.id);\r\n\r\n  var WkspFieldNodeModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'wkspFieldNode',\r\n\r\n    constructor: function WkspFieldNodeModelFactory(context,options){\r\n\r\n      ModelFactory.prototype.constructor.apply(this,arguments);\r\n\r\n      var wkspFieldNode = this.options.wkspFieldNode || {};\r\n      var connector = this.context.getObject(ConnectorFactory, options);\r\n      // create own node model to prevent local changes from affecting the contextual node\r\n      var node = new WorkspaceModel(wkspFieldNode.attributes, _.extend({\r\n        connector: connector,\r\n        autofetch: true,\r\n        // ensure at least permitted actions for default actions\r\n        commands: defaultActionItems.getAllCommandSignatures(commands)\r\n      }, wkspFieldNode.options ));\r\n\r\n      this.property = node;\r\n    }\r\n\r\n  });\r\n\r\n  var ConwsWorkspaceField = AlpTypeaheadFieldMixin.mixin({\r\n\r\n    constructor: function ConwsWorkspaceField(container, data, options, schema, view, connector, onError) {\r\n\r\n      options = $.extend(true,options||{},{\r\n        alpacaFieldType: 'otconws_workspace_id',\r\n      });\r\n\r\n      options.ItemModelFactory = WkspFieldNodeModelFactory;\r\n      options.TypeaheadFieldView = WorkspaceFieldView;\r\n\r\n      this.base(container, data, options, schema, view, connector, onError);\r\n      this.makeAlpTypeaheadField();\r\n    }\r\n\r\n  });\r\n\r\n  Alpaca.Fields.ConwsWorkspaceField = Alpaca.Fields.TextField.extend(ConwsWorkspaceField);\r\n  Alpaca.registerFieldClass('otconws_workspace_id', Alpaca.Fields.ConwsWorkspaceField, 'bootstrap-csui');\r\n  Alpaca.registerFieldClass('otconws_workspace_id', Alpaca.Fields.ConwsWorkspaceField, 'bootstrap-edit-horizontal');\r\n\r\n  return $.alpaca.Fields.ConwsWorkspaceField;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/description/impl/description',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <span class=\\\"description \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"truncate_fade_class\") || (depth0 != null ? lookupProperty(depth0,\"truncate_fade_class\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"truncate_fade_class\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":27},\"end\":{\"line\":2,\"column\":50}}}) : helper)))\n    + \"\\\"\\r\\n        title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"complete_description\") || (depth0 != null ? lookupProperty(depth0,\"complete_description\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"complete_description\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":15},\"end\":{\"line\":3,\"column\":39}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"current_description\") || (depth0 != null ? lookupProperty(depth0,\"current_description\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"current_description\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":41},\"end\":{\"line\":3,\"column\":64}}}) : helper)))\n    + \"</span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"show_expandedView\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":4,\"column\":2},\"end\":{\"line\":11,\"column\":13}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div class=\\\"description-caret-div\\\">\\r\\n    <span class=\\\"description-readmore icon-expandArrowDownWhite\\\" role=\\\"button\\\" aria-expanded=\\\"false\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showmore_tooltip\") || (depth0 != null ? lookupProperty(depth0,\"showmore_tooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showmore_tooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":108},\"end\":{\"line\":6,\"column\":128}}}) : helper)))\n    + \"\\\"\\r\\n          aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showmore_aria\") || (depth0 != null ? lookupProperty(depth0,\"showmore_aria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showmore_aria\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":22},\"end\":{\"line\":7,\"column\":39}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n    <span class=\\\"description-showless icon-expandArrowUpWhite\\\" role=\\\"button\\\" aria-expanded=\\\"true\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showless_tooltip\") || (depth0 != null ? lookupProperty(depth0,\"showless_tooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showless_tooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":105},\"end\":{\"line\":8,\"column\":125}}}) : helper)))\n    + \"\\\"\\r\\n          aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showless_aria\") || (depth0 != null ? lookupProperty(depth0,\"showless_aria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showless_aria\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":22},\"end\":{\"line\":9,\"column\":39}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n  </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"current_description\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":12,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_controls_description_impl_description', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/description/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/description/impl/nls/root/lang',{\r\n  showmore: 'Show more',\r\n  showmoreAria: 'Show more description',\r\n  showless: 'Show less',\r\n  showlessAria: 'Show less description'\r\n});\r\n\n","\ncsui.define('css!conws/controls/description/impl/description',[],function(){});\n","csui.define('conws/controls/description/description.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'csui/utils/base',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'hbs!conws/controls/description/impl/description',\r\n  'i18n!conws/controls/description/impl/nls/lang',\r\n  'css!conws/controls/description/impl/description'\r\n], function (_, $, Marionette, base, TabableRegionBehavior, PerfectScrollingBehavior, template,\r\n    lang) {\r\n\r\n  var heightToSet = 0;\r\n  var DescriptionView = Marionette.ItemView.extend({\r\n\r\n    className: 'conws-description',\r\n\r\n    template: template,\r\n\r\n    initialize: function () {\r\n      this.shortDescMode = true;\r\n      this.has_more_desc = false;\r\n      this.hideShowLess = false;\r\n      this.collapsedHeightIsOneLine = false;\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        complete_description: this.options.complete_desc,\r\n        current_description: this.options.complete_desc,\r\n        more_description: this.has_more_desc && !this.hideShowLess,\r\n        showmore_tooltip: lang.showmore,\r\n        showmore_aria: lang.showmoreAria,\r\n        showless_tooltip: lang.showless,\r\n        showless_aria: lang.showlessAria,\r\n        show_expandedView: this.expandDescription,\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      description: '.description',\r\n      readMore: '.description-readmore',\r\n      showLess: '.description-showless',\r\n      caretDiv: '.description-caret-div'\r\n    },\r\n\r\n    events: {\r\n      'keydown @ui.readMore': 'readMoreClicked',\r\n      'keydown @ui.showLess': 'showLessClicked',\r\n      'click @ui.readMore': 'readMoreClicked',\r\n      'click @ui.showLess': 'showLessClicked'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.description',\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n\r\n    constructor: function DescriptionView(options) {\r\n      this.options = options || {};\r\n      this.expandDescription = options.expandDescription === undefined ? true : options.expandDescription;\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.hideShowLess = false;\r\n\r\n      this.listenTo(this, 'dom:refresh', this._truncateIfNecessary);\r\n\r\n      this.listenTo(this.options.view, 'dom:refresh', function () {\r\n        this.triggerMethod('dom:refresh');\r\n      });\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      if (this.has_more_desc) {\r\n        if (this.shortDescMode) {\r\n          return this.ui.readMore;\r\n        } else {\r\n          return this.ui.showLess;\r\n        }\r\n      } else {\r\n        return $();\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n      heightToSet = 0;\r\n      if (this.renderTimer) {\r\n        clearTimeout(this.renderTimer);\r\n      }\r\n    },\r\n\r\n    _setTimer: function () {\r\n      if (this.renderTimer) {\r\n        clearTimeout(this.renderTimer);\r\n      }\r\n      this.renderTimer = setTimeout(_.bind(function () {\r\n        this._truncateIfNecessary();\r\n      }, this), 200);\r\n    },\r\n\r\n    onRender: function () {\r\n      this._setTimer();\r\n    },\r\n\r\n    _updateDescriptionAndCaret: function () {\r\n      this._enableCaretState();\r\n      if (this.shortDescMode && this.has_more_desc) {\r\n        this.$el.addClass('conws-description-collapsed');\r\n      } else {\r\n        this.$el.removeClass('conws-description-collapsed');\r\n      }\r\n    },\r\n\r\n    _truncateIfNecessary: function () {\r\n\t    if (!!this.ui.description && typeof(this.ui.description) === \"object\") {\r\n        var actualHeight = this.getActualHeight();\r\n        var maxHeight;\r\n\r\n        if (actualHeight && actualHeight !== 0) {\r\n          if (heightToSet < actualHeight) {\r\n            heightToSet = actualHeight;\r\n          }\r\n          this.$el.removeClass(\"description-height-threeline description-height-twoline\");\r\n          if(this.expandDescription === true) {\r\n            this.$el.addClass('description-expanded-view');\r\n            maxHeight = this.getMaxHeight();\r\n            if (heightToSet === maxHeight) {\r\n              this.$el.addClass('description-height-oneline');\r\n            } else {\r\n              heightToSet > maxHeight * 2 ? this.$el.addClass('description-height-threeline') : this.$el.addClass('description-height-twoline');\r\n            }\r\n          } else {\r\n            this.$el.removeClass('description-expanded-view');\r\n            maxHeight = this.getMaxHeight();\r\n            if (actualHeight > maxHeight) {\r\n              this.has_more_desc = true;\r\n            }\r\n            this._enableCaretState();\r\n            this.$el.addClass(\"description-height-oneline\");\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    getActualHeight: function () {\r\n      return this.ui.description.height();\r\n    },\r\n\r\n    getMaxHeight: function () {\r\n      return parseFloat(this.ui.description.css(\"line-height\"));\r\n    },\r\n\r\n    readMoreClicked: function (event) {\r\n      if (!!event && (event.keyCode === 13 || event.keyCode === 32 || event.type === 'click')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        this.shortDescMode = false;\r\n        this._truncateIfNecessary();\r\n\r\n        //If description is 2 lines then less-caret icon should take 2 line height otherwise 3 line height.\r\n        this.$el.removeClass(\"description-height-oneline\");\r\n        var maxHeight = this.getMaxHeight();\r\n        heightToSet > maxHeight * 2 ? this.$el.addClass('description-height-threeline') : this.$el.addClass('description-height-twoline');\r\n        heightToSet > maxHeight * 2 ? this.ui.caretDiv.addClass(\"description-height-threeline\") : this.ui.caretDiv.addClass(\"description-height-twoline\");\r\n        this.ui.showLess.focus();\r\n        this.trigger(\"show:more:description\");\r\n      }\r\n    },\r\n\r\n    showLessClicked: function (event) {\r\n      if (!!event && (event.keyCode === 13 || event.keyCode === 32 || event.type === 'click')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        this.$el.find(\".description\").scrollTop(0);\r\n        this.shortDescMode = true;\r\n        this._truncateIfNecessary();\r\n        this.$el.removeClass(\"description-height-threeline description-height-twoline\");\r\n        this.ui.caretDiv.removeClass(\"description-height-threeline description-height-twoline\");\r\n        this.ui.readMore.focus();\r\n        this.trigger(\"show:less:description\");\r\n      }\r\n    },\r\n\r\n    _enableCaretState: function () {\r\n      if (this.has_more_desc) {\r\n        this.ui.readMore.toggleClass('caret-hide', this.shortDescMode ? false : true);\r\n        this.ui.showLess.toggleClass('caret-hide', this.shortDescMode ? true : false);\r\n      } else {\r\n        // text is not truncated -> no need for readMore or showLess caret to display\r\n        this.ui.readMore.addClass('caret-hide');\r\n        this.ui.showLess.addClass('caret-hide');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return DescriptionView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/lazyactions/impl/lazy.loading.template',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<li role=\\\"menuitem\\\" class=\\\"csui-loading-parent-wrapper binf-disabled csui-disbaled\\\">\\r\\n  <span class=\\\"csui-loading-dots-wrapper\\\">\\r\\n    <span class=\\\"csui-loading-dot\\\"></span>\\r\\n    <span class=\\\"csui-loading-dot\\\"></span>\\r\\n    <span class=\\\"csui-loading-dot\\\"></span>\\r\\n  </span>\\r\\n</li>\";\n}});\nHandlebars.registerPartial('conws_controls_lazyactions_impl_lazy.loading.template', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/lazyactions/lazyToolbar.view',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',  \r\n  'csui/models/nodes', 'csui/controls/toolbar/toolitems.filtered.model',  \r\n  'csui/utils/commands',   \r\n  'csui/controls/toolbar/delayed.toolbar.view',\r\n  'csui/controls/toolbar/toolbar.command.controller',\r\n  'hbs!conws/controls/lazyactions/impl/lazy.loading.template'\r\n], function (module, _, $, Backbone,   NodeCollection,\r\n  FilteredToolItemsCollection,   commands,\r\n  DelayedToolbarView, ToolbarCommandController, lazyLoadingTemplate) {\r\n    'use strict';\r\n\r\n    var LazyToolbarView = DelayedToolbarView.extend({\r\n\r\n      constructor: function LazyToolbarView(options) {\r\n\r\n        options = options || {};\r\n        var node = options.node;\r\n\r\n        if (!options.nodes) {\r\n          var nodes = new NodeCollection(node);\r\n          nodes.connector = node.connector;\r\n          options.nodes = nodes;\r\n        }\r\n\r\n        this.connector = options.connector || options.nodes.connector || node.connector;\r\n\r\n        if (!options.status) {\r\n          options.status = {\r\n            context: options.context,\r\n            nodes: options.nodes,\r\n            container: options.container,\r\n            originatingView: options.originatingView\r\n          };\r\n        }\r\n        this.status = options.status;\r\n\r\n        this.commandController = options.commandController ||\r\n          new ToolbarCommandController({\r\n            commands: options.commands || commands\r\n          });\r\n\r\n        if (!options.collection) {\r\n\r\n          options.collection = new FilteredToolItemsCollection(\r\n            options.toolbarItems, {\r\n              status: this.status,\r\n              commands: this.commandController.commands,\r\n              delayedActions: node.delayedActions,\r\n              mask: options.toolbarItemsMask\r\n            });\r\n        }\r\n        this.collection = options.collection;\r\n\r\n        DelayedToolbarView.prototype.constructor.apply(this, arguments);\r\n        \r\n        this.listenTo(this, 'delayed:toolbar:refresh', this._refreshLazyToolbar);\r\n        this.listenTo(this, 'childview:toolitem:action', this._toolbarItemClicked);\r\n      },\r\n      \r\n      events: {\r\n        'show.binf.dropdown': 'onBeforeShowDropDown'\r\n       },\r\n\r\n      onBeforeShowDropDown: function (obj) {\r\n        var selectedNodes;\r\n        var lazyActionsRetrieved, isLocallyCreatedNode;\r\n        var nonPromotedActionCommands = [];\r\n\r\n        if (this.lazyActionsRetrieved) {\r\n          return;\r\n        }\r\n\r\n        this.$el.find(\".csui-more-dropdown-menu\").append(lazyLoadingTemplate);\r\n\r\n        if (this.status.nodes instanceof NodeCollection) {\r\n          selectedNodes = this.status.nodes;\r\n        } else {\r\n          if (this.status.nodes instanceof Backbone.Collection) {\r\n            selectedNodes = new NodeCollection(this.status.nodes.models);\r\n          } else {\r\n            if (_.isArray(this.status.nodes)) {\r\n              selectedNodes = new NodeCollection(this.status.nodes);\r\n            } else {\r\n              selectedNodes = new NodeCollection();\r\n            }\r\n          }\r\n        }\r\n        if (!selectedNodes.connector) {\r\n          selectedNodes.connector = this.connector;\r\n        }\r\n\r\n        selectedNodes.each(function (selectedNode) {\r\n          lazyActionsRetrieved = lazyActionsRetrieved &&\r\n            selectedNode.get('csuiLazyActionsRetrieved');\r\n          isLocallyCreatedNode = isLocallyCreatedNode && selectedNode.isLocallyCreated;\r\n          nonPromotedActionCommands = nonPromotedActionCommands.length ?\r\n            nonPromotedActionCommands :\r\n            selectedNode.nonPromotedActionCommands;\r\n        });\r\n\r\n        selectedNodes.nonPromotedActionCommands = nonPromotedActionCommands;\r\n        selectedNodes.lazyActionsRetrieved = lazyActionsRetrieved;\r\n\r\n        if (!lazyActionsRetrieved && !isLocallyCreatedNode &&\r\n          nonPromotedActionCommands.length) { \r\n          selectedNodes.lazyActionsRetrieved = this.lazyActionsRetrieved;\r\n          //TODO: _renderLazyActions is a private method of the toolbarview and should not be used.\r\n          // Please refactor the following once LPAD-77768 is addressed.\r\n          this._renderLazyActions(selectedNodes);     \r\n        }\r\n        this.lazyActionsRetrieved = true;        \r\n      },\r\n\r\n      _onDomRefresh: function(){ \r\n        //do nothing .. suppress toolbar adjust from here\r\n      },\r\n\r\n      _refreshLazyToolbar: function(){\r\n        DelayedToolbarView.prototype._onDomRefresh.call(this);\r\n      },\r\n\r\n      _toolbarItemClicked: function (toolItemView, args) {\r\n        this.commandController.toolitemClicked(args.toolItem, this.options);\r\n      },\r\n\r\n    })\r\n    return LazyToolbarView;\r\n  });\n","csui.define('conws/controls/selectedmetadataform/selectedmetadataform.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/base', 'csui/utils/url',\r\n  'csui/controls/form/form.view','csui/controls/globalmessage/globalmessage'\r\n], function (_, $, base, Url, FormView, GlobalMessage) {\r\n\r\n  function getSelectorPath(root,node) {\r\n    var path;\r\n    while (node.length) {\r\n      if ($(node).is(root)) {\r\n        return path ? '>' + path : '';\r\n      }\r\n      var realNode = node[0], name = realNode.localName;\r\n      if (!name) { break; }\r\n      name = name.toLowerCase();\r\n\r\n      var parent = node.parent();\r\n\r\n      var allSiblings = parent.children();\r\n      var index = allSiblings.index(realNode) + 1;\r\n      name += ':nth-child(' + index + ')';\r\n\r\n      path = name + (path ? '>' + path : '');\r\n      node = parent;\r\n    }\r\n    return root ? undefined : path;\r\n  }\r\n\r\n  function getFocusInfo(view) {\r\n    var focusPath;\r\n    var focused = view.$el.find(\":focus\");\r\n    if (focused.length) {\r\n      var control = focused;\r\n      while (control && control.length && !control.attr(\"data-alpaca-field-id\")) {\r\n        control = control.parent();\r\n      }\r\n      if (control.length) {\r\n        focusPath = getSelectorPath(view.$el,control)\r\n      }\r\n    }\r\n    var scrolltop = view.$el.parent().parent().scrollTop();\r\n    return {focused:focused,focusPath:focusPath,scrolltop:scrolltop};\r\n  }\r\n\r\n  function restoreFocus(view,focusInfo) {\r\n    if (focusInfo.scrolltop>=0) {\r\n      view.$el.parent().parent().scrollTop(focusInfo.scrolltop);\r\n    }\r\n    var focused = view.$el.find(\":focus\");\r\n    if (!focused.is(focusInfo.focused)) {\r\n      if (focusInfo.focusPath) {\r\n        var control = view.$el.find(focusInfo.focusPath),\r\n            tofocus = control.find(\".alpaca-control .cs-field-read button\");\r\n        tofocus.trigger('click');\r\n      }\r\n    }\r\n  }\r\n\r\n  // call given function if callback has been called the specified count of times\r\n  function CallOnCount(count,fct) {\r\n    this.count = count;\r\n    this.fct = fct;\r\n    this.callback = function callback () {\r\n      if (this.count>0) {\r\n        this.count = this.count - 1;\r\n        if (this.count===0) {\r\n          this.fct.call();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function makeCountCallback(count,fct) {\r\n    // set timeout to 0, just causes, that code is called after current thread execution\r\n    // we need this, so setting focus and scroll position is done after field layout\r\n    var coc = new CallOnCount(count,function(){setTimeout(fct,0);});\r\n    return _.bind(coc.callback,coc);\r\n  }\r\n\r\n  // due to lack in csui, setting an array value with different length runs into error.\r\n  // to avoid this we add/remove required items.\r\n  function adaptChildrenLength(el,val) {\r\n    var ii;\r\n    if (el.children && el.children.length) {\r\n      if (val && val.length) {\r\n        if (val.length>el.children.length) {\r\n          for (ii = el.children.length; ii<val.length; ii++) {\r\n            var data = val[ii];\r\n            var options = _.extend({},el.children[0].options);\r\n            var schema = _.extend({},el.children[0].schema);\r\n            el.addItem(ii,schema,options,data,function(){});\r\n          }\r\n        } else if (val.length<el.children.length) {\r\n          for (ii = el.children.length-1; ii >= val.length; ii--) {\r\n            el.removeItem(ii,function(){});\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // determine all fields displaying the changed attribute, except the one identified by path.\r\n  // on error only the one identified by path.\r\n  function getRefreshFields(children,changes,path,iserror) {\r\n    var fields = [];\r\n    for (var ii=0; ii<children.length; ii++) {\r\n      var el = children[ii];\r\n      if (el.propertyId && changes.hasOwnProperty(el.propertyId) && path.hasOwnProperty(el.propertyId) ) {\r\n        if (iserror ? el.path===path : el.path!==path[el.propertyId]) {\r\n          fields.push(el);\r\n        }\r\n      } else if (el.children) {\r\n        fields = fields.concat(getRefreshFields(el.children,changes,path,iserror));\r\n      }\r\n    }\r\n    return fields;\r\n  }\r\n\r\n  // refresh fields if same attribute is displayed in different fields\r\n  // and on error this function is used to restore old values\r\n  // also restores scroll position and focus field\r\n  function refreshFields(view,focus,changes,path,iserror) {\r\n    // to improve: find scroll parent better.\r\n    var fields = getRefreshFields(view.form.children,changes,path,iserror);\r\n    if (fields.length) {\r\n      var callback = makeCountCallback(fields.length,function(){\r\n        restoreFocus(view,focus);\r\n      });\r\n      fields.forEach(function(el){\r\n        adaptChildrenLength(el,changes[el.propertyId]);\r\n        el.setValue(changes[el.propertyId]);\r\n        el.refresh(callback);\r\n      });\r\n    }\r\n  }\r\n\r\n  var SelectedMetadataFormView = FormView.extend({\r\n\r\n    constructor: function SelectedMetadataFormView(options) {\r\n      FormView.prototype.constructor.call(this, options);\r\n\r\n      this.node = this.options.node;\r\n      this.listenTo(this, 'change:field', function(args){\r\n\t\t  this._saveField(args);\r\n\t  });\r\n    },\r\n\r\n    _saveField: function (args) {\r\n      // must search for changed property, as in the rest call only attributes from one single\r\n      // category can be changed and it runs into an error, if other attributes are passed.\r\n      if(this._hasDependentFields(args)){\r\n        // To store the dependent attribute ids against its path\r\n        var dependentFieldMappings = {};\r\n        // Fetching the the top most parent tkl object \r\n        var topFieldView = this._getTopMostTKLParentField(args.fieldView);\r\n        this._getDependencyFields(topFieldView, dependentFieldMappings);\r\n        this._saveChanges(dependentFieldMappings, args.value);\r\n      }\r\n      else{\r\n        var property = this.form.getControlByPath(args.path[0]==='/'?args.path.substring(1):args.path);\r\n        this._saveChanges(property.propertyId,args.value,property.path,true);\r\n\t  }\r\n    },\r\n\r\n    /**\r\n     * To check if the category attribute has any children/dependent attributes\r\n     * returns true if category attribute has dependent attributes else false\r\n     *\r\n     * @param arguments\r\n    */\r\n    _hasDependentFields: function (arguments) {\r\n      var args;\r\n      if (arguments.fieldView && arguments.fieldView.type && arguments.fieldView.type === 'array') {\r\n        args = arguments.fieldView.children[0];\r\n      } else {\r\n        args = arguments;\r\n      }\r\n      if (typeof args.fieldView !== 'undefined') {\r\n        if (typeof args.fieldView.isTKLField !== 'undefined') {\r\n          if (args.fieldView.isTKLField) {\r\n            if ((!!args.fieldView.children && args.fieldView.children.length > 0) || (!!args.fieldView.parentViews && args.fieldView.parentViews.length > 0)) {\r\n              return true;\r\n            }\r\n            else {\r\n              return false;\r\n            }\r\n          }\r\n          else {\r\n            return false;\r\n          }\r\n        }\r\n        else {\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    /**\r\n    * Get all TKL depedent values in object format\r\n    *\r\n    * @param fieldView\r\n    * @param dependentFieldMappings\r\n    */\r\n    _getDependencyFields: function (fieldView, dependentFieldMappings) {\r\n      var fieldEleView, fieldPropertyId, fieldPath;\r\n      if (!!fieldView.type && fieldView.type === 'array') {\r\n        fieldEleView = fieldView.children && fieldView.children[0].fieldView;\r\n        fieldPropertyId = fieldView.propertyId;\r\n        fieldPath = fieldView.path;\r\n      } else if (fieldView.alpacaField) {\r\n        fieldEleView = fieldView;\r\n        fieldPropertyId = fieldView.alpacaField.propertyId;\r\n        fieldPath = fieldView.alpacaField.path;\r\n      }\r\n      if (fieldEleView && fieldEleView.alpacaField && fieldPropertyId) {\r\n        if (!dependentFieldMappings.hasOwnProperty(fieldPropertyId)) {\r\n          dependentFieldMappings[fieldPropertyId] = fieldPath;\r\n          if (fieldEleView.children && fieldEleView.children.length > 0) {\r\n            for (var i = 0; i < fieldEleView.children.length; i++) {\r\n              this._getDependencyFields(fieldEleView.children[i], dependentFieldMappings);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Retrives the top most parent tkl attribute to iterate from the top\r\n     *\r\n     * @param fieldView\r\n     */\r\n    _getTopMostTKLParentField: function (fieldView) {\r\n      var fieldEleView;\r\n      if (!!fieldView.type && fieldView.type === 'array') {\r\n        fieldEleView = fieldView.children && fieldView.children[0].fieldView;\r\n      } else if (fieldView.alpacaField) {\r\n        fieldEleView = fieldView;\r\n      }\r\n      if (fieldEleView && fieldEleView.parentViews && fieldEleView.parentViews.length > 0) {\r\n        for (var i = 0; i < fieldEleView.parentViews.length; i++) {\r\n          return this._getTopMostTKLParentField(fieldEleView.parentViews[i]);\r\n        }\r\n      } else {\r\n        return fieldView;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Save changes of a single/multiple category attribute(s) to the server\r\n     *\r\n     * @param property  Either it may contain single or multiple category attributes\r\n     * @param value     value of the property\r\n     * @param path      path of the property\r\n     * @param isInSync  Introduced isInSync to save dependent tkl values synchronously\r\n     *                  if no dependent tkl's are provided async is restored\r\n     */\r\n    _saveChanges: function (property,value,path,isInSync) {\r\n      var formView, values, segpath, segments, propertyId,\r\n        change = {},\r\n        changes = {},\r\n        paths = {},\r\n        properties = {};\r\n      var formValues = this.getValues();\r\n      var formViewList = this.metadataview && this.metadataview.formViewList;\r\n      if (formViewList && formViewList.length > 0) {\r\n        for (var index = 0; index < formViewList.length; index++) {\r\n          formView = formViewList[index];\r\n          formValues = Object.assign(formValues, formView.getValues());\r\n        }\r\n      }\r\n\r\n      // Checking whether the property is object or string.\r\n      if (typeof property === 'object') {\r\n        properties = property;\r\n      } else {\r\n        properties[property] = path\r\n      }\r\n\r\n      _.each(properties, function (val, key) {\r\n        values = formValues;\r\n        propertyId = key;\r\n        path = val;\r\n        segpath = path[0] === '/' ? path.substring(1) : path;\r\n        segments = segpath.split('/');\r\n        for (var ii = 0; ii < segments.length - 1; ii++) {\r\n          if (values) {\r\n            values = values[segments[ii]];\r\n          }\r\n        }\r\n        if (values) {\r\n          _.each(values, function (val, id) {\r\n            var idStartsWith = id.substring(0, propertyId.length),\r\n              idEndsWith = id.substring(propertyId.length + 1);\r\n            if (id === propertyId || (!!idStartsWith && !!idEndsWith && propertyId === idStartsWith && !isNaN(idEndsWith))) {\r\n              change[id] = val;\r\n              changes[id] = val;\r\n              paths[id] = path;\r\n            }\r\n          }, changes);\r\n        }\r\n        if (Object.keys(changes).length === 0 && propertyId) {\r\n          change[propertyId] = value;\r\n          changes[propertyId] = value\r\n        }\r\n        // if --> when attributes from multivalued set are added in PMan, \r\n        //Previously, In this case we are using PUT without Multivalued set Id, so adding the Set Id to the Changed property.\r\n        // changed the implementation as we have some issues while saving in this scenario\r\n        if (propertyId.search(\"x\") > 0) {\r\n          var temp = {},\r\n            parentPropertyId;\r\n          temp[propertyId] = changes[propertyId];\r\n          delete changes[propertyId];\r\n          delete change[propertyId];\r\n          parentPropertyId = propertyId.substring(0, propertyId.indexOf(\"x\") - 1);\r\n          changes[parentPropertyId] = [temp];\r\n          change[parentPropertyId] = [temp];\r\n        }\r\n      });\r\n\r\n      if (!this.node) {\r\n        throw new Error('Missing node to save the categories to.');\r\n      }\r\n      if (this._validate(change)) {\r\n        var focus = getFocusInfo(this);\r\n        this._blockActions();\r\n        return this.node.connector.makeAjaxCall(this.node.connector.extendAjaxOptions({\r\n              type: 'PUT',\r\n              url: Url.combine(this.node.urlBase(), 'categories', propertyId.split('_')[0]),\r\n              // proper formating is done in makeAjaxCall\r\n              data: changes,\r\n\t\t\t  async: isInSync\r\n            }))\r\n            .done(_.bind(function () {\r\n              this.model.updateData(change);\r\n              refreshFields(this,focus,change,paths,false);\r\n              this.trigger('forms:sync');\r\n              // event for keyboard navigation\r\n              var event = $.Event('tab:content:field:changed');\r\n              this.$el.trigger(event);\r\n            }, this))\r\n            .fail(_.bind(function (jqxhr) {\r\n              var restore = this.model.restoreData(change);\r\n              refreshFields(this,focus,restore,paths,true);\r\n              var error = new base.Error(jqxhr);\r\n              GlobalMessage.showMessage('error', error.message);\r\n              this.trigger('forms:error');\r\n            }, this))\r\n            .always(_.bind(function () {\r\n              this._unblockActions();\r\n            }, this));\r\n      }\r\n      return $.Deferred().reject().promise();\r\n    }\r\n  });\r\n\r\n  return SelectedMetadataFormView;\r\n});\r\n\n","csui.define('conws/utils/commands/permissions/permissions.util',[\r\n    'csui/utils/url'\r\n], function (Url) {\r\n    'use strict';\r\n    var PermissionsUtil = {\r\n        getUrl: function (nodeRolePermissionModel) {\r\n            var nodeId = nodeRolePermissionModel.nodeId,\r\n                url = nodeRolePermissionModel.connector.getConnectionUrl().getApiBase('v2');\r\n            url = Url.combine(url, 'businessworkspaces', nodeId, 'roles');\r\n\r\n            if (!!nodeRolePermissionModel.action) {\r\n                var roleId;\r\n                if (nodeRolePermissionModel.action === \"delete\" || nodeRolePermissionModel.action === \"editperms\") {\r\n                    roleId = nodeRolePermissionModel.get(\"right_id\");\r\n                    url = Url.combine(url, roleId);\r\n                }\r\n                else if (nodeRolePermissionModel.action === \"fetch\" || nodeRolePermissionModel.action === \"update\") {\r\n                    roleId = nodeRolePermissionModel.get(\"right_id\");\r\n                    var queryparameters = Url.combineQueryString({\r\n                        fields: \"members\"\r\n                    });\r\n                    url = Url.combine(url, roleId);\r\n                    url = url + \"?\" + queryparameters;\r\n                }\r\n            }\r\n            return url;\r\n        },\r\n\r\n        isWorkspaceRole: function (model) {\r\n            var isWorkspaceRole, right_id_expand = model.get('right_id_expand');\r\n            if (!!right_id_expand) {\r\n                //if model is NodePermissionModel\r\n                isWorkspaceRole = !!right_id_expand.type && (right_id_expand.type === 848);\r\n            }\r\n            else {\r\n                //if model is MemberModel\r\n                isWorkspaceRole = !!model.get('type') && (model.get('type') === 848);\r\n            }\r\n            return isWorkspaceRole;\r\n        },\r\n\r\n        isLeaderRole: function (nodeModel, model) {\r\n            var isLeaderRole, isInheritedRole = this.isInheritedRole(nodeModel, model),\r\n            right_id_expand = model.get('right_id_expand');\r\n            if (!!right_id_expand) {\r\n                //if model is NodePermissionModel\r\n                isLeaderRole = !isInheritedRole && !!right_id_expand.id && !!right_id_expand.leader_id && (right_id_expand.id === right_id_expand.leader_id);   \r\n            }\r\n            else{\r\n                 //if model is MemberModel\r\n                isLeaderRole = !isInheritedRole && !!model.get(\"id\") && !!model.get(\"leader_id\") && (model.get(\"id\") === model.get(\"leader_id\"));   \r\n            }\r\n             \r\n            return isLeaderRole;\r\n        },\r\n\r\n        isInheritedRole: function (nodeModel, model) {\r\n            var isInheritedRole, right_id_expand = model.get('right_id_expand');\r\n            if (!!right_id_expand) {\r\n                //if model is NodePermissionModel\r\n                isInheritedRole = !!right_id_expand.node_id &&\r\n                    !!nodeModel && !!nodeModel.get(\"id\") &&\r\n                    (right_id_expand.node_id !== nodeModel.get(\"id\"));\r\n            }\r\n            else {\r\n                //if model is MemberModel\r\n                isInheritedRole = !!model.get('node_id') &&\r\n                    !!nodeModel && !!nodeModel.get(\"id\") &&\r\n                    (model.get('node_id') !== nodeModel.get(\"id\"));\r\n            }\r\n            return isInheritedRole;\r\n\r\n        },\r\n\r\n        isWorkspace: function (nodeModel) {\r\n            return !!nodeModel && !!nodeModel.get(\"type\") && (nodeModel.get(\"type\") === 848);\r\n        }\r\n    };\r\n    return PermissionsUtil;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/table/cells/role/impl/role',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" binf-disabled\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"addOwnerOrGroup\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":11,\"column\":2},\"end\":{\"line\":13,\"column\":13}}})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div class=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"inlineToolBarPlaceholderClass\") || (depth0 != null ? lookupProperty(depth0,\"inlineToolBarPlaceholderClass\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"inlineToolBarPlaceholderClass\",\"hash\":{},\"loc\":{\"start\":{\"line\":12,\"column\":14},\"end\":{\"line\":12,\"column\":47}}}) : helper)))\n    + \" binf-hidden\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-user-container\\\">\\r\\n  <div class=\\\"csui-profileimg binf-pull-left\\\">\\r\\n    <span class=\\\"csui-icon-paceholder csui-icon conws-mime_roles\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"roleAccessTitle\") || (depth0 != null ? lookupProperty(depth0,\"roleAccessTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"roleAccessTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":73},\"end\":{\"line\":3,\"column\":92}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"roleAria\") || (depth0 != null ? lookupProperty(depth0,\"roleAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"roleAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":106},\"end\":{\"line\":3,\"column\":118}}}) : helper)))\n    + \"\\\"></span>\\r\\n  </div>\\r\\n  <div class=\\\"member-info csui-fadeout\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":5,\"column\":38},\"end\":{\"line\":5,\"column\":75}}})) != null ? stack1 : \"\")\n    + \" \\\">\\r\\n    <div class=\\\"\\\">\\r\\n      <span class=\\\"csui-user-display-name csui-role\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":60},\"end\":{\"line\":7,\"column\":68}}}) : helper)))\n    + \"\\\"  aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"roleAria\") || (depth0 != null ? lookupProperty(depth0,\"roleAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"roleAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":83},\"end\":{\"line\":7,\"column\":95}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":97},\"end\":{\"line\":7,\"column\":105}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n  </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"includeInlineToolBarPlaceholder\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":10,\"column\":2},\"end\":{\"line\":14,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\";\n}});\nHandlebars.registerPartial('conws_controls_table_cells_role_impl_role', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/table/cells/role/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/table/cells/role/impl/nls/root/lang',{\r\n  roleAria: 'Role {0}',\r\n  roleAccessTitle: 'Role access'\r\n});\r\n\n","\ncsui.define('css!conws/controls/table/cells/role/impl/role',[],function(){});\n","csui.define('conws/controls/table/cells/role/role.view',[\r\n  'csui/lib/underscore',\r\n  'csui/controls/table/cells/user/user.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'csui/models/member',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'hbs!conws/controls/table/cells/role/impl/role',\r\n  'i18n!conws/controls/table/cells/role/impl/nls/lang',\r\n  'css!conws/controls/table/cells/role/impl/role'\r\n], function (_, UserCellView, cellViewRegistry, MemberModel, PermissionsUtil, roleTemplate, lang) {\r\n\r\n  var RoleCellView = UserCellView.extend({\r\n\r\n    renderValue: function () {\r\n      var data = this.getValueData(),\r\n        template = this.getTemplate(),\r\n        // Making the entire data object undefined renders nothing; if the object\r\n        // contains defined value the template should be prepared for it\r\n        html = data ? template(data) : '';\r\n      this.$el.html(html);\r\n    },\r\n\r\n    getTemplate: function () {\r\n      var template;\r\n      if (!!this.isWorkspaceRole && this.isWorkspaceRole) {\r\n        template = roleTemplate;\r\n      }\r\n      else {\r\n        // In this case load the user.view template\r\n        template = this.template;\r\n      }\r\n      return template;\r\n    },\r\n\r\n    getValueData: function () {\r\n      return _.extend(RoleCellView.__super__.getValueData.apply(this, arguments), {\r\n        isWorkspaceRole: this.isWorkspaceRole,\r\n        roleAria: _.str.sformat(lang.roleAria, this.getDisplayName()),\r\n        roleAccessTitle: lang.roleAccessTitle\r\n      })\r\n    },\r\n\r\n    constructor: function RoleCellView(options) {\r\n      RoleCellView.__super__.constructor.apply(this, arguments);\r\n\r\n      if (!!this.model && !!this.model.collection) {\r\n\r\n        this.isWorkspaceRole = PermissionsUtil.isWorkspaceRole(this.model);\r\n\r\n        if (!this.model.collection.extraMemberModels) {\r\n          this.model.collection.extraMemberModels = [];\r\n        }\r\n        if (this.isWorkspaceRole) {\r\n          var isModelExist = this.model.collection.extraMemberModels.some(function (memberModel) {\r\n            return memberModel.get(\"id\") === this.model.get(\"right_id_expand\").id\r\n          }, this);\r\n          // only add to extraMemberModels if it doesnot exist.\r\n          if (!isModelExist) {\r\n            var memberModel = new MemberModel(this.model.get(\"right_id_expand\"))\r\n            memberModel.nodeModel = this.options.nodeModel;\r\n            this.model.collection.extraMemberModels.push(memberModel);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n  cellViewRegistry.registerByColumnKey('right_id', RoleCellView);\r\n  return RoleCellView;\r\n});\r\n\n","csui.define('conws/controls/table/cells/permission/role.permission.level.view',['csui/lib/jquery', 'csui/lib/underscore',\r\n    'csui/controls/table/cells/permission/permission.level.view',\r\n    'csui/utils/commands',\r\n    'csui/controls/table/cells/cell.registry',\r\n    'conws/utils/commands/permissions/permissions.util'\r\n], function ($, _, PermissionLevelCellView, commands, cellViewRegistry, PermissionsUtil) {\r\n    'use strict';\r\n\r\n    var RolePermissionLevelCellView = PermissionLevelCellView.extend({\r\n\r\n        constructor: function RolePermissionLevelCellView(options) {\r\n            RolePermissionLevelCellView.__super__.constructor.apply(this, arguments);\r\n            this.$ = $;\r\n        },\r\n\r\n        // overriden this function from PermissionLevelCellView to trigger\r\n        // EditRolePermission command for business workspace roles.\r\n        onClickPermissionLevel: function (e) {\r\n            var command,\r\n                isWorkspaceRole = PermissionsUtil.isWorkspaceRole(this.options.model),\r\n                membersTypeSupport = [0, 1, 848];\r\n            if (membersTypeSupport.indexOf(\r\n                this.options.model.get(\"right_id_expand\") &&\r\n                this.options.model.get(\"right_id_expand\").type) < 0 &&\r\n                this.options.model.get(\"type\") === \"custom\") {\r\n                this._handlePermissionLevelFocus({ cellView: this });\r\n            } else {\r\n                command = isWorkspaceRole ? commands.get('EditRolePermission') : commands.get('EditPermission');\r\n                this._handlePermissionLevelClicked({ cellView: this, command: command });\r\n                this.trigger(\"cell:content:clicked\", this);\r\n            }\r\n        }\r\n    });\r\n\r\n    cellViewRegistry.registerByColumnKey('permissions', RolePermissionLevelCellView);\r\n\r\n    return RolePermissionLevelCellView;\r\n});\n","// Lists explicit locale mappings and fallbacks\r\ncsui.define('conws/controls/userpicker/nls/role.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/userpicker/nls/root/role.lang',{\r\n  roleViewGroupTitle: 'Business Workspace Role',\r\n  roleViewLeaderTitle: 'Leader Role',\r\n  inheritedrole:'Inherited Role'\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/userpicker/role',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"member-info\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":2,\"column\":23},\"end\":{\"line\":2,\"column\":60}}})) != null ? stack1 : \"\")\n    + \" binf-pull-left\\\">\\r\\n  <span class=\\\"name binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":43},\"end\":{\"line\":3,\"column\":51}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":53},\"end\":{\"line\":3,\"column\":61}}}) : helper)))\n    + \"</span>\\r\\n</div>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" binf-disabled\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"member-picture\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":6,\"column\":26},\"end\":{\"line\":6,\"column\":63}}})) != null ? stack1 : \"\")\n    + \" binf-pull-left\\\">\\r\\n  <span class=\\\"csui-icon conws-mime_roles\\\"></span>\\r\\n</div>\\r\\n<div class=\\\"member-info\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":9,\"column\":23},\"end\":{\"line\":9,\"column\":60}}})) != null ? stack1 : \"\")\n    + \" binf-pull-left\\\">\\r\\n  <span class=\\\"name binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":43},\"end\":{\"line\":10,\"column\":51}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":53},\"end\":{\"line\":10,\"column\":61}}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"group-title binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"role-title\") || (depth0 != null ? lookupProperty(depth0,\"role-title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"role-title\",\"hash\":{},\"loc\":{\"start\":{\"line\":11,\"column\":50},\"end\":{\"line\":11,\"column\":64}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"role-title\") || (depth0 != null ? lookupProperty(depth0,\"role-title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"role-title\",\"hash\":{},\"loc\":{\"start\":{\"line\":11,\"column\":66},\"end\":{\"line\":11,\"column\":80}}}) : helper)))\n    + \"</span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isWorkspace\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":12,\"column\":2},\"end\":{\"line\":22,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"leader\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":13,\"column\":2},\"end\":{\"line\":15,\"column\":9}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isInheritedRole\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":16,\"column\":2},\"end\":{\"line\":18,\"column\":9}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":19,\"column\":2},\"end\":{\"line\":21,\"column\":9}}})) != null ? stack1 : \"\");\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <span class=\\\"leader-title binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"leader-title\") || (depth0 != null ? lookupProperty(depth0,\"leader-title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"leader-title\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":51},\"end\":{\"line\":14,\"column\":67}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"leader-title\") || (depth0 != null ? lookupProperty(depth0,\"leader-title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"leader-title\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":69},\"end\":{\"line\":14,\"column\":85}}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <span class=\\\"leader-title binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"isInheritedRole-title\") || (depth0 != null ? lookupProperty(depth0,\"isInheritedRole-title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"isInheritedRole-title\",\"hash\":{},\"loc\":{\"start\":{\"line\":17,\"column\":51},\"end\":{\"line\":17,\"column\":76}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"isInheritedRole-title\") || (depth0 != null ? lookupProperty(depth0,\"isInheritedRole-title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"isInheritedRole-title\",\"hash\":{},\"loc\":{\"start\":{\"line\":17,\"column\":78},\"end\":{\"line\":17,\"column\":103}}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <span class=\\\"message binf-pull-left\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"disabled-message\") || (depth0 != null ? lookupProperty(depth0,\"disabled-message\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"disabled-message\",\"hash\":{},\"loc\":{\"start\":{\"line\":20,\"column\":39},\"end\":{\"line\":20,\"column\":59}}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"lightWeight\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(4, data, 0),\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":24,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_controls_userpicker_role', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/userpicker/role.view',[\r\n  'csui/utils/base',\r\n  'csui/controls/userpicker/roles/group.view',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'i18n!conws/controls/userpicker/nls/role.lang',\r\n  'hbs!conws/controls/userpicker/role'\r\n], function (Base, GroupView, PermissionsUtil, lang, roleTemplate) {\r\n\r\n  var RoleView = GroupView.extend({\r\n\r\n    template: roleTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        'name': Base.formatMemberName(this.model),\r\n        'role-title': lang.roleViewGroupTitle,\r\n        'isWorkspace': this.isWorkspace,\r\n        'leader': this.isLeaderRole,\r\n        'leader-title': lang.roleViewLeaderTitle,\r\n        'isInheritedRole': this.isInheritedRole,\r\n        'isInheritedRole-title': lang.inheritedrole,\r\n        'disabled': this.model.get('disabled'),\r\n        'disabled-message': this.options.disabledMessage,\r\n        'lightWeight': !!this.options.lightWeight\r\n      };\r\n    },\r\n\r\n    constructor: function RoleView(options) {\r\n      // apply properties to parent\r\n      GroupView.prototype.constructor.call(this, options);\r\n      if (!!this.model && !!this.model.nodeModel) {\r\n        this.isWorkspace = PermissionsUtil.isWorkspace(this.model.nodeModel);\r\n        this.isWorkspaceRole = PermissionsUtil.isWorkspaceRole(this.model);\r\n        this.isLeaderRole = PermissionsUtil.isLeaderRole(this.model.nodeModel, this.model);\r\n        this.isInheritedRole = PermissionsUtil.isInheritedRole(this.model.nodeModel, this.model)\r\n      }\r\n\r\n    }\r\n\r\n  });\r\n\r\n  return RoleView;\r\n});\r\n\n","csui.define('conws/controls/userpicker/conws.roles',[\r\n  'conws/controls/userpicker/role.view'\r\n], function (RoleView) {\r\n  'use strict';\r\n\r\n  return [{\r\n    type: 848,\r\n    viewClass: RoleView\r\n  }];\r\n});\r\n\n","csui.define('conws/dialogs/addoreditrole/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/dialogs/addoreditrole/impl/nls/root/lang',{\r\n  dialogTitle: \"View role membership\",\r\n  missingConnector: 'Missing connector information!',\r\n  AddRole: 'Add role',\r\n  EditRole: 'Edit role',\r\n  doneButtonLabel: 'Save',\r\n  nextButtonLabel: 'Next',\r\n  cancelButtonLabel: \"Cancel\",\r\n  RoleStepName: 'Role',\r\n  PermissionsStepName: 'Permissions',\r\n  ParticipantsStepName: 'Participants',\r\n  RoleName: 'Role name',\r\n  RoleNamePlaceholder: 'Enter name',\r\n  RoleDesc: 'Role Description',\r\n  RoleDescPlaceholder: 'Add Description',\r\n  TeamLead: 'Team Lead',\r\n  SubItemsInherit: 'Apply to sub-items',\r\n  backButtonTooltip: 'Go back',\r\n  backButtonAria: 'Go back',\r\n  selectPermissionLevel: 'Select permission level',\r\n  simplePermissionSelection: 'Simple Permission Selection',\r\n  rolePartcipantsWithNoparticipantsMessage: 'No participants have been added.',\r\n  participantsTitle: 'Participants',\r\n  addParticipantTitle: 'Add Participant',\r\n  roleParticipantsUserPickerPlaceholder: 'Add participants',\r\n  roleParticipantsDisabledMemberMessage: 'Is already a participant.',\r\n  roleParticipantsSearchAria: 'Search for participants'\r\n});\r\n\n","\n","csui.define('conws/controls/wizard/step/impl/footer.view',['csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/wizard/step/footer.view',\r\n  'i18n',\r\n], function (Marionette, TabableRegion, WizardStepFooterView, i18n) {\r\n\r\n  var ConwsButtonView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'button',\r\n\r\n    className: 'binf-btn',\r\n\r\n    template: false,\r\n\r\n    triggers: {\r\n      'click': 'click'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegion\r\n      }\r\n    },\r\n\r\n    constructor: function ButtonView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    isTabable: function () {\r\n      return this.$el.is(':not(:disabled)') && this.$el.is(':not(:hidden)');\r\n    },\r\n    currentlyFocusedElement: function () {\r\n      if (this.$el.prop('tabindex') === -1) {\r\n        this.$el.prop('tabindex', 0);\r\n      }\r\n      return this.$el;\r\n    },\r\n\r\n    onRender: function () {\r\n      var button = this.$el,\r\n        attributes = this.model.attributes;\r\n      if (typeof attributes.isButton === 'undefined') {\r\n        button.text(attributes.label);\r\n        button.addClass('binf-btn');\r\n        button.addClass(\r\n          attributes['default'] ? 'binf-btn-primary cs-add-button' : 'binf-btn-default');\r\n        if (attributes.toolTip) {\r\n          button.attr('title', attributes.toolTip);\r\n        }\r\n        if (attributes.separate) {\r\n          button.addClass('cs-separate');\r\n        }\r\n      }\r\n      else {\r\n        button.addClass('arrow_back button_image');\r\n        if (attributes.toolTip) {\r\n          button.attr({ 'title': attributes.toolTip, 'aria-label': attributes.toolTip, 'role': 'link' });\r\n        }\r\n        if (attributes.id === 'next') {\r\n          if (i18n && i18n.settings.rtl) {\r\n            button.addClass(\"button_image_next_rtl\");\r\n          } else {\r\n            button.addClass(\"button_image_next\");\r\n          }\r\n        }\r\n      }\r\n      this.updateButton(attributes);\r\n    },\r\n\r\n    updateButton: function (attributes) {\r\n      var $button = this.$el;\r\n\r\n      attributes || (attributes = {});\r\n      if (attributes.hidden !== undefined) {\r\n        if (attributes.hidden) {\r\n          $button.addClass('binf-hidden');\r\n        } else {\r\n          $button.removeClass('binf-hidden');\r\n        }\r\n      }\r\n      if (attributes.disabled !== undefined) {\r\n        $button.prop('disabled', attributes.disabled);\r\n      }\r\n    }\r\n  });\r\n\r\n  var ConwsWizardStepFooterView = WizardStepFooterView.extend({\r\n\r\n    childView: ConwsButtonView,\r\n\r\n    constructor: function ConwsWizardStepFooterView(options) {\r\n      WizardStepFooterView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  return ConwsWizardStepFooterView;\r\n});\r\n\n","// Renders a view in a modal dialog and waits for the user to close it\r\ncsui.define('conws/controls/wizard/step/wizard.step.view',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/wizard/step/wizard.step.view',\r\n  'conws/controls/wizard/step/impl/footer.view',\r\n  'csui/utils/log',\r\n  'i18n!csui/controls/wizard/impl/nls/lang'\r\n], function (module, _, Backbone, LayoutViewEventsPropagationMixin,\r\n  WizardStepView, ConwsWizardStepFooterView, log, lang) {\r\n\r\n    log = log(module.id);\r\n\r\n    var ConwsWizardStepView = WizardStepView.extend({\r\n\r\n      constructor: function ConwsWizardStepView() {\r\n        WizardStepView.prototype.constructor.apply(this, arguments);\r\n        this.listenTo(this,'set:initial:focus', this.setViewInitialFocus);\r\n      },\r\n\r\n      setViewInitialFocus: function(){\r\n        this.options.view.trigger('set:initial:focus');\r\n      },\r\n\r\n      // overriden the footer to support next and back images instead of showcasing as buttons.\r\n      _renderFooter: function () {\r\n        var footerView = this.footerView = this.options.footerView;\r\n        if (footerView) {\r\n          this.ui.footer.removeClass('binf-hidden');\r\n          this.footer.show(footerView);\r\n        } else {\r\n          var defaultButtons = [];\r\n          if (!this.options.isFirstStep) {\r\n            // Previous button\r\n            defaultButtons.push({\r\n              id: 'previous',\r\n              label: this.options.previousButtonLabel || lang.back,\r\n              toolTip: this.options.previousButtonLabel || lang.back,\r\n              'default': false,\r\n              disabled: false,\r\n              isButton: false,\r\n              separate: this.options.seperatePrevious || false,\r\n              click: _.bind(this.onClickPreviousButton, this)\r\n            });\r\n          }\r\n          var nextButton = {\r\n            id: 'next',\r\n            label: this.options.nextButtonLabel || lang.next,\r\n            toolTip: this.options.nextButtonLabel || lang.next,\r\n            'default': true,\r\n            disabled: (this.options.disableNext === undefined) ? true : this.options.disableNext,\r\n            separate: this.options.seperateNext || false,\r\n            isButton: false,\r\n            click: _.bind(this.onClickNextButton, this)\r\n          },\r\n            doneButton = {\r\n              id: 'done',\r\n              label: this.options.doneButtonLabel || lang.done,\r\n              toolTip: this.options.doneButtonLabel || lang.done,\r\n              'default': true,\r\n              disabled: (this.options.disableDone === undefined) ? true : this.options.disableDone,\r\n              separate: this.options.seperateDone || true,\r\n              click: _.bind(this.onClickDoneButton, this)\r\n            };\r\n          // If both are needed then both both buttons are added as default buttons\r\n          // else either next or done button is added to the defaultbuttons list.\r\n          if (this.options.nextButton && this.options.doneButton) {\r\n            defaultButtons.push(nextButton);\r\n            defaultButtons.push(doneButton);\r\n          }\r\n          else if (this.options.nextButton) {\r\n            defaultButtons.push(nextButton);\r\n          } else if (this.options.doneButton) {\r\n            defaultButtons.push(doneButton);\r\n          }\r\n          // Cancel button\r\n          defaultButtons.push(\r\n            {\r\n              id: 'cancel',\r\n              label: lang.cancel,\r\n              toolTip: lang.cancel,\r\n              separate: this.options.seperateCancel || true,\r\n              close: true\r\n            });\r\n\r\n          var buttons = this.options.buttons || defaultButtons;\r\n\r\n          if (buttons.length) {\r\n            this.ui.footer.removeClass('binf-hidden');\r\n          }\r\n          footerView = this.footerView = new ConwsWizardStepFooterView({\r\n            collection: new Backbone.Collection(buttons),\r\n            wizardView: this,\r\n            el: this.ui.footer[0]\r\n          });\r\n          this.listenTo(footerView, 'childview:click', this.onClickButton);\r\n          footerView.render();\r\n          this.footer.attachView(footerView);\r\n        }\r\n      }\r\n    });\r\n\r\n    _.extend(ConwsWizardStepView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n    return ConwsWizardStepView;\r\n\r\n  });\r\n\n","\ncsui.define('css!conws/controls/wizard/impl/wizard',[],function(){});\n","csui.define('conws/controls/wizard/wizard.view',['csui/lib/underscore',\r\n  'csui/controls/wizard/wizard.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/controls/wizard/step/wizard.step.view',\r\n  'css!conws/controls/wizard/impl/wizard'\r\n], function (_, WizardView, LayoutViewEventsPropagationMixin, ConwsWizardStepView) {\r\n\r\n  var ConwsWizardView = WizardView.extend({\r\n\r\n    constructor: function ConwsWizardView(options) {\r\n      options || (options = {});\r\n      WizardView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    // overriden and updated this function to call ConwsWizardStepView so as to customize the wizard step footer\r\n    getCurrentView: function () {\r\n      if (this.currentStep < this.stepViews.length) {\r\n        return this.stepViews[this.currentStep];\r\n      } else {\r\n        var stepNum = this.currentStep;\r\n        var view = new ConwsWizardStepView(_.extend(this.options.steps[stepNum],\r\n          { wizard: this, isFirstStep: this.isFirstStep(), isLastStep: this.isLastStep() }));\r\n        this.stepViews.push(view);\r\n        this.listenTo(view, 'next:clicked', this.nextStep)\r\n          .listenTo(view, 'previous:clicked', this.prevStep)\r\n          .listenTo(view, 'done:clicked', this.save)\r\n          .listenTo(view, 'close:wizard', this.closeWizard);\r\n        return view;\r\n      }\r\n    },\r\n\r\n    showCurrentView: function () {\r\n      //TODO: uncomment below line to get the steps in slide transition\r\n      //this.addDirection();\r\n      this.currentView.$el.removeClass('binf-hidden');\r\n      this.currentView.triggerMethod('set:initial:focus');\r\n    }\r\n  });\r\n\r\n  _.extend(ConwsWizardView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return ConwsWizardView;\r\n\r\n});\n","csui.define('conws/dialogs/addoreditrole/impl/tabbable.form.view',[\r\n    'csui/lib/jquery',\r\n    'csui/controls/form/form.view',\r\n    'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n], function ($, FormView, TabableRegionBehavior) {\r\n\r\n    var TabbableFormView = FormView.extend({\r\n\r\n        behaviors: {\r\n            TabablesBehavior: {\r\n                behaviorClass: TabableRegionBehavior,\r\n                recursiveNavigation: true,\r\n                containTabFocus: true\r\n            }\r\n        },\r\n\r\n        events: {\r\n            'keydown': 'onKeyInView'\r\n        },\r\n\r\n        isTabable: function () {\r\n            return this.$('*[tabindex]').length > 0;\r\n        },\r\n\r\n        currentlyFocusedElement: function (event) {\r\n            var readonly = !!this.$form && this.$form.find('.alpaca-readonly button'),\r\n                tabElements = this.$('*[tabindex]:visible');\r\n            if (tabElements.length) {\r\n                tabElements.prop('tabindex', 0);\r\n                if (readonly.length) {\r\n                    readonly.attr('tabindex', -1)\r\n                }\r\n            }\r\n            this.tabableElements = tabElements;\r\n            return $(tabElements[0]);\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n            var tabableEleLength = this.tabableElements.length;\r\n            if (tabableEleLength > 0 && event.keyCode === 9) {\r\n                if (event.shiftKey) {\r\n                    var index = this.tabableElements.index(event.target);\r\n                    var target = --index;\r\n                    if (target >= 0) {\r\n                        this._setFocus(event, target);\r\n                    }\r\n                } else {\r\n                    var index = this.tabableElements.index(event.target);\r\n                    var target = ++index;\r\n                    if (target < tabableEleLength) {\r\n                        this._setFocus(event, target);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _setFocus: function (event, target) {\r\n            this.tabableElements.eq(target).focus();\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n        }\r\n    });\r\n\r\n    // return view\r\n    return TabbableFormView;\r\n});      \n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"dashed-border\\\"></div>\\r\\n<div class=\\\"conws-addoreditrole-wizardstep-header\\\">\\r\\n    <span class=\\\"conws-addoreditrole-wizardstep1\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"Step1\") || (depth0 != null ? lookupProperty(depth0,\"Step1\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"Step1\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":50},\"end\":{\"line\":3,\"column\":59}}}) : helper)))\n    + \"</span>\\r\\n    <span class=\\\"conws-addoreditrole-wizardstep2\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"Step2\") || (depth0 != null ? lookupProperty(depth0,\"Step2\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"Step2\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":50},\"end\":{\"line\":4,\"column\":59}}}) : helper)))\n    + \"</span>\\r\\n    <span class=\\\"conws-addoreditrole-wizardstep3\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"Step3\") || (depth0 != null ? lookupProperty(depth0,\"Step3\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"Step3\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":50},\"end\":{\"line\":5,\"column\":59}}}) : helper)))\n    + \"</span>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleheader_impl_roleheader.view', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roleheader/roleheader.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view',\r\n  'css!conws/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view'\r\n], function (_, Marionette, lang, template) {\r\n\r\n  var RoleHeaderView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      StepHeaderRegion: '.conws-addoreditrole-wizardstep-header',\r\n    },\r\n\r\n    templateHelpers: {\r\n      Step1: lang.RoleStepName,\r\n      Step2: lang.PermissionsStepName,\r\n      Step3: lang.ParticipantsStepName\r\n    },\r\n\r\n    constructor: function RoleHeaderView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      this.connector = options.connector;\r\n\r\n      if (!!options.currentStep) {\r\n        this.listenTo(this, 'render', this._updateClasses);\r\n        _.bind(this._updateClasses, options);\r\n      }\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    _updateClasses: function (self) {\r\n\r\n      switch (self.options.currentStep) {\r\n        case \"step1\":\r\n          this.$el.find('.conws-addoreditrole-wizardstep1').addClass('conws-addoreditrole-wizardstep-header-active');\r\n          break;\r\n        case \"step2\":\r\n          this.$el.find('.conws-addoreditrole-wizardstep2').addClass('conws-addoreditrole-wizardstep-header-active');\r\n          break;\r\n        case \"step3\":\r\n          this.$el.find('.conws-addoreditrole-wizardstep3').addClass('conws-addoreditrole-wizardstep-header-active');\r\n          break;\r\n        default:\r\n        //nothing\r\n      }\r\n    }\r\n\r\n  });\r\n  // return view\r\n  return RoleHeaderView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roledetails/impl/roledetails',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-addoreditrole-roledetails\\\">\\r\\n    <div class=\\\"conws-addoreditrole-roledetails-header\\\">\\r\\n    </div>\\r\\n    <div class=\\\"conws-addoreditrole-roledetails-body\\\">\\r\\n        <div class=\\\"conws-addoreditrole-roledetails-left\\\">\\r\\n        </div>\\r\\n        <div class=\\\"conws-addoreditrole-roledetails-right\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roledetails_impl_roledetails', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roledetails/impl/roledetails',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roledetails/roledetails.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/models/form',\r\n  'conws/dialogs/addoreditrole/impl/tabbable.form.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/dialogs/addoreditrole/impl/roleheader/roleheader.view',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roledetails/impl/roledetails',\r\n  'css!conws/dialogs/addoreditrole/impl/roledetails/impl/roledetails'\r\n], function (_, $, Marionette, FormModel, TabbableFormView, LayoutViewEventsPropagationMixin, RoleHeaderView, TabableRegionBehavior, lang, template) {\r\n\r\n  var RoleDetailsView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      HeaderRegion: '.conws-addoreditrole-roledetails-header',\r\n      LeftRegion: '.conws-addoreditrole-roledetails-left',\r\n      RightRegion: '.conws-addoreditrole-roledetails-right'\r\n    },\r\n\r\n    templateHelpers: {\r\n    },\r\n\r\n    triggers: {\r\n      'keyup input': {\r\n        event : 'required:field:changed',\r\n        preventDefault: false,\r\n        stopPropagation: false\r\n      }\r\n    },\r\n\r\n    _createHeaderControl: function () {\r\n      var roleHeaderView = new RoleHeaderView({\r\n        headerViewoptions: this.options,\r\n        currentStep: 'step1'\r\n      });\r\n      return roleHeaderView;\r\n    },\r\n\r\n    constructor: function RoleDetailsView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      this.connector = options.connector;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      //Listen to events that are triggered from wizard.step.view\r\n      this.listenTo(this, 'set:initial:focus', this.onSetInitialFocus);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      var roleNameAndDescForm = {\r\n        \"data\": {\r\n          \"role_name\": this.options.addrole ? \"\" : this.options.name,\r\n          \"role_description\": this.options.addrole ? \"\" : this.options.description\r\n        },\r\n        \"options\": {\r\n          \"fields\": {\r\n            \"role_name\": {\r\n              \"hidden\": false,\r\n              \"hideInitValidationError\": true,\r\n              \"label\": lang.RoleName,\r\n              \"placeholder\": lang.RoleNamePlaceholder,\r\n              \"readonly\": false,\r\n              \"type\": \"text\"\r\n            },\r\n            \"role_description\": {\r\n              \"hidden\": false,\r\n              \"hideInitValidationError\": true,\r\n              \"label\": lang.RoleDesc,\r\n              \"placeholder\": lang.RoleDescPlaceholder,\r\n              \"readonly\": false,\r\n              \"type\": \"textarea\"\r\n            }\r\n          },\r\n          \"label\": \"\"\r\n        },\r\n        \"schema\": {\r\n          \"properties\": {\r\n            \"role_name\": {\r\n              \"maxLength\": 42,\r\n              \"readonly\": false,\r\n              \"required\": true,\r\n              \"title\": lang.RoleName,\r\n              \"type\": \"string\"\r\n            },\r\n            \"role_description\": {\r\n              \"readonly\": false,\r\n              \"required\": false,\r\n              \"title\": lang.RoleDesc,\r\n              \"type\": \"string\",\r\n              \"maxLength\": 450\r\n            }\r\n          },\r\n          \"type\": \"object\"\r\n        }\r\n      },\r\n        team_lead = this.options.addrole ? (this.options.isFirstRole ? true : false) : this.options.team_lead,\r\n        TeamLeadForm = {\r\n          \"data\": {\r\n            \"team_lead\": team_lead\r\n          },\r\n          \"options\": {\r\n            \"fields\": {\r\n              \"team_lead\": {\r\n                \"hidden\": false,\r\n                \"hideInitValidationError\": true,\r\n                \"label\": lang.TeamLead,\r\n                \"readonly\": team_lead ? true : false,\r\n                \"type\": \"checkbox\"\r\n              }\r\n            },\r\n            \"label\": \"\"\r\n          },\r\n          \"schema\": {\r\n            \"properties\": {\r\n              \"team_lead\": {\r\n                \"readonly\": team_lead ? true : false,\r\n                \"required\": false,\r\n                \"title\": lang.TeamLead,\r\n                \"type\": \"boolean\"\r\n              }\r\n            },\r\n            \"type\": \"object\"\r\n          }\r\n        },\r\n        roleNameAndDescFormView = new TabbableFormView({\r\n          mode: 'create',\r\n          model: new FormModel(roleNameAndDescForm)\r\n        }),\r\n        TeamLeadFormView = new TabbableFormView({\r\n          mode: 'create',\r\n          model: new FormModel(TeamLeadForm)\r\n        });\r\n\r\n      this.HeaderRegion.show(this._createHeaderControl());\r\n      this.LeftRegion.show(roleNameAndDescFormView);\r\n      this.RightRegion.show(TeamLeadFormView);\r\n\r\n    },\r\n\r\n    onAfterShow: function(){\r\n     this.onSetInitialFocus();\r\n    },\r\n\r\n    onSetInitialFocus: function(){\r\n      //set initial focus on this element\r\n      this.LeftRegion.currentView.$el.find(\"[data-alpaca-container-item-name='role_name'] input[type='text']\").focus();\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(RoleDetailsView.prototype, LayoutViewEventsPropagationMixin);\r\n  // return view\r\n  return RoleDetailsView;\r\n});\n","csui.define('conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions.title.view',[\r\n  'csui/lib/handlebars',\r\n  'csui/lib/marionette'\r\n], function (Handlebars, Marionette) {\r\n\r\n  TitleView = Marionette.ItemView.extend({\r\n\r\n    template: Handlebars.compile('{{title}}'),\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        title: this.model.get('title')\r\n      }\r\n    },\r\n    constructor: function TitleView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.model, 'change', this.render);\r\n    }\r\n  });\r\n\r\n  return TitleView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-addoreditrole-rolepermissions\\\">\\r\\n    <div class=\\\"conws-addoreditrole-rolepermissions-header\\\"></div>\\r\\n    <div class=\\\"conws-addoreditrole-rolepermissions-picker-header\\\">\\r\\n        <div class=\\\"conws-addoreditrole-rolepermissions-left\\\">\\r\\n            <div class=\\\"conws-addoreditrole-rolepermissions-back\\\"></div>\\r\\n            <div class=\\\"conws-addoreditrole-rolepermissions-title\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"conws-addoreditrole-rolepermissions-right\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"conws-addoreditrole-rolepermissions-picker\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_rolepermissions_impl_rolepermissions', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/rolepermissions/rolepermissions.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/models/form',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/dialogs/addoreditrole/impl/tabbable.form.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/widgets/permissions/edit/permission.level.selector/permission.level.selector.view',\r\n  'csui/widgets/permissions/edit/permission.attributes/permission.attributes.view',\r\n  'csui/models/permission/nodepermission.model',\r\n  'conws/dialogs/addoreditrole/impl/roleheader/roleheader.view',\r\n  'conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions.title.view',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions',\r\n  'i18n',\r\n  'css!conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions'\r\n], function (_, $, Backbone, Marionette, FormModel, TabableRegionBehavior, TabbableFormView, LayoutViewEventsPropagationMixin,\r\n  PermissionLevelSelectorView, PermissionAttributesView, NodePermissionModel, RoleHeaderView, TitleView, lang, template, i18n) {\r\n\r\n    var BackButtonView = Marionette.ItemView.extend({\r\n\r\n      template: false,\r\n\r\n      tagName: 'div',\r\n\r\n      className: 'conws-addoreditrole-rolepermissions-backbtn icon circular arrow_back cs-go-back binf-hidden',\r\n\r\n      attributes: {\r\n        title: lang.backButtonTooltip,\r\n        'aria-label': lang.backButtonAria,\r\n        role: 'link'\r\n      },\r\n\r\n      constructor: function BackButtonView(options) {\r\n        Marionette.View.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      behaviors: {\r\n        TabableRegion: {\r\n          behaviorClass: TabableRegionBehavior\r\n        }\r\n      },\r\n\r\n      currentlyFocusedElement: function () {\r\n        return this.$el;\r\n      }\r\n    });\r\n\r\n    var RolePermissionsView = Marionette.LayoutView.extend({\r\n\r\n      template: template,\r\n\r\n      regions: {\r\n        HeaderRegion: '.conws-addoreditrole-rolepermissions-header',\r\n        PickerRegion: '.conws-addoreditrole-rolepermissions-picker',\r\n        TitleRegion: '.conws-addoreditrole-rolepermissions-title',\r\n        RightRegion: '.conws-addoreditrole-rolepermissions-right',\r\n        BackButtonRegion: '.conws-addoreditrole-rolepermissions-back'\r\n      },\r\n\r\n      templateHelpers: {\r\n        'title': lang.selectPermissionLevel,\r\n        'backButtonTooltip': lang.backButtonTooltip,\r\n        'backButtonAria': lang.backButtonAria\r\n      },\r\n\r\n      events: {\r\n        'click .conws-addoreditrole-rolepermissions-back': 'onBackSelection',\r\n        'keydown .conws-addoreditrole-rolepermissions-back': 'onBackKeySelection'\r\n      },\r\n\r\n      _createHeaderControl: function () {\r\n        var roleHeaderView = new RoleHeaderView({\r\n          headerViewoptions: this.options,\r\n          currentStep: 'step2'\r\n        });\r\n        return roleHeaderView;\r\n      },\r\n\r\n      constructor: function RolePermissionsView(options) {\r\n        options || (options = {});\r\n\r\n        this.context = options.context;\r\n        this.connector = options.connector;\r\n\r\n        // apply properties to parent\r\n        Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n        //Listen to events that are triggered from wizard.step.view\r\n        this.listenTo(this, 'set:initial:focus', this.onSetInitialFocus);\r\n\r\n        // propagate events to regions\r\n        this.propagateEventsToRegions();\r\n      },\r\n\r\n      onRender: function () {\r\n\r\n        var SubItemsInheritForm = {\r\n          \"data\": {\r\n            \"subitems_inherit\": true\r\n          },\r\n          \"options\": {\r\n            \"fields\": {\r\n              \"subitems_inherit\": {\r\n                \"hidden\": false,\r\n                \"hideInitValidationError\": true,\r\n                \"label\": lang.SubItemsInherit,\r\n                \"readonly\": false,\r\n                \"type\": \"checkbox\"\r\n              }\r\n            },\r\n            \"label\": \"\"\r\n          },\r\n          \"schema\": {\r\n            \"properties\": {\r\n              \"subitems_inherit\": {\r\n                \"readonly\": false,\r\n                \"required\": false,\r\n                \"title\": lang.SubItemsInherit,\r\n                \"type\": \"boolean\"\r\n              }\r\n            },\r\n            \"type\": \"object\"\r\n          }\r\n        },\r\n\r\n          permissionLevelView = new PermissionLevelSelectorView({\r\n            selected: this.options.addrole ? 1 : this.options.model.getPermissionLevel(),\r\n            isContainer: this.options.isContainer,\r\n            nodeModel: this.options.nodeModel,\r\n            permissionModel: this.options.model\r\n          }),\r\n\r\n          SubItemsInheritFormView = new TabbableFormView({\r\n            model: new FormModel(SubItemsInheritForm),\r\n            mode: \"create\"\r\n          });\r\n\r\n        this.titleView = new TitleView({\r\n          model: new Backbone.Model({\r\n            title: lang.selectPermissionLevel\r\n          })\r\n        });\r\n\r\n        if (!this.options.addrole) {\r\n          this.lastSelectedPermLevel = this.options.model.getPermissionLevel();\r\n          if (this.options.model.getPermissionLevel() === NodePermissionModel.PERMISSION_LEVEL_CUSTOM) {\r\n            this.lastSelectedCustomPermissions = this.options.model.get('permissions');\r\n          }\r\n        }\r\n\r\n        permissionLevelView.on('permission:level:selected', this.onPermissionLevelSelection, this);\r\n        this.HeaderRegion.show(this._createHeaderControl());\r\n        this.PickerRegion.show(permissionLevelView);\r\n        this.RightRegion.show(SubItemsInheritFormView);\r\n        this.TitleRegion.show(this.titleView);\r\n        this.BackButtonRegion.show(new BackButtonView());\r\n      },\r\n\r\n      onPermissionLevelSelection: function () {\r\n        var view = this.PickerRegion.currentView;\r\n        if (view && view.selected === NodePermissionModel.PERMISSION_LEVEL_CUSTOM) {\r\n          //Replace current view with custom permission view\r\n          var customPermissionView = new PermissionAttributesView({\r\n            permissions: !!this.lastSelectedCustomPermissions ? this.lastSelectedCustomPermissions : [],\r\n            readonly: false,\r\n            showButtons: false,\r\n            node: this.options.nodeModel\r\n          });\r\n\r\n          this.titleView.model.set('title', lang.simplePermissionSelection);\r\n          this.$el.find('.conws-addoreditrole-rolepermissions-backbtn').removeClass('binf-hidden').focus();\r\n          this.BackButtonRegion.currentView.trigger(\"dom:refresh\");\r\n          this.PickerRegion.show(customPermissionView);\r\n          this.isCustom = true;\r\n\r\n          // adjusting split bar and separator positions\r\n          customPermissionView.trigger('adjust:splitbar:separator');\r\n        }\r\n        else {\r\n          this.lastSelectedPermLevel = view.selected;\r\n        }\r\n      },\r\n\r\n      onBackSelection: function () {\r\n        this.lastSelectedCustomPermissions = this.PickerRegion.currentView.getSelectedPermissions();\r\n        this.titleView.model.set('title', lang.selectPermissionLevel);\r\n        this.$el.find('.conws-addoreditrole-rolepermissions-backbtn').addClass('binf-hidden');\r\n        this.BackButtonRegion.currentView.trigger(\"dom:refresh\");\r\n        var permissionLevelView = new PermissionLevelSelectorView({\r\n          selected: !!this.lastSelectedPermLevel ? this.lastSelectedPermLevel : 1,\r\n          isContainer: this.options.isContainer,\r\n          nodeModel: this.options.nodeModel\r\n        })\r\n        this.PickerRegion.show(permissionLevelView);\r\n        permissionLevelView.on('permission:level:selected', this.onPermissionLevelSelection, this);\r\n\r\n        // On back selection, set the focus on custom permission level\r\n        this.PickerRegion.currentView.$el.find(\"li[data-optionid='\" + NodePermissionModel.PERMISSION_LEVEL_NONE + \"'] a\").focus();\r\n      },\r\n\r\n      onBackKeySelection: function (event) {\r\n        if (event.keyCode === 13) {\r\n          this.onBackSelection();\r\n        }\r\n      },\r\n\r\n      onAfterShow: function () {\r\n        this.onSetInitialFocus();\r\n      },\r\n\r\n      onSetInitialFocus: function () {\r\n        //set initial focus on this element\r\n        this.RightRegion.currentView.$el.find(\"[data-alpaca-container-item-name='subitems_inherit'] input[type='checkbox']\").focus();\r\n      }\r\n\r\n    });\r\n    // add mixin\r\n    _.extend(RolePermissionsView.prototype, LayoutViewEventsPropagationMixin);\r\n    // return view\r\n    return RolePermissionsView;\r\n  });\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/avatar/impl/avatar',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"participant-picture\\\">\\r\\n  <span class=\\\"csui-icon binf-img-circle\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"display_name\") || (depth0 != null ? lookupProperty(depth0,\"display_name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"display_name\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":54},\"end\":{\"line\":2,\"column\":70}}}) : helper)))\n    + \"\\\"></span>\\r\\n  <img class=\\\"csui-icon binf-img-circle\\\" alt=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"display_name\") || (depth0 != null ? lookupProperty(depth0,\"display_name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"display_name\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":46},\"end\":{\"line\":3,\"column\":62}}}) : helper)))\n    + \"\\\">\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_avatar_impl_avatar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/avatar/impl/avatar',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/avatar/avatar.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/url',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/controls/avatar/impl/avatar',\r\n  'css!conws/widgets/team/impl/controls/avatar/impl/avatar'\r\n], function (_, $, Marionette, Url, lang, template) {\r\n\r\n  var AvatarView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        type: this.model.getMemberType()\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      profileImage: '.participant-picture > img',\r\n      profileImageDefault: '.participant-picture > span'\r\n    },\r\n\r\n    // constructor for the 'add participant' listitem\r\n    constructor: function AvatarView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onRender: function () {\r\n      // render profile image\r\n      this._displayProfileImage();\r\n    },\r\n\r\n    _displayProfileImage: function () {\r\n      var photoUrl = this._getUserPhotoUrl();\r\n      // esoc-userprofile-img-{userid} - the common class for all profile pictures of given userid\r\n      this.ui.profileImage.addClass(\"esoc-userprofile-img-\" + this.model.get('id'));\r\n      if (photoUrl) {\r\n        var getPhotoOptions = this.model.connector.extendAjaxOptions({\r\n          url: photoUrl,\r\n          dataType: 'binary'\r\n        });\r\n        this._releasePhotoUrl();\r\n        this.model.connector.makeAjaxCall(getPhotoOptions)\r\n            .always(_.bind(function (response, statusText, jqxhr) {\r\n              if (jqxhr.status === 200) {\r\n                this.photoUrl = URL.createObjectURL(response);\r\n                this.ui.profileImage.attr(\"src\", this.photoUrl);\r\n                this.ui.profileImageDefault.remove();\r\n              } else {\r\n                this.ui.profileImage.remove();\r\n                this.ui.profileImageDefault.addClass(this._getPlaceholderImageClass());\r\n              }\r\n            }, this));\r\n      } else {\r\n        this.ui.profileImage.remove();\r\n        this.ui.profileImageDefault.addClass(this._getPlaceholderImageClass());\r\n      }\r\n    },\r\n\r\n    _getUserPhotoUrl: function () {\r\n      var connection = this.model.connector.connection,\r\n          cgiUrl     = new Url(connection.url).getCgiScript(),\r\n          memberId   = this.model.get('id'),\r\n          photoId    = this.model.get('photo_id');\r\n      // If the photo id is not set, there was a problem retrieving it. It\r\n      // does not make sense to try it once more from the client side, waste\r\n      // time and server resources and litter the log by 404 errors.\r\n      if (photoId) {\r\n        // constant REST api path, because the service is not returning the photo_url\r\n        var photoPath = _.str.sformat('api/v1/members/{0}/photo?v={1}', memberId, photoId);\r\n        return Url.combine(cgiUrl, photoPath);\r\n      }\r\n    },\r\n\r\n    _getPlaceholderImageClass: function () {\r\n      return (this.model.getMemberType() === 'user')\r\n          ? 'conws-avatar-user-placeholder'\r\n          : (this.model.getMemberType() === 'group')\r\n                 ? 'conws-avatar-group-placeholder'\r\n                 : 'conws-avatar-role-placeholder';\r\n    },\r\n\r\n    _releasePhotoUrl: function () {\r\n      if (this.photoUrl) {\r\n        URL.revokeObjectURL(this.photoUrl);\r\n      }\r\n    }\r\n  });\r\n\r\n  return AvatarView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"participant-content binf-pull-left\\\"></div>\\r\\n<div class=\\\"participant-delete binf-pull-right\\\"></div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleparticipants_impl_participant.listitem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.details',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"participant-picture binf-pull-left\\\"></div>\\r\\n<div class=\\\"participant-info binf-pull-left\\\">\\r\\n  <span class=\\\"name binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":43},\"end\":{\"line\":3,\"column\":51}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":53},\"end\":{\"line\":3,\"column\":61}}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"email binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"email\") || (depth0 != null ? lookupProperty(depth0,\"email\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"email\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":44},\"end\":{\"line\":4,\"column\":53}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"email\") || (depth0 != null ? lookupProperty(depth0,\"email\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"email\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":55},\"end\":{\"line\":4,\"column\":64}}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"title binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":44},\"end\":{\"line\":5,\"column\":53}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":55},\"end\":{\"line\":5,\"column\":64}}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"department binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"department\") || (depth0 != null ? lookupProperty(depth0,\"department\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"department\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":49},\"end\":{\"line\":6,\"column\":63}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"department\") || (depth0 != null ? lookupProperty(depth0,\"department\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"department\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":65},\"end\":{\"line\":6,\"column\":79}}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"office binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"office\") || (depth0 != null ? lookupProperty(depth0,\"office\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"office\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":45},\"end\":{\"line\":7,\"column\":55}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"office\") || (depth0 != null ? lookupProperty(depth0,\"office\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"office\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":67}}}) : helper)))\n    + \"</span>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.listitem.details', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.delete',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"remove csui-icon conws-icon-cross\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":57},\"end\":{\"line\":1,\"column\":63}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeParticipant\") || (depth0 != null ? lookupProperty(depth0,\"removeParticipant\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeParticipant\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":72},\"end\":{\"line\":1,\"column\":93}}}) : helper)))\n    + \"\\\"\\r\\n    aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeParticipantAria\") || (depth0 != null ? lookupProperty(depth0,\"removeParticipantAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeParticipantAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":16},\"end\":{\"line\":2,\"column\":41}}}) : helper)))\n    + \"\\\"></span>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleparticipants_impl_participant.listitem.delete', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/utils/contexts/factories/user',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.details',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.delete',\r\n  'css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem'\r\n], function (_, $, Marionette, TabableRegionBehavior, LayoutViewEventsPropagationMixin,\r\n  UserModelFactory, UserWidget, Avatar, lang, itemTemplate, detailsTemplate,\r\n  deleteTemplate) {\r\n\r\n    var ParticipantPropertiesView = Marionette.ItemView.extend({\r\n\r\n      template: detailsTemplate,\r\n\r\n      templateHelpers: function () {\r\n        return {\r\n          type: this.model.getMemberType(),\r\n          name: this.model.displayName(),\r\n          email: this.model.displayEmail(),\r\n          title: this.model.displayTitle(),\r\n          department: this.model.displayDepartment(),\r\n          office: this.model.displayOffice()\r\n        };\r\n      },\r\n\r\n      ui: {\r\n        personalizedImage: '.csui-icon-user',\r\n        defaultImage: '.csui-icon-paceholder'\r\n      },\r\n\r\n      // constructor for the 'add participant' listitem\r\n      constructor: function ParticipantPropertiesView(options) {\r\n        options || (options = {});\r\n\r\n        // apply properties to parent\r\n        Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      initialize: function () {\r\n        this.avatar = new Avatar({ model: this.model });\r\n      },\r\n\r\n      onRender: function () {\r\n        // render profile image\r\n        if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n          var loggedUser = this.model.collection.context.getModel(UserModelFactory),\r\n            userProfilePicOptions = {\r\n              connector: this.model.connector,\r\n              model: this.model,\r\n              userid: this.model.get('id'),\r\n              context: this.model.collection.context,\r\n              showUserProfileLink: true,\r\n              showMiniProfile: true,\r\n              loggedUserId: loggedUser.get('id'),\r\n              placeholder: this.$el.find('.participant-picture'),\r\n              showUserWidgetFor: 'profilepic'\r\n            };\r\n          UserWidget.getUser(userProfilePicOptions);\r\n        }\r\n        else {\r\n          this.$('.participant-picture').append(this.avatar.render().$el);\r\n        }\r\n      }\r\n    });\r\n\r\n    var ParticipantDeleteView = Marionette.ItemView.extend({\r\n\r\n      template: deleteTemplate,\r\n\r\n      templateHelpers: function () {\r\n        return {\r\n          removeParticipant: lang.addParticipantsRemove,\r\n          removeParticipantAria: _.str.sformat(lang.removeParticipantAria, this.model.displayName())           \r\n        };\r\n      },\r\n\r\n      events: {\r\n        'click .remove': 'onRemoveOnClick',\r\n        'keydown .remove': 'onRemoveOnKeyDown'\r\n      },\r\n\r\n      behaviors: {\r\n        TabableRegion: {\r\n          behaviorClass: TabableRegionBehavior\r\n        }\r\n      },\r\n\r\n      constructor: function ParticipantDeleteView(options) {\r\n        options || (options = {});\r\n\r\n        // apply properties to parent\r\n        Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      onRemoveOnClick: function (e) {\r\n        // stop propagation\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // remove participant\r\n        this.model.collection.remove(this.model);\r\n      },\r\n\r\n      onRemoveOnKeyDown: function (e) {\r\n        // Enter, Space or DEL?\r\n        if (e.keyCode === 13 || e.keyCode === 32 || e.keyCode === 46) {\r\n          // stop propagation\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          // remove participant\r\n          this.model.collection.remove(this.model);\r\n        }\r\n      },\r\n\r\n      // delete button is focused\r\n      currentlyFocusedElement: function () {\r\n        return this.$('.remove');\r\n      }\r\n    });\r\n\r\n    var ParticipantListItemView = Marionette.LayoutView.extend({\r\n\r\n      template: itemTemplate,\r\n\r\n      tagName: 'li',\r\n\r\n      className: 'binf-list-group-item conws-participant',\r\n\r\n      regions: {\r\n        content: '.participant-content',\r\n        delete: '.participant-delete'\r\n      },\r\n\r\n      // constructor for the 'add participant' listitem\r\n      constructor: function ParticipantListItemView(options) {\r\n        options || (options = {});\r\n\r\n        // apply properties to parent\r\n        Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n        // listen to the change of the model\r\n        this.listenTo(this.model, 'remove', this.onParticipantRemove);\r\n\r\n        // propagate events to regions\r\n        this.propagateEventsToRegions();\r\n      },\r\n\r\n      onRender: function () {\r\n        // render content\r\n        this.content.show(\r\n          new ParticipantPropertiesView({\r\n            model: this.model\r\n          }));\r\n        // render remove button\r\n        this.delete.show(\r\n          new ParticipantDeleteView({\r\n            model: this.model\r\n          }));\r\n      },\r\n\r\n      onParticipantRemove: function () {\r\n        this._parent.selectedIndex = this._index;\r\n      }\r\n    });\r\n\r\n    // add mixin\r\n    _.extend(ParticipantListItemView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n    // return view\r\n    return ParticipantListItemView;\r\n  });\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-addoreditrole-emptyroleparticipants\\\">\\r\\n    <div class=\\\"conws-addoreditrole-emptyroleparticipants conws-empty_team\\\"></div>\\r\\n    <div class=\\\"conws-addoreditrole-emptyroleparticipants-msg\\\">\\r\\n        <p>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"message\") || (depth0 != null ? lookupProperty(depth0,\"message\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"message\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":11},\"end\":{\"line\":4,\"column\":22}}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleparticipants_impl_empty.roleparticipants', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants',\r\n  'css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants'\r\n], function (_, Marionette, lang, template) {\r\n\r\n  var EmptyRoleParticipantsView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    templateHelpers: {\r\n      message: lang.rolePartcipantsWithNoparticipantsMessage\r\n    },\r\n\r\n    constructor: function EmptyRoleParticipantsView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      this.connector = options.connector;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n  // return view\r\n  return EmptyRoleParticipantsView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-addoreditrole-roleparticipants\\\">\\r\\n  <div class=\\\"conws-addoreditrole-roleparticipants-header\\\"></div>\\r\\n  <div class=\\\"conws-addoreditrole-roleparticipants-body\\\">\\r\\n    <div class=\\\"conws-addoreditrole-roleparticipants-left\\\">\\r\\n      <div class=\\\"conws-addoreditrole-roleparticipants-userpicker-title\\\">\\r\\n        \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":8},\"end\":{\"line\":6,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"conws-addoreditrole-roleparticipants-right\\\">\\r\\n      <div class=\\\"conws-addoreditrole-roleparticipants-search\\\">\\r\\n        <div class=\\\"conws-addoreditrole-roleparticipants-userpicker\\\">\\r\\n          <!-- user picker region -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"conws-addoreditrole-roleparticipants-members-body\\\">\\r\\n    <div class=\\\"conws-addoreditrole-roleparticipants-members\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleparticipants_impl_roleparticipants', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roleparticipants/roleparticipants.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'conws/widgets/team/impl/participant.model',\r\n  'conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.view',\r\n  'conws/dialogs/addoreditrole/impl/roleheader/roleheader.view',\r\n  'conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants.view',\r\n  'csui/controls/userpicker/userpicker.view',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants',\r\n  'css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants'\r\n], function (_, Backbone, Marionette, base,\r\n  LayoutViewEventsPropagationMixin, PerfectScrollingBehavior, Participant,\r\n  ParticipantListItemView, RoleHeaderView, EmptyRoleParticipantsView, UserPicker, lang, template) {\r\n\r\n    var ParticipantsListCollectionView = Marionette.CollectionView.extend({\r\n\r\n      tagName: 'ul',\r\n\r\n      className: 'binf-list-group',\r\n\r\n      childView: ParticipantListItemView,\r\n\r\n      constructor: function ParticipantsListCollectionView(options) {\r\n        Marionette.CollectionView.call(this, options);\r\n      },\r\n\r\n      onRemoveChild: function (childView) {\r\n        //listen to change the focus\r\n        this.moveTabIndex(childView);\r\n      },\r\n\r\n      moveTabIndex: function (childView) {\r\n        var numberOfChildren = this.children && this.children.length;\r\n        if (numberOfChildren) {\r\n          var targetIndex = this.selectedIndex;\r\n          if (targetIndex !== undefined) {\r\n            if (targetIndex === numberOfChildren) {\r\n              targetIndex = targetIndex - 1;\r\n            }\r\n            var targetModel = this.collection.at(targetIndex);\r\n            if(targetModel) {\r\n              var newFocus = this.children.findByModel(targetModel);\r\n              newFocus && newFocus.$el.find('.participant-delete .conws-icon-cross').focus();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    var RoleParticipantsView = Marionette.LayoutView.extend({\r\n\r\n      template: template,\r\n\r\n      regions: {\r\n        HeaderRegion: '.conws-addoreditrole-roleparticipants-header',\r\n        userPickerRegion: '.conws-addoreditrole-roleparticipants-userpicker',\r\n        participantsRegion: '.conws-addoreditrole-roleparticipants-members'\r\n      },\r\n\r\n      behaviors: {\r\n        PerfectScrolling: {\r\n          behaviorClass: PerfectScrollingBehavior,\r\n          contentParent: '.conws-addoreditrole-roleparticipants-members',\r\n          suppressScrollX: true\r\n        }\r\n      },\r\n\r\n      templateHelpers: {\r\n        'title': lang.participantsTitle\r\n      },\r\n\r\n      _createHeaderControl: function () {\r\n        var roleHeaderView = new RoleHeaderView({\r\n          headerViewoptions: this.options,\r\n          currentStep: 'step3'\r\n        });\r\n        return roleHeaderView;\r\n      },\r\n\r\n      _createEmptyRoleParticipantsView: function () {\r\n        var emptyRoleParticipantsView = new EmptyRoleParticipantsView({\r\n          options: this.options\r\n        });\r\n        return emptyRoleParticipantsView;\r\n      },\r\n\r\n      _createParticipantsListCollectionView: function () {\r\n        var participantsListCollectionView = new ParticipantsListCollectionView({\r\n          context: this.context,\r\n          collection: _.extend(new Backbone.Collection(), {\r\n            context: this.context,\r\n            node: this.options.nodeModel,\r\n            comparator: function (left, right) {\r\n              return base.localeCompareString(left.get('display_name'), right.get('display_name'));\r\n            }\r\n          })\r\n        });\r\n        return participantsListCollectionView;\r\n      },\r\n\r\n      constructor: function RoleParticipantsView(options) {\r\n        options || (options = {});\r\n\r\n        this.context = options.context;\r\n        this.connector = options.connector;\r\n\r\n        // apply properties to parent\r\n        Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n        //Listen to events that are triggered from wizard.step.view\r\n        this.listenTo(this, 'set:initial:focus', this.onSetInitialFocus);\r\n\r\n        // propagate events to regions\r\n        this.propagateEventsToRegions();\r\n      },\r\n\r\n      onRender: function () {\r\n        // user picker\r\n        var user = new UserPicker({\r\n          context: this.context,\r\n          limit: 20,\r\n          clearOnSelect: true,\r\n          placeholder: lang.roleParticipantsUserPickerPlaceholder,\r\n          disabledMessage: lang.roleParticipantsDisabledMemberMessage,\r\n          onRetrieveMembers: _.bind(this.retrieveMembersCallback, this),\r\n          prettyScrolling: true,\r\n          initialActivationWeight: 100\r\n        });\r\n        this.HeaderRegion.show(this._createHeaderControl());\r\n        this.userPickerRegion.show(user);\r\n        user.$(\".cs-search-icon\").attr(\"aria-label\", lang.roleParticipantsSearchAria);\r\n        this.listenTo(user, 'item:change', this.onUserItemChanged);\r\n\r\n        // participants list\r\n        var participants = this._createParticipantsListCollectionView();\r\n\r\n        // On edit role page. show existing participants while rendering\r\n        if (!this.options.addrole && this.options.model) {\r\n          _.each(this.options.model.get(\"members\"), function (member) {\r\n            var participant = new Participant(member, {\r\n              connector: this.connector,\r\n              collection: this.participants\r\n            });\r\n            participants.collection.add(participant);\r\n          }, this)\r\n        }\r\n\r\n        // participants collection\r\n        this.participants = participants.collection;\r\n        this.participantView = participants;\r\n        this.listenTo(this.participants, 'reset add change', this.onParticipantsChanged);\r\n        this.listenTo(this.participants, 'remove', this.onParticipantsRemove);\r\n\r\n        if (participants.collection.length === 0) {\r\n          this.participantsRegion.show(this._createEmptyRoleParticipantsView());\r\n        } else {\r\n          this.participantsRegion.show(participants);\r\n          this.participantsRegion.$el.addClass(\"conws-addoreditrole-roleparticipants-members-exist\");\r\n        }\r\n      },\r\n\r\n      onAfterShow: function () {\r\n        _.each(this.participantView.children._views, function (view) {\r\n          view.delete && view.delete.currentView && view.delete.currentView.trigger(\"dom:refresh\");\r\n        }, this)\r\n        this.onSetInitialFocus();\r\n      },\r\n\r\n      onSetInitialFocus: function () {\r\n        //set initial focus on this element\r\n        this.userPickerRegion.currentView.$el.find(\"[class='csui-control-userpicker'] input[type='text']\").focus();\r\n      },\r\n\r\n      onUserItemChanged: function (e) {\r\n        // if member is disabled prevent from being added\r\n        if (e.item.get('disabled')) {\r\n          return;\r\n        }\r\n        // otherwise create participant and ...\r\n        var attributes = _.extend(e.item.attributes, {\r\n          display_name: e.item.get('name_formatted')\r\n        });\r\n        var participant = new Participant(attributes, {\r\n          connector: this.connector,\r\n          collection: this.participants\r\n        });\r\n        // ... add to participants list\r\n        if (this.participants.length === 0) {\r\n          this.participantsRegion.$el.addClass(\"conws-addoreditrole-roleparticipants-members-exist\");\r\n          var participants = this._createParticipantsListCollectionView();\r\n          participants.collection = this.participants;\r\n          participants.collection.add(participant);\r\n          this.participantsRegion.show(participants);\r\n          this.listenTo(participants.collection, 'reset add change', this.onParticipantsChanged);\r\n          this.listenTo(participants.collection, 'remove', this.onParticipantsRemove);\r\n          this.trigger('update:scrollbar');\r\n        } else {\r\n          this.participants.add(participant);\r\n        }\r\n      },\r\n\r\n      retrieveMembersCallback: function (args) {\r\n        var self = this;\r\n\r\n        // check team members and dialog members and if the\r\n        // participant is found disable it in the results.\r\n        args.collection.each(function (current) {\r\n          var exists = false;\r\n          if (self.participants.findWhere({ id: current.get('id') })) {\r\n            exists = true;\r\n          }\r\n          current.set('disabled', exists);\r\n        });\r\n      },\r\n\r\n      onParticipantsRemove: function () {\r\n        this.onParticipantsChanged();\r\n        if (this.participants && this.participants.length === 0) {\r\n          this.userPickerRegion.currentView.currentlyFocusedElement().focus();\r\n          // when there are no participants show emptyRoleParticipantsView\r\n          this.participantsRegion.$el.removeClass(\"conws-addoreditrole-roleparticipants-members-exist\");\r\n          this.participantsRegion.show(this._createEmptyRoleParticipantsView());\r\n        }\r\n      },\r\n\r\n      onParticipantsChanged: function () {\r\n        // whenever the participants change, update the perfect scrollbar\r\n        this.trigger('update:scrollbar');\r\n      }\r\n    });\r\n\r\n    // add mixin\r\n    _.extend(RoleParticipantsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n    // return view\r\n    return RoleParticipantsView;\r\n  });\r\n\n","csui.define('conws/dialogs/addoreditrole/addoreditrole.wizard',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/utils/contexts/factories/connector',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'csui/utils/log',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/models/permission/nodepermission.model',\r\n  'conws/controls/wizard/wizard.view',\r\n  'conws/dialogs/addoreditrole/impl/roledetails/roledetails.view',\r\n  'conws/dialogs/addoreditrole/impl/rolepermissions/rolepermissions.view',\r\n  'conws/dialogs/addoreditrole/impl/roleparticipants/roleparticipants.view',\r\n], function (_, $, ConnectorFactory, lang, log, BlockingView, NodePermissionModel, WizardView, RoleDetailsView, RolePermissionsView, RoleParticipantsView) {\r\n  \"use strict\";\r\n\r\n  var defaultOptions = {\r\n    initialSelection: [],\r\n    dialogTitle: lang.dialogTitle\r\n  };\r\n\r\n  function addOrEditRoleWizard(options) {\r\n    options || (options = {});\r\n    this.options = _.defaults(options, defaultOptions);\r\n    this.options.connector || (this.options.connector = this._getConnector(this.options));\r\n\r\n    if (!this.options.connector) {\r\n      var msg = lang.missingConnector;\r\n      log.error(msg) && console.error(msg);\r\n      throw new Error(msg);\r\n    }\r\n  }\r\n\r\n  _.extend(addOrEditRoleWizard.prototype, {\r\n\r\n    show: function () {\r\n      this._showWizard();\r\n      this._deferred = $.Deferred();\r\n      return this._deferred.promise();\r\n    },\r\n\r\n    _showWizard: function () {\r\n      this._steps = this._createWizardSteps();\r\n      this._wizard = new WizardView({ steps: this._steps });\r\n      BlockingView.imbue(this._wizard);\r\n      this._wizard.show(this._wizard.options);\r\n      this._wizard.on('save:result', this.onClickFinishButton, this);\r\n      this._wizard.on('closing:wizard', this.onClickCancelButton, this);\r\n    },\r\n\r\n    _RoleDetailsView: function () {\r\n      var roleDetailsView = new RoleDetailsView({\r\n        addrole: this.options.addrole,\r\n        teamLead: true,\r\n        isFirstRole: this.options.isFirstRole\r\n      });\r\n      if (!this.options.addrole && this.options.model && this.options.model.get(\"right_id_expand\")) {\r\n        roleDetailsView.options.name = this.options.model.get(\"right_id_expand\").name,\r\n          roleDetailsView.options.description = this.options.model.get(\"right_id_expand\").description,\r\n          roleDetailsView.options.team_lead = this.options.model.get(\"right_id_expand\").team_lead\r\n      }\r\n      roleDetailsView.on('required:field:changed', function () {\r\n        var rolename_length = roleDetailsView.LeftRegion.currentView.$el.find(\"div[data-alpaca-container-item-name='role_name']\").find(\"input[type='text']\").val().length;\r\n        if (rolename_length) {\r\n          this._wizard.currentView.updateButton('next', { disabled: false });\r\n          this._wizard.currentView.updateButton('done', { disabled: false });\r\n        } else {\r\n          this._wizard.currentView.updateButton('next', { disabled: true });\r\n          this._wizard.currentView.updateButton('done', { disabled: true });\r\n        }\r\n      }, this);\r\n      return roleDetailsView;\r\n    },\r\n\r\n    _RolePermissionsView: function () {\r\n      var rolePermissionsView = new RolePermissionsView({\r\n        addrole: this.options.addrole,\r\n        model: this.options.model,\r\n        isContainer: this.options.nodeModel ? this.options.nodeModel.get('container') : true,\r\n        nodeModel: this.options.nodeModel\r\n      });\r\n      return rolePermissionsView;\r\n    },\r\n\r\n    _RoleParticipantsView: function () {\r\n      var roleParticipantsView = new RoleParticipantsView(this.options);\r\n      return roleParticipantsView;\r\n    },\r\n\r\n    dialogClassName: function () {\r\n      var className = 'target-browse';\r\n      if (this.options && this.options.userClassName) {\r\n        className = className + \" \" + this.options.userClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    _createWizardSteps: function () {\r\n      var options = this.options,\r\n        rolePickerTitleId = 'rolePickerHeader',\r\n        permissionLevelDescId = _.uniqueId('permissionLevel'),\r\n        step1, step2, step3;\r\n      step1 = {\r\n        title: options.dialogTitle,\r\n        view: this._RoleDetailsView(),\r\n        className: this.dialogClassName() + ' csui-permissions-level conws-addoreditrole-dialog',\r\n        nextButton: true,\r\n        disableNext: this.options.addrole ? true : false,\r\n        doneButtonLabel: lang.doneButtonLabel,\r\n        disableDone: this.options.addrole ? true : false,\r\n        doneButton: true,\r\n        largeSize: true,\r\n        attributes: { 'aria-labelledby': rolePickerTitleId }\r\n      };\r\n      step2 = {\r\n        title: options.dialogTitle,\r\n        nextButtonLabel: lang.nextButtonLabel,\r\n        nextButton: true,\r\n        disableNext: false,\r\n        doneButtonLabel: lang.doneButtonLabel,\r\n        disableDone: false,\r\n        doneButton: true,\r\n        largeSize: true,\r\n        view: this._RolePermissionsView(),\r\n        className: this.dialogClassName() + ' csui-permissions-level conws-addoreditrole-dialog',\r\n        attributes: {\r\n          'aria-labelledby': rolePickerTitleId,\r\n          'aria-describedby': permissionLevelDescId\r\n        }\r\n      };\r\n      step3 = {\r\n        title: options.dialogTitle,\r\n        doneButtonLabel: lang.doneButtonLabel,\r\n        disableDone: false,\r\n        doneButton: true,\r\n        largeSize: true,\r\n        view: this._RoleParticipantsView(),\r\n        className: this.dialogClassName() + ' csui-permissions-level conws-addoreditrole-dialog',\r\n        attributes: { 'aria-labelledby': rolePickerTitleId }\r\n      };\r\n      return [step1, step2, step3];\r\n    },\r\n\r\n    onHideDialog: function () {\r\n      if (this._deferred) {\r\n        if (this._result) {\r\n          this._deferred.resolve(this._result);\r\n        } else if (this._deferred.state() === 'pending') {\r\n          // When the dialog is cancelled, reject the promise without error\r\n          this._deferred.reject({ cancelled: true });\r\n        }\r\n      }\r\n    },\r\n\r\n    onClickCancelButton: function () {\r\n      this.onHideDialog();\r\n    },\r\n\r\n    onClickFinishButton: function () {\r\n      var role_name, role_description, team_lead, permissions, applyToSubItems, isContainer, participants;\r\n      if (this) {\r\n        var roleDetailsView = this.getRoleDetailsView(),\r\n          rolePermissionsView = this.getPermissionsView();\r\n        if (roleDetailsView.LeftRegion && roleDetailsView.LeftRegion.currentView) {\r\n          role_name = roleDetailsView.LeftRegion.currentView.getValues().role_name;\r\n          role_description = roleDetailsView.LeftRegion.currentView.getValues().role_description;\r\n        }\r\n        team_lead = roleDetailsView.RightRegion && roleDetailsView.RightRegion.currentView &&\r\n          roleDetailsView.RightRegion.currentView.getValues().team_lead;\r\n\r\n        // if we directly save from first dialog then permissions view may not be defined\r\n        if (rolePermissionsView.PickerRegion && rolePermissionsView.PickerRegion.currentView) {\r\n          permissions = rolePermissionsView.PickerRegion.currentView.getSelectedPermissions();\r\n          if (permissions === null && !!rolePermissionsView.lastSelectedPermLevel &&\r\n            rolePermissionsView.lastSelectedPermLevel === NodePermissionModel.PERMISSION_LEVEL_CUSTOM) {\r\n            permissions = rolePermissionsView.lastSelectedCustomPermissions;\r\n          }\r\n          isContainer = (this.options.nodeModel && this.options.nodeModel.get(\"container\")) ? true : false;\r\n          if (rolePermissionsView.RightRegion && rolePermissionsView.RightRegion.currentView) {\r\n            // 0 - This item, 1 - Subitems, 2 - This Item and Subitems, 3 - This Item and Immediate Subitems\r\n            applyToSubItems = 0;\r\n            if (isContainer) {\r\n              applyToSubItems = rolePermissionsView.RightRegion.currentView.getValues().subitems_inherit ? 2 : 0;\r\n            }\r\n          }\r\n        }\r\n        // if we directly save from first or second dialog then participants view may not be defined\r\n        if (this.getParticipantsView().participants) {\r\n          participants = [];\r\n          _.each(this.getParticipantsView().participants.models, function (participantModel) {\r\n            participants.push(participantModel.get(\"id\"));\r\n          })\r\n        }\r\n        this._result = {\r\n          role_name: role_name,\r\n          role_description: role_description,\r\n          team_lead: team_lead,\r\n          permissions: permissions,\r\n          apply_to: applyToSubItems,\r\n          participants: participants\r\n        };\r\n        this._wizard.destroy();\r\n        this.onHideDialog();\r\n      }\r\n      else {\r\n        this._wizard.currentView.updateButton('next', { disabled: true });\r\n      }\r\n    },\r\n\r\n    //Private function with assumes either container or nodes exists.\r\n    _getConnector: function (options) {\r\n      var connector;\r\n      if (options.context) {\r\n        connector = options.context.getObject(ConnectorFactory);\r\n      } else if (options.initialSelection || options.initialContainer) {\r\n        var initalSelection = options.initialSelection,\r\n          nodes = initalSelection ? (_.isArray(initalSelection) ? initalSelection :\r\n            initalSelection.models) : undefined,\r\n          node = options.initialContainer || nodes[0];\r\n        connector = node && node.connector;\r\n      }\r\n      return connector;\r\n    },\r\n\r\n    getRoleDetailsView: function () {\r\n      return this._steps[0].view;\r\n    },\r\n\r\n    getPermissionsView: function () {\r\n      return this._steps[1].view;\r\n    },\r\n\r\n    getParticipantsView: function () {\r\n      return this._steps[2].view;\r\n    }\r\n\r\n  });\r\n\r\n  return addOrEditRoleWizard;\r\n\r\n});\r\n\n","csui.define('conws/dialogs/applyrolepermissions/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/dialogs/applyrolepermissions/impl/nls/root/lang',{\r\n  applyRolePermissionHeaderTitle: 'Apply permissions',\r\n  deleteRolePermissionHeaderTitle: 'Delete {0}',\r\n  removeRolePermissionHeaderTitle: 'Remove {0}',\r\n  SubItemsInherit: 'Apply to sub-items',\r\n  applyToItem: 'Permissions will be applied to all items in {0}.',\r\n  deleteToItem: '{0} will be deleted and permissions will be removed from all items in {1}',\r\n  removeToItem: 'Permissions will be removed from all items in {0}'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/applyrolepermissions/impl/apply.role.permissions',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-apply-role-permission-content\\\">\\r\\n  <span class=\\\"conws-apply-role-permission-message\\\"></span>\\r\\n</div>\\r\\n<div class=\\\"conws-apply-role-permission-switch\\\">\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_applyrolepermissions_impl_apply.role.permissions', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/applyrolepermissions/impl/apply.role.permissions',[],function(){});\n","csui.define('conws/dialogs/applyrolepermissions/apply.role.permissions.view',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/models/form',\r\n    'conws/dialogs/addoreditrole/impl/tabbable.form.view',\r\n    'i18n!conws/dialogs/applyrolepermissions/impl/nls/lang',\r\n    'hbs!conws/dialogs/applyrolepermissions/impl/apply.role.permissions',\r\n    'css!conws/dialogs/applyrolepermissions/impl/apply.role.permissions'\r\n], function (_, Marionette, FormModel, TabbableFormView, lang, template) {\r\n\r\n    ApplyRolePermissionsView = Marionette.LayoutView.extend({\r\n\r\n        template: template,\r\n\r\n        ui: {\r\n            applyRolePermissionMsg: '.conws-apply-role-permission-message'\r\n        },\r\n\r\n        regions: {\r\n            ContentRegion: '.conws-apply-role-permission-switch'\r\n        },\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                title: this.model.get('title')\r\n            }\r\n        },\r\n\r\n        constructor: function ApplyRolePermissionsView(options) {\r\n            Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n            this.listenTo(this.model, 'change', this.render);\r\n        },\r\n\r\n        onRender: function () {\r\n\r\n            var message = \"\";\r\n            if (this.options.removePermission) {\r\n                if (!!this.options.permissionModel && this.options.permissionModel.isRoleDelete !== undefined && !this.options.permissionModel.isRoleDelete) {\r\n                    message = _.str.sformat(lang.removeToItem, this.options.model.get(\"name\"));\r\n                } else {\r\n                    var roleName = this.options.permissionModel.get(\"right_id_expand\") &&\r\n                        this.options.permissionModel.get(\"right_id_expand\").name_formatted;\r\n                    message = _.str.sformat(lang.deleteToItem, roleName, this.options.model.get(\"name\"));\r\n                }\r\n            }\r\n            else {\r\n                message = _.str.sformat(lang.applyToItem, this.options.model.get(\"name\"));\r\n            }\r\n            this.ui.applyRolePermissionMsg.html(message);\r\n\r\n            var SubItemsInheritForm = {\r\n                \"data\": {\r\n                    \"subitems_inherit\": true\r\n                },\r\n                \"options\": {\r\n                    \"fields\": {\r\n                        \"subitems_inherit\": {\r\n                            \"hidden\": false,\r\n                            \"hideInitValidationError\": true,\r\n                            \"label\": lang.SubItemsInherit,\r\n                            \"readonly\": false,\r\n                            \"type\": \"checkbox\"\r\n                        }\r\n                    },\r\n                    \"label\": \"\"\r\n                },\r\n                \"schema\": {\r\n                    \"properties\": {\r\n                        \"subitems_inherit\": {\r\n                            \"readonly\": false,\r\n                            \"required\": false,\r\n                            \"title\": lang.SubItemsInherit,\r\n                            \"type\": \"boolean\"\r\n                        }\r\n                    },\r\n                    \"type\": \"object\"\r\n                }\r\n            },\r\n\r\n                SubItemsInheritFormView = new TabbableFormView({\r\n                    model: new FormModel(SubItemsInheritForm),\r\n                    mode: \"create\"\r\n                });\r\n\r\n            if (this.options.removePermission) {\r\n                // for permission deletion based on below conditions, we need to show the apply to subitems checkbox in the dialog\r\n                if (!!this.options.permissionModel && this.options.permissionModel.isRoleDelete !== undefined && !this.options.permissionModel.isRoleDelete) {\r\n                    this.ContentRegion.show(SubItemsInheritFormView);\r\n                }\r\n            } else {\r\n                // for permission updation we need to always showcase the checkbox in the dialog\r\n                this.ContentRegion.show(SubItemsInheritFormView);\r\n            }\r\n        }\r\n    });\r\n\r\n    return ApplyRolePermissionsView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/regen.reference/impl/regen.reference',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-regen-ref-dialog-header-content\\\">\\r\\n  <span class=\\\"icon icon-notification-information\\\"></span>\\r\\n  <span class=\\\"title-text conws-regen-ref-header-title\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":63},\"end\":{\"line\":3,\"column\":72}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":86},\"end\":{\"line\":3,\"column\":95}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":97},\"end\":{\"line\":3,\"column\":106}}}) : helper)))\n    + \"</span>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"conws-regen-ref-dialog-content\\\">\\r\\n  <span class=\\\"conws-regen-ref-dialog-message\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"regenRefDlgMsg\") || (depth0 != null ? lookupProperty(depth0,\"regenRefDlgMsg\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"regenRefDlgMsg\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":54},\"end\":{\"line\":7,\"column\":72}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"regenRefDlgMsg\") || (depth0 != null ? lookupProperty(depth0,\"regenRefDlgMsg\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"regenRefDlgMsg\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":86},\"end\":{\"line\":7,\"column\":104}}}) : helper)))\n    + \"\\\" >\\r\\n    \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"regenRefDlgMsg\") || (depth0 != null ? lookupProperty(depth0,\"regenRefDlgMsg\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"regenRefDlgMsg\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":4},\"end\":{\"line\":8,\"column\":22}}}) : helper)))\n    + \"\\r\\n  </span>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"conws-regen-ref-dialog-boolean-container\\\">\\r\\n  <div class=\\\"conws-regen-ref-dialog-boolean\\\">\\r\\n    <div class=\\\"conws-regen-ref-dialog-boolean-label\\\" id=\\\"regenRefLabel\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"regenRefDlgInutLabel\") || (depth0 != null ? lookupProperty(depth0,\"regenRefDlgInutLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"regenRefDlgInutLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":80},\"end\":{\"line\":14,\"column\":104}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"regenRefDlgInutLabel\") || (depth0 != null ? lookupProperty(depth0,\"regenRefDlgInutLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"regenRefDlgInutLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":118},\"end\":{\"line\":14,\"column\":142}}}) : helper)))\n    + \"\\\">\\r\\n      \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"regenRefDlgInutLabel\") || (depth0 != null ? lookupProperty(depth0,\"regenRefDlgInutLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"regenRefDlgInutLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":6},\"end\":{\"line\":15,\"column\":30}}}) : helper)))\n    + \"\\r\\n    </div>\\r\\n    <div class=\\\"conws-regen-ref-dialog-boolean-input\\\"></div>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_regen.reference_impl_regen.reference', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/dialogs/regen.reference/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/dialogs/regen.reference/impl/nls/root/lang',{\r\n  regenReferenceTitle: 'Re-generate the Reference Number',\r\n  regenReferenceDlgMsg: 'Enable this option to generate a new Reference Number for the items that you move to a new location.',\r\n  regenReferenceDlgInutLabel: 'Move with Reference regeneration'\r\n});\r\n\n","\ncsui.define('css!conws/dialogs/regen.reference/impl/regen.reference',[],function(){});\n","csui.define('conws/dialogs/regen.reference/regen.reference.view',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'hbs!conws/dialogs/regen.reference/impl/regen.reference',\r\n  'i18n!conws/dialogs/regen.reference/impl/nls/lang',\r\n  'css!conws/dialogs/regen.reference/impl/regen.reference'\r\n], function ($, _, Backbone, Marionette, TabableRegionBehavior, template, lang) {\r\n  'use strict';\r\n\r\n  var RegenReferenceFormView = Marionette.ItemView.extend({\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        title: lang.regenReferenceTitle,\r\n        regenRefDlgMsg: lang.regenReferenceDlgMsg,\r\n        regenRefDlgInutLabel: lang.regenReferenceDlgInutLabel\r\n      };\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function RegenReferenceFormView(options) {\r\n      options = options || {};\r\n      options.model = options.model || options.node;\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n\r\n      this.model = new Backbone.Model({ 'ref_regen': false });\r\n    },\r\n\r\n    currentlyFocusedElement: function (event) {\r\n      if (this.regenSwitchView) {\r\n        return this.regenSwitchView.$el.find(':input');\r\n      } else {\r\n        return undefined;\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this;\r\n\r\n      require(['csui/controls/form/fields/booleanfield.view'], function (BooleanFieldView) {\r\n        self.regenSwitchView = new BooleanFieldView({\r\n          mode: 'writeonly',\r\n          model: new Backbone.Model({ 'data': self.model.get('ref_regen') }),\r\n          labelId: 'regenRefLabel'\r\n        });\r\n        self.regenSwitchView.render();\r\n        self.regenSwitchView.on('field:changed', function (event) {\r\n          self.model.set({ 'ref_regen': event.fieldvalue }, { 'silent': true });\r\n        });\r\n        self.$('.conws-regen-ref-dialog-boolean-input').append(self.regenSwitchView.$el);\r\n      });\r\n\r\n    }\r\n  });\r\n\r\n  return RegenReferenceFormView;\r\n});\r\n\n","csui.define('conws/dialogs/applyrolepermissions/impl/header/apply.role.permissions.header.view',[\r\n    'csui/lib/underscore',\r\n    'csui/widgets/permissions/edit/apply.permission/header/apply.permission.header.view',\r\n    'i18n!conws/dialogs/applyrolepermissions/impl/nls/lang'\r\n], function (_, ApplyPermissionHeaderView,\r\n    lang) {\r\n        \"use strict\";\r\n\r\n        var ApplyRolePermissionHeaderView = ApplyPermissionHeaderView.extend({\r\n\r\n            templateHelpers: function () {\r\n                var headerTitle = \"\";\r\n                if (this.options.removePermission && this.options.permissionModel) {\r\n                    var memberName = this.options.permissionModel.get(\"right_id_expand\") &&\r\n                        this.options.permissionModel.get(\"right_id_expand\").name_formatted;\r\n                    if (this.options.permissionModel.isRoleDelete) {\r\n                        headerTitle = _.str.sformat(lang.deleteRolePermissionHeaderTitle, memberName);\r\n                    } else {\r\n                        headerTitle = _.str.sformat(lang.removeRolePermissionHeaderTitle, memberName);\r\n                    }\r\n                } else {\r\n                    headerTitle = lang.applyRolePermissionHeaderTitle;\r\n                }\r\n                return {\r\n                    title: headerTitle\r\n                };\r\n            },\r\n\r\n            constructor: function ApplyRolePermissionHeaderView(options) {\r\n                options || (options = {});\r\n                ApplyPermissionHeaderView.prototype.constructor.apply(this, arguments);\r\n            }\r\n        });\r\n\r\n        return ApplyRolePermissionHeaderView;\r\n    });\n","csui.define('conws/dialogs/node.picker/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/dialogs/node.picker/impl/nls/root/lang',{\r\n  labelFacetsVolume: 'Facets volume'\r\n});\r\n\n","\n","csui.define('conws/dialogs/node.picker/start.locations/facets.volume/facets.volume.factory',['csui/lib/underscore',\r\n  'csui/dialogs/node.picker/start.locations/node.base.factory',\r\n  'i18n!conws/dialogs/node.picker/impl/nls/lang',\r\n  'css!conws/utils/icons/icons'\r\n], function (_, NodeBaseFactory, lang) {\r\n  \"use strict\";\r\n\r\n  var FacetsVolumeFactory = NodeBaseFactory.extend({\r\n\r\n    constructor: function FacetsVolumeFactory(options) {\r\n      options = _.defaults({\r\n        node: {\r\n          id: 'volume',\r\n          type: 901\r\n        },\r\n        icon: 'facets_volume',\r\n        unselectable: false,\r\n        defaultName: lang.labelFacetsVolume\r\n      }, options);\r\n      NodeBaseFactory.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    updateLocationModel: function (model) {\r\n      return NodeBaseFactory.prototype.updateLocationModel.apply(this,arguments);\r\n    }\r\n\r\n\r\n  });\r\n\r\n  return FacetsVolumeFactory;\r\n\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\ncsui.define('conws/utils/commands/nls/commands.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\r\n\n","// Defines localizable strings in the default language (English)\r\ncsui.define('conws/utils/commands/nls/root/commands.lang',{\r\n  CommandNameEmail: 'Send e-mail',\r\n  CommandNameExport: 'Download',\r\n  CommandNameAddParticipant: 'Add participants',\r\n  CommandNameExportParticipants: 'Download list of participants',\r\n  CommandNamePrintParticipants: 'Print list of participants',\r\n  CommandNameShowRoles: 'Show roles',\r\n  CommandNameRemoveParticipant: 'Remove from team',\r\n  CommandNameAddRole: 'Add role',\r\n  CommandNameEditRole: 'Edit role',\r\n  CommandNamePrintRoles: 'Print list of roles',\r\n  CommandNameExportRoles: 'Download list of roles',\r\n  CommandNameShowDetails: 'Show details',\r\n  CommandNameDeleteRole: 'Delete',\r\n  CommandNameAddConnectedWorkspace: 'Add business workspace',\r\n  RemoveParticipantTitleSingle: 'Remove participant',\r\n  RemoveParticipantTitleMultiple: 'Remove participants',\r\n  RemoveParticipantMessage: 'Removing participants from the team will also remove them from their roles.',\r\n  RemoveParticipantErrorMessageDefault: 'Cannot remove one or more participants.',\r\n  DeleteRoleTitleSingle: 'Delete role',\r\n  DeleteRoleTitleMultiple: 'Delete roles',\r\n  DeleteRoleMessageNoParticipantsAffected: 'When you delete this role, no participant will be removed from the team: The role is empty or all participants of this role are members of other team roles.',\r\n  DeleteRoleMessageParticipantsAffectedSingle: 'When you delete this role, 1 participant will be removed from the team.',\r\n  DeleteRoleMessageParticipantsAffectedMultiple: 'When you delete this role, {0} participants will be removed from the team.',\r\n  ErrorLoadingAddItemMenu: 'Cannot load workspace types to the Add menu.',\r\n  AddConwsMetadataDialogTitle: 'Create {0}',\r\n  BusinessWorkspace: 'business workspace',\r\n  AddConwsMetadataDialogAddButtonTitle: 'Save',\r\n  BusinessWorkspaceTypeName: 'Business Workspace',\r\n  BusinessWorkspaceSuccessfullyCreated: '{0} was successfully created.',\r\n  nameIsGeneratedAutomatically : 'Workspace name is generated automatically.',\r\n  errorGettingCreateForm: 'Error getting form for workspace creation.',\r\n  CommandNameAddCONWSTemplate: 'Add business workspace template',\r\n  ErrorAddingSubfolderToNodesTable: 'Failed to add subfolder to the nodestable',\r\n\r\n  ServerCommandNameDeleteRelatedItem: 'Remove related item',\r\n  CommandNameDeleteRelatedItem: 'Remove relationships',\r\n  CommandVerbDeleteRelatedItem: 'remove',\r\n  DeleteRelatedItemsNoneMessage: \"No relationship removed.\",\r\n  DeleteOneRelatedItemSuccessMessage: \"One relationship successfully removed.\",\r\n  DeleteSomeRelatedItemsSuccessMessage: \"{0} relationships successfully removed.\",\r\n  DeleteManyRelatedItemsSuccessMessage: \"{0} relationships successfully removed.\",\r\n  DeleteOneRelatedItemConfirmMessage: \"Do you want to remove the relationship to '{1}'?\",\r\n  DeleteSomeRelatedItemsConfirmMessage: \"Do you want to remove {0} relationships?\",\r\n  DeleteManyRelatedItemsConfirmMessage: \"Do you want to remove {0} relationships?\",\r\n\r\n  CommandNameAddRelatedItem: 'Add relationships',\r\n  CommandVerbAddRelatedItem: 'add',\r\n  AddRelatedItemsNoneMessage: \"No relationship added.\",\r\n  AddOneRelatedItemSuccessMessage: \"One relationship successfully added.\",\r\n  AddSomeRelatedItemsSuccessMessage: \"{0} relationships successfully added.\",\r\n  AddManyRelatedItemsSuccessMessage: \"{0} relationships successfully added.\",\r\n\r\n  AddRoleSuccess: '{0} added successfully',\r\n  EditRoleSuccess: '{0} updated successfully',\r\n  BusinessWorkspaceRole: 'Business Workspace Role',\r\n  DeletePermissionCommandForSubItems: 'Remove role',\r\n  ToolbarItemEditRolePermission: 'Edit role permissions',\r\n  DeleteRoleCommandSuccessMessage: \"{0} was deleted successfully\",\r\n  DeleteRoleCommandFailMessage: \"Failed to delete {0}.\",\r\n\r\n  CommandNameNavigateUp:\"Click to go up. Hold to open menu.\",\r\n  apply: 'Apply',\r\n\r\n  CommandMessageOpen:\"Open business workspace\",\r\n\r\n  //create bws from side panel\r\n  CommandNameCreateConnectedWorkspace: \"Create business workspace\",\r\n  CreateBusinessWorkspace: \"Create business workspace\",\r\n  AvailableBWSTemplate:\"Available business workspace templates\",\r\n  sidePanelNextButton: \"Next\",\r\n  sidePanelCreateButton: \"Create\",\r\n  sidePanelTitle: \"Create {0}\",\r\n  failedToCreateItem: \"Failed to create the new item.\",\r\n  noResults: 'No results found',\r\n  noWSTypes: 'There are no valid workspace types configured.'\r\n});\r\n\n","/**\r\n * Created by stefang on 11.09.2015.\r\n */\r\n\r\ncsui.define( 'conws/utils/commands/tabletoolbar.extension',[\r\n  \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/utils/url\",\r\n  \"csui/controls/globalmessage/globalmessage\",\r\n  'csui/controls/toolbar/toolitem.model',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'csui/utils/base'\r\n], function ($, _, Url, GlobalMessage, ToolItemModel, lang, base) {\r\n\r\n  function ToolbarExtension () {}\r\n\r\n  _.extend(ToolbarExtension.prototype,{\r\n\r\n    _addMenuItems: function (toolbarItems,businessWorkspaceTypes) {\r\n      var toolItems = [];\r\n      businessWorkspaceTypes.forEach(function(bwtype) {\r\n        // note: signature of toolbar item must match with a command or indicates entry as separator\r\n        if (bwtype.templates.length>0) {\r\n          bwtype.templates.forEach(function(tmpl){\r\n            // TODO: setting the sub type name for the sub type 848 to Business Workspace, this should be returned with the businessworkspacetypes REST call.\r\n            var subTypeName = tmpl.subType === 848 ? lang.BusinessWorkspaceTypeName : '';\r\n            var toolItem = new ToolItemModel({\r\n              signature: \"AddConnectedWorkspace\",\r\n              name: tmpl.name,\r\n              type: tmpl.subType,\r\n              group: 'conws',\r\n              commandData: { wsType: bwtype, subType: tmpl.subType, subTypeName: subTypeName, template: tmpl }\r\n            });\r\n            toolItems.push(toolItem);\r\n          });\r\n        }\r\n      });\r\n      if (toolItems.length>0) {\r\n        toolItems.sort(function(a,b) {\r\n          var aname = a.get(\"name\"),\r\n              bname = b.get(\"name\"),\r\n              result = base.localeCompareString(aname,bname,{usage:\"sort\"});\r\n          return result;\r\n        });\r\n        toolItems.forEach(function(toolItem){\r\n          toolbarItems.push(toolItem);\r\n        });\r\n      }\r\n    },\r\n\r\n    OnUpdateToolbar: function (args) {\r\n      var done = args.async(),\r\n        //context = args.context,\r\n          container = args.container,\r\n        //addableTypes = args.addableTypes,\r\n          toolbarItems = args.toolbarItems,\r\n          conwsTemplateToolItem = _.find(toolbarItems, function (toolItem) {\r\n            if (toolItem.attributes.type === 848) {\r\n              return toolItem;\r\n            }\r\n          });\r\n\r\n      if (!!conwsTemplateToolItem) {\r\n        conwsTemplateToolItem.set(\"signature\", \"AddCONWSTemplate\");\r\n        conwsTemplateToolItem.set(\"group\", \"conws\");\r\n      }\r\n\r\n\t  // first get all addable wstypes for this container\r\n      // URL is like: http://vmstg-dev4/OTCS/cs.exe/api/v1/nodes/{id}/businessworkspacetypes\r\n      var deferred = $.Deferred();\r\n      var getWsTypesUrl = Url.combine(container.urlBase(), 'businessworkspacetypes');\r\n      var ajaxOptions = container.connector.extendAjaxOptions({\r\n        type: 'GET',\r\n        url: getWsTypesUrl\r\n      });\r\n\r\n      var that = this;\r\n      container.connector.makeAjaxCall(ajaxOptions)\r\n          .done(function (response, statusText, jqxhr) {\r\n\r\n            if (response && response.businessworkspacetypes && response.businessworkspacetypes.length>0) {\r\n              that._addMenuItems(toolbarItems,response.businessworkspacetypes);\r\n            }\r\n\r\n            deferred.resolve.apply(deferred, arguments);\r\n            done();\r\n          })\r\n          .fail(function (jqXHR, statusText, error) {\r\n\r\n            // show failure message\r\n            var linesep = \"\\r\\n\",\r\n                lines = [];\r\n            if (statusText!==\"error\") {\r\n              lines.push(statusText);\r\n            }\r\n            if (jqXHR.responseText) {\r\n              var respObj = JSON.parse(jqXHR.responseText);\r\n              if (respObj && respObj.error) {\r\n                lines.push(respObj.error);\r\n              }\r\n            }\r\n            if (error) {\r\n              lines.push(error);\r\n            }\r\n            var errmsg = lines.length>0 ? lines.join(linesep) : undefined;\r\n            GlobalMessage.showMessage(\"error\",lang.ErrorLoadingAddItemMenu,errmsg);\r\n            deferred.reject.apply(deferred, arguments);\r\n            done();\r\n          });\r\n\r\n    }\r\n  });\r\n\r\n  return function (tableToolbarView) {\r\n\r\n    //tableToolbarView.on('before:updateAddToolbar', _.bind(ToolbarExtension.OnUpdateToolbar,ToolbarExtension) );\r\n    var extension = new ToolbarExtension();\r\n    //tableToolbarView.on('before:updateAddToolbar', extension.OnUpdateToolbar.bind(this) );\r\n    //tableToolbarView.on('before:updateAddToolbar', _.bind(extension.OnUpdateToolbar,extension) );\r\n    tableToolbarView.on('before:updateAddToolbar', function() { extension.OnUpdateToolbar.apply(extension,arguments);} );\r\n\r\n  };\r\n\r\n});\n","csui.define('conws/utils/commands/navigate/impl/flyout.toolitem.view',[ 'module',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/log',\r\n  'csui/lib/hammer',\r\n  'csui/controls/toolbar/flyout.toolitem.view'\r\n],function(module, $, _, Log,\r\n  Hammer,\r\n  FlyoutToolItemView){\r\n\r\n    'use strict';\r\n\r\n    var log = new Log( module.id );\r\n\r\n    var FlyoutToolItemView2 = FlyoutToolItemView.extend({\r\n\r\n      constructor: function FlyoutToolItemView2(options) {\r\n        this.options = options = options||{};\r\n        if (this.options.longPress) {\r\n          this.events = {\r\n            'click': '_stopEvent',\r\n            'click @ui.link': 'activeSubmenu',\r\n            'keydown': 'onKeyDown'\r\n          };\r\n          this.listenTo(this,'toolitem:action', this._closeDropDown);\r\n        }\r\n        FlyoutToolItemView.prototype.constructor.call(this,options);\r\n      },\r\n\r\n      _stopEvent: function(e) {\r\n        // in case of longpress mode do not propagate click events\r\n        // and also not keydown for enter and space key in order to\r\n        // not open the submenu, but execute the primary command.\r\n        // also stop propagation immediately to prevent dropdown\r\n        // opened by binf.js automatically.\r\n        log.debug(\"event stopped {0}\",e.type) && console.log(log.last);\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        e.stopImmediatePropagation();\r\n      },\r\n\r\n      activeSubmenu: function(e) {\r\n        if (this.options.longPress) {\r\n          this._stopEvent(e);\r\n        }\r\n        FlyoutToolItemView.prototype.activeSubmenu.call(this,e);\r\n      },\r\n\r\n      onRender: function () {\r\n        FlyoutToolItemView.prototype.onRender.apply(this,arguments);\r\n        if (this.options.longPress) {\r\n          this._assignTouchControl();\r\n        }\r\n        this.$el.on('focusout',_.bind(function(e){\r\n          if (!e.relatedTarget || !this.el.contains(e.relatedTarget)) {\r\n            this._closeDropDown();\r\n          }\r\n        },this));\r\n      },\r\n\r\n      onKeyDown: function (event) {\r\n        if (this.options.longPress) {\r\n          if (this._isOnPrimaryItem(event)) {\r\n            if (event.keyCode === 13 || event.keyCode === 32) {\r\n              this._handleClick(event);\r\n              this._stopEvent(event);\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n      },\r\n\r\n      onKeyInView: function (event) {\r\n        if (this.onKeyDown(event)!==false) {\r\n          FlyoutToolItemView.prototype.onKeyInView.apply(this,arguments);\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n\r\n      _assignTouchControl: function () {\r\n        if (this.hammer) {\r\n          this.hammer.destroy();\r\n        }\r\n\r\n        this.hammer = new Hammer.Manager(this.el);\r\n\r\n        var tap = new Hammer.Tap();\r\n        var press = new Hammer.Press({time: 500});\r\n        this.hammer.add([tap,press]);\r\n\r\n        this.hammer.on('tap', _.bind(this._onTap, this));\r\n        this.hammer.on('press', _.bind(this._onPress, this));\r\n      },\r\n\r\n      _isOnPrimaryItem: function(event) {\r\n        if (this.el===event.target || this.el.contains(event.target)) {\r\n          var menu = this.$(\".binf-dropdown-menu\")[0];\r\n          if (menu!==event.target && !menu.contains(event.target)) {\r\n            return true;\r\n          }\r\n        }\r\n      },\r\n\r\n      _onTap: function (event) {\r\n        log.debug(\"hammer tap\") && console.log(log.last);\r\n        if (this._isOnPrimaryItem(event)) {\r\n          // execute the action as with click\r\n          this._handleClick($.Event('click'));\r\n        }\r\n      },\r\n\r\n      _onPress: function (event) {\r\n        log.debug(\"hammer press\") && console.log(log.last);\r\n        // toggle dropdown on long press.\r\n        if (this._isOnPrimaryItem(event)) {\r\n          this._toggleDropDown();\r\n        }\r\n      },\r\n\r\n      _closeDropDown: function () {\r\n        var isActive = this.$el.hasClass('binf-open');\r\n        if (isActive) {\r\n          this._toggleDropDown();\r\n        }\r\n      },\r\n\r\n      _toggleDropDown: function () {\r\n        // TODO: when moving to cs.core.ui ;-) implement this without\r\n        // directly accessing \"data\". Better improve implementation of\r\n        // the dropdown submenu plugin: in the implementation change\r\n        // the check where the focus is set if no event is passed and/or\r\n        // introduce a parameter in the interface methods, so an event\r\n        // can be passed there.\r\n        this.$el.data(\"binf.dropdown.submenu\").toggle($.Event(\"click\",{\r\n          which: 1,\r\n          currentTarget: this.el,\r\n          target: this.el\r\n        }));\r\n      }\r\n\r\n    });\r\n\r\n  return FlyoutToolItemView2;\r\n});\n","csui.define('conws/utils/commands/navigate/navigateup',['require', 'module',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/log',\r\n  'csui/models/command',\r\n  'conws/utils/navigate/navigate.util',\r\n  'conws/utils/contexts/perspective/plugins/node/impl/conws.main.node.extra.data',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (require, module, $, _, Log,\r\n    CommandModel,\r\n    NavigateUtil,\r\n    ConwsMainNodeExtraData,\r\n    lang) {\r\n\r\n  'use strict';\r\n\r\n  var log = new Log( module.id );\r\n  var config = module.config();\r\n\r\n  var NavigateUpCommand = CommandModel.extend({\r\n\r\n    defaults:{\r\n      signature: 'ConwsNavigateUp',\r\n      name: lang.CommandNameNavigateUp\r\n    },\r\n\r\n    /**\r\n     * return true, if:\r\n     * - navigation is set to use navigate-up button\r\n     * - is below workspace\r\n     * - no extension does intercept\r\n     *\r\n     * @param {*} status\r\n     * @param {*} options\r\n     */\r\n    enabled: function(status,options) {\r\n\r\n      var isEnabled = false;\r\n      if (config.enabled!==false) {\r\n        if (NavigateUtil.checkWorkspaceNavigation(status,options).navigateUp) {\r\n          if (NavigateUtil.checkWorkspaceHierarchy(status.context).level>0) {\r\n            if (status.context.hasModel(\"node\")) {\r\n              var node = status.context.getModel(\"node\");\r\n              if (ConwsMainNodeExtraData.getBwsInfo(node,\"up\")) {\r\n                isEnabled = NavigateUtil.checkNavigationExtension(status,options).navigation;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return isEnabled;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      var deferred = $.Deferred();\r\n      if (status) {\r\n        status.suppressSuccessMessage = true;\r\n      }\r\n      require([\r\n        'csui/utils/contexts/factories/next.node',\r\n        'csui/utils/contexts/factories/node'\r\n      ], function (NextNodeModelFactory,NodeModelFactory) {\r\n        var context = status && status.context;\r\n        var nextnode = context && context.getModel(NextNodeModelFactory);\r\n        var commandData = status.toolItem && status.toolItem.get(\"commandData\");\r\n        var targetid;\r\n        if (commandData && commandData.nodeid) {\r\n          targetid = commandData.nodeid;\r\n        } else {\r\n          // take targetid from contextual node to be consistent with enabled-function.\r\n          // note: taking the parent_id in case of a subfolder directly in a workspace\r\n          // is correct, as it is really the workspace id and not the (negative) volume id.\r\n          targetid = context.getModel(NodeModelFactory).get(\"parent_id\");\r\n        }\r\n        if (targetid && nextnode) {\r\n          log.debug(\"navigate to target id {0}\",targetid) && console.log(log.last);\r\n          context.viewStateModel && context.viewStateModel.set('conwsNavigate','gotoLocation');\r\n          nextnode.set(\"id\",targetid);\r\n          deferred.resolve(targetid);\r\n        } else {\r\n          deferred.resolve();\r\n        }\r\n      }, function (error) {\r\n        deferred.reject(error);\r\n      });\r\n\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  return NavigateUpCommand;\r\n});\r\n\n","\ncsui.define('css!conws/utils/commands/navigate/impl/navigate',[],function(){});\n","csui.define('conws/utils/commands/navigate/impl/navigateup.arrow.view',[ 'module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/utils/log',\r\n  'csui/models/commands',\r\n  'csui/controls/toolbar/toolbar.command.controller',\r\n  'csui/controls/toolbar/toolitems.filtered.model',\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'conws/utils/commands/navigate/impl/flyout.toolitem.view',\r\n  'conws/utils/navigate/navigate.util',\r\n  'conws/utils/commands/navigate/navigateup',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'css!conws/utils/commands/navigate/impl/navigate',\r\n],function(module, _, Marionette, Log,\r\n  CommandCollection,\r\n  ToolbarCommandController,\r\n  FilteredToolItemsCollection,\r\n  ToolItemsFactory,\r\n  FlyoutToolItemView2,\r\n  NavigateUtil,\r\n  NavigateupCommand,\r\n  lang){\r\n\r\n    'use strict';\r\n\r\n    var log = new Log( module.id );\r\n\r\n    /**\r\n     * in order to have the menu items enabled we provide a commands list to the FlyoutToolItemView.\r\n     * the only command we need is the navigate up command.\r\n     * in order to avoid evaluating the expensive .enabled(), which is superfluous,\r\n     * as it has already been checked due to the toolitem registered in the nodes table toolbar,\r\n     * we declare our own command here, which is always enabled.\r\n     * also to easily forward the tool item events we let this command have the same signature.\r\n     */\r\n    var EnabledNavigateupCommand = NavigateupCommand.extend({\r\n\r\n      enabled: function( status, options ) { return true; },\r\n\r\n    });\r\n\r\n    var ItemViewWithFlyoutView = Marionette.ItemView.extend({\r\n\r\n      // no template needed. however set tag and class same as toolbar, so css from csui is applied.\r\n      template: false,\r\n      tagName: \"ul\",\r\n      className: \"csui-toolbar binf-nav binf-nav-pills csui-align-left\",\r\n\r\n      constructor: function NavigateupArrowView() {\r\n        Marionette.ItemView.prototype.constructor.apply(this,arguments);\r\n        // here we have:\r\n        // this.options === {\r\n        //   blockingParentView: NodesTableView,\r\n        //   context: PerspectiveContext,\r\n        //   status: {\r\n        //     collection: NodeChildren2Collection,\r\n        //     container: NodeModel,\r\n        //     context: PerspectiveContext,\r\n        //     data: { addableType: NodeAddableTypecollection },\r\n        //     nodes: Nodes,\r\n        //     originatingView: NodesTableView\r\n        //   },\r\n        //   model: false,\r\n        //   originatingView: NodesTableView,\r\n        //   toolbarCommandController: ToolbarCommandController,\r\n        //   toolbarItemsMask: undefined,\r\n        //   useIconsForDarkBackground: false\r\n        // };\r\n        if (this.options.status.context && this.options.status.context.hasObject(\"workspaceContext\")) {\r\n          if (!this.options.status.context.hasCollection(\"ancestors\")) {\r\n            this.options.status.context.getFactory(\"ancestors\").fetch();\r\n          }\r\n          this.listenTo(this.options.status.context.getCollection(\"ancestors\"),'reset sync error',this._reRender);\r\n        }\r\n      },\r\n\r\n      _reRender: function() {\r\n        if (this.toolItemView) {\r\n          // if we are already rendered, then re-render, if needed.\r\n          var ancestorsData = this._getAncestorsData();\r\n          if (!_.isEqual(this.ancestorsData||0,ancestorsData||0)) {\r\n            this.render();\r\n          }\r\n        }\r\n      },\r\n\r\n      onRender: function() {\r\n\r\n        log.debug(\"navigateup arrow onrender start\") && console.log(log.last);\r\n\r\n        var command = new EnabledNavigateupCommand();\r\n        var toolItemData = [\r\n          {\r\n            signature: command.get(\"signature\"),\r\n            name: lang.CommandNameNavigateUp,\r\n            toolItemAria: lang.CommandNameNavigateUp,\r\n            iconName: \"conws_action_navigate_up\",\r\n            menuWithMoreOptions: true,\r\n            // toolItemAriaExpand: false,\r\n            // group: 'main',\r\n            // enabled: true,\r\n            flyout: \"CwsUpFlyout\"\r\n          }\r\n        ];\r\n        this.ancestorsData = this._getAncestorsData();\r\n        if (this.ancestorsData===undefined) {\r\n          // dropdown is about to be rendered before ancestors are fetched.\r\n          // As the dropdown is still closed, nobody can see, that it is empty.\r\n          // So we render dots to indicate that it's loading.\r\n          // In constructor we have setup a listener to re-render anytime ancestors change.\r\n          // potential TODO: build dropdown with bubbling dots instead of static dots.\r\n          toolItemData.push({\r\n            signature: command.get(\"signature\"),\r\n            name: \"...\",\r\n            commandData: { nodeid: 0 },\r\n            flyout: \"CwsUpFlyout\"\r\n          });\r\n        } else {\r\n          this.ancestorsData.forEach(function(el){\r\n            toolItemData.push({\r\n              signature: command.get(\"signature\"),\r\n              name: el.name,\r\n              commandData: { nodeid: el.id },\r\n              flyout: \"CwsUpFlyout\"\r\n            });\r\n          });\r\n        }\r\n        var toolItemsFactory = new ToolItemsFactory({ main: toolItemData });\r\n        var commands = new CommandCollection([command]);\r\n        var commandController = new ToolbarCommandController({ commands: commands });\r\n        var filteredCollection = new FilteredToolItemsCollection(\r\n            toolItemsFactory, {\r\n              status: this.options.status,\r\n              // from toolitems.filtered.model.js: todo: move filteredCollection to\r\n              // commandController and do not access the commands via the commandController here\r\n              commands: commands/*this.toolbarCommandController.commands*/,\r\n              delayedActions: this.options.status.collection && this.options.status.collection.delayedActions,\r\n              mask: undefined\r\n            });\r\n        var flyoutOptions = {\r\n          longPress: true,\r\n          blockingParentView: this.options.blockingParentView,\r\n          command: commands.at(0),\r\n          model: filteredCollection.at(0),\r\n          noMenuRoles: true,\r\n          originatingView: this.options.originatingView,\r\n          toolbarCommandController: commandController,\r\n          toolbarItemsMask: undefined,\r\n          useIconsForDarkBackground: false\r\n        }\r\n        this.toolItemView = new FlyoutToolItemView2(flyoutOptions);\r\n        this.listenTo(this.toolItemView,\"toolitem:action\",this._toolItemAction);\r\n        this.listenTo(this.toolItemView,\"childview:toolitem:action\",this._toolItemChildAction);\r\n        this.toolItemView.render();\r\n        this.toolItemView.makeFocusable(); // for key board navigation\r\n        this.$el.empty();\r\n        this.$el.append(this.toolItemView.$el);\r\n\r\n        log.debug(\"navigateup arrow onrender done\") && console.log(log.last);\r\n      },\r\n\r\n      _getAncestorsData: function() {\r\n        var ancestorsData = [];\r\n        var status = this.options.status;\r\n        if (status.context && status.context.hasCollection(\"ancestors\")) {\r\n          var wkspid = NavigateUtil.checkWorkspaceHierarchy(status.context).wkspid;\r\n          if (wkspid) {\r\n            var ancestors = status.context.getCollection(\"ancestors\");\r\n            if (!ancestors.error) {\r\n              if (ancestors.fetched && ancestors.length && ancestors.at(-1).get(\"id\")===ancestors.node.get(\"id\")) {\r\n                // ancestors are up to date. extract what we need.\r\n                // from parent up to workspace include in menu.\r\n                // skip last entry, it is the shown container itself.\r\n                for (var index = ancestors.length-2; index>=0; index-- ) {\r\n                  var el = ancestors.at(index);\r\n                  ancestorsData.unshift({\r\n                    name: el.get(\"name\"),\r\n                    id: el.get(\"id\")\r\n                  });\r\n                  if (el.get(\"id\")===wkspid) {\r\n                    break;\r\n                  }\r\n                }\r\n              } else {\r\n                // not up to date. indicate this to caller by returning undefined.\r\n                ancestorsData = undefined;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return ancestorsData;\r\n      },\r\n\r\n      // This method is triggered as a 'toolitem:action' event; such\r\n      // events always get the toolItem as the first argument.\r\n      _toolItemAction: function (args) {\r\n        var commandData = args.toolItem.get(\"commandData\");\r\n        if (!commandData || !commandData.nodeid) {\r\n          this._toolItemViewAction(this.toolItemView,args);\r\n        }\r\n\r\n      },\r\n\r\n      // This method is triggered as a nested 'childview:toolitem:action' event; such\r\n      // events always get the childView as the first argument.\r\n      _toolItemChildAction: function (toolItemView, args) {\r\n        // action triggered by\r\n        var commandData = args.toolItem.get(\"commandData\");\r\n        if (commandData && commandData.nodeid) {\r\n          this._toolItemViewAction(toolItemView,args);\r\n        }\r\n      },\r\n\r\n      _toolItemViewAction: function (toolItemView, args) {\r\n        var executionContext = {\r\n          context: this.options.status.context,\r\n          nodes: this.options.status.nodes,\r\n          container: this.options.status.container,\r\n          collection: this.options.status.collection,\r\n          originatingView: this.options.status.originatingView,\r\n          toolItemView: toolItemView\r\n        };\r\n        this.options.toolbarCommandController.toolitemClicked(args.toolItem, executionContext);\r\n      }\r\n\r\n    });\r\n\r\n  return ItemViewWithFlyoutView;\r\n});\n","csui.define( 'conws/utils/commands/navigate/toolbaritems',[\r\n    'conws/utils/commands/navigate/impl/navigateup.arrow.view',\r\n    'i18n!conws/utils/commands/nls/commands.lang'\r\n  ], function (NavigateupArrowView, lang) {\r\n\r\n  var toolbarItems = {\r\n    navigationToolbar: [\r\n      {\r\n        signature: \"ConwsNavigateUp\",\r\n        name: lang.CommandNameNavigateUp,\r\n        toolItemAria: lang.CommandNameNavigateUp,\r\n        iconName: \"conws_action_navigate_up\",\r\n        customView: true,\r\n        viewClass: NavigateupArrowView,\r\n        group: 'main'\r\n      }\r\n    ]\r\n  };\r\n  return toolbarItems;\r\n});\n","csui.define('conws/utils/commands/permissions/permissions.dropdown.menu.items.extension',['i18n!conws/utils/commands/nls/commands.lang'\r\n], function (lang) {\r\n    'use strict';\r\n    return {\r\n        dropdownMenuList: [\r\n            {\r\n                signature: 'AddOrEditRole',\r\n                name: lang.CommandNameAddRole\r\n            }\r\n        ]\r\n    };\r\n\r\n});\n","csui.define('conws/utils/commands/permissions/permissions.list.toolbaritems.extension',['i18n!conws/utils/commands/nls/commands.lang'\r\n], function (lang) {\r\n    'use strict';\r\n    return {\r\n        inlineToolbar: [\r\n            {\r\n                signature: \"AddOrEditRole\",\r\n                name: lang.CommandNameEditRole,\r\n                iconName: \"csui_action_view_column32\"\r\n            },\r\n            {\r\n                signature: \"DeleteRole\",\r\n                name: lang.DeleteRoleTitleSingle,\r\n                iconName: \"csui_action_delete32\"\r\n            },\r\n            {\r\n                signature: \"EditRolePermission\",\r\n                name: lang.ToolbarItemEditRolePermission,\r\n                iconName: \"csui_action_edit32\"\r\n            }\r\n        ]\r\n    };\r\n\r\n});\n","csui.define('conws/controls/treebrowse/workspace.navigation.tree.plugin',[ 'module',\r\n  'csui/lib/underscore',\r\n  'csui/utils/log',\r\n  'conws/utils/navigate/navigate.util'\r\n], function (module, _, Log,\r\n  NavigateUtil) {\r\n\r\n  'use strict';\r\n\r\n  var log = new Log( module.id );\r\n  var config = module.config();\r\n\r\n  return {\r\n\r\n    /**\r\n     * return true, if:\r\n     * - navigation is set to use tree view\r\n     * - is below workspace\r\n     * - no extension does intercept\r\n     *\r\n     * @param {*} status\r\n     * @param {*} options\r\n     */\r\n    enabled: function(status,options) {\r\n\r\n      var isEnabled = false;\r\n      if (config.enabled!==false) {\r\n        if (NavigateUtil.checkWorkspaceNavigation(status,options).treeView) {\r\n          if (NavigateUtil.checkWorkspaceHierarchy(status.context).level>=0) {\r\n            isEnabled = NavigateUtil.checkNavigationExtension(status,options).navigation;\r\n          }\r\n        }\r\n      }\r\n      return isEnabled;\r\n    },\r\n\r\n    data: function (status,options) {\r\n      // data() is directly called after enabled().\r\n      var values = {};\r\n      if (NavigateUtil.checkWorkspaceHierarchy(status.context).level>=0) {\r\n        values.rootNodes = [ NavigateUtil.getWorkspaceModel(status.context) ];\r\n      }\r\n      return values;\r\n    }\r\n\r\n  };\r\n});\n","csui.define('conws/controls/navigation.header/conws.add.navigation.header.controls',[],\r\n    function() {\r\n        return {\r\n            id: 'conws/widgets/navigation.header/controls/create.workspace/create.workspace.view',\r\n            sequence: 150,\r\n            parentClassName: 'conws-create-workspace'\r\n        };\r\n});\n","csui.define('conws/utils/commands/addbwsfromsidepanel',[\r\n    'module',\r\n    'require',\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/utils/commandhelper',\r\n    'csui/models/command',\r\n    \"csui/dialogs/modal.alert/modal.alert\",\r\n    'csui/utils/log',\r\n    'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (module, require, $, _, CommandHelper, CommandModel, ModalAlert, log, lang) {\r\n    'use strict';\r\n\r\n    var addBwsEnabled = module.config();\r\n    var visibleFlag;\r\n    var showQuickCreation = {\r\n        enabled:function() {\r\n            return addBwsEnabled;\r\n        }\r\n    }\r\n    var AddWorkspaceFromSidePanelCommand = CommandModel.extend({\r\n        defaults: {\r\n            signature: 'AddBWSFromSidePanel',\r\n            name: lang.CommandNameCreateConnectedWorkspace,\r\n            scope: 'single'\r\n        },\r\n\r\n        enabled: function () {\r\n            return showQuickCreation.enabled();\r\n        },\r\n\r\n       visible: function(){\r\n        return visibleFlag;\r\n       },\r\n\r\n        execute: function (status) {\r\n            var deferred = $.Deferred(),\r\n                context = status.context;\r\n\r\n            require(\r\n                [   'csui/lib/backbone',\r\n                    'csui/utils/contexts/factories/connector',\r\n                    'csui/controls/side.panel/side.panel.view',\r\n                    \"csui/widgets/metadata/metadata.action.one.item.properties.view\",\r\n                    'csui/utils/commands',\r\n                    'csui/models/nodes',\r\n                    'csui/models/node/node.model',\r\n                    'csui/controls/list/emptylist.view',\r\n                    'doctemplates/dialogs/instance.from.template/select.template.view',\r\n                    'conws/models/workspacecreateforms',\r\n                    'conws/models/metadata.controller',\r\n                    'csui/controls/globalmessage/globalmessage',\r\n                    'csui/behaviors/default.action/default.action.behavior',\r\n                    'csui/utils/contexts/factories/next.node',\r\n                    'conws/models/addbwsfromsidepanel/addbwsfromsidepanel.model.factory'\r\n                ], function (Backbone,ConnectorFactory, SidePanelView, MetadataActionOneItemPropertiesView, commands, NodeCollection, NodeModel,\r\n                    EmptyView, SelectTemplateView,\r\n                    WorkspaceCreateFormCollection,\r\n                    WorkspaceMetadataController,\r\n                    GlobalMessage,\r\n                    DefaultActionBehavior,\r\n                    NextNodeModelFactory,\r\n                    AddbwsfromsidepanelCollectionFactory) {\r\n\r\n                    var businessWorkspaceTypes,\r\n                        selectTemplateView,\r\n                        formCollection,\r\n                        template = {},\r\n                        metadataAddItemPropView,\r\n                        connector = context.getObject(ConnectorFactory),\r\n                        metadataController = new WorkspaceMetadataController(undefined, undefined),\r\n                        bwsTemplates = [],\r\n                        bwsTemplatesGroups = [],\r\n                        selectedTemplate;\r\n\r\n\r\n                    var wsTypesCollection = context && context.getCollection(\r\n                            AddbwsfromsidepanelCollectionFactory,\r\n                                {\r\n                                detached: true,\r\n                                permanent: true,\r\n                                connector: connector,\r\n                                }\r\n                        );\r\n\r\n                    wsTypesCollection.fetch()\r\n                    .then(function(){\r\n                        businessWorkspaceTypes =  wsTypesCollection.models[0].attributes;\r\n                        if (businessWorkspaceTypes && businessWorkspaceTypes.results && businessWorkspaceTypes.results.length > 0) {\r\n                            businessWorkspaceTypes = businessWorkspaceTypes.results;\r\n\r\n                            businessWorkspaceTypes.forEach(function(bwtype) {\r\n\r\n                                if (bwtype.data !== undefined && bwtype.data.properties !== undefined) {\r\n\r\n                                    var wsType =[];\r\n                                    var wksp_type_icon = bwtype.data.wksp_info && bwtype.data.wksp_info.wksp_type_icon;\r\n\r\n                                    wsType = {\r\n                                        wksp_type_id: bwtype.data.properties.wksp_type_id,\r\n                                        wksp_type_name: bwtype.data.properties.wksp_type_name,\r\n                                        rm_enabled: bwtype.data.properties.rm_enabled\r\n                                    }\r\n\r\n                                    if(bwtype.data.properties.templates !== undefined && bwtype.data.properties.templates.length > 0) {\r\n                                        bwtype.data.properties.templates.forEach(function(tmpl){\r\n                                            var bwsTemplate = {\r\n                                                id: tmpl.id,\r\n                                                name: tmpl.name,\r\n                                                type: tmpl.subtype,\r\n                                                wksp_type: wsType,\r\n                                                type_name: lang.BusinessWorkspaceTypeName,\r\n                                                image_url: wksp_type_icon\r\n                                            };\r\n                                            bwsTemplates.push(bwsTemplate);\r\n                                        });\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                            //sorting\r\n                            if (bwsTemplates.length) {\r\n                                bwsTemplates = _.sortBy(bwsTemplates, function (template) {\r\n                                    return template.name.toLowerCase();\r\n                                });\r\n                            }\r\n\r\n                            var data = status.data || {},\r\n                                groupName = data.groupName || lang.AvailableBWSTemplate,\r\n                                title = data.title || lang.CreateBusinessWorkspace,\r\n                                subtitle = data.subtitle || \"\",\r\n                                sidePanelSize = data.size,\r\n                                sidePanelResize = data.resize;\r\n\r\n                                //select.template.view expect a list of groups including templates, so one group will be created\r\n                                bwsTemplatesGroups[0] = {id:1, name: groupName, templates: bwsTemplates};\r\n\r\n                                //First slide view\r\n                                selectTemplateView = new SelectTemplateView({\r\n                                    context: context,\r\n                                    templatesGroup: bwsTemplatesGroups\r\n                                });\r\n\r\n                            var newNode = new NodeModel({type:848}, {connector: connector});\r\n                            status.nodes = new NodeCollection([newNode]);\r\n                            var nodes = CommandHelper.getAtLeastOneNode(status),\r\n                                node = nodes.length > 0 ? nodes.models[0] : null;\r\n\r\n                            formCollection = new WorkspaceCreateFormCollection(undefined, {\r\n                                node: newNode,\r\n                                type: 848,\r\n                                wsType: 0\r\n                            });\r\n\r\n                            metadataAddItemPropView = new MetadataActionOneItemPropertiesView({\r\n                                model: node,\r\n                                connector: connector,\r\n                                container: status.container || undefined,\r\n                                context: context,\r\n                                commands: commands,\r\n                                action: 'create',\r\n                                formCollection: formCollection\r\n                            });\r\n\r\n                            var sidePanel = new SidePanelView({\r\n                                slides: [{\r\n                                    title: title,\r\n                                    subTitle: subtitle,\r\n                                    content: selectTemplateView,\r\n                                    footer: {\r\n                                        buttons: [{\r\n                                            label: lang.sidePanelNextButton,\r\n                                            type: 'next',\r\n                                            id: 'continue-btn',\r\n                                            disabled: false,\r\n                                            className: 'binf-btn binf-btn-primary'\r\n                                        }]\r\n                                    }\r\n                                },\r\n                                {\r\n                                    title: lang.CreateBusinessWorkspace,\r\n                                    content: metadataAddItemPropView,\r\n                                    footer: {\r\n                                        buttons: [{\r\n                                            className: 'binf-btn binf-btn-primary'\r\n                                        }]\r\n                                    }\r\n                                }],\r\n                                sidePanelClassName: 'template-in-sidepanel',\r\n                                layout: {\r\n                                    size: sidePanelSize,\r\n                                    resize: sidePanelResize\r\n                                }\r\n                            });\r\n\r\n                            selectTemplateView.listenTo(selectTemplateView, 'template:selected', function (templateData) {\r\n                                template = templateData || {};\r\n                                sidePanel.trigger('update:button', 'continue-btn', { disabled: false });\r\n                            });\r\n\r\n                            selectTemplateView.listenTo(selectTemplateView, 'template:unselected', function () {\r\n                                sidePanel.trigger('update:button', 'continue-btn', { disabled: true });\r\n                            });\r\n\r\n                            selectTemplateView.listenTo(selectTemplateView, \"templates:rendered\", function () {\r\n                                sidePanel.ui.header && sidePanel.ui.header.find('.csui-sidepanel-close').trigger('focus');\r\n                            })\r\n\r\n                            metadataAddItemPropView.listenTo(metadataAddItemPropView, \"update:button\", _.bind(function (args) {\r\n                                sidePanel.slides[1].footer.buttons[0].label = lang.sidePanelCreateButton;\r\n                                sidePanel.slides[1].footer.buttons[0].type = 'action';\r\n                                sidePanel.slides[1].footer.buttons[0].id = 'create-btn';\r\n                                sidePanel.trigger('update:button', 'create-btn', args);\r\n                            }, this));\r\n\r\n                            sidePanel.listenTo(metadataAddItemPropView, \"button:click\", function (actionButton) {\r\n                                if (actionButton.id === 'create-btn') {\r\n                                    var valid = metadataAddItemPropView.validate();\r\n                                    if (valid) {\r\n                                        var data = metadataAddItemPropView.getValues();\r\n                                        metadataAddItemPropView.metadataPropertiesView.blockActions();\r\n                                        metadataController.createItem(node, data)\r\n                                            .done(_.bind(function () {\r\n                                                metadataAddItemPropView.metadataPropertiesView.unblockActions();\r\n                                                deferred.resolve({ name: data.name });\r\n                                                sidePanel.hide();\r\n                                                if (node.attributes.direct_open){\r\n                                                    openNewWorkspace(node);\r\n                                                } else {\r\n                                                    successWithLinkMessage(node);\r\n                                                }\r\n                                            }, this))\r\n                                            .fail(_.bind(function (resp) {\r\n                                                metadataAddItemPropView.metadataPropertiesView.unblockActions();\r\n                                                var error = lang.failedToCreateItem;\r\n                                                if (resp) {\r\n                                                    if (resp.responseJSON && resp.responseJSON.error) {\r\n                                                        error = resp.responseJSON.error;\r\n                                                    } else if (resp.responseText) {\r\n                                                        error = resp.responseText;\r\n                                                    }\r\n                                                    ModalAlert.showError(error);\r\n                                                }\r\n                                            }, this));\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                            sidePanel.listenTo(metadataAddItemPropView, \"button:click\", function (actionButton) {\r\n                                if (actionButton.type === \"back\"){\r\n                                    metadataAddItemPropView.model.newCategories = new Backbone.Collection();\r\n                                }\r\n                            });\r\n\r\n                            sidePanel.listenTo(selectTemplateView, \"button:click\", function (actionButton) {\r\n                                if (actionButton.id === 'continue-btn') {\r\n\r\n                                    if(selectedTemplate !== template) {\r\n                                        selectedTemplate = template;\r\n                                        if(metadataAddItemPropView.metadataPropertiesView.$el){\r\n                                            metadataAddItemPropView.metadataPropertiesView.$el.hide();\r\n                                            metadataAddItemPropView.metadataPropertiesView.once(\"render:forms\",function() {\r\n                                                metadataAddItemPropView.metadataPropertiesView.$el.show();\r\n                                            });\r\n                                        }\r\n\r\n                                        //metadataAddItemController dummy to prepare an anchor\r\n                                        //for search/add business objects in xecmpf e.g. reference.panel.controller ....\r\n                                        var addReferenceAnchor = {\r\n                                            sidePanel: sidePanel,\r\n                                            metadataAddItemPropView: metadataAddItemPropView.metadataPropertiesView,\r\n                                            metadataController: metadataController\r\n                                        }\r\n\r\n                                        delete formCollection.bo_type_id;\r\n                                        delete formCollection.bo_id;\r\n                                        formCollection.options.metadataAddItemController = addReferenceAnchor;\r\n                                        formCollection.options.wsType =template.wksp_type.wksp_type_id;\r\n\r\n                                        metadataAddItemPropView.metadataPropertiesView.allForms.formCollection = formCollection;\r\n\r\n                                        formCollection.on(\"sync\",function(){ updateNameAndView(newNode,formCollection,metadataAddItemPropView);});\r\n                                        formCollection.on(\"error\",function(response){\r\n                                            sidePanel.trigger('update:button', 'create-btn', { disabled: true });\r\n                                            var errmsg = response && response.error.message || lang.errorGettingCreateForm;\r\n                                            log.error(\"Fetching the create forms failed: {0}\",errmsg) && console.error(log.last);\r\n                                            ModalAlert.showError(errmsg);\r\n                                            selectedTemplate = undefined;\r\n                                            delete response._events[\"error\"];\r\n                                        });\r\n\r\n                                        formCollection.options.template = template;\r\n                                        metadataController.options.template = template;\r\n\r\n                                        sidePanel.slides[1].title = _.str.sformat(lang.sidePanelTitle, template.name||lang.BusinessWorkspace);\r\n\r\n                                        var subTypeName = template.type === 848 ? lang.BusinessWorkspaceTypeName : '';\r\n                                        newNode.set({\r\n                                            //to call update:button event\r\n                                            \"name\": template.name,\r\n                                            \"type_name\": subTypeName,\r\n                                            \"rm_enabled\": template.wksp_type.rm_enabled,\r\n                                        });\r\n\r\n                                        metadataAddItemPropView.firstFocusCalled = undefined;\r\n                                        metadataAddItemPropView.metadataPropertiesView.allForms.fetch();\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                            sidePanel.listenTo(sidePanel, \"after:show\", function () {\r\n                                selectTemplateView.trigger('dom:refresh');\r\n                                sidePanel.trigger('update:button', 'continue-btn', { disabled: true });\r\n                            });\r\n\r\n                            sidePanel.listenTo(sidePanel, \"before:show\", function () {\r\n                                visibleFlag = true;\r\n                            });\r\n\r\n                            sidePanel.listenTo(sidePanel, \"before:hide\", function () {\r\n                                visibleFlag = false;\r\n                                deferred.resolve();\r\n                            });\r\n\r\n                            if (bwsTemplates.length === 0)\r\n                            {\r\n                                var emptyTemplatesList = new EmptyView({text: lang.noResults});\r\n                                sidePanel.slides[0].content = emptyTemplatesList;\r\n                            }\r\n\r\n                            sidePanel.show();\r\n                            var originatingView = status.originatingView;\r\n                            originatingView.$el.append(sidePanel.$el);\r\n                        }\r\n                    }, function (error) {\r\n                        deferred.reject(error);\r\n                        }\r\n                    );\r\n\r\n                   function successWithLinkMessage(newNode) {\r\n                        var message = _.str.sformat(lang.BusinessWorkspaceSuccessfullyCreated, newNode.get('name'));\r\n                        var msgOptions = {\r\n                            context: status.context,\r\n                            nextNodeModelFactory: NextNodeModelFactory,\r\n                            link_url: DefaultActionBehavior.getDefaultActionNodeUrl(newNode),\r\n                            link_label: lang.CommandMessageOpen,\r\n                            targetFolder: newNode\r\n                        };\r\n                        GlobalMessage.showMessage('success_with_link', message, undefined, msgOptions);\r\n                    }\r\n\r\n                    // if enabled open new BWS after creation CWS-4584\r\n                    function openNewWorkspace(newNode) {\r\n                        var nextNode = status.context.getModel(NextNodeModelFactory);\r\n                        nextNode.set('id', newNode.get('id'));\r\n                    }\r\n\r\n                    function updateNameAndView (nodeModel, formCollection, metadataAddItemPropView) {\r\n                        // we have special behavior for the name field, depending on the forms result.\r\n                        // so we put the code here, where we have access to the name field in the dialog header.\r\n                        var general = formCollection.at(0);\r\n                        if (!nodeModel.get(\"id\")) {\r\n                            // due to LPAD-50061, the form collection is fetched after save.\r\n                            // to avoid CWS-1140, we change the name only if id is not set.\r\n                            var data = general.get(\"data\");\r\n                            if (data) {\r\n                                var name = data.name,\r\n                                    parent_id = data.parent_id;\r\n                                log.debug(\"name fetched and used: {0}\",name) && console.log(log.last);\r\n                                nodeModel.set(\"name\",name);\r\n                                nodeModel.set(\"parent_id\",parent_id);\r\n                                var containerId = new NodeModel({id:parent_id });\r\n                                metadataAddItemPropView.metadataPropertiesView.options.container = containerId;\r\n                            } else {\r\n                                // if no server data object is set, then we set an empty name.\r\n                                log.debug(\"name set to empty.\") && console.log(log.last);\r\n                                nodeModel.set(\"name\",\"\");\r\n                            }\r\n                        }\r\n\r\n                        var headerView = metadataAddItemPropView && metadataAddItemPropView.metadataHeaderView,\r\n                            nameView = headerView && headerView.metadataItemNameView;\r\n                        if (nameView) {\r\n                            var gs = general.get(\"schema\"),\r\n                                isReadOnly = (gs && gs.properties && gs.properties.name && gs.properties.name.readonly) ? true : false,\r\n                                placeHolder = isReadOnly ? lang.nameIsGeneratedAutomatically : undefined;\r\n                            nameView.setPlaceHolder(placeHolder);\r\n                            if (isReadOnly && metadataAddItemPropView && metadataAddItemPropView.metadataPropertiesView) {\r\n                            metadataAddItemPropView.metadataPropertiesView.once(\"render:forms\",function() {\r\n                                //If read only, remove the role for the place holder text\r\n                                this.options.metadataView.metadataHeaderView.metadataItemNameView.$el.find('span.title').removeAttr(\"role\");\r\n                                var focusEl = this.currentlyFocusedElement();\r\n                                if (focusEl) {\r\n                                focusEl.trigger('focus');\r\n                                }\r\n                            });\r\n                            }\r\n                        }\r\n                    }\r\n                }, function (error) {\r\n                        deferred.reject(error);\r\n                });\r\n\r\n            return deferred.promise();\r\n        }\r\n    });\r\n\r\n    return AddWorkspaceFromSidePanelCommand;\r\n});\n","csui.define('conws/widgets/navigation.header/controls/create.workspace/impl/nls/localized.strings',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/navigation.header/controls/create.workspace/impl/nls/root/localized.strings',{\r\n  CreateWorkspaceIconTitle: 'Create Business Workspace',\r\n  createWorkspaceTitleAria: \"Create Business Workspace\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/navigation.header/controls/create.workspace/impl/create.workspace',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-icons\\\">\\r\\n  <div class=\\\"conws-create-workspace-icon-container\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":60},\"end\":{\"line\":2,\"column\":69}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"createWorkspaceTitleAria\") || (depth0 != null ? lookupProperty(depth0,\"createWorkspaceTitleAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"createWorkspaceTitleAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":83},\"end\":{\"line\":2,\"column\":111}}}) : helper)))\n    + \"\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n    <span class=\\\"conws-icon-create-workspace create-workspace_header_icon\\\"></span>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"conws-create-workspace-view-container\\\"></div>\";\n}});\nHandlebars.registerPartial('conws_widgets_navigation.header_controls_create.workspace_impl_create.workspace', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/navigation.header/controls/create.workspace/impl/create.workspace',[],function(){});\n","csui.define('conws/widgets/navigation.header/controls/create.workspace/create.workspace.view',[\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'conws/utils/commands/addbwsfromsidepanel',\r\n    'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n    'i18n!conws/widgets/navigation.header/controls/create.workspace/impl/nls/localized.strings',\r\n    'hbs!conws/widgets/navigation.header/controls/create.workspace/impl/create.workspace',\r\n    'css!conws/widgets/navigation.header/controls/create.workspace/impl/create.workspace'\r\n],\r\nfunction($, _, Marionette, AddBWSFromSidePanelCommand, TabableRegionBehavior, localizedStrings, template){\r\n    'use strict';\r\n\r\n    var CreateWorkspaceView = Marionette.LayoutView.extend({\r\n\r\n        className: 'conws-create-workspace-view',\r\n\r\n        template: template,\r\n\r\n        templateHelpers: function () {\r\n          return {\r\n            title: localizedStrings.CreateWorkspaceIconTitle,\r\n            createWorkspaceTitleAria: localizedStrings.createWorkspaceTitleAria\r\n          };\r\n        },\r\n\r\n        regions: {\r\n          CreateWorkspaceViewContainerRegion: '.conws-create-workspace-view-container'\r\n        },\r\n\r\n        ui: {\r\n          createBWSIcon: '.create-workspace_header_icon',\r\n          createBWSIconContainer: '.conws-create-workspace-icon-container',\r\n          createWorkspaceViewContainer: '.conws-create-workspace-view-container'\r\n        },\r\n\r\n        events: {\r\n          'click @ui.createBWSIcon': 'CreateBWSHeaderIconClicked',\r\n          'keydown': 'onKeyInView',\r\n        },\r\n\r\n        behaviors: {\r\n          TabableRegionBehavior: {\r\n            behaviorClass: TabableRegionBehavior\r\n          }\r\n        },\r\n\r\n        currentlyFocusedElement: '.conws-create-workspace-icon-container',\r\n\r\n        constructor: function CreateWorkspaceView(options) {\r\n          Marionette.LayoutView.call(this, options);\r\n          // Flag to prevent multiple clicks on create bws icon\r\n          this.buttonEnabled = true;\r\n          this.context = options.context;\r\n          this.addworkspaceCommand = new AddBWSFromSidePanelCommand();\r\n          this.config = this.addworkspaceCommand.enabled();\r\n        },\r\n\r\n        onRender: function(){\r\n          if(this.config.enabled) {\r\n            this.$el.removeClass(\"binf-hidden\");\r\n          }else{\r\n            $(\".conws-create-workspace\").addClass(\"binf-hidden\");\r\n          }\r\n        },\r\n\r\n        _showQuickWSCreationSidePanel: function () {\r\n          this.buttonEnabled = false;\r\n          this.options && this.options.parentView &&\r\n          this.options.parentView.trigger(\"header:control:clicked\");\r\n          this.addworkspaceCommand.execute({context: this.context,\r\n            originatingView: this,\r\n            data: {\r\n              size: \"medium\",\r\n              resize: false\r\n            }\r\n            //e.g. data: {title:\"customized title\", subtitle:\"customized description\", groupName:\"customized group name\", resize:true}\r\n          })\r\n          .always(_.bind(function () {\r\n            this.buttonEnabled = true;\r\n          }, this));\r\n        },\r\n\r\n        CreateBWSHeaderIconClicked: function () {\r\n          if(this.buttonEnabled === true){\r\n            this._showQuickWSCreationSidePanel();\r\n          }\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n          switch (event.keyCode) {\r\n            case 13:\r\n            case 32:\r\n              // enter or space key\r\n              var flag = this.addworkspaceCommand.visible();\r\n              if(!flag && this.ui.createBWSIconContainer.is(':focus') && this.buttonEnabled === true) {\r\n                  this._showQuickWSCreationSidePanel();\r\n              }\r\n              break;\r\n          }\r\n        },\r\n\r\n    });\r\n\r\n    return CreateWorkspaceView;\r\n});\n","csui.define('conws/controls/breadcrumbspanel/breadcrumbspanel.extension',['module', 'csui/utils/log',\r\n  'conws/utils/commands/navigate/navigable',\r\n  'conws/utils/navigate/navigate.util'\r\n], function (module, Log,\r\n  Navigable,\r\n  NavigateUtil) {\r\n  'use strict';\r\n\r\n  var log = new Log(module.id);\r\n\r\n  function hasContextHeaderWidget(context) {\r\n    var perspective = context && context.perspective;\r\n    var options = perspective && perspective.get(\"options\");\r\n    return !!(options && options.header && options.header.widget);\r\n  }\r\n\r\n  var BreadcrumbsPanelExtension = {\r\n\r\n    hideBreadcrumbs: function (options) {\r\n      var result = false;\r\n      if (Navigable.wantsBackToPrevious()) {\r\n        var context = options && options.context;\r\n        if (hasContextHeaderWidget(context)) {\r\n          if (NavigateUtil.checkWorkspaceHierarchy(context).wkspid){\r\n            result = true;\r\n          }\r\n        }\r\n      }\r\n      log.debug('breadcrumbspanel.extension hideBreadcrumbs: {0}', result) && console.log(log.last);\r\n      return result;\r\n    }\r\n\r\n  };\r\n\r\n  return BreadcrumbsPanelExtension;\r\n});\r\n\n","csui.define('conws/utils/context.help/context.help.ids',[\r\n  'conws/utils/navigate/navigate.util'\r\n], function (NavigateUtil) {\r\n\r\n  'use strict';\r\n\r\n  return [\r\n    { // inside or below a workspace\r\n      sequence: 50,\r\n      decides: function (options) {\r\n        return options.context.getModel('applicationScope').id === 'node' &&\r\n        NavigateUtil.checkWorkspaceHierarchy(options.context).level>=0;\r\n      },\r\n      //contextHelpId : 'ugd-cws'\r\n      contextHelpId : function(options) {\r\n        return 'ugd-cws'\r\n      }\r\n    }\r\n  ];\r\n});\n","csui.define('conws/widgets/header/impl/headertoolbaritems.masks',['module', 'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.mask',\r\n  'csui/utils/toolitem.masks/global.toolitems.mask'\r\n], function (module, _, ToolItemMask, GlobalMenuItemsMask) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with conws/widgets/header/impl/headertoolbaritems\r\n  var toolbars = ['rightToolbar','delayedActionsToolbar'];\r\n\r\n  function ToolbarItemsMasks(options) {\r\n    var globalMask;    \r\n    \r\n    // Create and populate masks for every toolbar\r\n    this.toolbars = _.reduce(toolbars, function (toolbars, toolbar) {\r\n      globalMask = toolbars[toolbar];\r\n\r\n      if (!globalMask) {\r\n        globalMask = new GlobalMenuItemsMask();\t\t\t\r\n      }\r\n\r\n      var mask = new ToolItemMask(globalMask, { normalize: false }),\r\n        source = options[toolbar];\r\n      if (source) {\r\n        mask.extendMask(source);\r\n      }\r\n      // Enable restoring the mask to its initial state\r\n      mask.storeMask();\r\n      toolbars[toolbar] = mask;\r\n      return toolbars;\r\n    }, {});\r\n  }\r\n\r\n  ToolbarItemsMasks.toolbars = toolbars;\r\n\r\n  return ToolbarItemsMasks;\r\n\r\n});\r\n\n","/**\r\n * Created by stefang on 14.09.2015.\r\n */\r\ncsui.define('conws/utils/commands/addconws',['require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/models/command',\r\n  'csui/models/node/node.model',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  // style conws-initializing and conws-add-workspace\r\n  //'css!xecmpf/controls/property.panels/reference/impl/reference.panel'\r\n], function (require, $, _, base, log,\r\n    CommandModel,\r\n    NodeModel,\r\n    lang) {\r\n\r\n  var forwardToTable = false;\r\n\r\n  var AddWorkspaceCommand = CommandModel.extend({\r\n\r\n    defaults:{\r\n      signature: 'AddConnectedWorkspace',\r\n      name: lang.CommandNameAddConnectedWorkspace,\r\n      verb: \"create\",//lang.CommandVerbCopy,\r\n      doneVerb: \"created\",//lang.CommandDoneVerbCopy,\r\n      scope: 'single'\r\n    },\r\n\r\n    enabled: function(status){\r\n      return true;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n\r\n      var deferred = $.Deferred(),\r\n          data = status.data || {},\r\n          container = status.container || {},\r\n          wsType = data.wsType || {},\r\n          template = data.template || {},\r\n          subType = data.subType,\r\n          subTypeName = data.subTypeName,\r\n          newNode = new NodeModel({\r\n            \"type\": subType, //options.addableType,\r\n            \"type_name\": subTypeName,\r\n            \"container\": true,\r\n            \"name\": \"\", // start with empty name\r\n            \"parent_id\": container.attributes.id,\r\n            \"rm_enabled\": wsType.rm_enabled,\r\n            \"sub_folder_id\": 0\r\n          }, {\r\n            connector: status.container.connector\r\n          });\r\n\r\n      //status.container.cmdContainer = \"AddConwsContainer\";\r\n      //newNode.cmdNode = \"AddConwsNode\";\r\n\r\n      if (forwardToTable) {\r\n        status.forwardToTable = true;\r\n        deferred.resolve(newNode);\r\n      }\r\n      else {\r\n        status.suppressSuccessMessage = true;\r\n        require(['csui/models/nodes',\r\n          'csui/widgets/metadata/metadata.add.item.controller',\r\n          'csui/dialogs/modal.alert/modal.alert',\r\n          'csui/controls/globalmessage/globalmessage',\r\n          'conws/models/workspacecreateforms',\r\n          'conws/models/metadata.controller',\r\n          'csui/behaviors/default.action/default.action.behavior',\r\n          'csui/utils/contexts/factories/next.node'\r\n        ], function (NodeCollection,\r\n            MetadataAddItemController,\r\n            ModalAlert,\r\n            GlobalMessage,\r\n            WorkspaceCreateFormCollection,\r\n            WorkspaceMetadataController,\r\n            DefaultActionBehavior,\r\n            NextNodeModelFactory\r\n        ) {\r\n\r\n          // substitute nodes list, so we do not change the selection!\r\n          status.nodes = new NodeCollection([newNode]);\r\n\r\n          //status.cmdStatus = \"AddConwsStatus\";\r\n          //status.nodes.cmdNodes = \"AddConwsNodes\";\r\n          //options.cmdOptions = \"AddConwsOptions\";\r\n\r\n          // Override the default form source for the creation dialog\r\n          // and the default controller to create the new object\r\n          options = _.extend({\r\n            formCollection: options.formCollection || new WorkspaceCreateFormCollection(undefined, {\r\n              node: status.container,\r\n              type: subType, //options.addableType\r\n              wsType: wsType,\r\n              template: template\r\n            }),\r\n            metadataController: options.metadataController || new WorkspaceMetadataController(undefined, {\r\n              type: subType,\r\n              wsType: wsType,\r\n              template: template,\r\n              collection: status.collection\r\n            })\r\n          }, options);\r\n\r\n          options.dialogTitle = _.str.sformat(lang.AddConwsMetadataDialogTitle,template.name||lang.BusinessWorkspace);\r\n          options.addButtonTitle = lang.AddConwsMetadataDialogAddButtonTitle;\r\n\r\n          var formCollection = options.formCollection;\r\n          var formOptions = formCollection.options || (formCollection.options = {});\r\n          var metadataAddItemController = formOptions.metadataAddItemController || (formOptions.metadataAddItemController = new MetadataAddItemController());\r\n\r\n          // methods for handling of name field: set readonly style and placeholder in name field.\r\n          function hideNameAndView() {\r\n            // hide initial place holder as we don't have the read-only information from the server\r\n            var dialog = metadataAddItemController.dialog;\r\n            if (dialog && dialog.$el) {\r\n              dialog.$el.addClass(\"conws-initializing\");\r\n              formCollection.off(null,hideNameAndView);\r\n            }\r\n          }\r\n          function unhideNameAndView() {\r\n            // make name field visible again.\r\n            var dialog = metadataAddItemController.dialog;\r\n            if (dialog && dialog.$el) {\r\n              dialog.$el.removeClass(\"conws-initializing\");\r\n              formCollection.off(null,unhideNameAndView);\r\n            }\r\n          }\r\n\r\n          function successWithLinkMessage() {\r\n            var message = _.str.sformat(lang.BusinessWorkspaceSuccessfullyCreated, newNode.get('name'));\r\n            var msgOptions = {\r\n              context: status.context,\r\n              nextNodeModelFactory: NextNodeModelFactory,\r\n              link_url: DefaultActionBehavior.getDefaultActionNodeUrl(newNode),\r\n              link_label: lang.CommandMessageOpen,\r\n              targetFolder: newNode\r\n            };\r\n            GlobalMessage.showMessage('success_with_link', message, undefined, msgOptions);\r\n          }\r\n\r\n          // show node in table or show success message\r\n          function showNodeOrMessage() {\r\n            var update = false;\r\n            status.collection.forEach(function (item) {\r\n              if (item.get(\"id\") === newNode.get(\"id\")) {\r\n                item.set(newNode.attributes);\r\n                update = true;\r\n              }\r\n            });\r\n            if (!update) {\r\n              var folder_id = status.collection.node.get('id'),\r\n                  parent_id = newNode.get('parent_id'),\r\n                  sub_folder_id = newNode.get('sub_folder_id');\r\n              if (folder_id === parent_id || folder_id === -parent_id) {\r\n                  status.collection.add(newNode, {at: 0});\r\n              } else {\r\n                if ( folder_id !== sub_folder_id && sub_folder_id !== 0 ) { //CWS-5155\r\n                  var sub_folder = new NodeModel( {id: sub_folder_id }, { connector: status.container.connector, collection: status.collection });\r\n                  sub_folder.fetch( { success: function () {\r\n                    if ( sub_folder.get('parent_id') === folder_id ) {\r\n                      if (status.collection.findWhere({id: sub_folder.get(\"id\")}) === undefined) {\r\n                        sub_folder.isLocallyCreated = true;\r\n                        status.collection.add(sub_folder, {at: 0});\r\n                      }\r\n                    }\r\n                    // as the workspace got created at different place\r\n                    // show message after subFolder added to the nodes table\r\n                    successWithLinkMessage();\r\n                  }, error: function(err) {\r\n                    ModalAlert.showError(lang.ErrorAddingSubfolderToNodesTable);\r\n                    successWithLinkMessage();\r\n                  }});\r\n                } else {\r\n                  // simply show message If the workspace got created\r\n                  // in target location (XYZ folder) but created from (ABC folder)\r\n                  successWithLinkMessage();\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          // if enabled open new BWS after creation CWS-4584\r\n          function openNewWorkspace() {\r\n            status.context.viewStateModel.set('conwsNavigate', 'browseView' );\r\n            var nextNode = status.context.getModel(NextNodeModelFactory);\r\n            nextNode.set('id', newNode.get('id'));\r\n          }\r\n\r\n          // set special class on the dialog, so we can give our own styles on the dialog\r\n          formCollection.on(\"request\",function() {\r\n            var dialog = metadataAddItemController.dialog;\r\n            if (dialog && dialog.$el) {\r\n              dialog.$el.addClass(\"conws-add-workspace\");\r\n            }\r\n          });\r\n\r\n          formCollection.once(\"request\",hideNameAndView); // hide when forms is fetched first time\r\n          formCollection.once(\"sync\",unhideNameAndView); // unhide when forms have been fetched\r\n          formCollection.once(\"error\",unhideNameAndView); // unhide also in error case\r\n          formCollection.on(\"sync\",function(){ updateNameAndView(newNode,formCollection,metadataAddItemController);});\r\n          formCollection.on(\"error\",function(model, response, options){\r\n              var errmsg = response && (new base.Error(response)).message || lang.errorGettingCreateForm;\r\n              log.error(\"Fetching the create forms failed: {0}\",errmsg) && console.error(log.last);\r\n              ModalAlert.showError(errmsg);\r\n          });\r\n\r\n          metadataAddItemController\r\n              .displayForm(status, options)\r\n              .then(function () {\r\n                newNode.isLocallyCreated = true;\r\n                if (newNode.attributes.direct_open){\r\n                  openNewWorkspace();\r\n                } else {\r\n                  showNodeOrMessage();\r\n                }\r\n                deferred.resolve.apply(deferred, arguments);\r\n              })\r\n              .fail(function (error) {\r\n                if (error instanceof Error) {\r\n                  deferred.reject(error);\r\n                } else {\r\n                  // cancel clicked or escape pressed\r\n                  deferred.reject();\r\n                }\r\n              });\r\n          // set controller, so unit tests can get the view and wait for end of rendering.\r\n          status.metadataAddItemController = metadataAddItemController;\r\n        }, function (error) {\r\n          deferred.reject(error);\r\n        });\r\n      }\r\n\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  function updateNameAndView (nodeModel, formCollection, metadataAddItemController) {\r\n    // we have special behavior for the name field, depending on the forms result.\r\n    // so we put the code here, where we have access to the name field in the dialog header.\r\n    var general = formCollection.at(0);\r\n    if (!nodeModel.get(\"id\")) {\r\n      // due to LPAD-50061, the form collection is fetched after save.\r\n      // to avoid CWS-1140, we change the name only if id is not set.\r\n      var data = general.get(\"data\");\r\n      if (data) {\r\n        var name = data.name;\r\n        log.debug(\"name fetched and used: {0}\",name) && console.log(log.last);\r\n        nodeModel.set(\"name\",name);\r\n      } else {\r\n        // if no server data object is set, then we set an empty name.\r\n        log.debug(\"name set to empty.\") && console.log(log.last);\r\n        nodeModel.set(\"name\",\"\");\r\n      }\r\n    }\r\n    var metadataView = metadataAddItemController.metadataAddItemPropView,\r\n        headerView = metadataView && metadataView.metadataHeaderView,\r\n        nameView = headerView && headerView.metadataItemNameView;\r\n    if (nameView) {\r\n      var gs = general.get(\"schema\"),\r\n          isReadOnly = (gs && gs.properties && gs.properties.name && gs.properties.name.readonly) ? true : false,\r\n          placeHolder = isReadOnly ? lang.nameIsGeneratedAutomatically : undefined;\r\n      nameView.setPlaceHolder(placeHolder);\r\n      if (isReadOnly && metadataView && metadataView.metadataPropertiesView) {\r\n        metadataView.metadataPropertiesView.once(\"render:forms\",function() {\r\n\t\t  //If read only, remove the role for the place holder text\r\n          this.options.metadataView.metadataHeaderView.metadataItemNameView.$el.find('span.title').removeAttr(\"role\");\r\n\t\t  var focusEl = this.currentlyFocusedElement();\r\n          if (focusEl) {\r\n            focusEl.trigger('focus');\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  return AddWorkspaceCommand;\r\n});\r\n\n","csui.define('conws/utils/commands/addconwstemplate',['require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/models/command',\r\n  'csui/models/node/node.model',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (require, $, _, base, log,\r\n  CommandModel,\r\n  NodeModel,\r\n  lang) {\r\n\r\n    var DocTemplateVolumeType = 20541;\r\n\r\n    var AddWorkspaceTemplateCommand = CommandModel.extend({\r\n\r\n      defaults: {\r\n        signature: 'AddCONWSTemplate',\r\n        name: lang.CommandNameAddCONWSTemplate,\r\n        scope: 'single'\r\n      },\r\n\r\n      enabled: function (status) {\r\n        var node = status.data && status.data.addableTypes && status.data.addableTypes.node,\r\n          nodeData = node && node.get('data'),\r\n          doctemplatesInfo = nodeData && nodeData.doctemplates_info,\r\n          bwsinfo = nodeData && nodeData.bwsinfo;\r\n        return (doctemplatesInfo && bwsinfo && !bwsinfo.id) ? doctemplatesInfo.isInDocTemplateVolTree : false;\r\n      },\r\n\r\n      execute: function (status, options) {\r\n\r\n        var deferred = $.Deferred(),\r\n          subType = options.addableType,\r\n          subTypeName = options.addableTypeName,\r\n          newNode = new NodeModel({\r\n            \"type\": subType,\r\n            \"type_name\": subTypeName,\r\n            \"container\": true,\r\n            \"name\": \"\",\r\n            \"parent_id\": status.container.attributes.id,\r\n            \"is_doctemplate\": true\r\n          }, {\r\n              connector: status.container.connector\r\n            });\r\n\r\n        status.forwardToTable = true;\r\n        deferred.resolve(newNode);\r\n        return deferred.promise();\r\n      }\r\n    });\r\n\r\n    return AddWorkspaceTemplateCommand;\r\n  });\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/move',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/commands/move',\r\n  'csui/utils/url',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function ($, _, MoveCommand, Url, ModalAlert, lang) {\r\n  var CWSMoveCommand = MoveCommand.extend({\r\n\r\n    getExternalBodyParams: function (connector, selectedNodeIds) {\r\n\r\n      var dfd = $.Deferred(),\r\n        self = this;\r\n\r\n      require(\r\n        ['csui/controls/dialog/dialog.view',\r\n          'conws/dialogs/regen.reference/regen.reference.view'],\r\n        function (DialogView, RegenView) {\r\n          var url = new Url(connector.connection.url).getApiBase('v2');\r\n          var formData = {};\r\n          formData.nodeId_list = selectedNodeIds;\r\n          var fullUrl = Url.combine(url + 'canregenerateref');\r\n          var ajaxOptions = {\r\n            type: 'POST',\r\n            url: fullUrl,\r\n            data: formData,\r\n            success: function (response, status, jXHR) {\r\n              if (response.results.canRegenReference) {\r\n                self._view = new RegenView();\r\n                var dialog = new DialogView({\r\n                  headerView: '',\r\n                  view: self._view,\r\n                  className: \"conws-regen-ref-boolean-dialog\",\r\n                  buttons: [{\r\n                    label: lang.apply,\r\n                    default: true,\r\n                    close: true\r\n                  }]\r\n                });\r\n                dialog.listenTo(dialog, 'destroy', function () {\r\n                  self.externalBodyParams = self._view.model.toJSON();\r\n                  dfd.resolve(self.externalBodyParams);\r\n                });\r\n                dialog.show();\r\n              } else {\r\n                dfd.resolve({ 'ref_regen': false });\r\n              }\r\n            },\r\n            error: function (xhr, status, text) {\r\n              var errorContent = xhr.responseJSON ?\r\n                (xhr.responseJSON.errorDetail ? xhr.responseJSON.errorDetail :\r\n                  xhr.responseJSON.error) : lang.defaultErrorGenerateNumber;\r\n              ModalAlert.showError(errorContent);\r\n            }\r\n          };\r\n          connector.extendAjaxOptions(ajaxOptions);\r\n          connector.makeAjaxCall(ajaxOptions);\r\n\r\n        }, function (error) {\r\n          console.log('Error while loading Dialog modules ', error)\r\n        });\r\n\r\n      return dfd.promise();\r\n    }\r\n  });\r\n  MoveCommand.prototype = CWSMoveCommand.prototype;\r\n  return MoveCommand;\r\n});\n","csui.define('conws/utils/commands/delete',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/utils/commands/delete'\r\n], function ($, _, DeleteCommand, lang) {\r\n    // SAPRM-8700 Default DeleteCommand extended for related workspaces where\r\n    // delete must be disabled\r\n    var origEnabled = DeleteCommand.prototype.enabled;\r\n    var DeleteCommandRelatedWorkspaceCheck = DeleteCommand.extend({\r\n        enabled: function (status) {\r\n            if (status.container === undefined ||\r\n                status.container.get(\"type\") !== 854) {\r\n                return origEnabled.call(this, status);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n    DeleteCommand.prototype = DeleteCommandRelatedWorkspaceCheck.prototype;\r\n    return DeleteCommand;\r\n});\n","csui.define('conws/utils/commands/permissions/addoreditrole',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/base',\r\n  'csui/models/command',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n\r\n], function (require, _, $, base, CommandModel, PermissionsUtil, lang) {\r\n  'use strict';\r\n\r\n  // Dependencies loaded in the execute method first\r\n  var GlobalMessage;\r\n\r\n  var AddOrEditRoleCommand = CommandModel.extend({\r\n    defaults: {\r\n      signature: \"AddOrEditRole\",\r\n      name: lang.CommandNameAddRole\r\n    },\r\n\r\n    enabled: function (status) {\r\n      var nodeModel = status.nodeModel || (status.originatingView && status.originatingView.model);\r\n      if (PermissionsUtil.isWorkspace(nodeModel)) {\r\n        // Add role\r\n        if (status.nodeModel) {\r\n          return true;\r\n        }\r\n        //edit role - only if the role belogs to this node\r\n        else if (!status.nodeModel && !!status.model && PermissionsUtil.isWorkspaceRole(status.model) &&\r\n          !PermissionsUtil.isInheritedRole(nodeModel, status.model)) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n      var context = status.context || options && options.context;\r\n      status.addrole = !!status.nodeModel\r\n      status.suppressSuccessMessage = true;\r\n      require(['csui/models/permission/nodepermission.model',\r\n        'csui/controls/globalmessage/globalmessage'\r\n      ], function (NodePermissionModel) {\r\n        GlobalMessage = arguments[1];\r\n\r\n        if (!status.addrole && status.model) {\r\n\r\n          // fetch the role details using roles restapi\r\n          status.model.action = \"fetch\";\r\n          status.model.nodeId = status.originatingView && status.originatingView.model && status.originatingView.model.get(\"id\");\r\n          var url = PermissionsUtil.getUrl(status.model);\r\n          status.model.fetch({\r\n            url: url\r\n          }).done(function () {\r\n            if (status.model.get(\"results\") && status.model.get(\"results\").data &&\r\n              status.model.get(\"results\").data.members && status.model.get(\"results\").data.properties) {\r\n              status.model.set(\"members\", status.model.get(\"results\").data.members);\r\n              status.model.get(\"right_id_expand\").name = status.model.get(\"results\").data.properties.name;\r\n              status.model.get(\"right_id_expand\").description = status.model.get(\"results\").data.properties.description;\r\n              status.model.get(\"right_id_expand\").team_lead = status.model.get(\"results\").data.properties.leader;\r\n            }\r\n            status.model.unset('links');\r\n            status.model.unset('results');\r\n            status.model.unset('addEmptyAttribute');\r\n\r\n            self._selectAddOrEditRoleOptions(status, options)\r\n              .done(function (selectedOptions) {\r\n                var roleModelData = {\r\n                  name: selectedOptions.role_name,\r\n                  description: selectedOptions.role_description,\r\n                  leader: selectedOptions.team_lead\r\n                }\r\n                // if we don`t open the permissions and participants page, then we should not override the details from those views\r\n                if (!!selectedOptions.permissions) {\r\n                  roleModelData.permissions = selectedOptions.permissions;\r\n                  roleModelData.apply_to = selectedOptions.apply_to;\r\n                  roleModelData.include_sub_types = selectedOptions.apply_to > 0 ? [204, 207, 215, 298, 3030202] : []\r\n                }\r\n                if (!!selectedOptions.participants) {\r\n                  roleModelData.members = selectedOptions.participants;\r\n                }\r\n                // update the user provided details from addoreditrole dialog\r\n                status.model.action = \"update\";\r\n                url = PermissionsUtil.getUrl(status.model);\r\n                status.model.save(roleModelData, {\r\n                  url: url,\r\n                  patch: true,\r\n                  wait: true,\r\n                  silent: true\r\n                }).done(function () {\r\n\r\n                  var right_id_expand = status.model.get(\"right_id_expand\");\r\n\r\n                  // update the corresponding extraMemberModel, if the name is updated\r\n                  if( right_id_expand.name !== selectedOptions.role_name ){\r\n                    var memberModel = _.find(status.model.collection.extraMemberModels, { id: status.model.get(\"right_id\") });\r\n                    if( memberModel ){\r\n                      memberModel.set(\"name\", selectedOptions.role_name);\r\n                      memberModel.set(\"name_formatted\", selectedOptions.role_name);\r\n                    }\r\n                  }\r\n\r\n                  right_id_expand.name = selectedOptions.role_name;\r\n                  right_id_expand.name_formatted = selectedOptions.role_name;\r\n                  right_id_expand.description = selectedOptions.role_description;\r\n                  right_id_expand.team_lead = selectedOptions.team_lead;\r\n\r\n                  //update the leader_id if user selected this role as leader.\r\n                  if (selectedOptions.team_lead) {\r\n                    var nodeModel = status.nodeModel || (status.originatingView && status.originatingView.model);\r\n                    // update all nodepermission models with new leader_id\r\n                    $.each(status.model.collection.models, function (index, model) {\r\n                      PermissionsUtil.isWorkspaceRole(model) &&\r\n                        !PermissionsUtil.isInheritedRole(nodeModel, model) &&\r\n                        (model.get(\"right_id_expand\").leader_id = right_id_expand.id);\r\n                    });\r\n                    right_id_expand.leader_id = right_id_expand.id;\r\n\r\n                    // update all member models that is used in userpicker with new leader_id\r\n                    $.each(status.model.collection.extraMemberModels, function (index, model) {\r\n                      PermissionsUtil.isWorkspaceRole(model) &&\r\n                        !PermissionsUtil.isInheritedRole(nodeModel, model) &&\r\n                        model.set(\"leader_id\", right_id_expand.id);\r\n                    });\r\n                  }\r\n\r\n                  //if we don`t open the permissions and participants page, then we should not update the ui as well\r\n                  if (!!selectedOptions.permissions && !!selectedOptions.apply_to) {\r\n                    right_id_expand.permissions = selectedOptions.permissions;\r\n                    status.model.set(\"permissions\", selectedOptions.permissions);\r\n                    right_id_expand.apply_to = selectedOptions.apply_to;\r\n                  }\r\n                  if (!!selectedOptions.participants && selectedOptions.participants.length > 0) {\r\n                    right_id_expand.members = selectedOptions.participants;\r\n                    status.model.set(\"members\", selectedOptions.participants);\r\n                  }\r\n\r\n                  // update the model with the user provided details\r\n                  status.model.set({\r\n                    right_id_expand: right_id_expand,\r\n                    type: 'custom'\r\n                  }, { silent: true });\r\n\r\n                  GlobalMessage.showMessage('success', self._getMessageWithRoleName(status.model));\r\n                  if (status.originatingView && status.originatingView.unblockActions) {\r\n                    status.originatingView.unblockActions();\r\n                  }\r\n                  if (status.originatingView && status.originatingView.permissionsContentView &&\r\n                    status.originatingView.permissionsContentView.permissionsListView) {\r\n                    status.originatingView.permissionsContentView.permissionsListView.trigger(\"update:table\", status.model);\r\n                  }\r\n                  deferred.resolve(status.model);\r\n                }).fail(function (response) {\r\n                  var error = new base.Error(response);\r\n                  if (status.originatingView && status.originatingView.unblockActions) {\r\n                    status.originatingView.unblockActions();\r\n                  }\r\n                  GlobalMessage.showMessage('error', error);\r\n                  deferred.reject(status.model, error);\r\n                });\r\n              }).fail(function (error) {\r\n                deferred.reject(error);\r\n              });\r\n          }).fail(function (error) {\r\n            deferred.reject(error);\r\n          });\r\n        }\r\n        else {\r\n\r\n          // Idenitfy whether atleast one workspace role exists\r\n          status.isWorkspaceRoleExists = status.permissionCollection.models.some(function (model) {\r\n            return PermissionsUtil.isWorkspaceRole(model) && !PermissionsUtil.isInheritedRole(status.nodeModel, model);\r\n          }, this);\r\n\r\n          self._selectAddOrEditRoleOptions(status, options)\r\n            .done(function (selectedOptions) {\r\n              var apply_to = (selectedOptions.apply_to !== undefined) ? selectedOptions.apply_to : 2,\r\n              roleModelData = {\r\n                name: selectedOptions.role_name,\r\n                description: selectedOptions.role_description,\r\n                leader: selectedOptions.team_lead,\r\n                members: selectedOptions.participants,\r\n                permissions: (selectedOptions.permissions !== undefined) ? selectedOptions.permissions : NodePermissionModel.getReadPermissions(),\r\n                apply_to: apply_to,\r\n                include_sub_types: apply_to > 0 ? [204, 207, 215, 298, 3030202] : []\r\n              },\r\n                nodeRolePermissionModel = new NodePermissionModel(roleModelData, status);\r\n              nodeRolePermissionModel.unset('addEmptyAttribute');\r\n              nodeRolePermissionModel.action = \"create\";\r\n              nodeRolePermissionModel.nodeId = status.nodeId;\r\n              if (status.originatingView && status.originatingView.blockActions) {\r\n                status.originatingView.blockActions();\r\n              }\r\n              var url = PermissionsUtil.getUrl(nodeRolePermissionModel);\r\n              nodeRolePermissionModel.save(roleModelData, {\r\n                url: url,\r\n                silent: true,\r\n                wait: true\r\n              }).done(function (response) {\r\n                var currentLeaderId, properties = response.results && response.results.data && response.results.data.properties,\r\n                  right_id = properties && properties.id,\r\n                  isLeader = properties && properties.leader,\r\n                  nodeModel = status.nodeModel || (status.originatingView && status.originatingView.model);\r\n\r\n                //update the leader_id based on user selection.\r\n                if (isLeader) {\r\n                  // update all nodepermission models with new leader_id\r\n                  $.each(status.permissionCollection.models, function (index, model) {\r\n                    PermissionsUtil.isWorkspaceRole(model) &&\r\n                      !PermissionsUtil.isInheritedRole(nodeModel, model) &&\r\n                      (model.get(\"right_id_expand\").leader_id = right_id);\r\n                  });\r\n\r\n                  // update all member models that is used in userpicker with new leader_id\r\n                  $.each(status.permissionCollection.extraMemberModels, function (index, model) {\r\n                    PermissionsUtil.isWorkspaceRole(model) &&\r\n                      !PermissionsUtil.isInheritedRole(nodeModel, model) &&\r\n                      model.set(\"leader_id\", right_id);\r\n                  });\r\n                } else {\r\n                  var filteredModels = _.filter(status.permissionCollection.models, function (model) {\r\n                    return PermissionsUtil.isWorkspaceRole(model) && PermissionsUtil.isLeaderRole(nodeModel, model);\r\n                  });\r\n                  currentLeaderId = filteredModels.length && filteredModels[0].get(\"right_id_expand\").leader_id;\r\n                }\r\n\r\n                nodeRolePermissionModel.set({\r\n                  // set the newly added role details\r\n                  right_id_expand: {\r\n                    id: right_id,\r\n                    initials: selectedOptions.role_name[0],\r\n                    leader_id: isLeader ? right_id : currentLeaderId,\r\n                    name: selectedOptions.role_name,\r\n                    name_formatted: selectedOptions.role_name,\r\n                    type: 848,\r\n                    node_id: status.nodeId,\r\n                    type_name: lang.BusinessWorkspaceRole\r\n                  },\r\n                  type: 'custom',\r\n                  right_id: right_id\r\n                },\r\n                  { silent: true });\r\n                GlobalMessage.showMessage('success',\r\n                  self._getMessageWithRoleName(nodeRolePermissionModel));\r\n                if (status.originatingView && status.originatingView.unblockActions) {\r\n                  status.originatingView.unblockActions();\r\n                }\r\n                deferred.resolve(nodeRolePermissionModel);\r\n              }).fail(function (response) {\r\n                var error = new base.Error(response);\r\n                if (status.originatingView && status.originatingView.unblockActions) {\r\n                  status.originatingView.unblockActions();\r\n                }\r\n                GlobalMessage.showMessage('error', error);\r\n                deferred.reject(nodeRolePermissionModel, error);\r\n              });\r\n            })\r\n            .fail(function (error) {\r\n              deferred.reject(error);\r\n            });\r\n        }\r\n      }, function (error) {\r\n        deferred.reject(error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    _selectAddOrEditRoleOptions: function (status, options) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n      require(['conws/dialogs/addoreditrole/addoreditrole.wizard'],\r\n        function (AddOrEditRoleWizard) {\r\n          var addOrEditRoleWizard = new AddOrEditRoleWizard({\r\n            command: 'addoreditrole',\r\n            context: status.context,\r\n            connector: status.connector,\r\n            dialogClass: 'cs-permission-role-picker',\r\n            displayName: status.addrole ? lang.CommandNameAddRole : lang.CommandNameEditRole,\r\n            dialogTitle: status.addrole ? lang.CommandNameAddRole : lang.CommandNameEditRole,\r\n            addrole: status.addrole,\r\n            nodeModel: status.addrole ? status.nodeModel : status.originatingView.model,\r\n            model: status.model,\r\n            addButtonLabel: lang.AddButtonLabel,\r\n            availablePermissions: status.addrole ? status.permissionCollection.availablePermissions : status.originatingView.collection,\r\n            applyTo: status.applyTo,\r\n            isFirstRole: !status.isWorkspaceRoleExists\r\n          });\r\n\r\n          addOrEditRoleWizard\r\n            .show()\r\n            .done(function () {\r\n              deferred.resolve.apply(deferred, arguments);\r\n            }).fail(function (error) {\r\n              deferred.reject.apply(deferred, arguments);\r\n            });\r\n        }, function (error) {\r\n          deferred.reject(error);\r\n        });\r\n      return deferred.promise();\r\n    },\r\n\r\n    _getMessageWithRoleName: function (permissionModel) {\r\n      var msg, displayName;\r\n      if (permissionModel.get(\"right_id_expand\")) {\r\n        displayName = base.formatMemberName(permissionModel.get(\"right_id_expand\"));\r\n      }\r\n      if (!!permissionModel.action && permissionModel.action === \"update\") {\r\n        msg = _.str.sformat(lang.EditRoleSuccess, displayName);\r\n      }\r\n      else {\r\n        msg = _.str.sformat(lang.AddRoleSuccess, displayName);\r\n      }\r\n\r\n      return msg;\r\n    }\r\n  });\r\n\r\n  return AddOrEditRoleCommand;\r\n});\n","csui.define('conws/utils/workspaces/busyindicator',[], function () {\r\n  'use strict';\r\n\r\n  /**\r\n   * helper class to switch on and off the busy indicator \r\n   * over the view, which triggered command execution.\r\n   * \r\n   */\r\n  function BusyIndicator (on_fct,off_fct) {\r\n    this.on_fct = on_fct;\r\n    this.off_fct = off_fct;\r\n  }\r\n\r\n  function OnOff(status,onoff) {\r\n      if (status.busyIndicator) {\r\n        status.busyIndicator[onoff]();\r\n      } else {\r\n        var view = status.originatingView;\r\n        if (view && view.blockActions && view.unblockActions) {\r\n          status.busyIndicator = new BusyIndicator(\r\n            function(){ view.blockActions(); },\r\n            function(){ view.unblockActions(); }\r\n          );\r\n          status.busyIndicator[onoff]();\r\n        }\r\n      }\r\n  }\r\n\r\n  BusyIndicator.on = function(status) { OnOff(status,\"on\"); };\r\n  BusyIndicator.off = function(status) { OnOff(status,\"off\"); };\r\n\r\n  BusyIndicator.prototype.on = function() {\r\n    if (!this.busy) { this.busy = true; this.on_fct(); }\r\n  };\r\n  BusyIndicator.prototype.off = function() {\r\n    if (this.busy) { this.busy = false; this.off_fct(); }\r\n  };\r\n\r\n  return BusyIndicator;\r\n\r\n});\r\n\n","csui.define('conws/utils/commands/addrelateditem',[\r\n  'require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'csui/models/action',\r\n  'csui/models/command', 'conws/utils/workspaces/busyindicator'\r\n], function (require, _, $, lang, ActionModel, CommandModel, BusyIndicator ) {\r\n  'use strict';\r\n\r\n  function getAction(status) {\r\n    var model = status.collection && status.collection.workspace;\r\n    var action;\r\n    if (model && model.actions) {\r\n      action = model.actions.get ? model.actions.get(\"add-relitem\") : model.actions[\"add-relitem\"];\r\n    }\r\n    return action;\r\n  }\r\n\r\n    var AddRelationCommand = CommandModel.extend({\r\n  \r\n      defaults: {\r\n        signature: \"AddRelation\",\r\n        command_key: ['add-relitem'],\r\n        scope: \"multiple\",\r\n        name: lang.CommandNameAddRelatedItem,\r\n        verb: lang.CommandVerbAddRelatedItem,\r\n        successMessages: {\r\n          formatForNone: lang.AddRelatedItemsNoneMessage,\r\n          formatForOne: lang.AddOneRelatedItemSuccessMessage,\r\n          formatForTwo: lang.AddSomeRelatedItemsSuccessMessage,\r\n          formatForFive: lang.AddManyRelatedItemsSuccessMessage\r\n        }\r\n      },\r\n\r\n      enabled: function(status) {\r\n        var enabled = false;\r\n        if (status.data && status.data.submit) {\r\n          if (status.nodes && status.nodes.length) {\r\n            enabled = !!getAction(status);\r\n          }\r\n        } else {\r\n          enabled = !!getAction(status);\r\n        }\r\n        return enabled;\r\n      },\r\n\r\n      execute: function(status, options) {\r\n        status.suppressSuccessMessage = true;\r\n        if (status.data && status.data.submit) {\r\n          return this.submitNodes(status,options);\r\n        } else {\r\n          return this.openSearch(status,options);\r\n        }\r\n      },\r\n\r\n      submitNodes: function(status,options) {\r\n        var self = this;\r\n        var deferred = $.Deferred();\r\n        status.suppressSuccessMessage = true;\r\n        BusyIndicator.on(status);\r\n        deferred.always(function(){\r\n         BusyIndicator.off(status);\r\n        });\r\n        require([ 'csui/lib/underscore', 'csui/utils/base', 'csui/utils/url',\r\n          'csui/controls/globalmessage/globalmessage'\r\n        ], function ( _, base, Url, GlobalMessage) {\r\n  \r\n          function buildCallData(status) {\r\n            var nodes = status.nodes;\r\n            var connector, name, data;\r\n            var calls = [];\r\n            var action = getAction(status);\r\n            if (nodes && action) {\r\n              nodes.each(function (node) {\r\n                  connector = node.connector;\r\n                  name = node.get(\"name\");\r\n                  var href = action.href || action.get('href')/*href: \"/api/v2/businessworkspaces/98015/relateditems\"*/;\r\n                  // get api version and url without anchor and params from href.\r\n                  var match = href.match(/^\\/?api\\/v([0-9\\.])+\\/([^?#]+)/i);\r\n                  var requestArgs = _.extend(Url.urlParams(href),{\r\n                    rel_bw_id: node.get(\"id\"),\r\n                    rel_type: node.get(\"rel_type\")\r\n                  });\r\n                  var call = {\r\n                    apiCall: (match && match.length>=3) ? match[2] : href,\r\n                    params: {\r\n                      fRequestArgs: requestArgs,\r\n                      fVersionNumber: (match && match.length>=2) ? parseInt(match[1]) : 2,\r\n                      fParamTicket: \"\",\r\n                      fParamMethod: action.method || action.get('method')/*method: \"POST\"*/,\r\n                      fCallName: href\r\n                    }\r\n                  };\r\n                  calls.push(call);\r\n              });\r\n            }\r\n            if (connector) {\r\n              var connectionUrl = connector.getConnectionUrl();\r\n              var baseUrl = connectionUrl.getCgiScript();\r\n              var url = Url.combine(baseUrl,\"/api/v1/csui/batch\");\r\n              var formData = new FormData();\r\n              formData.append('body', JSON.stringify({\r\n                exitOnError: true,\r\n                calls: calls\r\n              }));\r\n              data = {\r\n                url: url,\r\n                method: \"POST\",\r\n                data: formData,\r\n                contentType: false,\r\n                processData: false\r\n              }\r\n            }\r\n            return {connector: connector, name: name, data: data, count: calls.length};\r\n          }\r\n  \r\n          var callData = buildCallData(status);\r\n          if (callData.count) {\r\n            callData.connector.makeAjaxCall(callData.data)\r\n            .done(function(response) {\r\n              // As we have set exitOnError to true we always have all succeeded here.\r\n              var successmsg = base.formatMessage(response.calls.length, self.get(\"successMessages\"), callData.name);\r\n              deferred.resolve(status.nodes);\r\n              GlobalMessage.showMessage(\"success\",successmsg);\r\n              status.originatingView && status.originatingView.trigger(\"cmd:success\", self.get(\"signature\"), status.nodes );\r\n            }).fail(function(request) {\r\n              // As we have set exitOnError to true we always have only one error here.\r\n              var errormsg = request.responseJSON ? request.responseJSON.error : request.statusText;\r\n              var error = new Error(errormsg);\r\n              error.suppressFailMessage = true;\r\n              deferred.reject(error);\r\n              GlobalMessage.showMessage(\"error\",errormsg);\r\n              status.originatingView && status.originatingView.trigger(\"cmd:failure\", self.get(\"signature\"), error );\r\n            });\r\n          } else {\r\n            deferred.resolve();\r\n          }\r\n        }, deferred.reject );\r\n        return deferred.promise();\r\n      },\r\n\r\n      openSearch: function(status,options) {\r\n        var self = this;\r\n        var deferred = $.Deferred();\r\n        status.suppressSuccessMessage = true;\r\n        var action = getAction(status);\r\n        if (action) {\r\n          require(['conws/widgets/relatedworkspaces/addrelatedworkspaces.search'\r\n          ], function (\r\n            AddRelatedWorkspacesSearch\r\n          ) {\r\n            var addWkspSearch = new AddRelatedWorkspacesSearch({\r\n              title: self.get(\"name\"),\r\n              signature: self.get(\"signature\"),\r\n              status: status\r\n            });\r\n\r\n            status.originatingView.on(\"destroy\", function(){\r\n              addWkspSearch.destroy();\r\n            });\r\n\r\n            var lasterror;\r\n            addWkspSearch.searchView.on(\"go:back\", function() {\r\n              addWkspSearch.destroy();\r\n              if (lasterror) {\r\n                lasterror.suppressFailMessage = true;\r\n                deferred.reject(lasterror);\r\n              } else {\r\n                deferred.resolve();\r\n              }\r\n            });\r\n            addWkspSearch.searchView.on(\"cmd:success\", function(sig,result) {\r\n              if (sig===self.get(\"signature\")) {\r\n                lasterror = undefined;\r\n                addWkspSearch.close();\r\n                addWkspSearch.destroy();\r\n                result.each(function(node){\r\n                  // convert each node so it can be used in the relateditems collection.\r\n                  // set deleterelateditem action in each node.\r\n                  var rel_source = node.get(\"rel_source\");\r\n                  var rel_target = node.get(\"id\");\r\n                  var rel_type = node.get(\"rel_type\");\r\n                  var href = _.str.sformat(\"/api/v2/businessworkspaces/{0}/relateditems/{1}?rel_type={2}\", rel_source, rel_target, rel_type);\r\n                  var del_action = new ActionModel({\r\n                    body: \"\",\r\n                    content_type: \"\",\r\n                    form_href: \"\",\r\n                    href: href,\r\n                    method: \"DELETE\",\r\n                    name: lang.ServerCommandNameDeleteRelatedItem/*\"Remove related item\"*/,\r\n                    signature: \"deleterelateditem\"\r\n                  },{\r\n                    connector: node.connector\r\n                  });\r\n                  node.actions.add(del_action);\r\n                });\r\n                deferred.resolve(result.models);\r\n              }\r\n            });\r\n            addWkspSearch.searchView.on(\"cmd:failure\", function(sig,error) {\r\n              if (sig===self.get(\"signature\")) {\r\n                lasterror = error;\r\n              }\r\n            });\r\n  \r\n            addWkspSearch.show();\r\n\r\n          }, deferred.reject );\r\n        }\r\n        else {\r\n          deferred.resolve();\r\n        }\r\n\r\n        return deferred.promise();\r\n      }\r\n\r\n\r\n    });\r\n\r\n    return AddRelationCommand;\r\n  \r\n  });\r\n  \n","csui.define('conws/utils/commands/deleterelateditem',[\r\n  'require', 'csui/lib/jquery',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'csui/models/command', 'conws/utils/workspaces/busyindicator'\r\n], function (require, $, lang, CommandModel, BusyIndicator) {\r\n  'use strict';\r\n\r\n  var RemoveRelationCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: \"RemoveRelation\",\r\n      command_key: ['deleterelateditem'],\r\n      scope: 'multiple',\r\n      name: lang.CommandNameDeleteRelatedItem,\r\n      verb: lang.CommandVerbDeleteRelatedItem,\r\n      confirmMessages: {\r\n        formatForOne: lang.DeleteOneRelatedItemConfirmMessage,\r\n        formatForTwo: lang.DeleteSomeRelatedItemsConfirmMessage,\r\n        formatForFive: lang.DeleteManyRelatedItemsConfirmMessage\r\n      },\r\n      successMessages: {\r\n        formatForNone: lang.DeleteRelatedItemsNoneMessage,\r\n        formatForOne: lang.DeleteOneRelatedItemSuccessMessage,\r\n        formatForTwo: lang.DeleteSomeRelatedItemsSuccessMessage,\r\n        formatForFive: lang.DeleteManyRelatedItemsSuccessMessage\r\n      }\r\n    },\r\n\r\n    enabled: function(status) {\r\n      if (status.nodes && status.nodes.length) {\r\n        var node = status.nodes.find(function(node){\r\n          if (!(node.actions && node.actions.get(\"deleterelateditem\"))) {\r\n            return node;\r\n          }\r\n        });\r\n        return !node;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    execute: function(status, options) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n      status.suppressSuccessMessage = true;\r\n      BusyIndicator.on(status);\r\n      deferred.always(function(){\r\n        BusyIndicator.off(status);\r\n      });\r\n      require([ 'csui/lib/underscore', 'csui/utils/base', 'csui/utils/url',\r\n        'csui/dialogs/modal.alert/modal.alert',\r\n        'csui/controls/globalmessage/globalmessage'\r\n      ], function (_, base, Url, ModalAlert, GlobalMessage) {\r\n\r\n        function buildCallData(status) {\r\n          var nodes = status.nodes;\r\n          var connector, name, data;\r\n          var calls = [];\r\n          if (nodes) {\r\n            nodes.each(function (node) {\r\n              var action = node.actions.get('deleterelateditem');\r\n              if (action) {\r\n                connector = node.connector;\r\n                name = node.get(\"name\");\r\n                var href = action.get('href')/*href: \"/api/v2/businessworkspaces/98015/relateditems/125892?rel_type=child\"*/;\r\n                // get api version and url without anchor and params from href.\r\n                var match = href.match(/^\\/?api\\/v([0-9\\.])+\\/([^?#]+)/i);\r\n                var call = {\r\n                  apiCall: (match && match.length>=3) ? match[2] : href,\r\n                  params: {\r\n                    fRequestArgs: Url.urlParams(href),\r\n                    fVersionNumber: (match && match.length>=2) ? parseInt(match[1]) : 2,\r\n                    fParamTicket: \"\",\r\n                    fParamMethod: action.get('method')/*method: \"DELETE\"*/,\r\n                    fCallName: href\r\n                  }\r\n                };\r\n                calls.push(call);\r\n              }\r\n            });\r\n          }\r\n          if (connector) {\r\n            var connectionUrl = connector.getConnectionUrl();\r\n            var baseUrl = connectionUrl.getCgiScript();\r\n            var url = Url.combine(baseUrl,\"/api/v1/csui/batch\");\r\n            var formData = new FormData();\r\n            formData.append('body', JSON.stringify({\r\n              exitOnError: true,\r\n              calls: calls\r\n            }));\r\n            data = {\r\n              url: url,\r\n              method: \"POST\",\r\n              data: formData,\r\n              contentType: false,\r\n              processData: false\r\n            }\r\n          }\r\n          return {connector: connector, name: name, data: data, count: calls.length};\r\n        }\r\n\r\n        var callData = buildCallData(status);\r\n        if (callData.count) {\r\n          BusyIndicator.off(status);\r\n          var confirmmsg = base.formatMessage(callData.count, self.get(\"confirmMessages\"), callData.name);\r\n          ModalAlert.confirmQuestion(confirmmsg, self.get(\"name\"))\r\n            .done(function() {\r\n              BusyIndicator.on(status);\r\n              callData.connector.makeAjaxCall(callData.data)\r\n              .done(function(response) {\r\n                // As we have set exitOnError to true we always have all succeeded here.\r\n                var successmsg = base.formatMessage(response.calls.length, self.get(\"successMessages\"), callData.name);\r\n                deferred.resolve(response.calls);\r\n                GlobalMessage.showMessage(\"success\",successmsg);\r\n              }).fail(function(request) {\r\n                // As we have set exitOnError to true we always have only one error here.\r\n                var errormsg = request.responseJSON ? request.responseJSON.error : request.statusText;\r\n                var error = new Error(errormsg);\r\n                error.suppressFailMessage = true;\r\n                deferred.reject(error);\r\n                GlobalMessage.showMessage(\"error\",errormsg);\r\n              });\r\n            })\r\n            .fail( function() {\r\n              deferred.resolve();\r\n            });\r\n        } else {\r\n          deferred.resolve();\r\n        }\r\n      }, deferred.reject );\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return RemoveRelationCommand;\r\n\r\n});\r\n\n","\n","csui.define('conws/utils/commands/permissions/deleterole',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/commands/permissions/delete.permission',\r\n  'csui/utils/command.error',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'i18n!csui/utils/commands/nls/localized.strings'\r\n], function (require, $, _, Backbone, DeletePermissionCommand, CommandError, GlobalMessage, PermissionsUtil, lang, csuilang) {\r\n  'use strict';\r\n\r\n  var DeleteRoleCommand = DeletePermissionCommand.extend({\r\n\r\n    defaults: {\r\n      signature: 'DeleteRole',\r\n      name: lang.CommandNameDeleteRole,\r\n      scope: 'single'\r\n    },\r\n\r\n    enabled: function (status) {\r\n      var permissionModel = status.model,\r\n          isWorkspaceRole = PermissionsUtil.isWorkspaceRole(permissionModel),\r\n          permissionType  = permissionModel && permissionModel.get('type'),\r\n          nodeModel       = status.nodeModel || (status.originatingView && \r\n                                                status.originatingView.model),\r\n          isWorkspace = PermissionsUtil.isWorkspace(nodeModel),\r\n          isInheritedRole = PermissionsUtil.isInheritedRole(nodeModel, permissionModel),\r\n          isLeaderRole = PermissionsUtil.isLeaderRole(nodeModel, permissionModel),\r\n          canDeleteRole = !isLeaderRole;\r\n          /*If the Leader Role is the only Role available in View Permissions page, then we are enabling delete command for that Role.\r\n            If it is associated with other Roles then disabling delete command for Leader Role and for other Roles no restriction.\r\n          */\r\n         if (isLeaderRole) {\r\n          var extraMemberModels = status.originatingView && status.originatingView.collection && status.originatingView.collection.extraMemberModels;\r\n          canDeleteRole = extraMemberModels && extraMemberModels.length === 1;\r\n         }\r\n          var enabled         = permissionType && permissionType === \"custom\" && isWorkspaceRole && canDeleteRole &&\r\n                            nodeModel.actions && !!nodeModel.actions.get({signature: 'editpermissions'});\r\n\r\n      // For subitems and inherited roles we need to update the title.\r\n      if ((!isWorkspace && isWorkspaceRole) || (isWorkspace && isInheritedRole)) {\r\n        status.toolItem.set(\"name\", lang.DeletePermissionCommandForSubItems);\r\n      }\r\n      return enabled;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      var deferred = $.Deferred(),\r\n          self     = this;\r\n      options || (options = {});\r\n      // avoid messages from handleExecutionResults\r\n      status.suppressFailMessage = true;\r\n      status.suppressSuccessMessage = true;\r\n\r\n      require([\r\n        'csui/controls/globalmessage/globalmessage',\r\n        'conws/dialogs/applyrolepermissions/apply.role.permissions.view',\r\n        'conws/dialogs/applyrolepermissions/impl/header/apply.role.permissions.header.view',\r\n        'csui/controls/progressblocker/blocker',\r\n        'csui/controls/dialog/dialog.view',\r\n        'csui/utils/permissions/permissions.precheck'\r\n      ], function (localGlobalMessage, ApplyRolePermissionView, ApplyRolePermissionsHeaderView,\r\n          BlockingView, DialogView, PermissionPreCheck) {\r\n        GlobalMessage = localGlobalMessage;\r\n\r\n        var permissionModel = status.model,\r\n          nodeModel = status.nodeModel || (status.originatingView &&\r\n            status.originatingView.model),\r\n          isWorkspace = PermissionsUtil.isWorkspace(nodeModel),\r\n          isWorkspaceRole = PermissionsUtil.isWorkspaceRole(permissionModel),\r\n          isInheritedRole = PermissionsUtil.isInheritedRole(nodeModel, permissionModel);\r\n\r\n        if (isWorkspace && isWorkspaceRole && !isInheritedRole) {\r\n          permissionModel.isRoleDelete = true;\r\n        }else{\r\n          permissionModel.isRoleDelete = false;\r\n        }\r\n\r\n        if ( status.originatingView && status.originatingView.model &&\r\n            status.originatingView.model.get(\"container\")) {\r\n          options.removePermission = true;\r\n          self._executeDeletePermission(status, options, ApplyRolePermissionsHeaderView,\r\n            ApplyRolePermissionView, BlockingView, DialogView, PermissionPreCheck)\r\n              .then(deferred.resolve, deferred.reject);\r\n        } else {\r\n          self._deletePermission(status, options).then(deferred.resolve, deferred.reject);\r\n        }\r\n      }, deferred.reject);\r\n      return deferred.promise();\r\n    },\r\n\r\n    _performActions: function (status, options) {\r\n      var self            = this,\r\n          deferred        = $.Deferred(),\r\n          permissionModel = status.dialog ? status.dialog.options.view.options.permissionModel :\r\n                            status.model,\r\n          permissionType  = permissionModel.get('type'),\r\n          collection      = permissionModel.collection,\r\n          failureMsg      = this._getMessageWithUserDisplayName(\r\n            csuilang.DeletePermissionCommandFailMessage, permissionModel),\r\n          deleteAttr,successMsg;\r\n\r\n      if (collection && collection.options && collection.options.node &&\r\n          collection.options.node.actions.get({signature: 'editpermissions'})) {\r\n        permissionModel.nodeId = collection.options && collection.options.node &&\r\n                                 collection.options.node.get('id');\r\n        var url, container           = collection.options && collection.options.node &&\r\n                                  collection.options.node.get(\"container\"),\r\n            permissionModelType = collection.options && collection.options.node &&\r\n                                  collection.options.node.get(\"permissions_model\");\r\n \r\n        if (status.dialog && !permissionModel.isRoleDelete) {\r\n          permissionModel.apply_to = (container && status.dialog.options.view.ContentRegion.currentView.getValues().subitems_inherit) ? 2 : 0,\r\n          permissionModel.include_sub_types = permissionModel.apply_to > 0  ? [204, 207, 215, 298, 3030202] : [];\r\n        }\r\n\r\n        url = permissionModel.url();\r\n\r\n        if ( permissionModel.isRoleDelete ) {\r\n          permissionModel.action = 'delete';\r\n          url = PermissionsUtil.getUrl(permissionModel);\r\n          failureMsg = this._getMessageWithUserDisplayName(lang.DeleteRoleCommandFailMessage, permissionModel);\r\n        }\r\n\r\n        if (self.originatingView && self.originatingView.blockActions) {\r\n          self.destroyDialog(status);\r\n          self.originatingView.blockActions();\r\n        }\r\n        \r\n        var jqxhr = permissionModel.destroy({\r\n          url: url,\r\n          wait: true\r\n        }).done(function (response) {\r\n          //update the results\r\n          permissionModel.set('results', response.results);\r\n          self.originatingView && self.originatingView.trigger('permission:changed', self);\r\n          if (self.originatingView && self.originatingView.unblockActions) {\r\n            self.originatingView.unblockActions();\r\n          }\r\n\r\n          var targetModel = permissionModel.get(\"right_id_expand\");\r\n          if (targetModel && targetModel.id && self.originatingView && self.originatingView.collection && self.originatingView.collection.extraMemberModels) {\r\n            self.originatingView.collection.extraMemberModels = _.reject(self.originatingView.collection.extraMemberModels, function (model) {\r\n              return model.id === targetModel.id;\r\n            });\r\n          }\r\n\r\n          if( permissionModel.isRoleDelete ){\r\n            successMsg = self._getMessageWithUserDisplayName(lang.DeleteRoleCommandSuccessMessage, permissionModel);\r\n          }else{\r\n            successMsg = self._getMessageWithUserDisplayName(\r\n              permissionModel.get('results') && permissionModel.get('results').success > 0 ?\r\n              csuilang.DeletePermissionCommandSuccessMessageWithCount :\r\n              csuilang.DeletePermissionCommandSuccessMessage, permissionModel);\r\n          }          \r\n          GlobalMessage.showMessage('success', successMsg);\r\n          if (permissionType === \"owner\" || permissionType === \"group\") {\r\n            //Check & Process for no owner condition\r\n            collection.processForEmptyOwner && collection.processForEmptyOwner();\r\n          }\r\n          //self.destroyDialog(status);\r\n          deferred.resolve(permissionModel);\r\n\r\n        }).fail(function (error) {\r\n          var commandError = error ? new CommandError(error, permissionModel) :\r\n                             error;\r\n          self.handleFailure(commandError, failureMsg);\r\n          deferred.reject(permissionModel, commandError);\r\n          if (!error) {\r\n            jqxhr.abort();\r\n          }\r\n        }).always(function () {\r\n          if (self.originatingView && self.originatingView.unblockActions) {\r\n            self.originatingView.unblockActions();\r\n          }\r\n        });\r\n        return deferred.promise();\r\n      }\r\n      else {\r\n        self.destroyDialog(status);\r\n        return deferred.reject(\r\n            new CommandError(failureMsg, {errorDetails: csuilang.undefinedCollection}));\r\n      }\r\n    },\r\n\r\n    handleFailure: function (commandError, oneFileFailure) {\r\n      var errObject = Backbone.Model.extend({\r\n            defaults: {\r\n              name: \"\",\r\n              state: 'pending',\r\n              commandName: 'ViewPermission'\r\n            }\r\n          }),\r\n          errObjects;\r\n\r\n      var failedPermissionsCollection = Backbone.Collection.extend({\r\n        model: errObject\r\n      });\r\n      var errCollection = new failedPermissionsCollection();\r\n      errObjects = new errObject({\r\n        name: commandError,\r\n        mime_type: '',\r\n        state: 'rejected'\r\n      });\r\n      errCollection.add(errObjects);\r\n      GlobalMessage.showPermissionApplyingProgress(errCollection, {oneFileFailure: oneFileFailure});\r\n    }\r\n  });\r\n\r\n  return DeleteRoleCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/permissions/edit.role.permissions',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/base',\r\n  'csui/models/command',\r\n  'csui/utils/command.error',\r\n  'csui/utils/commands/permissions/permission.util',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'i18n!csui/utils/commands/nls/localized.strings'\r\n], function (require, _, $, base, CommandModel, CommandError, PermissionUtil, ConwsPermissionsUtil, lang ) {\r\n  'use strict';\r\n  \r\n    var EditRolePermissionCommand = CommandModel.extend({\r\n      defaults: {\r\n        signature: 'EditRolePermission',\r\n        command_key: ['editpermissions', 'Edit Permissions']\r\n      },\r\n  \r\n      enabled: function (status) {\r\n        var permissionModel = status.model,\r\n            permissionType  = permissionModel && permissionModel.get('type'),\r\n            nodeModel       = status.nodeModel || (status.originatingView && \r\n                                                  status.originatingView.model),\r\n            enabled         = permissionType && permissionType === \"custom\" &&\r\n                              ConwsPermissionsUtil.isWorkspaceRole(permissionModel) &&\r\n                              nodeModel.actions && !!nodeModel.actions.get({signature: 'editpermissions'});\r\n  \r\n        return enabled;\r\n      },\r\n  \r\n      execute: function (status, options) {\r\n        var self            = this,\r\n            deferred        = $.Deferred(),\r\n            permissionModel = status.model,\r\n            collection      = permissionModel.collection,\r\n            targetView      = status.targetView;\r\n  \r\n        self.targetView = targetView;\r\n        // avoid messages from handleExecutionResults\r\n        status.suppressFailMessage = true;\r\n        status.suppressSuccessMessage = true;\r\n  \r\n        var failureMsg = this._getMessageWithUserDisplayName(lang.EditPermissionCommandFailMessage,\r\n            permissionModel);\r\n        var userHasEditPermissions = collection && collection.options && collection.options.node &&\r\n                                     collection.options.node.actions.get(\r\n                                         {signature: 'editpermissions'});\r\n  \r\n        if (collection && !!userHasEditPermissions) {\r\n          permissionModel.nodeId = collection.options && collection.options.node &&\r\n                                   collection.options.node.get('id');\r\n  \r\n          require(\r\n              ['conws/utils/commands/permissions/edit.role.permission.helper',\r\n                'csui/utils/contexts/factories/user', 'csui/controls/globalmessage/globalmessage',\r\n                'csui/utils/permissions/permissions.precheck'\r\n              ],\r\n              function (EditRolePermissionHelper, UserModelFactory, GlobalMessage, PermissionPreCheck) {\r\n                var user = status.originatingView.context.getModel(UserModelFactory);\r\n                self.loginUserId = user.get('id');\r\n                self.editRolePermissionHelper = new EditRolePermissionHelper({\r\n                  permissionModel: permissionModel,\r\n                  popoverPlacement: \"left\",\r\n                  popoverAtBodyElement: status.originatingView ?\r\n                                        !status.originatingView.options.isExpandedView : true,\r\n                  popoverTargetElement: status.targetView.permissions.$el,\r\n                  readonly: false,\r\n                  originatingView: status.originatingView,\r\n                  applyTo: status.applyTo\r\n                });\r\n                self.editRolePermissionHelper._showSelectPermissionLevelPopover();\r\n                self.editRolePermissionHelper.listenTo(self.editRolePermissionHelper,\r\n                    \"permissions:selected\", function (userSelection) {\r\n                      var url, saveAttr = {\r\n                        \"permissions\": userSelection.permissions,\r\n                        \"apply_to\": userSelection.apply_to,\r\n                        \"include_sub_types\": userSelection.apply_to > 0 ?\r\n                                             PermissionPreCheck.includeSubTypes() : []\r\n                      },\r\n                      nodeModel = ( self.targetView && self.targetView.options && self.targetView.options.nodeModel ) ||\r\n                      ( self.targetView && self.targetView.permissions && self.targetView.permissions.options && self.targetView.permissions.options.nodeModel );\r\n\r\n                      if (userSelection.right_id) {\r\n                        saveAttr.right_id = userSelection.right_id;\r\n                      }\r\n                      if ( ConwsPermissionsUtil.isWorkspace(nodeModel) && ConwsPermissionsUtil.isWorkspaceRole(permissionModel) ) {\r\n                        permissionModel.action = 'editperms';\r\n                        url = ConwsPermissionsUtil.getUrl(permissionModel);\r\n                      }\r\n                      permissionModel.save(saveAttr, {\r\n                        url: url,\r\n                        patch: true,\r\n                        wait: true,\r\n                        silent: true\r\n                      }).done(function (response) {\r\n  \r\n                        permissionModel.set(saveAttr, {silent: true});\r\n                        status.originatingView.trigger('permission:changed', status);\r\n                        //status.originatingView.render();\r\n                        self.editRolePermissionHelper.destroy();\r\n                        self.editRolePermissionHelper.unblockActions();\r\n                        /*if (permissionModel.mustRefreshAfterPut !== false) {\r\n                          return permissionModel.fetch();\r\n                        }*/\r\n                        deferred.resolve();\r\n                        if (status.originatingView.model.get('permissions_model') !== 'simple') {\r\n                          PermissionUtil.generateSuccessMessage(response, GlobalMessage);\r\n                        } \r\n                      }).fail(function (error) {\r\n                        var commandError = error ? new CommandError(error, permissionModel) :\r\n                                           error;\r\n                        GlobalMessage.showMessage('error', commandError);\r\n                        deferred.reject(permissionModel, commandError);\r\n                      });\r\n                    });\r\n  \r\n                self.editRolePermissionHelper.listenTo(self.editRolePermissionHelper,\r\n                    \"closed:permission:level:popover\", function () {\r\n                      deferred.reject(permissionModel);\r\n                    });\r\n              });\r\n        } else {\r\n          return deferred.reject(\r\n              new CommandError(failureMsg, {errorDetails: lang.undefinedCollection}));\r\n        }\r\n        return deferred.promise();\r\n      },\r\n  \r\n      _getMessageWithUserDisplayName: function (unformattedMsg, permissionModel) {\r\n        var displayName;\r\n        if (permissionModel.get(\"right_id_expand\")) {\r\n          displayName = base.formatMemberName(permissionModel.get(\"right_id_expand\"));\r\n        } else if (permissionModel.get(\"type\") === \"public\") {\r\n          displayName = lang.publicAccess;\r\n        }\r\n        var msg = _.str.sformat(unformattedMsg, displayName);\r\n        return msg;\r\n      }\r\n    });\r\n  \r\n    return EditRolePermissionCommand;\r\n  });\r\n  \n","\n","csui.define('conws/utils/commands/permissions/edit.role.permission.helper',[\r\n    'csui/lib/underscore',\r\n    'csui/controls/dialog/dialog.view',\r\n    'csui/models/permission/nodepermission.model',\r\n    'csui/widgets/permissions/edit/edit.permission.helper',\r\n    'conws/dialogs/applyrolepermissions/apply.role.permissions.view',\r\n    'csui/widgets/permissions/edit/apply.permission/header/apply.permission.header.view',\r\n    'csui/controls/progressblocker/blocker',\r\n    'i18n!csui/widgets/permissions/impl/nls/lang'\r\n  ], function (_,\r\n      DialogView,\r\n      NodePermissionModel,\r\n      EditPermissionHelper,\r\n      ApplyRolePermissionView,\r\n      ApplyPermissionHeaderView,\r\n      BlockingView,\r\n      lang) {\r\n    \"use strict\";\r\n  \r\n    var EditRolePermissionHelper = EditPermissionHelper.extend({\r\n  \r\n      constructor: function EditRolePermissionHelper(options) {\r\n        EditPermissionHelper.prototype.constructor.apply(this, arguments);\r\n      },\r\n      \r\n      showApplyPermissionDialog: function () {\r\n        var headerView = new ApplyPermissionHeaderView();\r\n        this._view = new ApplyRolePermissionView({\r\n          context: this.options.context || this.options.originatingView.context,\r\n          model: this.options.nodeModel || this.options.originatingView.model,\r\n          applyTo: this.options.applyTo,\r\n          permissionModel: this.options.permissionModel\r\n        });\r\n        var dialog = new DialogView({\r\n          headerView: headerView,\r\n          view: this._view,\r\n          className: \"csui-permissions-apply-dialog\",\r\n          midSize: true,\r\n          buttons: [\r\n            {\r\n              id: 'apply',\r\n              label: lang.applyButtonLabel,\r\n              toolTip: lang.applyButtonLabel,\r\n              'default': true,\r\n              click: _.bind(this.onClickApplyButton, this)\r\n            },\r\n            {\r\n              label: lang.cancelButtonLabel,\r\n              toolTip: lang.cancelButtonLabel,\r\n              close: true\r\n            }\r\n          ]\r\n        });\r\n        dialog.listenTo(dialog, 'hide', _.bind(this.onHideDialog, this));\r\n        BlockingView.imbue(dialog);\r\n        return dialog;\r\n      },\r\n  \r\n      onClickApplyButton: function (event) {\r\n        var container        = event.dialog.options.view.model.get(\"container\"),\r\n            right_id         = event.dialog.options.view.options.permissionModel &&\r\n                               event.dialog.options.view.options.permissionModel.get(\"right_id\"),\r\n            apply_to         = (container && event.dialog.options.view.ContentRegion.currentView.getValues().subitems_inherit) ? 2 : 0,\r\n            selectedSubItems = apply_to > 0 ? [204, 207, 215, 298, 3030202] : [];\r\n\r\n        var deferredResp = this.triggerMethod('permissions:selected',\r\n            {\r\n              permissions: this.permissions,\r\n              apply_to: apply_to,\r\n              right_id: right_id,\r\n              include_sub_types: selectedSubItems\r\n            });\r\n        this._applyDialog.destroy();\r\n        this._blockActions();\r\n      }      \r\n    });\r\n  \r\n    return EditRolePermissionHelper;\r\n  \r\n  });\r\n  \n","csui.define('conws/utils/dragndrop/dragndrop.subtypes',[],function () {\r\n    'use strict';\r\n    return 848;\r\n});\n","\ncsui.define('css!conws/utils/overlay/impl/conwsoverlay',[],function(){});\n","/**\r\n * Created by stefang on 05.04.2016.\r\n */\r\ncsui.define('conws/utils/overlay/conwsoverlay',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'css!conws/utils/overlay/impl/conwsoverlay'\r\n], function ($, _,\r\n    Marionette\r\n) {\r\n\r\n  var ConwsOverlay = Marionette.Controller.extend({\r\n    \r\n    constructor: function ConwsOverlay() {\r\n      Marionette.Controller.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    _transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    _hidePresentationView : function() {\r\n      if (this.options.onHidePresentationView) {\r\n        this.options.onHidePresentationView(this.modalContent);\r\n      }\r\n\r\n      this.modalWrapper.detach();\r\n      this.presentationView.$el.detach();\r\n      this.presentationView.$el.removeClass('conws-overlay-panel');\r\n      this.modalContent.removeClass('conws-overlay-showing');\r\n    },\r\n\r\n    _showOtherView: function() {\r\n      // to show blocking circle, if blockActions was called on the other view. \r\n      this.modalContent.find(\">:not(.conws-overlay-wrapper)\").show();\r\n      if (this.options.onShowOtherView) {\r\n        this.options.onShowOtherView(this.modalContent);\r\n      }\r\n    },\r\n\r\n    _hideOtherView: function () {\r\n      if (this.options.onHideOtherView) {\r\n        this.options.onHideOtherView(this.modalContent);\r\n      }\r\n      this.modalContent.find(\">:not(.conws-overlay-wrapper)\").hide();\r\n    },\r\n\r\n    _showPresentationView : function() {\r\n      \r\n      this.modalContent = $(this.options.presentationRoot);\r\n      this.modalContent.addClass('conws-overlay-beforeshow');\r\n\r\n      // do not delete view, just show it. it is registered on the event too and updates itself.\r\n      if (!this.presentationView) {\r\n        this.presentationView = this.options.presentationView;\r\n        this.presentationView.render();\r\n      }\r\n\r\n      this.presentationView.$el.addClass(\"conws-overlay-panel\");\r\n\r\n      this.modalWrapper = $('<div class=\"conws-overlay-wrapper\"></div>');\r\n      this.modalContent.append(this.modalWrapper);\r\n      this.modalWrapper.append(this.presentationView.$el);\r\n\r\n      if (this.options.onShowPresentationView) {\r\n        this.options.onShowPresentationView(this.modalContent);\r\n      }\r\n\r\n      // read a property, so browser updates DOM and element is at start position\r\n      this.presentationView.$el.position();\r\n\r\n      this.presentationView.triggerMethod('dom:refresh');\r\n\r\n      var that = this;\r\n      this.presentationView.$el.one(this._transitionEnd(), function () {\r\n        that.modalContent.removeClass(\"conws-overlay-animating\");\r\n        that.modalContent.addClass('conws-overlay-showing');\r\n        that._hideOtherView();\r\n      });\r\n      this.modalContent.addClass('conws-overlay-animating');\r\n      this.modalContent.removeClass('conws-overlay-beforeshow');\r\n    },\r\n\r\n    show: function() {\r\n      this._showPresentationView();\r\n    },\r\n\r\n    close: function() {\r\n      this._showOtherView();\r\n      this._hidePresentationView();\r\n    }\r\n\r\n  });\r\n\r\n  return ConwsOverlay;\r\n});\r\n\n","/**\r\n * Created by stefang on 10.07.2019.\r\n */\r\n// Fetches the list of related workspaces\r\ncsui.define('conws/widgets/relatedworkspaces/impl/relatedworkspaces.searchresult.model',['module', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/nodes',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'conws/utils/workspaces/impl/workspaces.collection.mixin'\r\n], function (module, $, _, Backbone, Url,\r\n    NodeCollection, BrowsableMixin, NodeResourceMixin, ExpandableMixin,\r\n    WorkspacesCollectionMixin) {\r\n\r\n  var config = module.config();\r\n\r\n  function Searching(columns) {\r\n    this.set(columns);\r\n  }\r\n\r\n  Searching.prototype.set = function set(columns) {\r\n    this.sortedColumns = columns || {};\r\n  };\r\n\r\n  function Sorting(columns,orderby) {\r\n    this.set(columns,orderby);\r\n  }\r\n\r\n  Sorting.prototype.set = function set(columns,orderby) {\r\n    var links= {};\r\n    var orderBy = orderby || \"name asc\";\r\n    var sort_key = orderBy.replace(/( asc| desc)$/,\"\");\r\n    var sort_order = orderBy.slice(sort_key.length+1);\r\n    var sort_spec = sort_order ? sort_order + '_' + sort_key : sort_key;\r\n    var sort_name = sort_key.charAt(0).toUpperCase() + sort_key.slice(1);\r\n    if (columns) {\r\n      columns.each(function(el){\r\n        var el_key = el.get(\"column_key\");\r\n        var el_name = el.get(\"name\");\r\n        if (sort_key===el_key) {\r\n          sort_name = el_name;\r\n        } else if (el.get(\"sort\")) {\r\n          links[\"asc_\"+el_key] = { name: el_name };\r\n          links[\"desc_\"+el_key] = { name: el_name };\r\n        }\r\n      });\r\n    }\r\n\r\n    if (!sort_order) {\r\n      links[sort_key] = { name: sort_name };\r\n    } else {\r\n      links[\"asc_\"+sort_key] = { name: sort_name };\r\n      links[\"desc_\"+sort_key] = { name: sort_name };\r\n    }\r\n    \r\n    this.links = links;\r\n    this.sort = [ sort_spec ];\r\n  };\r\n\r\n  var RelatedWorkspacesSearchResultCollection = NodeCollection.extend({\r\n\r\n    constructor: function RelatedWorkspacesSearchResultCollection(models, options) {\r\n      // Core filter values needed for rest api\r\n      this.wherePart = [\"where_workspace_type_ids\", \"where_rel_type\"];\r\n      NodeCollection.prototype.constructor.apply(this, arguments);\r\n      this.options = _.pick(options,\"query\", \"connector\", \"node\", \"search\",\r\n            \"autofetch\", \"autoreset\", \"stateEnabled\",\"workspace\", \"orderBy\");\r\n      this.workspace = options.workspace;\r\n\r\n      // \"DO\" means \"description only\". for details see csui/widgets/search.result/search.results.view and related.\r\n      this.selectedSettings = \"DO\";\r\n\r\n      // just to fake searchFacets for search.results.view:\r\n      this.searchFacets = new Backbone.Collection();\r\n      this.searchFacets.filters = [];\r\n      this.searchFacets.ensureFetched = function(options) {\r\n        return $.Deferred().resolve(this, {}, options).promise();\r\n      };\r\n      this.searchFacets.getAvailableFacets = function() { return []; };\r\n      this.searchFacets.clearFilter = function() {};\r\n\r\n      this.makeBrowsable(options);\r\n      this.makeNodeResource(options);\r\n      this.makeExpandable(options);\r\n      this.makeWorkspacesCollection(options);\r\n\r\n      this.completeColumns = new this.columns.constructor(options.columns.toJSON(), { dataCollectionName: this.dataCollectionName });\r\n      this.columns.reset(_.each(options.columns.toJSON(),function(el){delete el.sort;delete el.sort_key;}));\r\n      this.searching = new Searching(this.columns);\r\n      this.sorting = new Sorting(this.completeColumns,this.orderBy);\r\n\r\n    }\r\n  });\r\n\r\n  BrowsableMixin.mixin(RelatedWorkspacesSearchResultCollection.prototype);\r\n  NodeResourceMixin.mixin(RelatedWorkspacesSearchResultCollection.prototype);\r\n  ExpandableMixin.mixin(RelatedWorkspacesSearchResultCollection.prototype);\r\n  WorkspacesCollectionMixin.mixin(RelatedWorkspacesSearchResultCollection.prototype);\r\n\r\n  var super_parse = RelatedWorkspacesSearchResultCollection.prototype.parse;\r\n\r\n  _.extend(RelatedWorkspacesSearchResultCollection.prototype, {\r\n\r\n    url: function () {\r\n      var queryParams = this.options.query || {};\r\n\r\n      // clean up query, including any old or unsupported filters.\r\n      this._cleanupQuery(queryParams);\r\n\r\n      // Paging\r\n      queryParams = this.mergeUrlPaging(config, queryParams);\r\n\r\n      // Sorting\r\n      queryParams = this.mergeUrlSorting(queryParams);\r\n\r\n      // Filtering\r\n      this.filters = _.omit(this.options.search.attributes,\"query_id\",\"forcePerspectiveChange\",\"dummy\");\r\n      queryParams = this.mergeUrlFiltering(queryParams);\r\n\r\n      \r\n      // The search.results.view sets node to node with undefined id.\r\n      // But we need to keep the scope bound to our given workspace node.\r\n      // So we use this.options.node instead this.node\r\n      var workspaceNodeId = this.options.node.get('id');\r\n\r\n      // URLs like /nodes/:id/relatedworkspaces\r\n      //var url = this.node.urlBase() + '/relatedworkspaces';\r\n      // Alternative for URLs like /businessworkspaces/:id\r\n      var apiBase = new Url(this.getBaseUrl()).getApiBase('v2'),\r\n          url = Url.combine(apiBase,'businessworkspaces', workspaceNodeId, 'relateditemspicklist');\r\n      queryParams = _.omit(queryParams, function (value, key) {\r\n        return value == null || value === '';\r\n      });\r\n      queryParams.global_metadata = undefined;\r\n      return url + '?' + this.queryParamsToString(queryParams);\r\n    },\r\n\r\n    parse: function(response,options) {\r\n      this.completeColumns.resetColumns(response, this.options);\r\n      var definitions = (response.meta_data && response.meta_data[this.dataCollectionName]) || {};\r\n      _.each(definitions,function(el){delete el.sort;delete el.sort_key;});\r\n      var result = super_parse.apply(this,arguments);\r\n      this.searching.set(this.columns);\r\n      this.sorting.set(this.completeColumns,this.orderBy);\r\n      if (result) {\r\n        var rel_source = this.options.node.get('id');\r\n        var rel_type = this.options.query && this.options.query.where_rel_type;\r\n        result.forEach(function(el){\r\n          el.data || (el.data = {});\r\n          el.data.properties || (el.data.properties = {});\r\n          // set source id of relation\r\n          el.data.properties.rel_source = rel_source;\r\n          // set relation type that will be used in addrelateditem command.\r\n          el.data.properties.rel_type = rel_type;\r\n          // set OTName, so results view does not think we are in a rename operation (CWS-5809)\r\n          el.data.properties.OTName = el.data.properties.name;\r\n        });\r\n      }\r\n      return result;\r\n    },\r\n\r\n    setPreviousOrder: function (attributes, fetch) {\r\n      if (!_.isEqual(this.previousOrderBy,attributes)) {\r\n        this.previousOrderBy = attributes;\r\n        if (fetch !== false) {\r\n          this.fetch({skipSort: false});\r\n        }\r\n        return true;\r\n      }\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return {\r\n        query:_.deepClone(this.options.query),\r\n        node: this.node\r\n      };\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      scope.query && (this.options.query = scope.query);\r\n      scope.node && (this.node = scope.node);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.options.node.isFetchable();\r\n    }\r\n\r\n  });\r\n\r\n  return RelatedWorkspacesSearchResultCollection;\r\n\r\n});\r\n\n","/**\r\n * Created by stefang on 14.07.2019.\r\n */\r\n// Fetches the search form.\r\ncsui.define('conws/widgets/relatedworkspaces/impl/relatedworkspaces.searchform.model',[\"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  'conws/utils/workspaces/impl/workspaceutil'\r\n], function ($, _, Backbone, WorkspaceUtil) {\r\n  \"use strict\";\r\n\r\n  var RelatedWorkspacesSearchFormModel = Backbone.Model.extend({\r\n\r\n        constructor: function RelatedWorkspacesSearchFormModel(attributes, options) {\r\n          options || (options = {});\r\n\r\n          attributes = _.extend({data:{},options:{},schema:{}},attributes);\r\n          Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n          this.setFromColumns(options.columns,options.tableColumns);\r\n          this.listenTo(options.columns,\"reset update\",function() {\r\n              this.setFromColumns(options.columns,options.tableColumns);\r\n          });\r\n\r\n        },\r\n\r\n        setFromColumns: function(columns,tableColumns) {\r\n            var models = tableColumns && tableColumns.sortBy('sequence').reduce(function(models,column){\r\n                return models.concat([columns.get(column.get(\"key\"))]);\r\n              },[]);\r\n            models = models ? _.compact(models) : columns.models;\r\n            var searchform = FormObject();\r\n            // set a dummy hidden input field, so search with empty fields is allowed by search.object.view.\r\n            SetField(searchform,\"dummy\",\"dummy\",{type:\"hidden\"},{type:\"string\"});\r\n            var data = this.get(\"data\");\r\n            models.forEach(function(col) {\r\n              var col_key = col.get(\"column_key\");\r\n              if (!blacklist[col_key]) {\r\n                var col_data = (data && data.search) ? data.search[col_key] : undefined /*any default value anywhere?*/;\r\n                var fieldform = FormField(col,col_data);\r\n                if (fieldform) {\r\n                  SetField(searchform,col_key,fieldform.data,fieldform.options,fieldform.schema);\r\n                }\r\n              }\r\n            });\r\n            var form = FormObject();\r\n            SetField(form,\"search\",searchform.data,searchform.options,searchform.schema);\r\n            this.set(form);\r\n        }\r\n\r\n      });\r\n\r\n      function SetField(form, key, data, options, schema) {\r\n        form.data[key] = data;\r\n        form.options.fields[key] = options;\r\n        form.schema.properties[key] = schema;\r\n      }\r\n\r\n      function FormField(col,data) {\r\n        var form;\r\n        var template = WorkspaceUtil.getFormFieldTemplate(col.attributes);\r\n        if (template) {\r\n          form = _.deepClone(template);\r\n          form.data = data;\r\n          form.options.label = col.get(\"name\");\r\n          form.schema.title = col.get(\"name\");\r\n        }\r\n        return form;\r\n      }\r\n\r\n      function FormObject(name) {\r\n        var form = {\r\n          data: { },\r\n          options: { type: \"object\", fields: { } },\r\n          schema: { type: \"object\", properties: { } }\r\n        };\r\n        if (name) {\r\n          form.options.label = name;\r\n          form.schema.title = name;\r\n        }\r\n        return form;\r\n      }\r\n\r\n      var blacklist = {\r\n        \"favorite\": \"true\",\r\n        \"id\": true,\r\n        \"modify_date\": true,\r\n        \"size\": true,\r\n        \"type\": true\r\n      };\r\n\r\n\r\n\r\n  return RelatedWorkspacesSearchFormModel;\r\n\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/impl/nls/root/lang',{\r\n  dialogTitle: 'Related workspaces',\r\n  searchPlaceholder: '%1',\r\n  noResultsPlaceholder: 'No related workspaces to display.',\r\n  errorFieldFormatTagUnrecognized: 'Invalid format specification for {0}.',\r\n  searchAria: 'Search for related workspaces',\r\n  expandAria: 'Expand the related workspaces widget',\r\n  ToolbarItemAddRelation: \"Add relationships\",\r\n  ToolbarItemAddRelationSubmit: \"Add relationships\",\r\n  ToolbarItemRemoveRelation: \"Remove relationships\",\r\n  initialSearchLoadMessage: \"Search to find business workspaces\",\r\n  expandTableAria: 'Content of {0}'\r\n});\r\n\n","\n","csui.define('conws/widgets/relatedworkspaces/addrelatedworkspaces.search',[ 'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/handlebars',\r\n    'csui/controls/toolbar/toolitems.factory',\r\n    'conws/utils/overlay/conwsoverlay',\r\n    'csui/widgets/search.results/search.results.view',\r\n    'conws/widgets/relatedworkspaces/impl/relatedworkspaces.searchresult.model',\r\n    'conws/widgets/relatedworkspaces/impl/relatedworkspaces.searchform.model',\r\n    'csui/utils/contexts/factories/search.query.factory',\r\n    'i18n!conws/widgets/relatedworkspaces/impl/nls/lang'\r\n], function ( $, _,\r\n    Marionette,\r\n    Handlebars,\r\n    ToolItemsFactory,\r\n    ConwsOverlay,\r\n    SearchResultsView,\r\n    RelatedWorkspacesSearchResultModel,\r\n    RelatedWorkspacesSearchFormModel,\r\n    SearchQueryModelFactory,\r\n    lang\r\n) {\r\n    'use strict';\r\n\r\n    var AddRelatedWorkspacesSearch = Marionette.Controller.extend({\r\n    \r\n        constructor: function AddRelatedWorkspacesSearch() {\r\n          Marionette.Controller.prototype.constructor.apply(this, arguments);\r\n\r\n          var status = this.options.status;\r\n          var query = $.extend(true, {}, status.collection.options.query);\r\n          query.where_workspace_type_ids = encodeURIComponent(\"{\"+query.where_workspace_type_id+\"}\");\r\n          query.where_rel_type = query.where_relationtype;\r\n          delete query.where_workspace_type_id;\r\n          delete query.where_relationtype;\r\n\r\n          // Add description only to query, not as column, as we don't want it to appear\r\n          // neither as column in the result list tabular view nor standard view\r\n          // nor as query field.\r\n          var fields = query.fields && decodeURIComponent(query.fields).replace(/^properties{|}$/g,\"\").split(\",\");\r\n          query.fields = encodeURIComponent(\"properties{\" + _.union(fields||[],[\"description\"]).join(\",\") + \"}\");\r\n\r\n          var searchquery = (new SearchQueryModelFactory(status.context)).property;\r\n\r\n          var searchResultCollection = new RelatedWorkspacesSearchResultModel([], {\r\n              node: status.collection.node,\r\n              query: query,\r\n              search: searchquery,\r\n              connector: status.collection.connector,\r\n              autofetch:true,\r\n              autoreset:true,\r\n              stateEnabled: true,\r\n              columns: status.collection.columns,\r\n              workspace: status.collection.workspace,\r\n              orderBy: status.collection.orderBy\r\n          });\r\n\r\n          var tableColumns = status.originatingView.tableColumns && status.originatingView.tableColumns.deepClone();\r\n          \r\n          var searchFormModel = new RelatedWorkspacesSearchFormModel({},{\r\n            columns: searchResultCollection.columns,\r\n            tableColumns: tableColumns\r\n          });\r\n\r\n          var toolItemsFactory = new ToolItemsFactory({\r\n            main: [{\r\n              signature: this.options.signature,\r\n              commandData: { submit: true },\r\n              name: lang.ToolbarItemAddRelationSubmit\r\n              }]\r\n            }, {\r\n            maxItemsShown: 1,\r\n            dropDownText: lang.ToolbarItemMore,\r\n            dropDownIconName: \"csui_action_more32\",\r\n            addGroupSeparators: false\r\n          });\r\n\r\n          var toolbarItems = {\r\n            otherToolbar: toolItemsFactory,\r\n            inlineToolbar: [],\r\n            tableHeaderToolbar: toolItemsFactory\r\n          };\r\n\r\n          var titleView = new Marionette.ItemView({\r\n            tagName: 'div',\r\n            template: Handlebars.compile('<span><h2 class=\"csui-custom-search-title\">{{title}}</h2><span class=\"headerCount\"/></span>')({\r\n              title: this.options.title\r\n            })\r\n          });\r\n  \r\n          var searchView = new SearchResultsView({\r\n            basicSearchResultsView: true,\r\n            enableBackButton: true,\r\n            enableSearchSettings: false,\r\n            showFacetPanel: false,\r\n            context: status.context,\r\n            query: searchquery,\r\n            collection: searchResultCollection,\r\n            customSearchViewModel: searchFormModel,\r\n            toolbarItems: toolbarItems,\r\n            titleView: titleView,\r\n            tableColumns: tableColumns,\r\n            initialLoadMessage: lang.initialSearchLoadMessage\r\n          });\r\n\r\n          searchView.on(\"render\",function() {\r\n            searchView.$el.addClass('conws-searchview');\r\n          });\r\n\r\n          this.searchView = searchView;\r\n          this.on(\"destroy\",function(){\r\n            searchView.destroy();\r\n          });\r\n        },\r\n\r\n        show: function() {\r\n          var resized;\r\n          function handleResize() {\r\n            resized = true;\r\n          }\r\n          addEventListener(\"resize\",handleResize,{once:true});\r\n          this.on(\"destroy\",function(){\r\n            removeEventListener(\"resize\",handleResize);\r\n          });\r\n\r\n          var overlay = new ConwsOverlay({\r\n            onShowOtherView: _.bind(function() {\r\n              resized && this.options.status.originatingView.triggerMethod('dom:refresh');\r\n              removeEventListener(\"resize\",handleResize);\r\n            },this),\r\n            presentationRoot: this.options.status.originatingView.$el.parent(),\r\n            presentationView: this.searchView\r\n          });\r\n          this.searchView.on(\"go:back\", function() {\r\n            overlay.close();\r\n            overlay.destroy();\r\n          });\r\n          this._overlay = overlay;\r\n          this._overlay.show();\r\n        },\r\n\r\n        close: function() {\r\n          this._overlay.close();\r\n        }\r\n\r\n      });\r\n    \r\n      return AddRelatedWorkspacesSearch;\r\n    \r\n\r\n});\r\n    \n","csui.define('conws/utils/workspaces/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/utils/workspaces/impl/nls/root/lang',{\r\n  errorCustomColumnConfigInvalid: \"Invalid custom column configuration: {0}.\",\r\n  errorCustomColumnMissingBraces: \"Missing curly braces in custom column configuration: {0}.\",\r\n  errorOrderByMustNotBeString: \"Configuration 'orderBy' must be an object not a string.\",\r\n  errorOrderByMissingBraces: \"Missing curly braces in 'orderBy' configuration.\",\r\n  errorFilteringFailed: 'Filtering of result list failed. Please contact your administrator.',\r\n  noWorkspacesFound: 'No workspaces found.',\r\n  selectedItemActionBarAria: 'Action bar of selected items',\r\n  ToolbarItemCloseExpandedView: \"Close expanded view\"\r\n});\r\n\n","\ncsui.define('css!conws/utils/workspaces/workspaces',[],function(){});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/workspaces/error.template',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-workspaces-error content-tile\\\">\\r\\n  <div class=\\\"conws-workspaces-error-icon-div\\\">\\r\\n    <div class=\\\"conws-workspaces-error-icon-parent\\\">\\r\\n      <div class=\\\"conws-workspaces-error-icon notification_error\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"conws-workspaces-message\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"errorMessage\") || (depth0 != null ? lookupProperty(depth0,\"errorMessage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"errorMessage\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":40},\"end\":{\"line\":7,\"column\":56}}}) : helper)))\n    + \"</div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_utils_workspaces_error.template', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","/**\r\n * The workspaces view to show a list of workspaces of a specific type\r\n * Provides:\r\n *   - infinite scrolling\r\n *   - Empty view in case no workspaces to show\r\n *   - Title icon\r\n */\r\ncsui.define('conws/utils/workspaces/workspaces.view',['csui/lib/marionette', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery',\r\n  'csui/utils/base',\r\n  'csui/controls/list/list.view',\r\n  'csui/utils/nodesprites',\r\n  'csui/behaviors/limiting/limiting.behavior',\r\n  'csui/behaviors/expanding/expanding.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/list/behaviors/list.view.keyboard.behavior',\r\n  'csui/controls/tile/behaviors/infinite.scrolling.behavior',\r\n  'csui/controls/icon/icon.view',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/controls/node-type.icon/node-type.icon.view',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'i18n!conws/utils/workspaces/impl/nls/lang',\r\n  'css!conws/utils/workspaces/workspaces',\r\n  'hbs!conws/utils/workspaces/error.template'\r\n], function (Marionette, module, _, Backbone, $, base, ListView, NodeSpriteCollection,\r\n    LimitingBehavior, ExpandingBehavior, TabableRegionBehavior, ListViewKeyboardBehavior,\r\n    InfiniteScrollingBehavior, IconView, NodeModelFactory, BlockingView, NodeTypeIconView, ModalAlert, lang, css, errorTemplate) {\r\n\r\n  var config = module.config();\r\n\r\n  /**\r\n   * own behavior needed, to be able to trigger the closing\r\n   * of the dialog from within the expanded view itself.\r\n   * Also connect collapsed and expanded view, while expanded view is open,\r\n   * to provide access to each other and disconnect views on close.\r\n   */\r\n  var WorkspacesExpandingBehavior = ExpandingBehavior.extend({\r\n\r\n    constructor: function WorkspacesExpandingBehavior( options, view ) {\r\n      options = _.extend({collapsedView:view},options);\r\n      ExpandingBehavior.prototype.constructor.call(this, options,view );\r\n      this.listenTo(view.options.context, \"close:expanded\", function(ev) {\r\n        if (ev.widgetView===this.expandedView && this.dialog && this.dialog.body && this.dialog.body.currentView===ev.widgetView ) {\r\n          this.dialog.destroy();\r\n        }\r\n      });\r\n    },\r\n    _expandOtherView: function (expand) {\r\n      if (expand===false) {\r\n        // this is on opening the expanded view\r\n        this.expandedView.collapsedView = this.view;\r\n        this.view.expandedView = this.expandedView;\r\n      }\r\n      var result = ExpandingBehavior.prototype._expandOtherView.apply(this, arguments);\r\n      return result;\r\n    },\r\n\r\n    _enableExpandingAgain: function () {\r\n      var result = ExpandingBehavior.prototype._enableExpandingAgain.apply(this, arguments);\r\n      // this is on closing the expanded view\r\n      this.expandedView.collapsedView = undefined;\r\n      this.view.expandedView = undefined;\r\n      return result;\r\n    }\r\n\r\n  });\r\n\r\n  var WorkspacesView = ListView.extend({\r\n\r\n    constructor: function WorkspacesView(options) {\r\n      if (options === undefined || !options.context) {\r\n        throw new Error('Context required to create WorkspacesView');\r\n      }\r\n\r\n      options.data || (options.data = {});\r\n      ListView.prototype.constructor.apply(this, arguments);\r\n\r\n      if (this.options.blockingParentView) {\r\n        BlockingView.delegate(this, this.options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n\r\n      this.options.data.pageSize = config.defaultPageSize || 30;\r\n\r\n      this.configOptionsData = _.clone(options.data);\r\n\r\n      // Prepare server side filter\r\n      this.lastFilterValue = \"\";\r\n\r\n      // Per default show expand icon if more than 0 workspaces are displayed\r\n      this.limit = 0;\r\n\r\n      // Render workspace icon\r\n      this.listenTo(this.collection, \"sync\", this._renderWorkspaceTitleIcon);\r\n\r\n      //Show errors\r\n      this.listenTo(this.collection, 'error', this.handleError);\r\n\r\n      // In case node model is changed reset data (needed in case other workspaces is opened in\r\n      // same perspective)\r\n      var nodeModel = this.getContext().getObject(NodeModelFactory, options.context.options);\r\n      this.listenTo(nodeModel, 'change:id', this._reset);\r\n\r\n      // Note on this.messageOnError\r\n      // Set this property with an action specific error message before triggering the refetch\r\n      // of the collection. If the fetch runs into an error this message is displayed in a modal\r\n      // error message. In any case, error or success, after the server call this message is\r\n      // reset to undefined.\r\n\r\n      // Loading animation\r\n      this.listenTo(this.collection, \"request\", this.blockActions)\r\n          .listenTo(this.collection, \"sync\", function () {\r\n            this.messageOnError = undefined;\r\n            this.unblockActions.apply(this, arguments);\r\n          })\r\n          .listenTo(this.collection, \"destroy\", this.unblockActions)\r\n          .listenTo(this.collection, \"error\", function () {\r\n            this.unblockActions.apply(this, arguments);\r\n            if (this.messageOnError) {\r\n              ModalAlert.showError(this.messageOnError);\r\n              this.messageOnError = undefined;\r\n            }\r\n          });\r\n      // No empty view in case of loading animation\r\n      this.listenTo(this.collection, \"request\", this.destroyEmptyView);\r\n\r\n      // to reload the collapsed view only in case, the expanded view changed something,\r\n      // we want to check the changed flag of the expanded view.\r\n      this.listenTo(this, \"go:away\", function() {\r\n        // listen to \"go:away\", which is triggered on open, and then listen to the \"destroy\" event of the expanded view.\r\n        // we cannot listen to \"go:back\" as in some scenarios (CWS-5702, CWS-5807) \"hide\" events are triggered multiple times.\r\n        var expandedView = this.expandedView;\r\n        if (expandedView) {\r\n          this.listenTo(expandedView, \"destroy\", function() {\r\n            // called, when expanded view is closed/destroyed.\r\n            // when expanded view was just opened and closed without changing anything,\r\n            // to avoid reloading, check for the changed flag of expanded view.\r\n            if (expandedView && expandedView.changed) {\r\n              this.collection.fetch();\r\n              expandedView = undefined;\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n    },\r\n\r\n    getContext: function () {\r\n      return this.options.context;\r\n    },\r\n\r\n    initialize: function () {\r\n      // Limiting behaviour needs complete collection, but other behaviours expect collection ...\r\n      this.collection = this.completeCollection;\r\n    },\r\n\r\n    onRender: function () {\r\n      // Load initially only one page\r\n      this._resetInfiniteScrolling();\r\n      ListView.prototype.onRender.call(this);\r\n    },\r\n\r\n    onClickHeader: function (target) {\r\n      this.triggerMethod('expand');\r\n    },\r\n\r\n    _resetInfiniteScrolling: function () {\r\n      // reset infinite scrolling in case filter is changed\r\n      this.collection.setLimit(0, this.options.data.pageSize, false);\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        title: this._getTitle(),\r\n        imageUrl: this._getTitleIcon().src,\r\n        imageClass: 'conws-workspacestitleicon',\r\n        searchPlaceholder: this._getSearchPlaceholder()\r\n      };\r\n    },\r\n\r\n    childEvents: {\r\n      'click:item': 'onClickItem',\r\n      'render': 'onRenderItem'\r\n    },\r\n\r\n    onClickItem: function (target) {\r\n      this.triggerMethod('execute:defaultAction', target.model);\r\n    },\r\n\r\n    className: function () {\r\n      // conws-relatedworkspaces conws-workspacetype-xxx cs-list\r\n      var className       = this.viewClassName,\r\n          workspaceType   = this.options.data.workspaceType,\r\n          parentClassName = _.result(ListView.prototype, 'className');\r\n      if (workspaceType) {\r\n        className = className + ' conws-workspacetype-' + workspaceType;\r\n      }\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    /**\r\n     * Reset the current model/query and filter\r\n     * Needed that it's not reused in in case widget is accessed again\r\n     * on same perspective but with different node.\r\n     *\r\n     * @private\r\n     */\r\n    _reset: function () {\r\n      // reset paging due to infinite scrolling\r\n      // Page have to be reset in case wiget is accessed again\r\n      if (this.collection) {\r\n        this.collection.resetLimit();\r\n      }\r\n\r\n      // Reset filter\r\n      if (this.ui.searchInput && this.ui.searchInput.val() !== \"\") {\r\n        if (this.collection) {\r\n          this.collection.clearFilter(false);\r\n        }\r\n        this.ui.searchInput.val('');\r\n      }\r\n\r\n      // Call search clicked if search is visible, this will cause the search box to slide out\r\n      if (this.ui.searchInput && this.ui.searchInput.is(':visible')) {\r\n        this.searchClicked(new CustomEvent(''));\r\n      }\r\n    },\r\n\r\n    workspacesCollectionFactory: undefined,\r\n    workspacesTableView: undefined,\r\n    viewClassName: undefined,\r\n    dialogClassName: undefined,\r\n    lang: undefined,\r\n\r\n    behaviors: {\r\n\r\n      // Limits the rendered collection length with a More link to expand it\r\n      LimitedList: {\r\n        behaviorClass: LimitingBehavior,\r\n        // Show expand if more than 0 workspaces are displayed\r\n        limit: function () {\r\n          return this.limit;\r\n        },\r\n        completeCollection: function () {\r\n          return this.getContext().getCollection(this.workspacesCollectionFactory, {\r\n            attributes: this._getCollectionAttributes(),\r\n            options: this._getCollectionOptions()\r\n          });\r\n        }\r\n      },\r\n\r\n      ExpandableList: {\r\n        behaviorClass: WorkspacesExpandingBehavior,\r\n        expandedView: function () {\r\n          return this.workspacesTableView;\r\n        },\r\n        expandedViewOptions: function () {\r\n          return this._getExpandedViewOptions();\r\n        },\r\n        dialogTitle: function () {\r\n          return this._getTitle();\r\n        },\r\n        dialogTitleIconNameRight: \"csui_action_minimize32\",\r\n        dialogClassName: function () {\r\n          return \"conwsworkspacestable\" + (this.dialogClassName ? \" \"+this.dialogClassName : \"\");\r\n        },\r\n        titleBarImageUrl: function () {\r\n          return this._getTitleIcon().src;\r\n        },\r\n        titleBarImageClass: function () {\r\n          return this._getTitleIcon().cssClass || 'conws-workspacestitleicon';\r\n        }\r\n      },\r\n\r\n      InfiniteScrolling: {\r\n        behaviorClass: InfiniteScrollingBehavior,\r\n        // selector for scrollable area\r\n        contentParent: '.tile-content',\r\n        fetchMoreItemsThreshold: 80\r\n      },\r\n\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n\r\n      ListViewKeyboardBehavior: {\r\n        behaviorClass: ListViewKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    _getCollectionOptions: function() {\r\n      return { query: this._getCollectionUrlQuery() };\r\n    },\r\n\r\n    _getExpandedViewOptions: function() {\r\n      return { data: _.clone(this.configOptionsData) };\r\n    },\r\n\r\n    filterChanged: function (event) {\r\n      if (event && event.type === 'keyup' && event.keyCode === 27) {\r\n        // Hitting Esc should get rid of the filtering control; it resets\r\n        // the filter value automatically\r\n        this.searchClicked();\r\n      }\r\n\r\n      var filterValue = this.ui.searchInput.val();\r\n      if (this.lastFilterValue !== filterValue) {\r\n        this.lastFilterValue = filterValue;\r\n        // Wait 1 second to execute\r\n        if (this.filterTimeout) {\r\n          clearTimeout(this.filterTimeout);\r\n        }\r\n        this.filterTimeout = setTimeout(function (self) {\r\n          self.filterTimeout = undefined;\r\n          // reset infinite scrolling because in case filter is changed only first page should be fetched\r\n          self._resetInfiniteScrolling();\r\n          // reset collection that only the returned workspaces are displayed\r\n          // if not reset also old workspaces are displayed ...\r\n          self.collection.reset();\r\n          // execute server side filtering\r\n          var propertyName;\r\n          if (self._getFilterPropertyName) {\r\n            propertyName = self._getFilterPropertyName();\r\n          }\r\n          var filterOptions = {};\r\n          filterOptions[propertyName || \"name\"] = filterValue;\r\n          if (self.collection.setFilter(filterOptions, {fetch: false})) {\r\n            self.messageOnError = lang.errorFilteringFailed;\r\n            self.collection.fetch();\r\n          }\r\n        }, 1000, this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get the title icon for the widget.\r\n     * Initially an invisible icon is returned until the rest call returns.\r\n     * In case the rest call provides an title image this is returned as src, otherwise\r\n     * the default workspace title image is returned as css.\r\n     */\r\n    _getTitleIcon: function () {\r\n      // Set transparent gif that it can be replaced later with proper image\r\n      var icon = {\r\n        src: 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',\r\n        cssClass: undefined\r\n      };\r\n\r\n      if (this.collection && this.collection.titleIcon) {\r\n        // For each workspace type one icon exist\r\n        icon.src = this.collection.titleIcon;\r\n      } else if (this.collection && this.collection.titleIcon === null) {\r\n        // Need to return as class, because URL would not point to proper image\r\n        icon.src = undefined;\r\n      }\r\n      return icon;\r\n    },\r\n\r\n    /**\r\n     * Render workspace icon after rest call returns.\r\n     * Depending on what and if rest call returns an icon,\r\n     * set icon as IconView (default icon) or the configured one as src.\r\n     * Icons are set via DOM manipulation.\r\n     */\r\n    _renderWorkspaceTitleIcon: function () {\r\n      var titleDivEl = this.$el.find('.tile-type-image')[0],\r\n          titleImgEl = titleDivEl && this.$el.find('.tile-type-image').find(\"img\")[0];\r\n      if (titleImgEl) {\r\n        var icon = this._getTitleIcon();\r\n        if ($(titleImgEl).attr('src') !== icon.src) {\r\n          $(titleImgEl).attr('src', icon.src);\r\n        }\r\n\r\n        if (icon.src === undefined) {\r\n          //render default icon with icons-v2\r\n          var titleIconView = new IconView({iconName: 'conws_mime_workspace', size: 'large'});\r\n          var titleIconRegion = new Marionette.Region({el: titleDivEl});\r\n          titleIconRegion.show(titleIconView);\r\n          titleIconView.$el.addClass(\"tile-type-icon tile-type-icon-img\");\r\n        }\r\n      }\r\n    },\r\n\r\n    _getTitle: function () {\r\n      var ret = this.lang.dialogTitle;\r\n\r\n      if (this.options.data.title) {\r\n        ret = base.getClosestLocalizedString(this.options.data.title, this.lang.dialogTitle);\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    _getSearchPlaceholder: function () {\r\n      return this.lang.searchPlaceholder.replace(\"%1\", this._getTitle());\r\n    },\r\n\r\n    _getNoResultsPlaceholder: function () {\r\n      var ret = this.options.data &&\r\n                this.options.data.collapsedView &&\r\n                this.options.data.collapsedView.noResultsPlaceholder;\r\n\r\n      if (ret) {\r\n        ret = base.getClosestLocalizedString(ret, this.lang.noResultsPlaceholder);\r\n      } else {\r\n        ret = this.lang.noResultsPlaceholder;\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    // To use default empty view from ListView, the following functions are needed\r\n    collectionEvents: {\r\n      'reset': 'onCollectionSync'\r\n    },\r\n\r\n    onCollectionSync: function () {\r\n      this.synced = true;\r\n    },\r\n\r\n    isEmpty: function () {\r\n      return this.synced && (this.collection.models.length === 0);\r\n    },\r\n\r\n    onRenderItem: function (childView) {\r\n      childView._nodeIconView = new NodeTypeIconView({\r\n        el: childView.$('.csui-type-icon').get(0),\r\n        node: childView.model\r\n      });\r\n      childView._nodeIconView.render();\r\n      childView.$el.attr('role', 'option');\r\n    },\r\n\r\n    handleError: function () {\r\n      if (this.collection.error && this.collection.error.message) {\r\n        var emptyEl = errorTemplate.call(this, { errorMessage: this.collection.error.message });\r\n        if(this.$el.find('.conws-workspaces-error').length > 0)\r\n        {\r\n          this.$el.find('div').remove('.conws-workspaces-error');\r\n        }\r\n        this.$el.find('.tile-content').append(emptyEl);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return WorkspacesView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/previewpane/impl/previewheader',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <span class=\\\"conws-preview-header-typename\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"typeName\") || (depth0 != null ? lookupProperty(depth0,\"typeName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"typeName\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":48},\"end\":{\"line\":3,\"column\":60}}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <a title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"quickLinkTooltip\") || (depth0 != null ? lookupProperty(depth0,\"quickLinkTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"quickLinkTooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":14},\"end\":{\"line\":6,\"column\":34}}}) : helper)))\n    + \"\\\"\\r\\n       href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"display_url\") || (depth0 != null ? lookupProperty(depth0,\"display_url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"display_url\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":13},\"end\":{\"line\":7,\"column\":28}}}) : helper)))\n    + \"\\\" target=\\\"_blank\\\">\\r\\n      \"\n    + ((stack1 = (lookupProperty(helpers,\"icon-v2\")||(depth0 && lookupProperty(depth0,\"icon-v2\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon-v2\",\"hash\":{\"size\":\"normal\",\"states\":\"true\",\"iconName\":\"conws_action_quick_link32\"},\"loc\":{\"start\":{\"line\":8,\"column\":6},\"end\":{\"line\":8,\"column\":84}}})) != null ? stack1 : \"\")\n    + \"</a>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <a  tabindex=\\\"0\\\" href=\\\"#\\\" class=\\\"conws-preview-header-title narrow\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":12,\"column\":77},\"end\":{\"line\":12,\"column\":85}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":12,\"column\":87},\"end\":{\"line\":12,\"column\":95}}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <a tabindex=\\\"0\\\" href=\\\"#\\\" class=\\\"conws-preview-header-title\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":69},\"end\":{\"line\":14,\"column\":77}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":79},\"end\":{\"line\":14,\"column\":87}}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"typeName\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":4,\"column\":9}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"display_url\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":5,\"column\":2},\"end\":{\"line\":9,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"display_url\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"loc\":{\"start\":{\"line\":11,\"column\":0},\"end\":{\"line\":15,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\";\n}});\nHandlebars.registerPartial('conws_utils_previewpane_impl_previewheader', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Shows a list of workspaces related to the current one\r\ncsui.define('conws/utils/previewpane/impl/previewheader.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/lib/numeral',\r\n  'csui/lib/moment',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/controls/icons.v2',\r\n  'i18n',\r\n  'hbs!conws/utils/previewpane/impl/previewheader',\r\n  'css!conws/utils/icons/icons'\r\n], function (_, Marionette, numeral, moment, Handlebars, DefaultActionBehavior, iconRegistry, i18n, headerTemplate) {\r\n    var PreviewHeaderView = Marionette.ItemView.extend({\r\n\r\n    constructor: function PreviewHeaderView() {\r\n      Marionette.ItemView.apply(this, arguments);\r\n    },\r\n\r\n    behaviors:{\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    triggers: {\r\n      'click .conws-preview-header-title': 'click:item'\r\n    },\r\n\r\n    className: 'preview-header',\r\n    template: headerTemplate,\r\n\r\n    onClickItem: function () {\r\n      if (this.options.originatingView){\r\n        var previewPane = this.options.originatingView;\r\n        previewPane.destroy();\r\n \r\n       if (previewPane.options.node){\r\n          this.triggerMethod('execute:defaultAction', previewPane.options.node);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return PreviewHeaderView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-modal-dialog dialog-header\\\"></div>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-modal-dialog dialog-body\\\"></div>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-modal-dialog dialog-footer\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"binf-modal-dialog conws-modal-dialog \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"modalClassName\") || (depth0 != null ? lookupProperty(depth0,\"modalClassName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"modalClassName\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":49},\"end\":{\"line\":1,\"column\":67}}}) : helper)))\n    + \"\\\">\\r\\n  <div class=\\\"binf-modal-content\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"existsHeader\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":3,\"column\":4},\"end\":{\"line\":5,\"column\":11}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"existsBody\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":6,\"column\":4},\"end\":{\"line\":8,\"column\":11}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"existsFooter\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":9,\"column\":4},\"end\":{\"line\":11,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_modaldialog_impl_modal.dialog.view', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabables.behavior',\r\n  'hbs!conws/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view',\r\n  'css!conws/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view'\r\n], function (_, $, Backbone, Marionette, TabablesBehavior, template) {\r\n\r\n  var NonEmptyingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function NonEmptyingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    attachHtml: function (view) {\r\n      this.el.appendChild(view.el);\r\n    }\r\n  });\r\n\r\n  var ModalDialogView = Marionette.LayoutView.extend({\r\n\r\n    className: 'cs-dialog binf-modal binf-fade conws-modal-dialog-parent',\r\n\r\n    attributes: {\r\n      'tabindex': '-1',\r\n      'role': 'dialog',\r\n      'aria-hidden': 'true'\r\n    },\r\n\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        existsHeader: !_.isUndefined(this.options.header),\r\n        existsBody: !_.isUndefined(this.options.body),\r\n        existsFooter: !_.isUndefined(this.options.footer),\r\n        modalClassName: this.options.modalClassName\r\n      }\r\n    },\r\n\r\n    behaviors: {\r\n      TabablesBehavior: {\r\n        behaviorClass: TabablesBehavior,\r\n        recursiveNavigation: true,\r\n        containTabFocus: true\r\n      }\r\n    },\r\n\r\n    ui: {\r\n      header: '.dialog-header',\r\n      body: '.dialog-body',\r\n      footer: '.dialog-footer'\r\n    },\r\n\r\n    regions: {\r\n      header: '.dialog-header',\r\n      body: '.dialog-body',\r\n      footer: '.dialog-footer'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown',\r\n      'hidden.binf.modal': 'onHidden',\r\n      'shown.binf.modal': 'onShown'\r\n    },\r\n\r\n    // constructor for the RolesEdit dialog\r\n    constructor: function ModalDialogView(options) {\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    show: function () {\r\n      // add region and view to region\r\n      var container = $.fn.binf_modal.getDefaultContainer ? $.fn.binf_modal.getDefaultContainer() : document.body,\r\n          region = new NonEmptyingRegion({el: container});\r\n      region.show(this);\r\n      // and return view\r\n      return this;\r\n    },\r\n\r\n    destroy: function () {\r\n      // hide the dialog\r\n      if (this.$el.is(':visible')) {\r\n        this.$el.binf_modal('hide');\r\n      } else {\r\n        ModalDialogView.__super__.destroy.apply(this, arguments);\r\n      }\r\n      $('body').addClass('binf-modal-open');\r\n      return this;\r\n    },\r\n\r\n    kill: function () {\r\n      ModalDialogView.__super__.destroy.apply(this, arguments);\r\n      return true;\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.options.dialogTxtAria) {\r\n        this.$el.attr({\r\n            'aria-label': this.options.dialogTxtAria\r\n          });\r\n      }\r\n      if (this.options.body) {\r\n        this.body.show(this.options.body);\r\n      }\r\n    },\r\n\r\n    onShow: function () {\r\n      this.$el.binf_modal({\r\n        backdrop: 'static',\r\n        keyboard: false\r\n      });\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 27 && e.target.id !== 'filtersearch') {\r\n          this.destroy();\r\n      }\r\n    },\r\n\r\n    onHidden: function () {\r\n      this.destroy();\r\n    },\r\n\r\n    onShown: function () {\r\n      if (this.options.body) {\r\n        this.options.body.triggerMethod('dom:refresh');\r\n        this.options.body.triggerMethod('after:show');\r\n      }\r\n    }\r\n  });\r\n\r\n  return ModalDialogView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/rolepicker/impl/role',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span style=\\\"white-space:pre\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":37},\"end\":{\"line\":1,\"column\":45}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":47},\"end\":{\"line\":1,\"column\":55}}}) : helper)))\n    + \"</span>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_rolepicker_impl_role', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/team/impl/controls/rolepicker/impl/role.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'hbs!conws/widgets/team/impl/controls/rolepicker/impl/role'\r\n], function (_, $, Marionette, template) {\r\n\r\n  var RoleView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'span',\r\n\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        'name': this.model.get('name')\r\n      };\r\n    },\r\n\r\n    constructor: function RoleView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  return RoleView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"search-input\\\"></div>\\r\\n<div class=\\\"search-clear\\\"></div>\\r\\n<div class=\\\"typeahead cs-search-icon icon-caret-down\\\"\\r\\n     title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showValues\") || (depth0 != null ? lookupProperty(depth0,\"showValues\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showValues\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":12},\"end\":{\"line\":4,\"column\":26}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showValues\") || (depth0 != null ? lookupProperty(depth0,\"showValues\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showValues\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":40},\"end\":{\"line\":4,\"column\":54}}}) : helper)))\n    + \"\\\">\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_rolepicker_impl_rolepicker', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker.clear',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"typeahead cs-search-clear csui-icon formfield_clear\\\" style=\\\"\\\"\\r\\n     title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"clearValue\") || (depth0 != null ? lookupProperty(depth0,\"clearValue\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"clearValue\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":12},\"end\":{\"line\":2,\"column\":26}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"clearValue\") || (depth0 != null ? lookupProperty(depth0,\"clearValue\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"clearValue\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":40},\"end\":{\"line\":2,\"column\":54}}}) : helper)))\n    + \"\\\">\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_rolepicker_impl_rolepicker.clear', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker.input',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<input class=\\\"typeahead binf-form-control cs-search\\\" type=\\\"search\\\" placeholder=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"placeholder\") || (depth0 != null ? lookupProperty(depth0,\"placeholder\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"placeholder\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":80},\"end\":{\"line\":1,\"column\":95}}}) : helper)))\n    + \"\\\">\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_rolepicker_impl_rolepicker.input', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/rolepicker/rolepicker.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/team/impl/controls/rolepicker/impl/role.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker',\r\n  'hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker.clear',\r\n  'hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker.input',\r\n  'css!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker',\r\n  'csui/lib/bootstrap3-typeahead'\r\n], function (_, $, Marionette, base, TabableRegionBehavior, LayoutViewEventsPropagationMixin,\r\n    RoleView, lang, tplRolePicker, tplClear, tplInput) {\r\n\r\n  var RolePickerSearch = Marionette.ItemView.extend({\r\n\r\n    template: tplInput,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        placeholder: this.options.placeholder\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      searchbox: '.typeahead.cs-search'\r\n    },\r\n\r\n    events: {\r\n      'keydown @ui.searchbox': 'onKeyDown',\r\n      'keyup @ui.searchbox': 'onKeyUp',\r\n      'dragstart .typeahead.binf-dropdown-menu li > a': 'onDragRole'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    triggers: {\r\n      'click @ui.searchbox': 'click',\r\n      'focus @ui.searchbox': 'focus'\r\n    },\r\n\r\n    constructor: function RolePickerSearch(options) {\r\n      options || (options = {});\r\n\r\n      // initialize options\r\n      options.delay || (options.delay = 200);\r\n      options.minLength || (options.minLength = 0);\r\n      options.placeholder || (options.placeholder = lang.addParticipantsRolePickerPlaceholder);\r\n      options.roles || (options.roles = []);\r\n      options.prettyScrolling || (options.prettyScrolling = false);\r\n      if (options.showInherited === undefined) {\r\n        options.showInherited = true;\r\n      }\r\n      // sort roles\r\n      options.roles.comparator = function (left, right) {\r\n        return base.localeCompareString(left.get('name'), right.get('name'));\r\n      };\r\n      options.roles.sort();\r\n\r\n      this.rolePicked = true;\r\n      // apply marionette item view\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      // listen to change of 'clearInput'\r\n      this.listenTo(options.view, 'clearInput', this.clear);\r\n    },\r\n\r\n    onRender: function () {\r\n      // initialize typeahead control\r\n      this.$('input.typeahead').typeahead({\r\n        items: 'all',\r\n        afterSelect: _.bind(this._afterSelect, this),\r\n        highlighter: _.bind(this._renderHighlighter, this),\r\n        delay: this.options.delay,\r\n        displayText: this._retrieveDisplayText,\r\n        matcher: this._matcher,\r\n        afterHide: _.bind(this._afterHide, this),\r\n        nextHighlighter: _.bind(this._nextHighlighter, this),\r\n        accessbility: _.bind(this._accessbility, this),\r\n        currentHighlighter: _.bind(this._currentHighlighter, this),\r\n        sorter: this._sorter,\r\n        minLength: this.options.minLength,\r\n        source: _.bind(this._source, this),\r\n        prettyScrolling: this.options.prettyScrolling,\r\n        appendTo: this.$el,\r\n        afterShow: _.bind(this._positionContainer, this)\r\n      });\r\n      this.ui.searchbox.append(this.options.$el);\r\n    },\r\n\r\n    onClick: function (e) {\r\n      // show roles\r\n      this.ui.searchbox.trigger('focus');\r\n      this.ui.searchbox.typeahead('lookup', this.ui.searchbox.val());\r\n    },\r\n\r\n    onKeyUp: function (e) {\r\n      var fldVal = this.ui.searchbox.val();\r\n      if (fldVal.length === 0 && (e.keyCode === 13 || e.keyCode === 32 || e.keyCode === 46)) {\r\n        this.rolePicked = false;\r\n      } else {\r\n        this.rolePicked = true;\r\n        // update styles\r\n        this.options.view.filterLength = this.ui.searchbox.val().length;\r\n        this.options.view.trigger('updateStyles');\r\n      }\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 9) {\r\n        // update styles\r\n        this.options.view.filterLength = this.ui.searchbox.val().length;\r\n        this.options.view.trigger('updateStyles');\r\n        // suppress afterselect handler by hiding the typeahead dropdown\r\n        this.ui.searchbox.typeahead('hide');\r\n      }\r\n    },\r\n\r\n    // disable role dragging\r\n    onDragRole: function (e) {\r\n      return false;\r\n    },\r\n\r\n    isTabable: function () {\r\n      // in case of error, this is called during destroy and searchbox is a selector string, not a jquery element.\r\n      return $(this.ui.searchbox).is(':not(:disabled)') && $(this.ui.searchbox).is(':not(:hidden)') &&\r\n             $(this.ui.searchbox).is(':visible');\r\n    },\r\n\r\n    clear: function () {\r\n      this.ui.searchbox.val('');\r\n      this.ui.searchbox.trigger('focus');\r\n      this.ui.searchbox.typeahead('lookup', this.ui.searchbox.val());\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.searchbox;\r\n    },\r\n\r\n    _source: function (query) {\r\n      // prepare collection\r\n      var ret = [];\r\n      if (this.rolePicked  && this.options.roles !== undefined) {\r\n        if (this.options.showInherited) {\r\n          ret = this.options.roles.models;\r\n        } else {\r\n          ret = this.options.roles.filter(function (role) {\r\n            return !role.get('inherited_from_id');\r\n          });\r\n        }\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    _matcher: function (item) {\r\n      var it = item.get('name');\r\n      return ~it.toLowerCase().indexOf(this.query.toLowerCase());\r\n    },\r\n\r\n    _sorter: function (items) {\r\n      return items;\r\n    },\r\n\r\n    _retrieveDisplayText: function (item) {\r\n      return item.get('name');\r\n    },\r\n\r\n    _afterSelect: function (item) {\r\n      // update text and trigger change\r\n      this.ui.searchbox.val('');\r\n      // update styles\r\n      this.options.view.filterLength = this.ui.searchbox.val().length;\r\n      this.options.view.trigger('updateStyles');\r\n      // trigger change\r\n      this.options.view.trigger('item:change', {\r\n        item: item\r\n      });\r\n    },\r\n\r\n    _renderHighlighter: function (item) {\r\n      var model = this.options.roles.findWhere({name: item});\r\n      // create view ...\r\n      var view = new RoleView({\r\n        model: model,\r\n        connector: this.options.roles.connector\r\n      });\r\n      // ... and render\r\n      return view.render().el;\r\n    },\r\n\r\n    _positionContainer: function (context) {\r\n      var addParticipantsContainer = context.$element.closest(\".conws-addparticipants-members\"),\r\n        scrollableDropdownContainer = context.$scrollContainer;\r\n\r\n      if (addParticipantsContainer.length && !!scrollableDropdownContainer) {\r\n        var elemBoundingRect = context.$element[0].getBoundingClientRect(),\r\n          targetEleTopHeight = elemBoundingRect.top - addParticipantsContainer.offset().top,\r\n          targetEleBottomHeight = addParticipantsContainer.height() - (targetEleTopHeight + elemBoundingRect.height),\r\n          scrollContainerHeight = context.$menu[0].offsetHeight,\r\n          isDropdownShownOnTop = targetEleTopHeight > targetEleBottomHeight;\r\n\r\n        if (isDropdownShownOnTop) {\r\n          var spaceOnTop = scrollContainerHeight > targetEleTopHeight ? Math.abs(targetEleTopHeight * 0.9) : scrollContainerHeight;\r\n          scrollableDropdownContainer.css({\r\n            'max-height': spaceOnTop + 'px',\r\n            'top': (-spaceOnTop) + 'px'\r\n          });\r\n        } else {\r\n          var spaceOnBottom = Math.abs(targetEleBottomHeight * 0.9) + 'px';\r\n          scrollableDropdownContainer.css({\r\n            'max-height': spaceOnBottom,\r\n            'top': elemBoundingRect.height + 'px'\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    _afterHide: function() {\r\n      return;\r\n    },\r\n\r\n    _currentHighlighter: function (item) {\r\n      return;\r\n    },\r\n\r\n    _nextHighlighter: function (item) {\r\n      return;\r\n    },\r\n\r\n    _accessbility: function(item) {\r\n      return;\r\n    }\r\n  });\r\n\r\n  var RolePickerClear = Marionette.ItemView.extend({\r\n\r\n    template: tplClear,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        clearValue: lang.addParticipantsRolePickerClear\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      searchclear: '.typeahead.cs-search-clear'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.searchclear': 'onClickClear',\r\n      'keyup @ui.searchclear': 'onClearKeyUp'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function RolePickerClear(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      // listen to change of 'updateStyles'\r\n      this.listenTo(options.view, 'updateStyles', this.updateStyles);\r\n    },\r\n\r\n    onClickClear: function (e) {\r\n      // clear the search, update styles ...\r\n      this.updateStyles();\r\n      // and open unfiltered\r\n      this.options.view.trigger('clearInput');\r\n    },\r\n\r\n    onClearKeyUp: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        // clear the search, update styles ...\r\n        this.updateStyles();\r\n        // and open unfiltered\r\n        this.options.view.trigger('clearInput');\r\n      }\r\n    },\r\n    // switch the clear button depending on the text value.\r\n    updateStyles: function () {\r\n      var clear = this.options.view.filterLength > 0;\r\n      this.ui.searchclear.css({\r\n        'display': clear ? '' : 'none'\r\n      }).attr('tabindex', 0)\r\n    },\r\n\r\n    isTabable: function () {\r\n      // in case of error, this is called during destroy and searchclear is a selector string, not a jquery element.\r\n      return $(this.ui.searchclear).is(':not(:disabled)') && $(this.ui.searchclear).is(':not(:hidden)') &&\r\n             $(this.ui.searchclear).is(':visible');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.searchclear;\r\n    }\r\n  });\r\n\r\n  var RolePickerView = Marionette.LayoutView.extend({\r\n\r\n    tagName: 'div',\r\n\r\n    className: 'conws-control-rolepicker',\r\n\r\n    template: tplRolePicker,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        showValues: lang.addParticipantsRolePickerShow\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      rolepicker: 'div.conws-control-rolepicker',\r\n      searchicon: '.typeahead.cs-search-icon',\r\n      searchbox: '.search-input',\r\n      searchclear: '.search-clear'\r\n    },\r\n\r\n    regions: {\r\n      searchRegion: '@ui.searchbox',\r\n      clearRegion: '@ui.searchclear'\r\n    },\r\n\r\n    triggers: {\r\n      'click @ui.searchicon': 'click'\r\n    },\r\n\r\n    constructor: function RolePickerView(options) {\r\n      options || (options = {});\r\n\r\n      this.filterLength = 0;\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      // listen to change the focus\r\n      this.listenTo(this, 'updateFocus', this.updateFocus);\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      // render the filter elements if active\r\n      var searchView = this.searchView;\r\n      if (searchView) {\r\n        this.searchRegion.show(searchView);\r\n      } else {\r\n        searchView = this.searchView = new RolePickerSearch(\r\n            $.extend({}, this.options, {\r\n              view: this\r\n            }));\r\n        this.searchRegion.show(searchView);\r\n      }\r\n      // clear button\r\n      this.clearView = new RolePickerClear(\r\n          $.extend({}, this.options, {\r\n            view: this\r\n          }));\r\n      this.clearRegion.show(this.clearView);\r\n      // update styles\r\n      this.clearView.updateStyles();\r\n    },\r\n\r\n    onClick: function (e) {\r\n      // show roles\r\n      this.updateFocus();\r\n      this.searchView.$('input.typeahead').typeahead('lookup', this.ui.searchbox.val());\r\n    },\r\n\r\n    updateFocus: function(){\r\n      // show roles\r\n      this.searchView.currentlyFocusedElement().trigger('focus');\r\n    }\r\n\r\n  });\r\n  // add event propagation mixin\r\n  _.extend(RolePickerView.prototype, LayoutViewEventsPropagationMixin);\r\n  \r\n  return RolePickerView;\r\n});\r\n\n","csui.define('conws/widgets/team/impl/behaviors/list.keyboard.behavior',[\r\n  'module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette'\r\n], function (module, _, $, Marionette) {\r\n  'use strict';\r\n\r\n  var ListKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      'currentlyFocusedElementSelector': 'li:nth-child({0})'\r\n    },\r\n\r\n    constructor: function ListKeyboardBehavior(options, view) {\r\n      // apply marionette behavior implementation\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      // extend the views\r\n      _.extend(view, {\r\n\r\n        // storage for the selected index\r\n        selectedIndex: 0,\r\n\r\n        // support up/down navigation\r\n        onKeyDown: function (e) {\r\n          var $preElem = this.currentlyFocusedElement();\r\n\r\n          switch (e.keyCode) {\r\n          case 38: // up\r\n            this._moveTo(e, this._selectPrevious(), $preElem);\r\n            break;\r\n          case 40: // down\r\n            this._moveTo(e, this._selectNext(), $preElem);\r\n            break;\r\n          }\r\n        },\r\n\r\n        _moveTo: function (event, $elem, $preElem) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n\r\n          setTimeout(_.bind(function () {\r\n            $preElem && $preElem.prop('tabindex', '-1');\r\n            $elem.prop('tabindex', '0');\r\n            $elem.trigger('focus');\r\n          }, this), 50);\r\n        },\r\n\r\n        _selectNext: function () {\r\n          var collection = this.model || this.collection;\r\n          if (this.selectedIndex < collection.length - 1) {\r\n            this.selectedIndex++;\r\n          }\r\n          return this.currentlyFocusedElement();\r\n        },\r\n\r\n        _selectPrevious: function () {\r\n          if (this.selectedIndex > 0) {\r\n            this.selectedIndex--;\r\n          }\r\n          return this.currentlyFocusedElement();\r\n        },\r\n\r\n        currentlyFocusedElementSelector: this.options.currentlyFocusedElementSelector,\r\n\r\n        currentlyFocusedElement: function () {\r\n          // reset the focused list index whenever the previous index is larger than the\r\n          // currently rendered elements\r\n          var collection = this.model || this.collection;\r\n          if ((this.selectedIndex !== 0) && (this.selectedIndex >= collection.length)) {\r\n            this.selectedIndex = collection.length - 1;\r\n          }\r\n          // find the element at the current index and return\r\n          var $item = this.$(_.str.sformat(this.currentlyFocusedElementSelector, this.selectedIndex + 1));\r\n          var elementOfFocus = ($item.length !== 0) ? this.$($item[0]) : null;\r\n          return elementOfFocus;\r\n        }\r\n      });\r\n    } // constructor\r\n  });\r\n\r\n  return ListKeyboardBehavior;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"binf-alert binf-alert-success binf-alert-dismissible\\\">\\r\\n  <strong title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":17},\"end\":{\"line\":2,\"column\":25}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":27},\"end\":{\"line\":2,\"column\":35}}}) : helper)))\n    + \"</strong>\\r\\n  <div class=\\\"remove binf-alert-close binf-close\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":59},\"end\":{\"line\":3,\"column\":65}}}) : helper)))\n    + \"\\\"\\r\\n       title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeRole\") || (depth0 != null ? lookupProperty(depth0,\"removeRole\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeRole\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":28}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeRole\") || (depth0 != null ? lookupProperty(depth0,\"removeRole\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeRole\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":42},\"end\":{\"line\":4,\"column\":56}}}) : helper)))\n    + \"\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.roles', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/utils/url',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles',\r\n  'css!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles'\r\n], function (_, $, Marionette, TabableRegionBehavior, Url, ListKeyboardBehavior, lang,\r\n    childTemplate) {\r\n\r\n  var ParticipantRolesItemView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'li',\r\n\r\n    template: childTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        removeRole: lang.rolesDialogRemoveRole,\r\n        name: this.model.get('name'),\r\n        id: this.model.get('id')\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'click .remove': 'onRemoveOnClick',\r\n      'keydown .binf-alert': 'onRemoveOnKeyDown'\r\n    },\r\n\r\n    constructor: function ParticipantRoleView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onRemoveOnClick: function (e) {\r\n      // stop propagation\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      // trigger event\r\n      this.triggerMethod('remove:role', {model: this.model});\r\n    },\r\n\r\n    onRemoveOnKeyDown: function (e) {\r\n      // Enter, Space or DEL?\r\n      if (e.keyCode === 13 || e.keyCode === 32 || e.keyCode === 46) {\r\n        // stop propagation\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // trigger event\r\n        this.triggerMethod('remove:role', {model: this.model});\r\n      }\r\n    }\r\n  });\r\n\r\n  var ParticipantRolesListView = Marionette.CollectionView.extend({\r\n\r\n    tagName: 'ul',\r\n\r\n    childView: ParticipantRolesItemView,\r\n\r\n    // required by the list keyboard behavior\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    // view behaviors\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior,\r\n        currentlyFocusedElementSelector: 'li:nth-child({0}) .binf-alert'\r\n      }\r\n    },\r\n\r\n    constructor: function ParticipantRolesListView(options) {\r\n      // apply properties to parent\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onAddChild: function () {\r\n      this.triggerMethod('refresh:tabindexes');\r\n    },\r\n\r\n    onRemoveChild: function () {\r\n      this.triggerMethod('refresh:tabindexes');\r\n    }\r\n  });\r\n\r\n  // return view\r\n  return ParticipantRolesListView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"participant-content binf-pull-left\\\"></div>\\r\\n<div class=\\\"participant-roles binf-pull-left\\\"></div>\\r\\n<div class=\\\"participant-delete binf-pull-right\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.listitem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.roles',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"participant-roles-list\\\">\\r\\n  <!-- role items -->\\r\\n</div>\\r\\n<div class=\\\"conws-participants-rolepicker\\\">\\r\\n  <!-- roles picker region -->\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.listitem.roles', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.delete',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"remove csui-icon cs-icon-delete\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":55},\"end\":{\"line\":1,\"column\":61}}}) : helper)))\n    + \"\\\"\\r\\n      title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeParticipant\") || (depth0 != null ? lookupProperty(depth0,\"removeParticipant\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeParticipant\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":13},\"end\":{\"line\":2,\"column\":34}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeParticipant\") || (depth0 != null ? lookupProperty(depth0,\"removeParticipant\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeParticipant\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":48},\"end\":{\"line\":2,\"column\":69}}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.listitem.delete', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/utils/url',\r\n  'csui/utils/contexts/factories/user',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'conws/widgets/team/impl/controls/rolepicker/rolepicker.view',\r\n  'conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.details',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.roles',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.delete',\r\n  'css!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem'\r\n], function (_, $, Marionette, TabableRegionBehavior, LayoutViewEventsPropagationMixin, Url,\r\n    UserModelFactory, UserWidget, Avatar,\r\n    RolePicker, ParticipantRolesListView, lang, itemTemplate, detailsTemplate, rolesTemplate,\r\n    deleteTemplate) {\r\n\r\n  var ParticipantPropertiesView = Marionette.ItemView.extend({\r\n\r\n    template: detailsTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        type: this.model.getMemberType(),\r\n        name: this.model.displayName(),\r\n        email: this.model.displayEmail(),\r\n        title: this.model.displayTitle(),\r\n        department: this.model.displayDepartment(),\r\n        office: this.model.displayOffice()\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      personalizedImage: '.csui-icon-user',\r\n      defaultImage: '.csui-icon-paceholder'\r\n    },\r\n\r\n    // constructor for the 'add participant' listitem\r\n    constructor: function ParticipantPropertiesView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    initialize: function () {\r\n      this.avatar = new Avatar({model: this.model});\r\n    },\r\n\r\n    onRender: function () {\r\n      // render profile image\r\n      if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n        var loggedUser = this.model.collection.workspaceContext.getModel(UserModelFactory),\r\n          userProfilePicOptions = {\r\n            connector: this.model.connector,\r\n            model: this.model,\r\n            userid: this.model.get('id'),\r\n            context: this.model.collection.workspaceContext,\r\n            showUserProfileLink: true,\r\n            showMiniProfile: true,\r\n            loggedUserId: loggedUser.get('id'),\r\n            placeholder: this.$el.find('.participant-picture'),\r\n            showUserWidgetFor: 'profilepic'\r\n          };\r\n        UserWidget.getUser(userProfilePicOptions);\r\n      }\r\n      else {\r\n        this.$('.participant-picture').append(this.avatar.render().$el);\r\n      }\r\n    }\r\n  });\r\n\r\n  var ParticipantRolesView = Marionette.LayoutView.extend({\r\n\r\n    regions: {\r\n      rolesListRegion: '.participant-roles-list',\r\n      rolePickerRegion: '.conws-participants-rolepicker'\r\n    },\r\n\r\n    template: rolesTemplate,\r\n\r\n    constructor: function ParticipantRolesView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      // participant roles list\r\n      var roles = new ParticipantRolesListView({\r\n        collection: this.model.roles\r\n      });\r\n      this.rolesListRegion.show(roles);\r\n      this.listenTo(roles, 'childview:remove:role', this.onRoleItemRemove);\r\n\r\n      // role picker\r\n      var role = new RolePicker({\r\n        placeholder: lang.addParticipantsRolePickerPlaceholderMore,\r\n        roles: this.model.collection.roles,\r\n        showInherited: false,\r\n        prettyScrolling: true\r\n      });\r\n      this.rolePickerRegion.show(role);\r\n      this.listenTo(role, 'item:change', this.onRoleItemChanged);\r\n    },\r\n\r\n    onRoleItemChanged: function (e) {\r\n      this.model.roles.add(e.item);\r\n    },\r\n\r\n    onRoleItemRemove: function (view, args) {\r\n      // remove assigned role\r\n      this.model.roles.remove(args.model);\r\n\r\n      // set focus to input field of search if the last role is remove\r\n      if (this.model.roles.length === 0) {\r\n        this.rolePickerRegion.currentView.trigger('updateFocus');\r\n      }\r\n    }\r\n  });\r\n\r\n  var ParticipantDeleteView = Marionette.ItemView.extend({\r\n\r\n    template: deleteTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        removeParticipant: lang.addParticipantsRemove\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'click .remove': 'onRemoveOnClick',\r\n      'keydown .remove': 'onRemoveOnKeyDown'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function ParticipantDeleteView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onRemoveOnClick: function (e) {\r\n      // stop propagation\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      // remove participant\r\n      this.model.collection.remove(this.model);\r\n    },\r\n\r\n    onRemoveOnKeyDown: function (e) {\r\n      // Enter, Space or DEL?\r\n      if (e.keyCode === 13 || e.keyCode === 32 || e.keyCode === 46) {\r\n        // stop propagation\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // remove participant\r\n        this.model.collection.remove(this.model);\r\n      }\r\n    },\r\n\r\n    // delete button is focused\r\n    currentlyFocusedElement: function () {\r\n      return this.$('.remove');\r\n    }\r\n  });\r\n\r\n  var ParticipantListItemView = Marionette.LayoutView.extend({\r\n\r\n    template: itemTemplate,\r\n\r\n    tagName: 'li',\r\n\r\n    className: 'binf-list-group-item conws-participant',\r\n\r\n    regions: {\r\n      content: '.participant-content',\r\n      roles: '.participant-roles',\r\n      delete: '.participant-delete'\r\n    },\r\n\r\n    // constructor for the 'add participant' listitem\r\n    constructor: function ParticipantListItemView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // listen to the change of the roles\r\n      this.listenTo(this.model.roles, 'reset remove add', this.onParticipantRolesChanged);\r\n      // listen to the change of the model\r\n      this.listenTo(this.model, 'remove', this.onParticipantRemove);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      // render content\r\n      this.content.show(\r\n          new ParticipantPropertiesView({\r\n            model: this.model\r\n          }));\r\n      // render roles\r\n      this.roles.show(\r\n          new ParticipantRolesView({\r\n            model: this.model\r\n          }));\r\n      // render remove button\r\n      this.delete.show(\r\n          new ParticipantDeleteView({\r\n            model: this.model\r\n          }));\r\n      // styling\r\n      this.applyRolesStyle();\r\n      this.applyRolesHeight(true);\r\n    },\r\n\r\n    onParticipantRemove:function () {\r\n      this._parent.selectedIndex = this._index;\r\n    },\r\n\r\n    onParticipantRolesChanged: function (model, collection, options) {\r\n      // and trigger participant collection change\r\n      this.model.collection.trigger('change', this.model.collection);\r\n      // change style ...\r\n      this.applyRolesStyle();\r\n      // change height - in case the options index property is\r\n      // available the event is triggered due to a remove action.\r\n      var added = _.isUndefined(options.index);\r\n      this.applyRolesHeight(added);\r\n    },\r\n\r\n    applyRolesStyle: function () {\r\n      // depending on the roles count the\r\n      // item is styled\r\n      if (this.model.roles.length !== 0) {\r\n        this.$el.addClass('has-role');\r\n        this.$el.removeClass('no-role');\r\n      } else {\r\n        this.$el.addClass('no-role');\r\n        this.$el.removeClass('has-role');\r\n      }\r\n    },\r\n\r\n    applyRolesHeight: function (add) {\r\n      // the item height has to be calculated manually\r\n      // as it should grow with the roles count\r\n      //\r\n      // get the top + bottom margin height\r\n      var space = this.$el.outerHeight() - this.$el.height();\r\n      // get the roles picker height\r\n      var picker = this.$('.conws-participants-rolepicker .cs-search').outerHeight();\r\n      // calculate  the roles list height\r\n      var roles = this.$('.participant-roles-list').outerHeight();\r\n      var len = this.model.roles.length;\r\n      if (len > 1) {\r\n        roles = (roles / (add ? len - 1 : len + 1)) * len;\r\n      } else if (len === 1) {\r\n        roles = (roles / (add ? len : len + 1)) * len;\r\n      }\r\n      this.$el.height(picker + roles + (space / 2));\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(ParticipantRolesView.prototype, LayoutViewEventsPropagationMixin);\r\n  _.extend(ParticipantListItemView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return view\r\n  return ParticipantListItemView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/footer/impl/footer',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-roles-edit-buttons binf-modal-footer\\\">\\r\\n  <span class=\\\"conws-roles-edit-reset-region\\\"></span>\\r\\n  <span class=\\\"conws-roles-edit-save-region\\\"></span>\\r\\n  <span class=\\\"conws-roles-edit-cancel-region\\\"></span>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_footer_impl_footer', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/footer/impl/button',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"disabled\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"data-binf-dismiss=\\\"modal\\\"\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<button class=\\\"binf-btn binf-btn-default btn-footer \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"css\") || (depth0 != null ? lookupProperty(depth0,\"css\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"css\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":52},\"end\":{\"line\":1,\"column\":59}}}) : helper)))\n    + \"\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":61},\"end\":{\"line\":1,\"column\":93}}})) != null ? stack1 : \"\")\n    + \" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"close\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":94},\"end\":{\"line\":2,\"column\":39}}})) != null ? stack1 : \"\")\n    + \" >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"label\") || (depth0 != null ? lookupProperty(depth0,\"label\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"label\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":41},\"end\":{\"line\":2,\"column\":50}}}) : helper)))\n    + \"</button>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_footer_impl_button', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/footer/impl/footer',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/footer/footer.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'hbs!conws/widgets/team/impl/controls/footer/impl/footer',\r\n  'hbs!conws/widgets/team/impl/controls/footer/impl/button',\r\n  'css!conws/widgets/team/impl/controls/footer/impl/footer'\r\n], function (_, $, Marionette, Handlebars, TabableRegionBehavior, LayoutViewEventsPropagationMixin,\r\n    templateFooter, templateButton) {\r\n\r\n  var ButtonView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'span',\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      return {\r\n        label: this.model.get('label'),\r\n        css: this.model.get('css'),\r\n        disabled: this.model.get('disabled'),\r\n        close: this.model.get('close')\r\n      };\r\n    },\r\n\r\n    template: templateButton,\r\n\r\n    ui: {\r\n      button: '.btn-footer'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.button': 'onClick'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    onClick: function (e) {\r\n      // execute the callback\r\n      var callback = this.model.get('click');\r\n      if (callback && _.isFunction(callback)) {\r\n        callback(e);\r\n      }\r\n    },\r\n\r\n    constructor: function ButtonView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    isTabable: function () {\r\n      // in case of error, this is called during destroy and button is a selector string, not a jquery element.\r\n      return $(this.ui.button).is(':enabled');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.button;\r\n    }\r\n  });\r\n\r\n  var FooterView = Marionette.LayoutView.extend({\r\n\r\n    regions: {\r\n      resetRegion: '.conws-roles-edit-reset-region',\r\n      submitRegion: '.conws-roles-edit-save-region',\r\n      cancelRegion: '.conws-roles-edit-cancel-region'\r\n    },\r\n\r\n    template: templateFooter,\r\n\r\n    constructor: function FooterView(options) {\r\n      // assign button models\r\n      this.buttons = options.collection.models;\r\n\r\n      // apply marionette layoutview\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      //listen to set focus\r\n      this.listenTo(this , 'updateButton', this.updateButton);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this;\r\n      _.each(this.buttons, function (button) {\r\n        if (button.id === 'reset') {\r\n          self.resetView = new ButtonView({\r\n            model: button,\r\n            initialActivationWeight: button.get('initialActivationWeight')\r\n          });\r\n          self.resetRegion.show(self.resetView);\r\n        } else if (button.id === 'submit') {\r\n          self.submitView = new ButtonView({\r\n            model: button,\r\n            initialActivationWeight: button.get('initialActivationWeight')\r\n          });\r\n          self.submitRegion.show(self.submitView);\r\n        } else if (button.id === 'cancel') {\r\n          self.cancelView = new ButtonView({\r\n            model: button,\r\n            initialActivationWeight: button.get('initialActivationWeight')\r\n          });\r\n          self.cancelRegion.show(self.cancelView);\r\n        }\r\n      });\r\n    },\r\n\r\n    updateButton: function () {\r\n      var self = this;\r\n      _.each(self.collection.models, function (button) {\r\n        if (!button.get('disabled')) {\r\n          if (button.id === 'submit') {\r\n            self.submitView.currentlyFocusedElement().focus();\r\n          } else if (button.id === 'cancel') {\r\n            self.cancelView.currentlyFocusedElement().focus();\r\n          } else if (button.id === 'reset') {\r\n            self.resetView.currentlyFocusedElement().focus();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  // add event propagation mixin\r\n  _.extend(FooterView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return\r\n  return FooterView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/addparticipants',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"binf-modal-content\\\">\\r\\n  <div class=\\\"binf-modal-header\\\">\\r\\n    <h4 class=\\\"binf-modal-title\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":33},\"end\":{\"line\":3,\"column\":42}}}) : helper)))\n    + \"</h4>\\r\\n    <div class=\\\"conws-addparticipants-search\\\">\\r\\n      <div class=\\\"conws-addparticipants-userpicker\\\">\\r\\n        <!-- user picker region -->\\r\\n      </div>\\r\\n      <div>\\r\\n        <div class=\\\"conws-addparticipants-rolepicker\\\">\\r\\n          <!-- roles picker region -->\\r\\n        </div>\\r\\n        <div class=\\\"conws-addparticipants-rolepicker-help\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"roles-help\") || (depth0 != null ? lookupProperty(depth0,\"roles-help\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"roles-help\",\"hash\":{},\"loc\":{\"start\":{\"line\":12,\"column\":59},\"end\":{\"line\":12,\"column\":73}}}) : helper)))\n    + \"</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"binf-modal-body\\\">\\r\\n    <div class=\\\"conws-addparticipants-members\\\"></div>\\r\\n  </div>\\r\\n  <div class=\\\"conws-addparticipants-buttons\\\">\\r\\n    <!-- button bar region -->\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_addparticipants', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/addparticipants/impl/addparticipants',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/addparticipants/addparticipants.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/team/impl/participant.model',\r\n  'conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.view',\r\n  'conws/widgets/team/impl/controls/rolepicker/rolepicker.view',\r\n  'conws/widgets/team/impl/controls/footer/footer.view',\r\n  'csui/controls/userpicker/userpicker.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/addparticipants',\r\n  'css!conws/widgets/team/impl/dialogs/addparticipants/impl/addparticipants'\r\n], function (_, $, Backbone, Marionette, base, ConnectorFactory, NodeFactory,\r\n    LayoutViewEventsPropagationMixin, ModalAlert, WorkspaceContextFactory, Participant,\r\n    ParticipantView, RolePicker, ButtonBar, UserPicker, lang, template) {\r\n\r\n  var ParticipantsListCollectionView = Marionette.CollectionView.extend({\r\n\r\n    tagName: 'ul',\r\n\r\n    className: 'binf-list-group',\r\n\r\n    childView: ParticipantView,\r\n\r\n    constructor: function ParticipantsListCollectionView(options) {\r\n      Marionette.CollectionView.call(this, options);\r\n      //listen to change the focus\r\n      this.listenTo(this, 'moveTabIndex', this.moveTabIndex);\r\n    },\r\n\r\n    moveTabIndex:function(view){\r\n      this.children.each(function (participantView) {\r\n        if(view.children.length === view.selectedIndex){\r\n          view.selectedIndex = view.children.length - 1;\r\n        }\r\n        if (participantView._index === view.selectedIndex) {\r\n          participantView.roles.currentView.rolePickerRegion.currentView.trigger('updateFocus')\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  var AddParticipantsView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      userPickerRegion: '.conws-addparticipants-userpicker',\r\n      rolePickerRegion: '.conws-addparticipants-rolepicker',\r\n      buttonsRegion: '.conws-addparticipants-buttons',\r\n      participantsRegion: '.conws-addparticipants-members'\r\n    },\r\n\r\n    templateHelpers: {\r\n      'title': lang.addParticipantsTitle,\r\n      'roles-help': lang.addParticipantsRolesHelp\r\n    },\r\n\r\n    constructor: function AddParticipantsView(options) {\r\n      options || (options = {});\r\n\r\n      this.view = options.view;\r\n      this.context = options.view.context;\r\n      this.connector = options.view.context.getObject(ConnectorFactory, options.view);\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.view.context.getObject(WorkspaceContextFactory);\r\n      }\r\n      this.workspaceContext = options.workspaceContext;\r\n\r\n      this.teamRoles = options.view.roleCollection.clone() ;\r\n      this.teamParticipants = options.view.participantCollection;\r\n\r\n      // listen to team view close\r\n      this.listenTo(this.view, 'destroy', this.close);\r\n\r\n      // initialize button model\r\n      this.buttonsModel = undefined;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      // user picker\r\n      var user = new UserPicker({\r\n        context: this.workspaceContext,\r\n        limit: 20,\r\n        clearOnSelect: true,\r\n        placeholder: lang.addParticipantsUserPickerPlaceholder,\r\n        disabledMessage: lang.addParticipantsDisabledMemberMessage,\r\n        onRetrieveMembers: _.bind(this.retrieveMembersCallback, this),\r\n        prettyScrolling: true,\r\n        initialActivationWeight: 100\r\n      });\r\n      this.userPickerRegion.show(user);\r\n      user.$(\".cs-search-icon\").attr(\"aria-label\",lang.addParticipantsSearchAria);\r\n      this.listenTo(user, 'item:change', this.onUserItemChanged);\r\n\r\n      // role picker\r\n      var role = new RolePicker({\r\n        roles: this.teamRoles,\r\n        showInherited: false,\r\n        prettyScrolling: true\r\n      });\r\n      this.rolePickerRegion.show(role);\r\n      this.listenTo(role, 'item:change', this.onRoleItemChanged);\r\n\r\n      // participants list\r\n       var participants = new ParticipantsListCollectionView({\r\n         context: this.options.workspaceContext,\r\n         collection: _.extend(new Backbone.Collection(), {\r\n           workspaceContext: this.workspaceContext,\r\n           node: this.workspaceContext.getModel(NodeFactory),\r\n           roles: this.teamRoles,\r\n           comparator: function (left, right) {\r\n             return base.localeCompareString(left.get('display_name'), right.get('display_name'));\r\n           }\r\n         })\r\n       });\r\n      this.participantsRegion.show(participants);\r\n      // participants collection\r\n      this.participants = participants.collection;\r\n      this.listenTo(this.participants, 'reset add change', this.onParticipantsChanged);\r\n      this.listenTo(this.participants, 'remove', this.onParticipantsRemove);\r\n\r\n      // button bar, with the model to react on the changes\r\n      this.buttonModel = new Backbone.Collection([{\r\n        id: 'reset',\r\n        label: lang.addParticipantsButtonClear,\r\n        css: 'clear binf-pull-left',\r\n        click: _.bind(this.onClickClear, this),\r\n        disabled: true,\r\n        close: false\r\n      }, {\r\n        id: 'submit',\r\n        label: lang.addParticipantsButtonSave,\r\n        css: 'save',\r\n        click: _.bind(this.onClickSave, this),\r\n        disabled: true,\r\n        close: true\r\n      }, {\r\n        id: 'cancel',\r\n        label: lang.addParticipantsButtonCancel,\r\n        css: 'cancel',\r\n        disabled: false,\r\n        close: true\r\n      }]);\r\n      this.buttonsRegion.show(new ButtonBar({\r\n        collection: this.buttonModel\r\n      }));\r\n    },\r\n\r\n    onUserItemChanged: function (e) {\r\n      // if member is disabled prevent from being added\r\n      if (e.item.get('disabled')) {\r\n        return;\r\n      }\r\n      // otherwise create participant and ...\r\n      var attributes = _.extend(e.item.attributes, {\r\n        display_name: e.item.get('name_formatted')\r\n      });\r\n      var participant = new Participant(attributes, {\r\n        connector: this.connector,\r\n        collection: this.participants\r\n      });\r\n      participant.roles = new Backbone.Collection(undefined, {\r\n        comparator: function (left, right) {\r\n          return base.localeCompareString(left.get('name'), right.get('name'));\r\n        }\r\n      });\r\n      // ... add to participants list\r\n      this.participants.add(participant);\r\n      this.updateScrollbar();\r\n    },\r\n\r\n    retrieveMembersCallback: function (args) {\r\n      var self = this;\r\n\r\n      // check team members and dialog members and if the\r\n      // participant is found disable it in the results.\r\n      args.collection.each(function (current) {\r\n        var exists = false;\r\n        if (self.teamParticipants.findWhere({id: current.get('id')})) {\r\n          exists = true;\r\n        } else {\r\n          if (self.participants.findWhere({id: current.get('id')})) {\r\n            exists = true;\r\n          }\r\n        }\r\n        current.set('disabled', exists);\r\n      });\r\n    },\r\n\r\n    onRoleItemChanged: function (e) {\r\n      // add selected role to all participants\r\n      this.participants.each(function (current) {\r\n        current.roles.add(e.item);\r\n      });\r\n    },\r\n\r\n    onClickSave: function () {\r\n      var self = this;\r\n      // save participants to the team\r\n      var error = false;\r\n      var count = this.participants.length;\r\n      this.participants.each(function (current) {\r\n        self.teamParticipants.addNewParticipant(current);\r\n        current.save(\r\n            {\r\n              add: current.roles.models\r\n            }, {\r\n              success: function (response) {\r\n                if ((--count) === 0) {\r\n                  self.refreshAfterSave(error);\r\n                }\r\n              },\r\n              error: function (response) {\r\n                error = true;\r\n                if ((--count) === 0) {\r\n                  self.refreshAfterSave(error);\r\n                }\r\n              }\r\n            });\r\n      });\r\n    },\r\n\r\n    refreshAfterSave: function (error) {\r\n      var self = this;\r\n      // notify on error\r\n      if (error === true) {\r\n        ModalAlert.showError(lang.addParticipantsErrorMessageDefault);\r\n      }\r\n      function afterFetch() {\r\n        // trigger save event to signal the save of the collection\r\n        self.teamParticipants.trigger('saved', self.teamParticipants);\r\n      }\r\n\r\n      // refresh team participants\r\n      self.teamParticipants.fetch({\r\n        success: function () {\r\n          self.teamParticipants.setNewParticipant();\r\n        }\r\n      }).then(afterFetch,afterFetch);\r\n    },\r\n\r\n    onClickClear: function () {\r\n      // clear participants dialog\r\n      this.participants.reset();\r\n      // set focus to user picker\r\n      this.userPickerRegion.currentView.currentlyFocusedElement().focus();\r\n      // update scrollbars\r\n      this.updateScrollbar();\r\n    },\r\n\r\n    onParticipantsRemove: function () {\r\n      this.onParticipantsChanged();\r\n      if (this.participants && this.participants.length>0) {\r\n        //set focus on the previous item\r\n        this.participantsRegion.currentView.trigger('moveTabIndex', this.participantsRegion.currentView);\r\n      } else {\r\n        // set focus to user picker\r\n        this.userPickerRegion.currentView.currentlyFocusedElement().focus();\r\n      }\r\n      this.updateScrollbar();\r\n    },\r\n\r\n    onParticipantsChanged: function () {\r\n      // disable clear - if no item is available\r\n      var disableClear = (this.participants.length === 0);\r\n      // disable save - if at least one items has no roles\r\n      var disableSave = (this.participants.length === 0);\r\n      this.participants.each(function (participant) {\r\n        if ((participant.roles === undefined) || (participant.roles.length === 0)) {\r\n          disableSave = true;\r\n        }\r\n      });\r\n      // set button models\r\n      this.buttonModel.get('reset').set('disabled', disableClear);\r\n      this.buttonModel.get('submit').set('disabled', disableSave);\r\n      // whenever the participants change, update the perfect scrollbar\r\n      this.$el.find('.conws-addparticipants-members').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      });\r\n    },\r\n\r\n    // Update the scrollbars for the participant list, if the list has changed.\r\n    updateScrollbar: function () {\r\n      // scroll to top as the function is\r\n      // called from within 'onShown'.\r\n      var sc1 = this.$el.find('.conws-addparticipants-members');\r\n      _.each(sc1, function (sc) {\r\n        $(sc).perfectScrollbar('update');\r\n      })\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(AddParticipantsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return view\r\n  return AddParticipantsView;\r\n})\r\n;\r\n\n","csui.define('conws/utils/commands/addparticipant',[\r\n  'csui/lib/underscore',\r\n  'csui/models/command',\r\n  'conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',\r\n  'conws/widgets/team/impl/dialogs/addparticipants/addparticipants.view',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (_, CommandModel, ModalDialogView, AddParticipantsView, lang, teamlang) {\r\n\r\n  var AddParticipantCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'AddParticipant',\r\n      name: lang.CommandNameAddParticipant,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    constructor: function (options) {\r\n      // initialize options\r\n      options || (options = {});\r\n      this.roles = options.roles;\r\n      // apply arguments to parent\r\n      CommandModel.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    enabled: function (status) {\r\n      // initialize false\r\n      var ret = false;\r\n      // evaluate if at least one role has the edit permission\r\n      if (this.roles) {\r\n        var editable = this.roles.filter(function (role) {\r\n          return (role.get('actions').actionEdit && _.isNull(role.get('inherited_from_id')));\r\n        });\r\n        ret = (editable.length !== 0)\r\n      }\r\n      // return\r\n      return ret;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      // show the add participants view in the modal dialog\r\n      var dialog = new ModalDialogView({\r\n        dialogTxtAria: teamlang.addParticipantsTitle,\r\n        body: new AddParticipantsView({\r\n          view: status.originatingView\r\n        }),\r\n        modalClassName: 'conws-addparticipants'\r\n      });\r\n      dialog.show();\r\n    }\r\n  });\r\n\r\n  return AddParticipantCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/export',[\r\n  'csui/lib/underscore',\r\n  'csui/models/command',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, CommandModel, lang) {\r\n\r\n  var ExportCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'Export',\r\n      name: lang.CommandNameExport,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    constructor: function (options) {\r\n      CommandModel.prototype.constructor.call(this, arguments);\r\n    },\r\n\r\n    enabled: function (status) {\r\n      if (status && status.nodes && status.nodes.length > 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      // invoke download\r\n      var file = 'export.csv';\r\n      var csv = this._export(status.nodes.models);\r\n      this._download(csv, file);\r\n    },\r\n\r\n    _exportHeader: function () {\r\n      var ret = '';\r\n      return ret;\r\n    },\r\n\r\n    _exportModel: function () {\r\n      var ret = '';\r\n      return ret;\r\n    },\r\n\r\n    _export: function (models) {\r\n      // prepare model export csv\r\n      var self = this;\r\n      var csv = this._exportHeader() + '\\n';\r\n      _.each(models, function (current) {\r\n        csv += self._exportModel(current) + '\\n';\r\n      });\r\n      return csv;\r\n    },\r\n\r\n    _download: function (text, file) {\r\n      // create blob\r\n      var blob = new Blob([text], {type: 'text/csv'});\r\n      // try multiple options to invoke the csv download\r\n      if (!!window.navigator.msSaveOrOpenBlob) {\r\n        window.navigator.msSaveOrOpenBlob(blob, file);\r\n      } else {\r\n        var link = document.createElement(\"a\");\r\n        link.download = file;\r\n        link.innerHTML = \"Download File\";\r\n        if ('webkitURL' in window) {\r\n          // Chrome allows the link to be clicked without actually adding it to the DOM.\r\n          link.href = window.webkitURL.createObjectURL(blob);\r\n        } else {\r\n          // Firefox requires the link to be added to the DOM before it can be clicked.\r\n          link.href = window.URL.createObjectURL(blob);\r\n          link.style.display = \"none\";\r\n          link.onclick = function (event) {\r\n            document.body.removeChild(event.target);\r\n          };\r\n          document.body.appendChild(link);\r\n        }\r\n        link.trigger('click');\r\n      }\r\n    }\r\n  });\r\n\r\n  return ExportCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/widgets/team/impl/commands/exportparticipants',[\r\n  'csui/lib/underscore',\r\n  'conws/utils/commands/export',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (_, ExportCommandModel, commandsLang, teamLang) {\r\n\r\n  var ExportParticipantsCommand = ExportCommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'ExportParticipants',\r\n      name: commandsLang.CommandNameExportParticipants,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    constructor: function () {\r\n      ExportCommandModel.prototype.constructor.call(this, arguments);\r\n    },\r\n\r\n    _exportHeader: function () {\r\n      var ret = '';\r\n      ret += '\"' + teamLang.participantNameColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.participantRolesColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.participantLoginColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.participantEmailColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.participantDepartmentColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      return ret;\r\n    },\r\n\r\n    _exportModel: function (model) {\r\n      var ret = '\"';\r\n      ret += model.get('display_name') ? model.get('display_name').replace(/\"/g, '\"\"') :\r\n             model.get('name').replace(/\"/g, '\"\"');\r\n      ret += '\";\"' + model.getLeadingRole().replace(/\"/g, '\"\"') + ' ' +\r\n             model.getRolesIndicator().replace(/\"/g, '\"\"');\r\n      ret += '\";\"';\r\n      ret += model.get('name') ? model.get('name').replace(/\"/g, '\"\"') : '';\r\n      ret += '\";\"';\r\n      ret += model.get('business_email') ? model.get('business_email').replace(/\"/g, '\"\"') : '';\r\n      ret += '\";\"';\r\n      ret += model.get('group_name') ? model.get('group_name').replace(/\"/g, '\"\"') : '';\r\n      ret += '\";';\r\n      return ret;\r\n    }\r\n  });\r\n\r\n  return ExportParticipantsCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/showroles',[\r\n    'csui/lib/underscore',\r\n    'csui/models/command',\r\n    'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, CommandModel, lang) {\r\n\r\n    var ShowRolesCommand = CommandModel.extend({\r\n\r\n        defaults:{\r\n            signature: 'ShowRoles',\r\n            name: lang.CommandNameShowRoles,\r\n            scope: 'single'\r\n        },\r\n\r\n        enabled: function(status){\r\n            if (status && status.nodes && status.nodes.length === 1){\r\n                return true;\r\n            } else{\r\n                return false;\r\n            }\r\n        },\r\n\r\n        execute: function (status, options) {\r\n            throw new Error('The \\'' + this.get('signature') + '\\' action must be handled by the caller.');\r\n        }\r\n    });\r\n\r\n    return ShowRolesCommand;\r\n});\r\n\r\n\r\n\n","csui.define('conws/utils/commands/removeparticipant',[\r\n  'csui/lib/underscore',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/models/command',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, ModalAlert, CommandModel, lang) {\r\n\r\n  var RemoveParticipantCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'RemoveParticipant',\r\n      name: lang.CommandNameRemoveParticipant,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    enabled: function (status) {\r\n      if (status && status.nodes && status.nodes.length > 0) {\r\n        var allowed = true;\r\n        _.each(status.nodes.models, function (participant) {\r\n          if (!participant.canRemove()) {\r\n            allowed = false;\r\n          }\r\n        });\r\n        return allowed;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    execute: function (status, options) {\r\n\r\n      // format confirmation dialog title ...\r\n      var title = (status.nodes.length === 1)\r\n          ? lang.RemoveParticipantTitleSingle\r\n          : lang.RemoveParticipantTitleMultiple;\r\n      // ... and message\r\n      var message = lang.RemoveParticipantMessage;\r\n\r\n      // confirm and remove\r\n      var self = this;\r\n      ModalAlert.confirmQuestion(message, title)\r\n          .always(function (answer) {\r\n            if (answer) {\r\n              var count = status.nodes.length;\r\n              var error = false;\r\n              _.each(status.nodes.models, function (participant) {\r\n                participant.save({\r\n                  add: [],\r\n                  remove: participant.roles.models\r\n                }, {\r\n                  success: function (response) {\r\n                    // update collections when all participants are removed\r\n                    if ((--count) === 0) {\r\n                      self._refresh(status, error);\r\n                    }\r\n                  },\r\n                  error: function (response) {\r\n                    // update collections when all participants are removed\r\n                    error = true;\r\n                    if ((--count) === 0) {\r\n                      self._refresh(status, error);\r\n                    }\r\n                  }\r\n                });\r\n              });\r\n            }\r\n          });\r\n    },\r\n\r\n    _refresh: function (status, error) {\r\n      // notify on error\r\n      if (error === true) {\r\n        ModalAlert.showError(lang.RemoveParticipantErrorMessageDefault);\r\n      }\r\n      // refresh both collections\r\n      status.originatingView.roleCollection.fetch();\r\n      status.originatingView.participantCollection.fetch({\r\n        success: function () {\r\n          status.originatingView.participantCollection.setNewParticipant();\r\n\r\n          // trigger as custom event to signal the save of the collection\r\n          status.originatingView.participantCollection.trigger('saved', status.originatingView.participantCollection);\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return RemoveParticipantCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/widgets/team/impl/commands/exportroles',[\r\n  'csui/lib/underscore',\r\n  'conws/utils/commands/export',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (_, ExportCommandModel, commandsLang, teamLang) {\r\n\r\n  var ExportRolesCommand = ExportCommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'ExportRoles',\r\n      name: commandsLang.CommandNameExportRoles,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    constructor: function () {\r\n      ExportCommandModel.prototype.constructor.call(this, arguments);\r\n    },\r\n\r\n    _exportHeader: function () {\r\n      var ret = '';\r\n      ret += '\"' + teamLang.rolesNameColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.rolesParticipantsColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      return ret;\r\n    },\r\n\r\n    _exportModel: function (model) {\r\n      var ret = '';\r\n      ret += '\"' + model.displayName().replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + model.displayMembers().replace(/\"/g, '\"\"') + '\";';\r\n      return ret;\r\n    }\r\n  });\r\n\r\n  return ExportRolesCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/showdetails',[\r\n    'csui/lib/underscore',\r\n    'csui/models/command',\r\n    'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, CommandModel, lang) {\r\n\r\n    var ShowDetailsCommand = CommandModel.extend({\r\n\r\n        defaults:{\r\n            signature: 'ShowDetails',\r\n            name: lang.CommandNameShowDetails,\r\n            scope: 'single'\r\n        },\r\n\r\n        enabled: function(status){\r\n            if (status && status.nodes && status.nodes.length === 1){\r\n                return true;\r\n            } else{\r\n                return false;\r\n            }\r\n        },\r\n\r\n        execute: function (status, options) {\r\n            throw new Error('The \\'' + this.get('signature') + '\\' action must be handled by the caller.');\r\n        }\r\n    });\r\n\r\n    return ShowDetailsCommand;\r\n});\r\n\r\n\r\n\n","csui.define('conws/utils/commands/deleterole',[\r\n  'csui/lib/underscore',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/models/command',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, ModalAlert, CommandModel, lang) {\r\n\r\n  var DeleteRoleCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'DeleteRoles',\r\n      name: lang.CommandNameDeleteRole,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    enabled: function (status) {\r\n      if (status && status.nodes && status.nodes.length > 0) {\r\n        // if at least one role doesn't allow deletion, disable the action\r\n        var allowed = true;\r\n        _.each(status.nodes.models, function (role) {\r\n          // is the user allowed to delete the role\r\n          if (!role.canDelete()) {\r\n            allowed = false;\r\n          }\r\n          // the leader role can only be deleted in case it is the one and only role\r\n          if ((role.get('leader') === true) && (role.collection.length > 1)) {\r\n            allowed = false;\r\n          }\r\n        });\r\n        return allowed;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    execute: function (status, options) {\r\n\r\n      // get the unique memberships that would be removed from the workspace\r\n      // if the roles they are member of are deleted.\r\n      var count = this._evaluateMembersRemoved(status).length;\r\n\r\n      // format confirmation dialog title ...\r\n      var title = (status.nodes.length === 1)\r\n          ? lang.DeleteRoleTitleSingle\r\n          : lang.DeleteRoleTitleMultiple;\r\n      // ... and message\r\n      var message = lang.DeleteRoleMessageNoParticipantsAffected;\r\n      if (count === 1) {\r\n        message = lang.DeleteRoleMessageParticipantsAffectedSingle;\r\n      } else if (count > 1) {\r\n        message = lang.DeleteRoleMessageParticipantsAffectedMultiple.replace('{0}', count);\r\n      }\r\n\r\n      // confirm and delete\r\n      var self = this;\r\n      ModalAlert.confirmQuestion(message, title)\r\n          .always(function (answer) {\r\n            if (answer) {\r\n              _.each(_.clone(status.nodes.models), function (model) {\r\n                model.destroy({\r\n                  wait: true,\r\n                  success: function () {\r\n                    if (status.nodes.length === 0) {\r\n                      self._refreshCollections(status);\r\n                    }\r\n                  }\r\n                });\r\n              });\r\n            }\r\n          });\r\n    },\r\n\r\n    _evaluateMembersRemoved: function (status) {\r\n      // get the collections\r\n      var participants = status.originatingView.participantCollection;\r\n      var roles = status.originatingView.roleCollection;\r\n\r\n      // get all participants from the roles to be deleted\r\n      var affectedParticipants = [];\r\n      _.each(status.nodes.models, function (role) {\r\n        role.members.each(function (member) {\r\n          affectedParticipants.push(member.get('id'));\r\n        });\r\n      });\r\n      affectedParticipants = _.uniq(affectedParticipants);\r\n\r\n      // get all participants from the roles not to be deleted\r\n      var unaffectedParticipants = [];\r\n      _.each(roles.models, function (role) {\r\n        if (status.nodes.findWhere({id: role.get('id')}) === undefined) {\r\n          // role isn't to be deleted, therefore get members\r\n          role.members.each(function (member) {\r\n            unaffectedParticipants.push(member.get('id'));\r\n          });\r\n        }\r\n      });\r\n      unaffectedParticipants = _.uniq(unaffectedParticipants);\r\n\r\n      // get the difference. the participants that are left\r\n      // over, are removed from the team.\r\n      var difference = _.difference(affectedParticipants, unaffectedParticipants);\r\n      return difference;\r\n    },\r\n\r\n    _refreshCollections: function (status) {\r\n      // refresh both collections\r\n      status.originatingView.roleCollection.fetch({\r\n           success: function() {\r\n             // trigger as custom event to signal the save of the collection\r\n             status.originatingView.participantCollection.trigger('saved', status.originatingView.participantCollection);\r\n           }\r\n          });\r\n\r\n    }\r\n  });\r\n\r\n  return DeleteRoleCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/widgets/team/impl/participants.toolbaritems',[\r\n  'module',\r\n  \"csui/controls/toolbar/toolitem.model\",\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (module, ToolItemModel, ToolItemsFactory, lang) {\r\n\r\n  var toolbarItems = {\r\n\r\n    otherToolbar: new ToolItemsFactory({\r\n          first: [\r\n            {\r\n              signature: \"AddParticipant\",\r\n              name: lang.CommandNameAddParticipant,\r\n              iconName: \"csui_action_add32\"\r\n            }\r\n          ],\r\n          second: [\r\n            {\r\n              signature: \"PrintParticipants\",\r\n              name: lang.CommandNamePrintParticipants,\r\n              iconName: \"csui_action_print32\"\r\n            },\r\n            {\r\n              signature: \"ExportParticipants\",\r\n              name: lang.CommandNameExportParticipants,\r\n              iconName: \"csui_action_download32\"\r\n            }\r\n          ],\r\n          third: [\r\n            {\r\n              signature: \"ShowRoles\",\r\n              name: lang.CommandNameShowRoles\r\n            },\r\n            {\r\n              signature: \"RemoveParticipant\",\r\n              name: lang.CommandNameRemoveParticipant\r\n            }\r\n          ]\r\n        })\r\n  };\r\n\r\n  return toolbarItems;\r\n\r\n});\r\n\n","csui.define('conws/widgets/team/impl/roles.toolbaritems',[\r\n  'module',\r\n  \"csui/controls/toolbar/toolitem.model\",\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (module, ToolItemModel, ToolItemsFactory, lang) {\r\n\r\n  var toolbarItems = {\r\n\r\n    otherToolbar: new ToolItemsFactory({\r\n          first: [\r\n            {\r\n              signature: \"AddRole\",\r\n              name: lang.CommandNameAddRole,\r\n              iconName: \"csui_action_add32\"\r\n            }\r\n          ],\r\n          second: [\r\n            {\r\n              signature: \"PrintRoles\",\r\n              name: lang.CommandNamePrintRoles,\r\n              iconName: \"csui_action_print32\"\r\n            },\r\n            {\r\n              signature: \"ExportRoles\",\r\n              name: lang.CommandNameExportRoles,\r\n              iconName: \"csui_action_download32\"\r\n            }\r\n          ],\r\n          third: [\r\n            {\r\n              signature: \"ShowDetails\",\r\n              name: lang.CommandNameShowDetails\r\n            },\r\n            {\r\n              signature: \"DeleteRoles\",\r\n              name: lang.CommandNameDeleteRole\r\n            }\r\n          ]\r\n        })\r\n  };\r\n\r\n  return toolbarItems;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/filter/impl/filter',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <div class=\\\"filter-search\\\"></div>\\r\\n    <div class=\\\"filter-clear\\\"></div>\\r\\n    <div class=\\\"filter-icon\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-filter-header\\\">\\r\\n  <h3 class=\\\"header-caption\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"caption\") || (depth0 != null ? lookupProperty(depth0,\"caption\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"caption\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":29},\"end\":{\"line\":2,\"column\":40}}}) : helper)))\n    + \"</h3>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"active\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":3,\"column\":2},\"end\":{\"line\":7,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_filter_impl_filter', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/filter/impl/filter.search',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<input id=\\\"filtersearch\\\" class=\\\"search\\\" type=\\\"search\\\" placeholder=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"caption\") || (depth0 != null ? lookupProperty(depth0,\"caption\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"caption\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":67},\"end\":{\"line\":1,\"column\":78}}}) : helper)))\n    + \"\\\" style=\\\"display:none\\\"\\r\\n       value=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"filter\") || (depth0 != null ? lookupProperty(depth0,\"filter\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"filter\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":14},\"end\":{\"line\":2,\"column\":24}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tooltip\") || (depth0 != null ? lookupProperty(depth0,\"tooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":33},\"end\":{\"line\":2,\"column\":44}}}) : helper)))\n    + \"\\\">\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_filter_impl_filter.search', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/filter/impl/filter.clear',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"sbclearer formfield_clear\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tooltip\") || (depth0 != null ? lookupProperty(depth0,\"tooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":47},\"end\":{\"line\":1,\"column\":58}}}) : helper)))\n    + \"\\\" style=\\\"display:none\\\"></span>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_filter_impl_filter.clear', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/filter/impl/filter.searchicon',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"icon icon-search\\\" style=\\\"display: inline-block\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tooltip\") || (depth0 != null ? lookupProperty(depth0,\"tooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":68},\"end\":{\"line\":1,\"column\":79}}}) : helper)))\n    + \"\\\">\"\n    + ((stack1 = (lookupProperty(helpers,\"icon-v2\")||(depth0 && lookupProperty(depth0,\"icon-v2\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon-v2\",\"hash\":{\"size\":\"xsmall\",\"states\":\"true\",\"iconName\":\"csui_action_search32\"},\"loc\":{\"start\":{\"line\":1,\"column\":81},\"end\":{\"line\":1,\"column\":154}}})) != null ? stack1 : \"\")\n    + \"</span>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_filter_impl_filter.searchicon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/filter/impl/filter',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/filter/filter.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/team/impl/controls/filter/impl/filter.model',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/controls/filter/impl/filter',\r\n  'hbs!conws/widgets/team/impl/controls/filter/impl/filter.search',\r\n  'hbs!conws/widgets/team/impl/controls/filter/impl/filter.clear',\r\n  'hbs!conws/widgets/team/impl/controls/filter/impl/filter.searchicon',\r\n  'css!conws/widgets/team/impl/controls/filter/impl/filter'\r\n], function (_, $, Marionette, TabableRegionBehavior, LayoutViewEventsPropagationMixin, FilterModel,\r\n    lang, tplView, tplSearch, tplClear, tplIcon) {\r\n\r\n  var FilterSearch = Marionette.ItemView.extend({\r\n\r\n    template: tplSearch,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        caption: this.model.get('caption'),\r\n        filter: this.model.get('filter'),\r\n        tooltip: _.str.sformat(lang.searchPlaceholder, this.model.get('tooltip').toLowerCase())\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      search: '.search'\r\n    },\r\n\r\n    events: {\r\n      'keyup @ui.search': 'onSearchKeyUp'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function FilterSearch(options) {\r\n\r\n      // initialize filter model\r\n      if (!options.model) {\r\n        options.model = new FilterModel();\r\n      }\r\n\r\n      // apply marionette item view\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n\r\n      // listen to change of 'showSearch'\r\n      this.listenTo(this.model, 'change:showSearch', this.toggleSearch);\r\n      this.listenTo(this.model, 'change:filter', this.changeFilter);\r\n    },\r\n\r\n    onSearchKeyUp: function (e) {\r\n      e.stopPropagation();\r\n      if (e.keyCode === 27) {\r\n        // close filter\r\n        this.model.set('showSearch', !this.model.get('showSearch'));\r\n        this.triggerMethod('close');\r\n      } else {\r\n        // update filter\r\n        this.model.set('filter', this.ui.search.val());\r\n      }\r\n    },\r\n\r\n    toggleSearch: function () {\r\n      var self = this;\r\n\r\n      var show = self.model.get('showSearch');\r\n      if (show) {\r\n        // open and focus searchbox\r\n        self.ui.search.toggle('slide', {direction: 'right'}, 200, function () {\r\n          self.ui.search.prop('tabindex','0');\r\n          self.trigger('changed:focus', self);\r\n          self.ui.search.trigger('focus');\r\n        });\r\n      } else {\r\n        // clear filter and close searchbox\r\n        self.model.set('filter', '');\r\n        self.ui.search.prop('tabindex','-1');\r\n        self.ui.search.toggle('slide', {direction: 'right'}, 200);\r\n        this.triggerMethod('close');\r\n      }\r\n    },\r\n\r\n    changeFilter: function () {\r\n      // update the filter text\r\n      this.ui.search.val(this.model.get('filter'));\r\n    },\r\n\r\n    isTabable: function () {\r\n      return this.ui.search.is(':not(:disabled)') && this.ui.search.is(':not(:hidden)') &&\r\n             this.ui.search.is(':visible');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.search;\r\n    }\r\n  });\r\n\r\n  var FilterClear = Marionette.ItemView.extend({\r\n\r\n    template: tplClear,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        tooltip: lang.searchClearIconTooltip\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      clear: '.sbclearer'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.clear': 'onClearClick',\r\n      'keyup @ui.clear': 'onClearKeyUp'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function FilterClear(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      // listen to change of 'filter'\r\n      this.listenTo(this.model, 'change:filter', this.toggleClear);\r\n    },\r\n\r\n    toggleClear: function () {\r\n      var filter = this.model.get('filter');\r\n      if (_.isString(filter) && filter.length !== 0) {\r\n        // show the clear button\r\n        this.ui.clear.prop('tabindex','0');\r\n        this.ui.clear.show();\r\n\r\n      } else {\r\n        // hide the clear button\r\n        this.ui.clear.prop('tabindex','-1');\r\n        this.ui.clear.hide();\r\n      }\r\n    },\r\n\r\n    onClearClick: function (e) {\r\n      this.model.set('filter', '');\r\n      this.triggerMethod('clear');\r\n    },\r\n\r\n    onClearKeyUp: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        this.model.set('filter', '');\r\n        this.triggerMethod('clear');\r\n      }\r\n    },\r\n\r\n    isTabable: function () {\r\n      return this.ui.clear.is(':not(:disabled)') && this.ui.clear.is(':not(:hidden)') &&\r\n             this.ui.clear.is(':visible');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.clear;\r\n    }\r\n  });\r\n\r\n  var FilterIcon = Marionette.ItemView.extend({\r\n\r\n    template: tplIcon,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        tooltip: _.str.sformat(lang.searchIconTooltip, this.model.get('tooltip'))\r\n      }\r\n    },\r\n\r\n    ui: {\r\n      icon: '.icon-search'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.icon': 'onSearchIconClick',\r\n      'keydown @ui.icon': 'onSearchIconKeyDown'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function FilterIcon(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onSearchIconClick: function (e) {\r\n      this.model.set('showSearch', !this.model.get('showSearch'));\r\n    },\r\n\r\n    onSearchIconKeyDown: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        this.model.set('showSearch', !this.model.get('showSearch'));\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.icon;\r\n    }\r\n  });\r\n\r\n  var FilterView = Marionette.LayoutView.extend({\r\n\r\n    template: tplView,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        caption: this.model.get('caption'),\r\n        active: this.model.get('active')\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      label: '.searchtext',\r\n      search: '.filter-search',\r\n      clear: '.filter-clear',\r\n      icon: '.filter-icon'\r\n    },\r\n\r\n    regions: {\r\n      searchRegion: '@ui.search',\r\n      clearRegion: '@ui.clear',\r\n      iconRegion: '@ui.icon'\r\n    },\r\n\r\n    constructor: function FilterView(options) {\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n\r\n      // listen to change of 'active' and 'showSearch'\r\n      this.listenTo(this.model, 'change:active', this.render);\r\n      this.listenTo(this.model, 'change:showSearch', this.toggleLabel);\r\n      this.listenTo(this, 'updateFocus', this.updateFocus);\r\n    },\r\n\r\n    onRender: function () {\r\n      // render the filter elements if active\r\n      var active = this.model.get('active');\r\n      if (active) {\r\n        // search box\r\n        this.searchView = new FilterSearch({model: this.model});\r\n        this.searchRegion.show(this.searchView);\r\n        this.listenTo(this.searchView, 'close', this.focusIcon);\r\n        // clear button\r\n        this.clearView = new FilterClear({model: this.model});\r\n        this.clearRegion.show(this.clearView);\r\n        this.listenTo(this.clearView, 'clear', this.focusSearch);\r\n        // seach button\r\n        this.iconView = new FilterIcon({\r\n          model: this.model,\r\n          initialActivationWeight: this.options.initialActivationWeight\r\n        });\r\n        this.iconRegion.show(this.iconView);\r\n      }\r\n    },\r\n\r\n    toggleLabel: function () {\r\n      var show = this.model.get('showSearch');\r\n      if (show) {\r\n        // hide the label\r\n        this.ui.label.hide();\r\n      } else {\r\n        // show the label\r\n        this.ui.label.show();\r\n      }\r\n    },\r\n\r\n    updateFocus: function () {\r\n      var show = this.model.get('showSearch');\r\n      if (show) {\r\n        this.searchView.trigger('changed:focus', this.searchView);\r\n        this.focusSearch();\r\n      } else {\r\n        this.focusIcon();\r\n      }\r\n    },\r\n\r\n    focusSearch: function () {\r\n      // focus search\r\n      this.searchView.currentlyFocusedElement().trigger('focus');\r\n    },\r\n\r\n    focusIcon: function(){\r\n      // focus icon\r\n      this.iconView.currentlyFocusedElement().trigger('focus');\r\n    }\r\n  });\r\n\r\n  // add event propagation mixin\r\n  _.extend(FilterView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return\r\n  return FilterView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <ul>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"setRoles\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":4,\"column\":6},\"end\":{\"line\":19,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"conws-roles-remove-item\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"inherited_from_id\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"loc\":{\"start\":{\"line\":6,\"column\":10},\"end\":{\"line\":17,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"        </li>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <div class=\\\"conws-roles-edit-canedit-setitem-inherit\\\">\\r\\n              <div class=\\\"conws-roles-edit-canedit-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":64},\"end\":{\"line\":8,\"column\":72}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":74},\"end\":{\"line\":8,\"column\":82}}}) : helper)))\n    + \"</div>\\r\\n              <div class=\\\"conws-roles-edit-canedit-inherit\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"RoleInherited\") : stack1), depth0))\n    + \"</div>\\r\\n            </div>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <div class=\\\"conws-roles-edit-canedit-setitem conws-roles-edit-itemaction-remove\\\">\\r\\n              <div class=\\\"conws-roles-edit-canedit-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":13,\"column\":64},\"end\":{\"line\":13,\"column\":72}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":13,\"column\":74},\"end\":{\"line\":13,\"column\":82}}}) : helper)))\n    + \"</div>\\r\\n              <a href=\\\"#\\\" class=\\\"csui-icon inline-edit-icon binf-close\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":81},\"end\":{\"line\":14,\"column\":87}}}) : helper)))\n    + \"\\\"\\r\\n                 title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeRole\") || (depth0 != null ? lookupProperty(depth0,\"removeRole\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeRole\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":24},\"end\":{\"line\":15,\"column\":38}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeRole\") || (depth0 != null ? lookupProperty(depth0,\"removeRole\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeRole\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":52},\"end\":{\"line\":15,\"column\":66}}}) : helper)))\n    + \"\\\"></a>\\r\\n            </div>\\r\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"removeParticipant\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":22,\"column\":4},\"end\":{\"line\":32,\"column\":11}}})) != null ? stack1 : \"\");\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <div class=\\\"conws-roles-edit-canedit-empty\\\">\\r\\n        <span class=\\\"csui-icon csui-icon-notification-warning\\\"\\r\\n              title=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"RemoveParticipantWarning\") : stack1), depth0))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"RemoveParticipantWarning\") : stack1), depth0))\n    + \"\\\">\\r\\n        </span>\\r\\n        <div class=\\\"conws-roles-edit-canedit-empty-text\\\">\\r\\n          <h2>\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"RemoveParticipant1\") : stack1), depth0))\n    + \"</h2>\\r\\n          <h4>\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"RemoveParticipant2\") : stack1), depth0))\n    + \"</h4>\\r\\n        </div>\\r\\n      </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"setRoles\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(7, data, 0),\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":33,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_participants_impl_roles.edit.list.remove', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/controls/globalmessage/globalmessage' /* needed for style csui-icon-notification-warning */,\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove',\r\n], function (_, $, Marionette, Handlebars, GlobalMessage, TabableRegionBehavior, ListKeyboardBehavior,\r\n    lang, template) {\r\n\r\n  var RolesEditRemoveList = Marionette.LayoutView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-roles-edit-remove-list',\r\n\r\n    template: template,\r\n\r\n    // filter model\r\n    filterModel: {},\r\n\r\n    // constructor for the Roles remove list\r\n    constructor: function RolesEditRemoveList(options) {\r\n      options || (options = {});\r\n\r\n      // the model has to be a RolesCollection with the filterList method\r\n      this.model = options.model;\r\n      // filterModel is the FilterModel with the filter criteria\r\n      this.filterModel = options.filterModel;\r\n      //used for accessibility\r\n      this.selectedIndex = 0;\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    ui: {\r\n      item: '.conws-roles-edit-itemaction-remove a',\r\n      focusedItem: 'li'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.item': 'itemRemove',\r\n      'click @ui.focusedItem': 'itemRemove',\r\n      'keydown': 'onKeyDownExt'\r\n    },\r\n\r\n    // localized captions\r\n    captions: {\r\n      RemoveParticipant1: lang.rolesDialogRemoveParticipant1,\r\n      RemoveParticipant2: lang.rolesDialogRemoveParticipant2,\r\n      RemoveParticipantWarning: lang.rolesDialogRemoveParticipantWarning,\r\n      RoleInherited: lang.rolesNameColInherited\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    // support up/down navigation\r\n    onKeyDownExt: function (e) {\r\n      var $preElem = this.currentlyFocusedElement();\r\n\r\n      switch (e.keyCode) {\r\n      case 38: // up\r\n        this.calculateSelectedIndex();\r\n        this._moveTo(e, this._selectPrevious(), $preElem);\r\n        break;\r\n      case 40: // down\r\n        this.calculateSelectedIndex();\r\n        this._moveTo(e, this._selectNext(), $preElem);\r\n        break;\r\n      case 13:\r\n      case 32:\r\n      case 46:\r\n        this.currentlyFocusedElement().trigger('click', e);\r\n        break;\r\n      }\r\n    },\r\n\r\n    initialize: function () {\r\n      // listen on the change of the filter\r\n      this.listenTo(this.filterModel, 'change', this.render);\r\n      this.listenTo(this.filterModel, 'change:filter', function () {\r\n        // when search filter changes, reset the focus element to the first item\r\n        this.selectedIndex = 0;\r\n      });\r\n      // listen on the change of the focus\r\n      this.listenTo(this, 'updateFocus', this.updateFocus);\r\n      // listen on the model changes\r\n      this.listenTo(this.model, 'add change reset remove', this.render);\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      var data = {\r\n        removeRole: lang.rolesDialogRemoveRole,\r\n        setRoles: this.model.filterList(this.filterModel.get('filter')).toJSON(),\r\n        removeParticipant: this.model.length === 0,\r\n        captions: this.captions\r\n      };\r\n      data.setRoles = _.each(data.setRoles,function(el){\r\n        el.removeRole = data.removeRole;\r\n        el.captions = data.captions;\r\n        return el;\r\n      });\r\n      return data;\r\n    },\r\n\r\n    calculateSelectedIndex: function () {\r\n      var keywords = this.filterModel.get('filter');\r\n      if (keywords.length) {\r\n        this.totalCount = this.model.filterList(keywords).models.length;\r\n        if (this.selectedIndex !== 0 && this.selectedIndex === this.totalCount - 1) {\r\n          this.selectedIndex = this.selectedIndex - 1;\r\n        }\r\n      } else {\r\n        this.totalCount = this.model.length;\r\n      }\r\n    },\r\n\r\n    updateFocus:function(){\r\n      this.trigger('changed:focus', this);\r\n      this.currentlyFocusedElement().trigger('focus');\r\n    },\r\n\r\n    // Click on the remove button\r\n    // remove the selected item from the collection\r\n    itemRemove: function (event) {\r\n      var target = $(event.currentTarget);\r\n      var id = target.data(\"id\");\r\n\r\n      // if the remove action is called from keyboard the current element is <div> and not <a>\r\n      if( _.isUndefined(id) && target.find(this.ui.item)){\r\n        id = $(event.currentTarget).find(this.ui.item).data('id')\r\n      }\r\n\r\n      //calculate new selected index\r\n      this.calculateSelectedIndex();\r\n      // remove model\r\n      this.model.remove(id);\r\n\r\n      // don't propagate click event into name cell, because it would cause selecting the row\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n  })\r\n\r\n  return RolesEditRemoveList;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <li class=\\\"conws-roles-edit-item\\\">\\r\\n              <div>\\r\\n                <a href=\\\"#\\\" class=\\\"conws-roles-edit-itemaction-select conws-roles-edit-canedit-selectitem\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":116},\"end\":{\"line\":6,\"column\":122}}}) : helper)))\n    + \"\\\"><span title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":137},\"end\":{\"line\":6,\"column\":145}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":147},\"end\":{\"line\":6,\"column\":155}}}) : helper)))\n    + \"</span></a>\\r\\n              </div>\\r\\n            </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\r\\n    <ul>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"allRoles\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":3,\"column\":8},\"end\":{\"line\":9,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_participants_impl_roles.edit.list', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list'\r\n], function (_, $, Marionette, Handlebars, TabableRegionBehavior, ListKeyboardBehavior,\r\n    lang, template) {\r\n\r\n  var RolesEditList = Marionette.LayoutView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-roles-edit-list',\r\n\r\n    template: template,\r\n\r\n    // filter model\r\n    filterModel: {},\r\n\r\n    // constructor for the Roles list\r\n    constructor: function RolesEditList(options) {\r\n      options || (options = {});\r\n\r\n      // the model has to be a RolesCollection with the filterList method\r\n      this.model = options.model;\r\n      // filterModel is the FilterModel with the filter criteria\r\n      this.filterModel = options.filterModel;\r\n      //used for accessibility\r\n      this.selectedIndex = 0;\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    ui: {\r\n      select: 'a.conws-roles-edit-itemaction-select'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.select': 'itemSelect',\r\n      'click li': 'itemSelect',\r\n      'dragstart @ui.select': 'itemDrag',\r\n      'keydown': 'onKeyDownExt'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    // support up/down navigation\r\n    onKeyDownExt: function (e) {\r\n      var $preElem = this.currentlyFocusedElement();\r\n\r\n      switch (e.keyCode) {\r\n      case 38: // up\r\n        this.calculateSelectedIndex();\r\n        this._moveTo(e, this._selectPrevious(), $preElem);\r\n        break;\r\n      case 40: // down\r\n        this.calculateSelectedIndex();\r\n        this._moveTo(e, this._selectNext(), $preElem);\r\n        break;\r\n      case 13:\r\n      case 32:\r\n        this.currentlyFocusedElement().trigger('click', e);\r\n        break;\r\n      }\r\n    },\r\n\r\n    initialize: function () {\r\n      // listen on the change of the filter\r\n      this.listenTo(this.filterModel, 'change', this.render);\r\n      this.listenTo(this.filterModel, 'change:filter', function () {\r\n        // when search filter changes, reset the focus element to the first item\r\n        this.selectedIndex = 0;\r\n      });\r\n      // listen on the model changes\r\n      this.listenTo(this.model, 'add change reset remove', this.render);\r\n      this.listenTo(this, 'updateFocus', this.updateFocus);\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      return {\r\n        allRoles: this.model.filterList(this.filterModel.get('filter')).toJSON()\r\n      }\r\n    },\r\n\r\n    calculateSelectedIndex: function () {\r\n      var keywords = this.filterModel.get('filter');\r\n      if (keywords.length) {\r\n        this.totalCount = this.model.filterList(keywords).models.length;\r\n        if (this.selectedIndex !== 0 && this.selectedIndex === this.totalCount - 1) {\r\n          this.selectedIndex = this.selectedIndex - 1;\r\n        }\r\n      } else {\r\n        this.totalCount = this.model.length;\r\n      }\r\n    },\r\n\r\n    updateFocus:function(){\r\n      this.trigger('changed:focus', this);\r\n      this.currentlyFocusedElement().trigger('focus');\r\n    },\r\n\r\n    // Click on an item in the available list\r\n    // mark the item as selected and add it to the selected items list\r\n    itemSelect: function (event) {\r\n      var target = $(event.currentTarget);\r\n      var id = target.data(\"id\");\r\n\r\n      // if the remove action is called from keyboard the current element is <div> and not <a>\r\n      if( _.isUndefined(id) && target.find(this.ui.select).length > 0){\r\n        id = $(event.currentTarget).find(this.ui.select).data('id')\r\n      }\r\n\r\n      //calculate new selected index\r\n      this.calculateSelectedIndex();\r\n      //remove model\r\n      this.model.remove(id);\r\n\r\n      // don't propagate click event into name cell, because it would cause selecting the row\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n    },\r\n\r\n    // Prevent the drag function for the link element\r\n    itemDrag: function (event) {\r\n      return false;\r\n    }\r\n  });\r\n\r\n  return RolesEditList;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.readonly.list',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <li class=\\\"conws-roles-readonly-item\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":51},\"end\":{\"line\":4,\"column\":59}}}) : helper)))\n    + \"\\\"><span>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":67},\"end\":{\"line\":4,\"column\":75}}}) : helper)))\n    + \"</span></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }, buffer = \n  \"<div>\\r\\n  <ul>\\r\\n\";\n  stack1 = ((helper = (helper = lookupProperty(helpers,\"roles\") || (depth0 != null ? lookupProperty(depth0,\"roles\") : depth0)) != null ? helper : container.hooks.helperMissing),(options={\"name\":\"roles\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":3,\"column\":4},\"end\":{\"line\":5,\"column\":14}}}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),options) : helper));\n  if (!lookupProperty(helpers,\"roles\")) { stack1 = container.hooks.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"  </ul>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_participants_impl_roles.readonly.list', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/roles/impl/roles',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/participants/impl/roles.readonly.list.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.readonly.list',\r\n  'css!conws/widgets/team/impl/cells/roles/impl/roles'\r\n], function (_, $, Marionette, Handlebars, TabableRegionBehavior, ListKeyboardBehavior,\r\n    lang, template) {\r\n\r\n  var RolesReadOnlyList = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    // constructor for the readonly roles list\r\n    constructor: function RolesReadOnlyList(options) {\r\n\r\n      //used for accessibility\r\n      this.selectedIndex = 0;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      return {\r\n        roles: this.model.toJSON()\r\n      }\r\n    }\r\n  });\r\n\r\n  return RolesReadOnlyList;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-roles-edit-canedit\\\">\\r\\n        <div\\r\\n            class=\\\"conws-roles-edit-canedit-left conws-roles-edit-left conws-roles-edit-canedit-separator\\\">\\r\\n          <div class=\\\"conws-roles-edit-canedit-header\\\">\\r\\n            <div class=\\\"conws-roles-edit-canedit-setroles-region\\\"></div>\\r\\n          </div>\\r\\n          <div class=\\\"conws-roles-edit-canedit-content\\\">\\r\\n            <div class=\\\"conws-roles-edit-canedit-setroles-list-region\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"conws-roles-edit-canedit-right conws-roles-edit-right\\\">\\r\\n          <div class=\\\"conws-roles-edit-canedit-header\\\">\\r\\n            <div class=\\\"conws-roles-edit-canedit-allroles-region\\\"></div>\\r\\n          </div>\\r\\n          <div class=\\\"conws-roles-edit-canedit-content\\\">\\r\\n            <div class=\\\"conws-roles-edit-canedit-allroles-list-region\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-roles-edit-readonly\\\">\\r\\n        <div class=\\\"conws-roles-readonly-region\\\"></div>\\r\\n      </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"binf-modal-content\\\">\\r\\n  <div class=\\\"binf-modal-header\\\">\\r\\n    <h2 class=\\\"binf-modal-title\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":33},\"end\":{\"line\":3,\"column\":42}}}) : helper)))\n    + \"</h2>\\r\\n  </div>\\r\\n  <div class=\\\"binf-modal-body\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"canEdit\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"loc\":{\"start\":{\"line\":6,\"column\":4},\"end\":{\"line\":30,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n  <div class=\\\"conws-roles-edit-buttons-region\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_participants_impl_roles.edit', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/participants/impl/roles.edit',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/participants/roles.edit.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/controls/filter/filter.view',\r\n  'conws/widgets/team/impl/controls/filter/impl/filter.model',\r\n  'conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove.view',\r\n  'conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.view',\r\n  'conws/widgets/team/impl/dialogs/participants/impl/roles.readonly.list.view',\r\n  'conws/widgets/team/impl/controls/footer/footer.view',\r\n  'conws/widgets/team/impl/roles.model.expanded',\r\n  'conws/widgets/team/impl/participants.model',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit',\r\n  'conws/widgets/team/impl/roles.model',\r\n  'css!conws/widgets/team/impl/dialogs/participants/impl/roles.edit',\r\n  'css!conws/widgets/team/impl/cells/roles/impl/roles'\r\n], function (_, $, Backbone, Marionette, Handlebars, ModalAlert, LayoutViewEventsPropagationMixin,\r\n    TabableRegionBehavior, Filter, FilterModel, RolesRemoveList, RolesEditList, RolesReadOnlyList,\r\n    FooterView, RolesCollection, ParticipantsCollection, lang,\r\n    template, RolesModelCollection) {\r\n\r\n  var ButtonLabels = {\r\n    Close: lang.rolesDialogButtonClose,\r\n    Save: lang.rolesDialogButtonSave,\r\n    Cancel: lang.rolesDialogButtonCancel,\r\n    Reset: lang.rolesDialogButtonReset,\r\n    Remove: lang.rolesDialogButtonRemove\r\n  };\r\n\r\n  var RolesEditView = Marionette.LayoutView.extend({\r\n\r\n    // Roles count when filtering should be possible\r\n    rolesCountForFilter: 15,\r\n\r\n    // Modified flag to indicate changes\r\n    modified: false,\r\n\r\n    // temporary roles lists for the view\r\n    availableRoles: new RolesModelCollection(),\r\n    assignedRoles: new RolesModelCollection(),\r\n\r\n    // filter models to handle the reset action\r\n    filterModel1: undefined,\r\n    filterModel2: undefined,\r\n\r\n    // constructor for the RolesEdit dialog\r\n    constructor: function RolesEditView(options) {\r\n      options || (options = {});\r\n\r\n      this.teamRoles = options.roleCollection;\r\n      this.teamParticipants = options.participantCollection;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      assignedRolesHeaderRegion: '.conws-roles-edit-canedit-setroles-region',\r\n      assignedRolesListRegion: '.conws-roles-edit-canedit-setroles-list-region',\r\n      availableRolesHeaderRegion: '.conws-roles-edit-canedit-allroles-region',\r\n      availableRolesListRegion: '.conws-roles-edit-canedit-allroles-list-region',\r\n      readonlyRolesListRegion: '.conws-roles-readonly-region',\r\n      buttonsRegion: '.conws-roles-edit-buttons-region'\r\n    },\r\n\r\n    ui: {\r\n      footer: '.conws-roles-edit-buttons-region'\r\n    },\r\n\r\n    // localized captions\r\n    captions: {\r\n      AssignedRoles: lang.rolesDialogAssignedRoles,\r\n      TooltipAssignedRoles: lang.rolesDialogTooltipAssignedRoles,\r\n      AvailableRoles: lang.rolesDialogAvailableRoles,\r\n      TooltipAvailableRoles: lang.rolesDialogTooltipAvailableRoles\r\n    },\r\n\r\n    // initialize the view and prepare the model objects\r\n    initialize: function () {\r\n\r\n      if (_.isUndefined(this.model)) {\r\n        return;\r\n      }\r\n\r\n      // create a new collection for the dialog\r\n      this.assignedRoles.reset(this.model.roles.models);\r\n\r\n      // create a new collection with all roles for the dialog\r\n      var tmp = this.model.collection.availableRoles.clone();\r\n      // reduce the all roles list to the not to this user assigned list\r\n      tmp.remove(this.assignedRoles.models);\r\n\r\n      // remove all inherited roles from the available list\r\n      var notInheritedRoles = tmp.filter(function (m) {\r\n        var id = m.get('inherited_from_id');\r\n        return _.isUndefined(id) || _.isNull(id);\r\n      });\r\n\r\n      // reset the availableRoles list\r\n      this.availableRoles.reset(notInheritedRoles);\r\n\r\n      if (!_.isUndefined(this.filterModel1)) {\r\n        this.filterModel1.set('resetFilter', true);\r\n      }\r\n\r\n      if (!_.isUndefined(this.filterModel2)) {\r\n        this.filterModel2.set('resetFilter', true);\r\n      }\r\n\r\n      // no changes are made on the data\r\n      this.modified = false;\r\n\r\n      // prepare the states for the button bar\r\n      this.setDialogState();\r\n\r\n      // setup the listener for changing the lists\r\n      this.listenTo(this.assignedRoles, 'remove', this.removeAssignedRole);\r\n      this.listenTo(this.availableRoles, 'remove', this.addAvailableRole);\r\n    },\r\n\r\n    // remove an assigned role\r\n    // the role is removed in the list view, now add it to the available list and update the dialog state\r\n    removeAssignedRole: function (model) {\r\n      var r = model;\r\n      this.availableRoles.add(r);\r\n\r\n      // changes are made on the data\r\n      this.modified = true;\r\n\r\n      this.setDialogState();\r\n\r\n      // set automatically focus to next region\r\n      if (this.assignedRoles.length === 0) {\r\n        this.filterModel2.get('active') ?\r\n        this.availableRolesHeaderRegion.currentView.trigger('updateFocus') :\r\n        this.availableRolesListRegion.currentView.trigger('updateFocus');\r\n      } else if (this.assignedRolesListRegion.currentView.totalCount - 1 === 0 &&\r\n                 this.filterModel1.get('active')) {\r\n        this.assignedRolesHeaderRegion.currentView.trigger('updateFocus');\r\n      }\r\n    },\r\n\r\n    // add an available role\r\n    // the role is removed in the list view, now add it to the assigned list and update the dialog state\r\n    addAvailableRole: function (model) {\r\n      var r = model;\r\n      this.assignedRoles.add(r);\r\n\r\n      // changes are made on the data\r\n      this.modified = true;\r\n\r\n      this.setDialogState();\r\n\r\n      // set automatically focus to previous region\r\n      if (this.availableRoles.length === 0) {\r\n        this.filterModel1.get('active') ?\r\n        this.assignedRolesHeaderRegion.currentView.trigger('updateFocus') :\r\n        this.assignedRolesListRegion.currentView.trigger('updateFocus');\r\n      } else if (this.availableRolesListRegion.currentView.totalCount - 1 === 0 &&\r\n                 this.filterModel2.get('active')) {\r\n        this.availableRolesHeaderRegion.currentView.trigger('updateFocus');\r\n      }\r\n    },\r\n\r\n    // this method sets the state for the dialog\r\n    setDialogState: function () {\r\n      //enable or disable the filter if no selection functions depending on the list length\r\n      if (!_.isUndefined(this.filterModel1) && _.isEmpty(this.filterModel1.get('filter'))) {\r\n        this.filterModel1.set('active', this.assignedRoles.length >= this.rolesCountForFilter);\r\n      }\r\n      if (!_.isUndefined(this.filterModel2) && _.isEmpty(this.filterModel2.get('filter'))) {\r\n        this.filterModel2.set('active', this.availableRoles.length >= this.rolesCountForFilter);\r\n      }\r\n      if (!_.isUndefined(this.editRolesButtons)) {\r\n        this.editRolesButtons.collection.findWhere({id: 'submit'}).set({disabled: !this.modified});\r\n        this.assignedRoles.length > 0 ?\r\n        this.editRolesButtons.collection.findWhere({id: 'submit'}).set({label: ButtonLabels.Save}) :\r\n        this.editRolesButtons.collection.findWhere({id: 'submit'}).set({label: ButtonLabels.Remove});\r\n      }\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      var self = this;\r\n      // get roles and create a caption name out of it\r\n      var titleTemplate = lang.userRolesDialogTitle;\r\n      if (this.model.getMemberType() === 'group') {\r\n        titleTemplate = lang.groupRolesDialogTitle;\r\n      }\r\n      var value = _.str.sformat(titleTemplate, this.model.get('display_name'));\r\n\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        title: value,\r\n        canEdit: this.model.canEdit()\r\n      };\r\n    },\r\n\r\n    // Update the scrollbars for the roles list, if the list has changed.\r\n    updateScrollbar: function () {\r\n      // scroll to top as the function is\r\n      // called from within 'onShown'.\r\n      var sc1 = this.$el.find('.binf-modal-body .conws-roles-edit-readonly');\r\n      _.each(sc1, function (sc) {\r\n        $(sc).perfectScrollbar('update');\r\n      })\r\n\r\n      var sc2 = this.$el.find('.conws-roles-edit-canedit-content');\r\n      _.each(sc2, function (sc) {\r\n        $(sc).perfectScrollbar('update');\r\n      })\r\n    },\r\n\r\n    // show the dialog\r\n    // enable the scrollbars for the different lists, the scrollbars maintained here because of event issues with the regions\r\n    onAfterShow: function () {\r\n      // initialize scrollbar\r\n      this.$el.find('.binf-modal-body .conws-roles-edit-readonly').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n      // initialize scrollbar\r\n      this.$el.find('.conws-roles-edit-canedit-content').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n      // update scrollbars\r\n      this.updateScrollbar();\r\n\r\n    },\r\n\r\n    // The view is rendered whenever the model changes.\r\n    onRender: function () {\r\n      // render widget if the dialog is opened in the edit mode\r\n      if (this.model.canEdit()) {\r\n        // list with all set roles\r\n        this.filterModel1 = new FilterModel({\r\n          caption: this.captions.AssignedRoles,\r\n          tooltip: this.captions.TooltipAssignedRoles,\r\n          active: (this.assignedRoles.length >= this.rolesCountForFilter)\r\n        });\r\n        this.assignedRolesHeaderRegion.show(new Filter({\r\n          model: this.filterModel1,\r\n          initialActivationWeight: this.assignedRoles.length >= this.rolesCountForFilter ? 100 : 0\r\n        }));\r\n        this.assignedRolesListRegion.show(new RolesRemoveList({\r\n          model: this.assignedRoles,\r\n          filterModel: this.filterModel1,\r\n          initialActivationWeight: this.assignedRoles.length > 0 ? 100 : 0\r\n        }));\r\n        this.listenTo(this.assignedRolesListRegion.currentView, 'dom:refresh',\r\n            this.updateScrollbar);\r\n\r\n        // list with filter header and all available roles\r\n        this.filterModel2 = new FilterModel({\r\n          caption: this.captions.AvailableRoles,\r\n          tooltip: this.captions.TooltipAvailableRoles,\r\n          active: (this.availableRoles.length >= this.rolesCountForFilter)\r\n        });\r\n        this.availableRolesHeaderRegion.show(new Filter({model: this.filterModel2}));\r\n        this.availableRolesListRegion.show(new RolesEditList({\r\n          model: this.availableRoles,\r\n          filterModel: this.filterModel2\r\n        }));\r\n        this.listenTo(this.availableRolesListRegion.currentView, 'dom:refresh',\r\n            this.updateScrollbar);\r\n      } else {\r\n        this.readonlyRolesListRegion.show(new RolesReadOnlyList({\r\n          model: this.model.roles,\r\n          initialActivationWeight: this.model.roles.length > 0 ? 100 : 0\r\n        }));\r\n      }\r\n\r\n      //render footer\r\n      this._renderFooter();\r\n\r\n    },\r\n\r\n    // Click on the save button\r\n    saveClicked: function () {\r\n      var self = this;\r\n      //Get the actual Participantslist of Server - then verify if the roles of this\r\n      // User are still the same as before, only when they are the same - save will be done\r\n      var actServerParticipants = new ParticipantsCollection(undefined, {\r\n        connector: self.model.collection.connector,\r\n        node: self.model.collection.node,\r\n        context: self.model.collection.workspaceContext,\r\n        autoreset: true\r\n      });\r\n      actServerParticipants.fetch({\r\n        success: function (ParticpantsCol) {\r\n          var actParticipant = ParticpantsCol.find(function (participantfind) {\r\n            return (participantfind.get('id') === self.model.get('id'));\r\n          });\r\n          var dataChanged;\r\n          //the participant might not be in the collection anymore at all and\r\n          //check wether the user has still the same number of roles as before\r\n          if ((actParticipant) && (actParticipant.roles.length === self.model.roles.length)) {\r\n            dataChanged = false;\r\n            actParticipant.roles.each(function (role) {\r\n              var id = role.id;\r\n              //every role from the server is checked against the server roles from before\r\n              var found = self.model.roles.find(function (role2) {\r\n                return (role2.id === id);\r\n              });\r\n              if (!found) {\r\n                dataChanged = true;\r\n              }\r\n            })\r\n          }\r\n          if (dataChanged === false) {\r\n            //save data from the dialog\r\n            self.saveRolesForUser();\r\n          }\r\n          else {\r\n            //show an alert with the message that the data was changed\r\n            var message = lang.rolesEditDialogDataNotUptoDateUser;\r\n            if (self.model.getMemberType() === 'group') {\r\n              message = lang.rolesEditDialogDataNotUptoDateGroup;\r\n            }\r\n            ModalAlert.showError(message, self.getErrorMessageTitle()).always(\r\n                function (result) {\r\n                  self.refreshAfterSave();\r\n                });\r\n          }\r\n        }\r\n      });\r\n\r\n    },\r\n\r\n    // Collect the changes and send them to the model\r\n    saveRolesForUser: function () {\r\n      var self = this;\r\n      var removed = [];\r\n      this.model.roles.each(function (role) {\r\n        var id = role.id;\r\n        //the assignedRoles list is the one on the dialog and the this.model.roles is the original assigned roles\r\n        //the original assigned roles are checked against the actual list and whatever isn't\r\n        // found anymore will be deleted\r\n        var found = self.assignedRoles.find(function (role2) {\r\n          return (role2.id === id);\r\n        });\r\n\r\n        if (!found) {\r\n          removed.push(role);\r\n        }\r\n      });\r\n\r\n      var added = [];\r\n      // for every item role on the dialog is now checked if they are in the original list\r\n      // if not it will be added\r\n      this.assignedRoles.each(function (role) {\r\n        var id = role.id;\r\n\r\n        var found = self.model.roles.find(function (role2) {\r\n          return (role2.id === id);\r\n        });\r\n\r\n        if (!found) {\r\n          added.push(role);\r\n        }\r\n      });\r\n\r\n      this.model.save({add: added, remove: removed}, {\r\n        success: function (response) {\r\n          self.refreshAfterSave();\r\n        },\r\n        error: function (response) {\r\n\r\n          // show an alert with the error messages\r\n          // prepare the message\r\n          var message = '';\r\n          if (response.successAdd.length > 0) {\r\n            var rolesAdded = lang.rolesEditDialogSuccessfulAdded;\r\n            _.each(response.successAdd, function (role) {\r\n              rolesAdded = rolesAdded + '\\n' + role.role.get('name');\r\n            });\r\n\r\n            message = rolesAdded;\r\n          }\r\n\r\n          if (response.errorAdd.length > 0) {\r\n            var rolesNotAdded = lang.rolesEditDialogNotAdded;\r\n            _.each(response.errorAdd, function (role) {\r\n              rolesNotAdded = rolesNotAdded + '\\n' + role.role.get('name');\r\n            });\r\n\r\n            if (message.length > 0) {\r\n              message += '\\n';\r\n            }\r\n\r\n            message = message + rolesNotAdded;\r\n          }\r\n\r\n          if (response.successRemove.length > 0) {\r\n            var rolesRemoved = lang.rolesEditDialogSuccessfulRemoved;\r\n            _.each(response.successRemove, function (role) {\r\n              rolesRemoved = rolesRemoved + '\\n' + role.role.get('name');\r\n            });\r\n\r\n            if (message.length > 0) {\r\n              message += '\\n';\r\n            }\r\n\r\n            message = message + rolesRemoved;\r\n          }\r\n\r\n          if (response.errorRemove.length > 0) {\r\n            var rolesNotRemoved = lang.rolesEditDialogNotRemoved;\r\n            _.each(response.errorRemove, function (role) {\r\n              rolesNotRemoved = rolesNotRemoved + '\\n' + role.role.get('name');\r\n            });\r\n\r\n            if (message.length > 0) {\r\n              message += '\\n';\r\n            }\r\n\r\n            message = message + rolesNotRemoved;\r\n          }\r\n\r\n          ModalAlert.showError(message, self.getErrorMessageTitle()).always(function (result) {\r\n            self.refreshAfterSave();\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    //prepare header for message\r\n    getErrorMessageTitle: function () {\r\n      var titleTemplate = lang.rolesEditDialogErrorTitleUser;\r\n      if (this.model.getMemberType() === 'group') {\r\n        titleTemplate = lang.rolesEditDialogErrorTitleGroup;\r\n      }\r\n      var title = _.str.sformat(titleTemplate,\r\n          this.model.get('display_name') ? this.model.get('display_name') :\r\n          this.model.get('name'));\r\n      return title;\r\n    },\r\n\r\n    refreshAfterSave: function () {\r\n      var self = this;\r\n\r\n      function afterRolesFetch() {\r\n        // send event as late as possible, so caller can do something after dialog has been closed\r\n        // see roles.view cell for a usage.\r\n        self.trigger('refetched');\r\n      }\r\n\r\n      function afterFetch() {\r\n        // trigger save event to signal the save of the collection\r\n        self.teamParticipants.trigger('saved', self.teamParticipants);\r\n        // refresh the roles collection\r\n        self.teamRoles.fetch().then(afterRolesFetch,afterRolesFetch);\r\n      }\r\n\r\n      // refresh the participant collection\r\n      this.teamParticipants.fetch({\r\n        success: function () {\r\n          self.teamParticipants.setNewParticipant();\r\n        }\r\n      }).then(afterFetch,afterFetch);\r\n    },\r\n\r\n    // Click on the reset button\r\n    // Re-render the view parts via the change of the models\r\n    resetClicked: function () {\r\n\r\n      // reset the current changes\r\n      this.initialize();\r\n\r\n    },\r\n\r\n    _renderFooter: function(){\r\n      var editRolesButtons = this.editRolesButtons;\r\n      //add buttons\r\n      if (editRolesButtons) {\r\n        this.ui.footer.removeClass('binf-hidden');\r\n        this.buttonsRegion.show(editRolesButtons);\r\n      } else {\r\n        var buttons = [];\r\n        if (this.model.canEdit()) {\r\n          buttons = [{\r\n            id: 'reset',\r\n            label: ButtonLabels.Reset,\r\n            css: 'conws-roles-edit-button binf-pull-left conws-roles-edit-button-reset',\r\n            click: _.bind(this.resetClicked, this)\r\n          }, {\r\n            id: 'submit',\r\n            label: ButtonLabels.Save,\r\n            css:'conws-roles-edit-button conws-roles-edit-button-save',\r\n            click: _.bind(this.saveClicked, this),\r\n            disabled: true,\r\n            close: true\r\n          }, {\r\n            id: 'cancel',\r\n            label: ButtonLabels.Cancel,\r\n            css:'conws-roles-edit-button conws-roles-edit-button-cancel',\r\n            close: true\r\n          }\r\n          ];\r\n        } else {\r\n          buttons = [{\r\n            id: 'cancel',\r\n            label: ButtonLabels.Close,\r\n            css:'conws-roles-edit-button binf-pull-right',\r\n            close: true,\r\n            initialActivationWeight: 100\r\n          }];\r\n        }\r\n\r\n       editRolesButtons = this.editRolesButtons = new FooterView({\r\n          collection: new Backbone.Collection(buttons)\r\n        });\r\n       this.buttonsRegion.show(editRolesButtons);\r\n      }\r\n    }\r\n  });\r\n\r\n  _.extend(RolesEditView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return RolesEditView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/role/impl/role.details.member',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <span class=\\\"member-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"displayName\") || (depth0 != null ? lookupProperty(depth0,\"displayName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"displayName\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":39},\"end\":{\"line\":5,\"column\":54}}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <span class=\\\"member-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"displayName\") || (depth0 != null ? lookupProperty(depth0,\"displayName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"displayName\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":39},\"end\":{\"line\":7,\"column\":54}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"displayName\") || (depth0 != null ? lookupProperty(depth0,\"displayName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"displayName\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":56},\"end\":{\"line\":7,\"column\":71}}}) : helper)))\n    + \"</span>\\r\\n      <a class=\\\"member-email\\\" href=\\\"mailto:\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"email\") || (depth0 != null ? lookupProperty(depth0,\"email\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"email\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":43},\"end\":{\"line\":8,\"column\":52}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"email\") || (depth0 != null ? lookupProperty(depth0,\"email\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"email\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":54},\"end\":{\"line\":8,\"column\":63}}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\r\\n  <div class=\\\"conws-role-details-avatar\\\"></div>\\r\\n  <div class=\\\"member-details\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isUser\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":9,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_role_impl_role.details.member', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/role/impl/role.details.member',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/role/impl/role.details.member.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/utils/url',\r\n  'csui/utils/base',\r\n  'csui/utils/contexts/factories/user',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/role/impl/role.details.member',\r\n  'css!conws/widgets/team/impl/dialogs/role/impl/role.details.member'\r\n], function (_, $, Marionette, Handlebars, Url, Base, UserModelFactory, Avatar, UserWidget, lang,\r\n    template) {\r\n\r\n  var RoleDetailsMember = Marionette.ItemView.extend({\r\n\r\n    template: template,\r\n\r\n    tagName: 'li',\r\n\r\n    className: 'conws-role-details-member',\r\n\r\n    region: {\r\n      avatar: '.conws-role-details-avatar'\r\n    },\r\n\r\n    ui: {\r\n      userProfileName: '.member-name',\r\n      userProfileImg: '.conws-role-details-avatar'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown',\r\n      'touchstart @ui.userProfileName': 'onTouchProfileName'\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.$('.esoc-user-profile-link').trigger('click');\r\n      }\r\n    },\r\n\r\n    onTouchProfileName: function (e) {\r\n      this.$('.esoc-user-profile-link').trigger('click');\r\n    },\r\n\r\n    // constructor for the Roles list\r\n    constructor: function RoleDetailsMember(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    initialize: function () {\r\n      this.avatar = new Avatar({model: this.model});\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n        var loggedUser            = this.model.collection.context.getModel(UserModelFactory),\r\n            defaultOptions        = {\r\n              connector: this.model.connector,\r\n              model: this.model,\r\n              userid: this.model.get('id'),\r\n              context: this.model.collection.context,\r\n              showUserProfileLink: true,\r\n              showMiniProfile: Base.isTouchBrowser() ? false : true,\r\n              loggedUserId: loggedUser.get('id')\r\n            },\r\n            userProfilePicOptions = $.extend({\r\n              placeholder: this.$el.find(this.ui.userProfileImg),\r\n              showUserWidgetFor: 'profilepic'\r\n            }, defaultOptions);\r\n        UserWidget.getUser(userProfilePicOptions);\r\n\r\n        var userWidgetOptions = $.extend({\r\n          placeholder: this.$el.find(this.ui.userProfileName)\r\n        }, defaultOptions);\r\n        UserWidget.getUser(userWidgetOptions);\r\n      }\r\n      else {\r\n        this.$('.conws-role-details-avatar').append(this.avatar.render().$el);\r\n      }\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      var self = this;\r\n\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        displayName: this.model.displayName(),\r\n        email: this.model.displayEmail(),\r\n        isUser: this.model.get('type') === 0\r\n      };\r\n    }\r\n  });\r\n\r\n  return RoleDetailsMember;\r\n});\r\n\n","csui.define('conws/widgets/team/impl/dialogs/role/impl/role.details.members.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'conws/widgets/team/impl/dialogs/role/impl/role.details.member.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (_, $, Marionette, Handlebars, TabableRegionBehavior, ListKeyboardBehavior, MemberView,\r\n    lang) {\r\n\r\n  var RoleDetailsMembersList = Marionette.CollectionView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-role-details-members-list',\r\n\r\n    // child views for the list\r\n    childView: MemberView,\r\n\r\n    // view tag\r\n    tagName: 'ul',\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    // view behaviors\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    // filter model\r\n    filterModel: {},\r\n\r\n    // constructor for the Roles list\r\n    constructor: function RoleDetailsMembersList(options) {\r\n      options || (options = {});\r\n\r\n      // the model has to be a RolesCollection with the filterList method\r\n      this.collection = options.model;\r\n      // filterModel is the FilterModel with the filter criteria\r\n      this.filterModel = options.filterModel;\r\n\r\n      // apply properties to parent\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    initialize: function () {\r\n      // listen on the change of the filter\r\n      this.listenTo(this.filterModel, 'change', this.render);\r\n      this.listenTo(this.filterModel, 'change:filter', function () {\r\n        // when search filter changes, reset the focus element to the first item\r\n        this.selectedIndex = 0;\r\n      });\r\n    },\r\n\r\n    addChild: function (child, ChildView, index) {\r\n      if (!_.isUndefined(this.filterModel)) {\r\n        var filter = this.filterModel.get('filter');\r\n        if (!_.isUndefined(filter) && filter.length > 0) {\r\n          var name = child.displayName().toLowerCase();\r\n          if (name.indexOf(filter.toLowerCase()) < 0) {\r\n            return; // do not render this item\r\n          }\r\n        }\r\n      }\r\n      // no filter or filter does match render the item\r\n      Marionette.CollectionView.prototype.addChild.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  return RoleDetailsMembersList;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/role/impl/role.details',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <div class=\\\"conws-role-details-rolename-text\\\">\\r\\n                            <div class=\\\"general-text\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"model\") : depth0)) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \"</div>\\r\\n                        </div>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <input type=\\\"text\\\" value=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"model\") : depth0)) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \"\\\" />\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <div class=\\\"conws-role-details-roledescription-text\\\">\\r\\n                            <div class=\\\"general-text\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"model\") : depth0)) != null ? lookupProperty(stack1,\"description\") : stack1), depth0))\n    + \"</div>\\r\\n                        </div>\\r\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <textarea rows=\\\"8\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"model\") : depth0)) != null ? lookupProperty(stack1,\"description\") : stack1), depth0))\n    + \"</textarea>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <div class=\\\"conws-role-details-rolepermissions\\\">\\r\\n                        <h3>\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"Permissions\") : stack1), depth0))\n    + \"</h3>\\r\\n                        <div class=\\\"conws-role-details-permissions\\\">\\r\\n                            <div class=\\\"conws-role-details-teamlead-caption general-text\\\" id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"labelId\") || (depth0 != null ? lookupProperty(depth0,\"labelId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"labelId\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":94},\"end\":{\"line\":32,\"column\":105}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"TeamLead\") : stack1), depth0))\n    + \"</div>\\r\\n                            <div class=\\\"conws-role-details-teamlead-switch\\\"></div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"binf-modal-content\\\">\\r\\n    <div class=\\\"binf-modal-header\\\">\\r\\n        <h2 class=\\\"binf-modal-title\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"Title\") : stack1), depth0))\n    + \"</h2>\\r\\n    </div>\\r\\n    <div class=\\\"binf-modal-body\\\">\\r\\n        <div class=\\\"conws-role-details-canedit\\\">\\r\\n            <div class=\\\"conws-role-details-canedit-left conws-role-details-left conws-role-details-canedit-separator\\\">\\r\\n                <div class=\\\"conws-role-details-rolename\\\">\\r\\n                    <h3>\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"RoleName\") : stack1), depth0))\n    + \"</h3>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"readonly\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"loc\":{\"start\":{\"line\":10,\"column\":20},\"end\":{\"line\":16,\"column\":27}}})) != null ? stack1 : \"\")\n    + \"                </div>\\r\\n                <div class=\\\"conws-role-details-roledescription\\\">\\r\\n                    <h3>\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"captions\") : depth0)) != null ? lookupProperty(stack1,\"Description\") : stack1), depth0))\n    + \"</h3>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"readonly\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"loc\":{\"start\":{\"line\":20,\"column\":20},\"end\":{\"line\":26,\"column\":27}}})) != null ? stack1 : \"\")\n    + \"                </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hideTeamLead\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":28,\"column\":16},\"end\":{\"line\":36,\"column\":27}}})) != null ? stack1 : \"\")\n    + \"            </div>\\r\\n            <div class=\\\"conws-role-details-canedit-right conws-role-details-right\\\">\\r\\n                <div class=\\\"conws-role-details-header\\\">\\r\\n                    <div class=\\\"conws-role-details-participants-region\\\"></div>\\r\\n                </div>\\r\\n                <div class=\\\"conws-role-details-canedit-content\\\">\\r\\n                    <div class=\\\"conws-role-details-participants-list-region\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"conws-role-details-buttons-region\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_role_impl_role.details', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/role/impl/role.details',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/role/role.details.view',[\r\n  'module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/controls/form/fields/booleanfield.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/team/impl/controls/filter/filter.view',\r\n  'conws/widgets/team/impl/controls/filter/impl/filter.model',\r\n  'conws/widgets/team/impl/controls/footer/footer.view',\r\n  'conws/widgets/team/impl/dialogs/role/impl/role.details.members.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/role/impl/role.details',\r\n  'css!conws/widgets/team/impl/dialogs/role/impl/role.details'\r\n], function (module, _, $, Backbone, Marionette, Handlebars, Checkbox, LayoutViewEventsPropagationMixin,\r\n             Filter, FilterModel, FooterView, RoleDetailsMembers, lang, template) {\r\n\r\n  // CWS-3063: Get module config for hide team lead setting\r\n  var config = module.config();\r\n\r\n  var RoleDetailsView = Marionette.LayoutView.extend({\r\n\r\n    // Roles count when filtering should be possible\r\n    rolesCountForFilter: 15,\r\n\r\n    // filter models to handle the reset action\r\n    filterModel: undefined,\r\n\r\n    // constructor for the RolesEdit dialog\r\n    constructor: function RoleDetailsView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n\r\n      $(window).on('resize', _.bind(this.onWindowResize, this));\r\n    },\r\n\r\n    onWindowResize: function () {\r\n      // update scrollbar\r\n      this.updateScrollbar();\r\n    },\r\n\r\n    template: template,\r\n\r\n    // localized captions\r\n    captions: {\r\n      Title: lang.roleDetailsTitle,\r\n      RoleName: lang.roleDetailsName,\r\n      Participants: lang.rolesParticipantsColTitle,\r\n      RolesParticipantsColTooltip: lang.rolesParticipantsColTooltip,\r\n      Description: lang.roleDetailsDescription,\r\n      Permissions: lang.roleDetailsPermissions,\r\n      TeamLead: lang.rolesNameColTeamLead,\r\n      Read: lang.roleDetailsRead,\r\n      Write: lang.roleDetailsWrite,\r\n      Manage: lang.roleDetailsManage,\r\n      Advanced: lang.roleDetailsAdvanced,\r\n    },\r\n\r\n    regions: {\r\n      participantsHeaderRegion: '.conws-role-details-participants-region',\r\n      participantsListRegion: '.conws-role-details-participants-list-region',\r\n      teamLeadSwitch: '.conws-role-details-teamlead-switch',\r\n      buttonsRegion: '.conws-role-details-buttons-region'\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      var self = this;\r\n\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        labelId: _.uniqueId(\"conws-teamlead-\"),\r\n        hideTeamLead: config.hideTeamLead,\r\n        readonly: true,\r\n        captions: this.captions,\r\n        model: this.model.toJSON()\r\n      };\r\n    },\r\n\r\n    // the modal dialog view triggers the 'after:show' event and therefore the views\r\n    // event callback 'onAfterShow' is executed.\r\n    onAfterShow: function () {\r\n      this.$el.find('.conws-role-details-canedit-content').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n\r\n      this.$el.find('.conws-role-details-canedit-left').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 5\r\n      });\r\n\r\n      this.$el.find('.conws-roles-edit-canedit-content').perfectScrollbar('update');\r\n\r\n      this.$el.find('.conws-role-details-rolename-text').perfectScrollbar({\r\n        scrollXMarginOffset: 15, // like bottom padding of container, otherwise scrollbar is shown always\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n\r\n      this.$el.find('.conws-role-details-rolename-text').scrollTop(0);\r\n      this.$el.find('.conws-role-details-rolename-text').scrollLeft(0);\r\n      this.$el.find('.conws-role-details-rolename-text').perfectScrollbar('update');\r\n\r\n      this.$el.find('.conws-role-details-roledescription-text').perfectScrollbar({\r\n        scrollXMarginOffset: 15, // like bottom padding of container, otherwise scrollbar is shown always\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n      this.$el.find('.conws-role-details-roledescription-text').scrollTop(0);\r\n      this.$el.find('.conws-role-details-roledescription-text').scrollLeft(0);\r\n      this.$el.find('.conws-role-details-roledescription-text').perfectScrollbar('update');\r\n    },\r\n\r\n    // The view is rendered whenever the model changes.\r\n    onRender: function () {\r\n      // list with filter header and all participants\r\n      this.filterModel = new FilterModel({\r\n        caption: this.captions.Participants,\r\n        tooltip: this.captions.RolesParticipantsColTooltip,\r\n        active: (this.model.members.length >= this.rolesCountForFilter)\r\n      });\r\n      this.participantsHeaderRegion.show(new Filter({\r\n        model: this.filterModel,\r\n        initialActivationWeight: this.model.members.length >= this.rolesCountForFilter ? 100 : 0\r\n      }));\r\n\r\n      // create the members list and listen to the 'dom:refresh' event to\r\n      // update the scrollbars.\r\n      this.participantsListRegion.show(new RoleDetailsMembers({\r\n        model: this.model.members,\r\n        filterModel: this.filterModel,\r\n        initialActivationWeight: this.model.members.length > 0 ? 100 : 0\r\n      }));\r\n      this.listenTo(this.participantsListRegion.currentView, 'dom:refresh', this.updateScrollbar);\r\n\r\n      // create the checkbox\r\n\r\n      // CWS-3063: Use module config for hide team lead setting\r\n      if (!config.hideTeamLead) {\r\n        this.teamLeadSwitch.show(new Checkbox({\r\n          model: new Backbone.Model({\r\n            data: this.model.get('leader'),\r\n            caption: this.captions.TeamLead\r\n          }),\r\n          labelId: this.$(\".conws-role-details-teamlead-caption\").attr(\"id\"),\r\n          mode: 'readonly'\r\n        }));\r\n      }\r\n\r\n      // button bar, with the model to react on the changes\r\n      this.buttonsRegion.show(new FooterView({\r\n        collection: new Backbone.Collection([{\r\n          id: 'cancel',\r\n          label: lang.rolesDialogButtonClose,\r\n          css: 'conws-roles-edit-button pull-right',\r\n          close: true\r\n        }])\r\n      }));\r\n    },\r\n\r\n    // Update the scrollbars for the roles list, if the list has changed.\r\n    updateScrollbar: function () {\r\n      var sc1 = this.$el.find('.conws-role-details-canedit-content');\r\n      _.each(sc1, function (sc) {\r\n        $(sc).scrollTop(0);\r\n        $(sc).perfectScrollbar('update');\r\n      })\r\n\r\n      var roleDetailsLeftPane = this.$el.find('.conws-role-details-canedit-left');\r\n      if(roleDetailsLeftPane && roleDetailsLeftPane.length){\r\n        roleDetailsLeftPane.scrollTop(0);\r\n        roleDetailsLeftPane.perfectScrollbar('update');\r\n      }\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(RoleDetailsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return dialog\r\n  return RoleDetailsView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/team.tablinks',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tabName\") || (depth0 != null ? lookupProperty(depth0,\"tabName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tabName\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":1,\"column\":11}}}) : helper)))\n    + \"\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_team.tablinks', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/team',[],function(){});\n","csui.define('conws/widgets/team/impl/team.tablinks.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/team.tablinks',\r\n  'css!conws/widgets/team/impl/team'\r\n], function (_, $, Marionette, TabableRegionBehavior, lang, template) {\r\n\r\n  'use strict';\r\n\r\n\r\n  var TeamTabView = Marionette.LayoutView.extend({\r\n\r\n    tagName:'a',\r\n\r\n    attributes: {\r\n      'role': 'tab',\r\n      'aria-selected': false,\r\n      'data-binf-toggle': 'tab'\r\n    },\r\n\r\n    template: template,\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior,\r\n        initialActivationWeight: 200\r\n      }\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      switch (e.keyCode) {\r\n      case 13:\r\n      case 32:\r\n        $(e.target).trigger('click');\r\n        break;\r\n      }\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        tabName: this.data.attributes.aria === 'participants' ? lang.rolesParticipantsColTitle : lang.participantRolesColTitle\r\n      };\r\n    },\r\n\r\n    initialize: function(){\r\n      this.listenTo(this,'dom:refresh',this.updateAttributes);\r\n    },\r\n\r\n    updateAttributes: function(){\r\n      this.$el.attr({'href': this.data.attributes.href, 'aria-controls': this.data.attributes['aria-controls']});\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.$el;\r\n    },\r\n\r\n    constructor: function TeamTabView(options, attributes) {\r\n      this.data = attributes;\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    }\r\n  });\r\n\r\n  return TeamTabView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/teamtables',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-teamtables\\\">\\r\\n    <div class=\\\"teamtables-tabs\\\">\\r\\n        <!-- Nav tabs -->\\r\\n        <ul class=\\\"binf-nav binf-nav-tabs binf-pull-right\\\" role=\\\"tablist\\\">\\r\\n          <li role=\\\"presentation\\\" id=\\\"tabParticipants\\\"></li>\\r\\n          <li role=\\\"presentation\\\" id=\\\"tabRoles\\\"></li>\\r\\n        </ul>\\r\\n    </div>\\r\\n    <!-- Tab panes -->\\r\\n    <div class=\\\"teamtables-content\\\">\\r\\n        <div class=\\\"binf-tab-content\\\">\\r\\n            <div role=\\\"tabpanel\\\" class=\\\"binf-tab-pane binf-fade\\\" id=\\\"participantstab\\\">\\r\\n                <div id=\\\"participantstoolbar\\\"></div>\\r\\n                <div id=\\\"participantsview\\\"></div>\\r\\n            </div>\\r\\n            <div role=\\\"tabpanel\\\" class=\\\"binf-tab-pane binf-fade\\\" id=\\\"rolestab\\\">\\r\\n                <div id=\\\"rolestoolbar\\\"></div>\\r\\n                <div id=\\\"rolesview\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_teamtables', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/avatar/impl/avatar',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<span id=\\\"status-indicator-inherited\\\" class=\\\"status-indicator\\\"></span>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":4,\"column\":2},\"end\":{\"line\":7,\"column\":9}}})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <span id=\\\"status-indicator-new\\\" class=\\\"status-indicator\\\"\\r\\n          title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"participantStatus\") || (depth0 != null ? lookupProperty(depth0,\"participantStatus\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"participantStatus\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":17},\"end\":{\"line\":6,\"column\":38}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"participantStatus\") || (depth0 != null ? lookupProperty(depth0,\"participantStatus\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"participantStatus\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":52},\"end\":{\"line\":6,\"column\":73}}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"inherited\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":8,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div class=\\\"conws-avatar\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_avatar_impl_avatar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/avatar/impl/avatar',[],function(){});\n","csui.define('conws/widgets/team/impl/cells/avatar/avatar.view',[\r\n  'csui/utils/url',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'csui/utils/contexts/factories/user',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'conws/widgets/team/impl/roles.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/avatar/impl/avatar',\r\n  'css!conws/widgets/team/impl/cells/avatar/impl/avatar'\r\n], function (Url, TemplatedCellView, cellViewRegistry, UserModelFactory, UserWidget, Avatar, ParticipantsTableColumnCollection,\r\n    RolesTableColumnCollection, lang, template) {\r\n\r\n  var AvatarCellView = TemplatedCellView.extend({\r\n\r\n        template: template,\r\n\r\n        events: {\r\n          'keydown': 'onKeyDown'\r\n        },\r\n\r\n        onKeyDown: function (e) {\r\n          if (e.keyCode === 13 || e.keyCode === 32) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.$('.esoc-user-profile-link').trigger('click');\r\n          }\r\n        },\r\n\r\n        constructor: function AvatarCellView() {\r\n          TemplatedCellView.apply(this, arguments);\r\n\r\n          // changes of the participant model are rendered immediately\r\n          this.listenTo(this.model, 'change', this.render);\r\n        },\r\n\r\n        initialize: function () {\r\n          this.avatar = new Avatar({model: this.model});\r\n        },\r\n\r\n        onRender: function () {\r\n          if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n            var loggedUser            = this.model.collection.workspaceContext.getModel(UserModelFactory),\r\n                userProfilePicOptions = {\r\n                  connector: this.model.connector,\r\n                  model: this.model,\r\n                  userid: this.model.get('id'),\r\n                  context: this.model.collection.workspaceContext,\r\n                  showUserProfileLink: true,\r\n                  showMiniProfile: true,\r\n                  loggedUserId: loggedUser.get('id'),\r\n                  placeholder: this.$el.find('.conws-avatar'),\r\n                  showUserWidgetFor: 'profilepic'\r\n                };\r\n            UserWidget.getUser(userProfilePicOptions);\r\n          }\r\n          else {\r\n            this.$('.conws-avatar').append(this.avatar.render().$el);\r\n          }\r\n        },\r\n\r\n        getValueData: function () {\r\n          // return\r\n          return {\r\n            participantStatus: lang.participantStateNew,\r\n            type: this.model.getMemberType(),\r\n            inherited: this.model.get('inherited_from_id') ? true : false,\r\n            isNew: this.model.get('isNew') ? true : false\r\n          };\r\n        }\r\n\r\n      },\r\n      {\r\n        hasFixedWidth: true,\r\n        columnClassName: 'team-table-cell-avatar',\r\n        noTitleInHeader: true\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.avatar,\r\n      AvatarCellView);\r\n  cellViewRegistry.registerByColumnKey(RolesTableColumnCollection.columnNames.avatar,\r\n      AvatarCellView);\r\n\r\n  return AvatarCellView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/name/impl/name',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <span class=\\\"csui-name participant-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"value\") || (depth0 != null ? lookupProperty(depth0,\"value\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"value\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":50},\"end\":{\"line\":2,\"column\":59}}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <span class=\\\"csui-name participant-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"value\") || (depth0 != null ? lookupProperty(depth0,\"value\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"value\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":50},\"end\":{\"line\":4,\"column\":59}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"formattedValue\") || (depth0 != null ? lookupProperty(depth0,\"formattedValue\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"formattedValue\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":61},\"end\":{\"line\":4,\"column\":79}}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isUser\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":5,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_name_impl_name', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/name/impl/name',[],function(){});\n","csui.define('conws/widgets/team/impl/cells/name/name.view',[\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'csui/utils/contexts/factories/user',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/name/impl/name',\r\n  'css!conws/widgets/team/impl/cells/name/impl/name'\r\n], function (TemplatedCellView, cellViewRegistry, UserModelFactory,\r\n    ParticipantsTableColumnCollection, UserWidget, lang, template) {\r\n\r\n  var NameCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n        template: template,\r\n\r\n        ui: {\r\n          userProfileName: '.csui-name'\r\n        },\r\n\r\n        events: {\r\n          'dragstart @ui.userProfileName': 'onDrag',\r\n          'keydown': 'onKeyDown'\r\n        },\r\n\r\n        onKeyDown: function (e) {\r\n          if (e.keyCode === 13 || e.keyCode === 32) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.$('.esoc-user-profile-link').trigger('click');\r\n          }\r\n        },\r\n\r\n        onRender: function () {\r\n          if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n            var loggedUser        = this.options.context.getModel(UserModelFactory),\r\n                userWidgetOptions = {\r\n                  connector: this.model.connector,\r\n                  userid: this.model.get('id'),\r\n                  model: this.model,\r\n                  context: this.options.context,\r\n                  placeholder: this.$el.find(this.ui.userProfileName),\r\n                  showUserProfileLink: true,\r\n                  showMiniProfile: true,\r\n                  loggedUserId: loggedUser.get('id')\r\n                };\r\n            UserWidget.getUser(userWidgetOptions);\r\n          }\r\n        },\r\n\r\n        onDrag: function (e) {\r\n          return false;\r\n        },\r\n\r\n        getValueData: function () {\r\n          // get member name\r\n          var value = this.model.get('display_name');\r\n          return {\r\n            value: value,\r\n            formattedValue: value,\r\n            isUser: this.model.get('type') === 0\r\n          };\r\n        }\r\n      }\r\n  );\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.name,\r\n      NameCellView);\r\n\r\n  return NameCellView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/roles/impl/roles',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-roles-btn-div\\\" tabindex=\\\"-1\\\">\\r\\n  <a class=\\\"conws-roles-btn\\\" href=\\\"#\\\">\\r\\n    <div class=\\\"conws-roles-text\\\">\\r\\n      <div class=\\\"conws-roles-truncatebox\\\">\\r\\n        <span title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"value\") || (depth0 != null ? lookupProperty(depth0,\"value\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"value\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":21},\"end\":{\"line\":5,\"column\":30}}}) : helper)))\n    + \"\\\" class=\\\"conws-roles-text-truncate\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"value\") || (depth0 != null ? lookupProperty(depth0,\"value\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"value\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":66},\"end\":{\"line\":5,\"column\":75}}}) : helper)))\n    + \"</span>&nbsp;<span class=\\\"conws-roles-count\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"indicator\") || (depth0 != null ? lookupProperty(depth0,\"indicator\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"indicator\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":120},\"end\":{\"line\":5,\"column\":133}}}) : helper)))\n    + \"</span>\\r\\n      </div>\\r\\n      <div class=\\\"role-name-icon-cell\\\">\\r\\n        <span class=\\\"csui-icon conws-icon-roles-edit\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"toolTip\") || (depth0 != null ? lookupProperty(depth0,\"toolTip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"toolTip\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":61},\"end\":{\"line\":8,\"column\":72}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"toolTip\") || (depth0 != null ? lookupProperty(depth0,\"toolTip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"toolTip\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":86},\"end\":{\"line\":8,\"column\":97}}}) : helper)))\n    + \"\\\"></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_roles_impl_roles', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/team/impl/cells/roles/roles.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'conws/widgets/team/impl/dialogs/participants/roles.edit.view',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/team/impl/participants.model.factory',\r\n  'conws/widgets/team/impl/roles.model.factory',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/roles/impl/roles',\r\n  'css!conws/widgets/team/impl/cells/roles/impl/roles'\r\n], function (_, $, TemplatedCellView, cellViewRegistry, ModalDialogView,\r\n    ParticipantsTableColumnCollection, EditView, WorkspaceContextFactory,\r\n    ParticipantsCollectionFactory, RolesCollectionFactory, lang, template) {\r\n\r\n  var RolesCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n        template: template,\r\n\r\n        ui: {\r\n          roleEdit: 'a.conws-roles-btn'\r\n        },\r\n\r\n        events: {\r\n          'click @ui.roleEdit': 'roleEditClicked',\r\n          'dragstart @ui.roleEdit': 'roleEditDrag',\r\n          'keydown': 'onKeyDown'\r\n        },\r\n\r\n        onKeyDown: function (e) {\r\n          switch (e.keyCode) {\r\n          case 13:\r\n          case 32:\r\n            $(e.target).find(this.ui.roleEdit).trigger('click');\r\n            break;\r\n          }\r\n        },\r\n\r\n        getValueData: function () {\r\n          // get roles\r\n          var value = this.model.getLeadingRole();\r\n          var indicator = this.model.getRolesIndicator();\r\n          // return\r\n          return {\r\n            value: value,\r\n            indicator: indicator,\r\n            cannotEdit: !this.model.canEdit(),\r\n            toolTip: lang.participantRrolesColTooltip\r\n          };\r\n        },\r\n\r\n        roleEditClicked: function (event) {\r\n          // get workspace context\r\n          if (!this.options.workspaceContext) {\r\n            this.options.workspaceContext = this.options.context.getObject(WorkspaceContextFactory);\r\n            this.options.workspaceContext.setWorkspaceSpecific(ParticipantsCollectionFactory);\r\n            this.options.workspaceContext.setWorkspaceSpecific(RolesCollectionFactory);\r\n          }\r\n          // initialize the dialog for the participants roles\r\n          this.editor = new ModalDialogView({\r\n            body: new EditView({\r\n              model: this.model,\r\n              roleCollection: this.options.workspaceContext.getCollection(RolesCollectionFactory),\r\n              participantCollection: this.options.workspaceContext.getCollection(\r\n                  ParticipantsCollectionFactory)\r\n            }),\r\n            modalClassName: 'conws-roles-edit'\r\n          });\r\n\r\n          this.editor.show();\r\n\r\n          var setFocus = _.bind(function(){\r\n            // to set the focus we must use the click() event, as focus() alone does not work here. And as there is\r\n            // no click handler on the element, which we want to focus on, we can do so without consequences so far.\r\n            this.options.tableView.$el.find('[conws-participant-row-id=\"'+this.model.get(\"id\")+'\"] .conws-team-table-cell-roles').trigger('click');\r\n          },this);\r\n\r\n          // in any case, when the dialog is closed, we set the focus to the cell, as the dialog has been opened\r\n          // using this cell (by enter/space or by mouse click), which means, that the focus should be in this cell.\r\n          this.editor.once('destroy',function() {\r\n            setFocus();\r\n          });\r\n\r\n          // as the focus is set to elsewhere by the tabables.behavior during the refresh, we have to set it again\r\n          // to this cell after everything has been fetched. see also roles.edit.view where the event is triggered.\r\n          this.editor.options.body.once('refetched',function() {\r\n            setFocus();\r\n          });\r\n\r\n          // don't propagate click event into name cell, because it would cause selecting the row\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        },\r\n\r\n        // prevent dragging of role editor cell\r\n        roleEditDrag: function (event) {\r\n          return false;\r\n        },\r\n\r\n        onDestroy: function () {\r\n          if (this.editor) {\r\n            this.editor = undefined;\r\n          }\r\n        }\r\n      },\r\n      {\r\n        columnClassName: 'conws-team-table-cell-roles'\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.roles,\r\n      RolesCellView);\r\n\r\n  return RolesCellView;\r\n});\r\n\r\n\n","csui.define('conws/widgets/team/impl/cells/login/login.view',[\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (TemplatedCellView, cellViewRegistry, ParticipantsTableColumnCollection, lang) {\r\n\r\n  var LoginCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n\r\n        getValueData: function () {\r\n          // get name in case of users\r\n          var value = this.model.displayLogin();\r\n          // return\r\n          return {\r\n            value: value,\r\n            formattedValue: value\r\n          };\r\n        }\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.login, LoginCellView);\r\n\r\n  return LoginCellView;\r\n});\r\n\r\n\n","csui.define('conws/widgets/team/impl/cells/email/email.view',[\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (TemplatedCellView, cellViewRegistry, ParticipantsTableColumnCollection, lang) {\r\n\r\n  var EmailCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n\r\n        getValueData: function () {\r\n          // get member name\r\n          var value = this.model.displayEmail();\r\n          return {\r\n            value: value,\r\n            formattedValue: value\r\n          };\r\n        }\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.email, EmailCellView);\r\n\r\n  return EmailCellView;\r\n});\r\n\r\n\r\n\n","csui.define('conws/widgets/team/impl/cells/department/department.view',[\r\n  'csui/utils/url',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (Url, TemplatedCellView, cellViewRegistry, ParticipantsTableColumnCollection, lang, template) {\r\n\r\n  var DepartmentCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n\r\n        constructor: function AvatarCellView() {\r\n          TemplatedCellView.apply(this, arguments);\r\n\r\n          // changes of the participant model are rendered immediately\r\n          this.listenTo(this.model, 'change', this.render);\r\n        },\r\n\r\n        getValueData: function () {\r\n          // resolve the member department\r\n          var value = this.model.displayDepartment();\r\n          // return\r\n          return {\r\n            value: value,\r\n            formattedValue: value\r\n          };\r\n        }\r\n      },\r\n      {\r\n        columnClassName: 'team-table-cell-department'\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.department, DepartmentCellView);\r\n\r\n  return DepartmentCellView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/rolename/impl/rolename',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <span class=\\\"teamlead\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"leader\") || (depth0 != null ? lookupProperty(depth0,\"leader\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"leader\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":31},\"end\":{\"line\":7,\"column\":41}}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <span class=\\\"inherited\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"inherited\") || (depth0 != null ? lookupProperty(depth0,\"inherited\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"inherited\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":32},\"end\":{\"line\":10,\"column\":45}}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"role-name-cell\\\" tabindex=\\\"-1\\\">\\r\\n  <a href=\\\"#\\\">\\r\\n    <div class=\\\"role-name-box\\\">\\r\\n      <div class=\\\"role-name-name-cell\\\">\\r\\n      <span class=\\\"name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"formattedValue\") || (depth0 != null ? lookupProperty(depth0,\"formattedValue\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"formattedValue\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":32},\"end\":{\"line\":5,\"column\":50}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"formattedValue\") || (depth0 != null ? lookupProperty(depth0,\"formattedValue\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"formattedValue\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":52},\"end\":{\"line\":5,\"column\":70}}}) : helper)))\n    + \"</span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"leader\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":6,\"column\":6},\"end\":{\"line\":8,\"column\":13}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"inherited\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":9,\"column\":6},\"end\":{\"line\":11,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n      <div class=\\\"role-name-icon-cell\\\">\\r\\n        <span class=\\\"csui-icon conws-icon-roles-details\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"toolTip\") || (depth0 != null ? lookupProperty(depth0,\"toolTip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"toolTip\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":64},\"end\":{\"line\":14,\"column\":75}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"toolTip\") || (depth0 != null ? lookupProperty(depth0,\"toolTip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"toolTip\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":89},\"end\":{\"line\":14,\"column\":100}}}) : helper)))\n    + \"\\\"></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_rolename_impl_rolename', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/rolename/impl/rolename',[],function(){});\n","csui.define('conws/widgets/team/impl/cells/rolename/rolename.view',[\r\n  'csui/lib/jquery',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/roles.columns',\r\n  'conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',\r\n  'conws/widgets/team/impl/dialogs/role/role.details.view',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/team/impl/participants.model.factory',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/rolename/impl/rolename',\r\n  'css!conws/widgets/team/impl/cells/rolename/impl/rolename'\r\n], function ($, TemplatedCellView, cellViewRegistry, RolesTableColumnCollection, ModalDialogView,\r\n    RoleDetailsView, WorkspaceContextFactory, ParticipantsCollectionFactory, lang, template) {\r\n\r\n  var RolesNameCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n        template: template,\r\n\r\n        ui: {\r\n          roleDetails: 'a'\r\n        },\r\n\r\n        events: {\r\n          'click @ui.roleDetails': 'roleDetailsClicked',\r\n          'dragstart @ui.roleDetails': 'roleDetailsDrag',\r\n          'keydown': 'onKeyDown'\r\n        },\r\n\r\n        onKeyDown: function (e) {\r\n          switch (e.keyCode) {\r\n          case 13:\r\n          case 32:\r\n            $(e.target).find(this.ui.roleDetails).trigger('click');\r\n            break;\r\n          }\r\n        },\r\n\r\n        getValueData: function () {\r\n          // get name\r\n          var value = this.model.displayName();\r\n          // return\r\n          return {\r\n            toolTip: lang.rolesNameColTooltip,\r\n            formattedValue: value,\r\n            leader: this.model.get('leader') ? lang.rolesNameColTeamLead : '',\r\n            inherited: this.model.get('inherited_from_id') ? lang.rolesNameColInherited : ''\r\n          }\r\n        },\r\n\r\n        roleDetailsClicked: function (event) {\r\n\r\n          // get workspace context\r\n          if (!this.options.workspaceContext) {\r\n            this.options.workspaceContext = this.options.context.getObject(WorkspaceContextFactory);\r\n            this.options.workspaceContext.setWorkspaceSpecific(ParticipantsCollectionFactory);\r\n          }\r\n\r\n          // initialize the dialog for the role\r\n          this.editor = new ModalDialogView({\r\n            body: new RoleDetailsView({\r\n              model: this.model,\r\n              parentCollection: this.options.workspaceContext.getCollection(\r\n                  ParticipantsCollectionFactory)\r\n            }),\r\n            modalClassName: 'conws-role-details'\r\n          });\r\n          this.editor.show();\r\n\r\n          // don't propagate click event into name cell, because it would cause selecting the row\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        },\r\n\r\n        roleDetailsDrag: function (event) {\r\n          return false;\r\n        },\r\n\r\n        onDestroy: function () {\r\n          if (this.editor) {\r\n            this.editor = undefined;\r\n          }\r\n        }\r\n      },\r\n      {\r\n        hasFixedWidth: false,\r\n        columnClassName: 'team-table-cell-rolename'\r\n      }\r\n  );\r\n  cellViewRegistry.registerByColumnKey(RolesTableColumnCollection.columnNames.name,\r\n      RolesNameCellView);\r\n\r\n  return RolesNameCellView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/participants/impl/participants',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"valueClass\") || (depth0 != null ? lookupProperty(depth0,\"valueClass\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"valueClass\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":13},\"end\":{\"line\":1,\"column\":27}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"value\") || (depth0 != null ? lookupProperty(depth0,\"value\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"value\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":36},\"end\":{\"line\":1,\"column\":45}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"formattedValue\") || (depth0 != null ? lookupProperty(depth0,\"formattedValue\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"formattedValue\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":47},\"end\":{\"line\":1,\"column\":65}}}) : helper)))\n    + \"</span>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_participants_impl_participants', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/participants/impl/participants',[],function(){});\n","csui.define('conws/widgets/team/impl/cells/participants/participants.view',[\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/roles.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/participants/impl/participants',\r\n  'css!conws/widgets/team/impl/cells/participants/impl/participants'\r\n], function (TemplatedCellView, cellViewRegistry, RolesTableColumnCollection, lang, template) {\r\n\r\n  var ParticipantsCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n        template: template,\r\n\r\n        getValueData: function () {\r\n          // get participants\r\n          var valueClass = 'name';\r\n          var value = this.model.displayMembers();\r\n          if (!value) {\r\n            value = lang.rolesParticipantsColNoParticipants;\r\n            valueClass = 'name warning';\r\n          }\r\n\r\n          // return\r\n          return {\r\n            value: value,\r\n            formattedValue: value,\r\n            valueClass: valueClass\r\n          };\r\n        }\r\n      },\r\n      {\r\n        hasFixedWidth: false,\r\n        columnClassName: 'team-table-cell-participants'\r\n      }\r\n  );\r\n  cellViewRegistry.registerByColumnKey(RolesTableColumnCollection.columnNames.members,\r\n      ParticipantsCellView);\r\n\r\n  return ParticipantsCellView;\r\n});\r\n\r\n\n","csui.define('conws/widgets/team/impl/teamtables.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/commands',\r\n  'conws/utils/commands/addparticipant',\r\n  'conws/widgets/team/impl/commands/exportparticipants',\r\n  'conws/utils/commands/showroles',\r\n  'conws/utils/commands/removeparticipant',\r\n  'conws/widgets/team/impl/commands/exportroles',\r\n  'conws/utils/commands/showdetails',\r\n  'conws/utils/commands/deleterole',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/tabletoolbar/tabletoolbar.view',\r\n  'csui/controls/table/table.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/team/impl/participants.model.factory',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'conws/widgets/team/impl/participants.toolbaritems',\r\n  'conws/widgets/team/impl/roles.model.factory',\r\n  'conws/widgets/team/impl/roles.columns',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/team/impl/roles.toolbaritems',\r\n  'conws/widgets/team/impl/dialogs/participants/roles.edit.view',\r\n  'conws/widgets/team/impl/dialogs/role/role.details.view',\r\n  'conws/widgets/team/impl/team.tablinks.view',\r\n  'conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/teamtables',\r\n  'css!conws/widgets/team/impl/team',\r\n  'conws/widgets/team/impl/cells/avatar/avatar.view',\r\n  'conws/widgets/team/impl/cells/name/name.view',\r\n  'conws/widgets/team/impl/cells/roles/roles.view',\r\n  'conws/widgets/team/impl/cells/login/login.view',\r\n  'conws/widgets/team/impl/cells/email/email.view',\r\n  'conws/widgets/team/impl/cells/department/department.view',\r\n  'conws/widgets/team/impl/cells/rolename/rolename.view',\r\n  'conws/widgets/team/impl/cells/participants/participants.view'\r\n], function ($, _, Marionette, ConnectorFactory, commands, AddParticipantCommand,\r\n    ExportParticipantsCommand, ShowRolesCommand, RemoveParticipantCommand, ExportRolesCommand,\r\n    ShowDetailsCommand, DeleteRoleCommand, ModalAlert, TableToolbarView, TableView,\r\n    LayoutViewEventsPropagationMixin, ParticipantsCollectionFactory,\r\n    ParticipantsTableColumnCollection, participantToolbarItems, RolesCollectionFactory,\r\n    RolesTableColumnCollection, WorkspaceContextFactory, roleToolbarItems, ParticipantsView,\r\n    RolesView, TeamTabView, ModalDialogView, lang, template) {\r\n\r\n  var TeamTablesView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    // flag indication if the data was changed\r\n    dirty: false,\r\n\r\n    events: {\r\n      'shown.binf.tab .binf-nav-tabs a': 'onShownTab'\r\n    },\r\n\r\n    regions: {\r\n      tabParticipantsRegion: '#tabParticipants',\r\n      tabRolesRegion: '#tabRoles',\r\n      participantsToolbarRegion: '#participantstoolbar',\r\n      participantsRegion: '#participantsview',\r\n      rolesToolbarRegion: '#rolestoolbar',\r\n      rolesRegion: '#rolesview'\r\n    },\r\n\r\n    constructor: function TeamTablesView(options) {\r\n      if (options === undefined || !options.context) {\r\n        throw new Error('Context is missing in the constructor options');\r\n      }\r\n      this.context = options.context;\r\n\r\n      if (!_.isUndefined(options.collapsedView)) {\r\n        this.collapsedView = options.collapsedView;\r\n      }\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(ParticipantsCollectionFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(RolesCollectionFactory);\r\n      }\r\n      this.workspaceContext = options.workspaceContext;\r\n      this.participantCollection = options.workspaceContext.getCollection(\r\n          ParticipantsCollectionFactory);\r\n      this.roleCollection = options.workspaceContext.getCollection(RolesCollectionFactory);\r\n      //clear list of newParticipants for icon status\r\n      this.participantCollection.newParticipants = [];\r\n      _.each(this.participantCollection.where({isNew: true}), function (part) {\r\n        part.unset('isNew')\r\n      });\r\n\r\n\r\n      // set filter from collapsed view to participants and roles collection\r\n      // or clear filter from previous selection\r\n      if (options.filterBy && options.filterBy.name.length > 0) {\r\n        this.participantCollection.setFilter({conws_participantname: options.filterBy.name});\r\n        this.roleCollection.setFilter({conws_rolename: options.filterBy.name});\r\n      } else {\r\n        this.participantCollection.filters =  {};\r\n        this.participantCollection.orderBy =  ParticipantsTableColumnCollection.columnNames.name + ' asc';\r\n        this.roleCollection.filters =  {};\r\n        this.roleCollection.orderBy =  RolesTableColumnCollection.columnNames.name + ' asc';\r\n      }\r\n\r\n      //listen on custom events for the collections to get the saved indication\r\n      this.listenTo(this.participantCollection, 'saved', this.onParticipantsChanged);\r\n      this.listenTo(this.roleCollection, 'saved', this.onChanged);\r\n\r\n      //the data was not changed\r\n      this.dirty = false;\r\n\r\n      options.data || (options.data = {});\r\n      Marionette.LayoutView.prototype.constructor.call(this, arguments);\r\n\r\n      // propagate layout events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this;\r\n      this.tabParticipantsRegion.show(new TeamTabView(_.defaults({\r\n        initialActivationWeight: 202\r\n      },this.options), {\r\n        attributes: {aria: 'participants', 'aria-controls': 'participantstab', href: '#participantstab'}\r\n      }));\r\n      this.tabRolesRegion.show(new TeamTabView(_.defaults({\r\n        initialActivationWeight: 201\r\n      },this.options), {\r\n        attributes: {aria: 'roles', 'aria-controls': 'rolestab', href: '#rolestab'}\r\n      }));\r\n\r\n      if (this.participantCollection.fetched) {\r\n        this.participantCollection.fetch({reload: true});\r\n      }\r\n      if (this.roleCollection.fetched) {\r\n        this.roleCollection.fetch({reload: true});\r\n      }\r\n\r\n      this.participantCollection.once('sync', function () {\r\n        // show click on the tab after data is there so the add participants command is enabled. The click\r\n        // triggers onShownTab for the case '#participantstab', which then calls renderParticipantsAfterFetch.\r\n        // Needed to have the tabs in sync with displayed list (CWS-3565) AND avoiding side effect (CWS-4190),\r\n        // that the AddParticipants action is not displayed sometimes, which occurs, if expand button is clicked\r\n        // very fast after initial display.\r\n        self.tabParticipantsRegion.currentView.$el.binf_tab('show');\r\n      });\r\n      this.participantCollection.fetch();\r\n      this.roleCollection.fetch();\r\n\r\n    },\r\n\r\n    renderParticipantsAfterFetch: function () {\r\n\r\n      // create participants toolbar\r\n      if (!this.participantsToolbarView) {\r\n\r\n        // participant commands - if one exists, all exist. therefore we only\r\n        // query for the 'add participant' command. this is also the one we\r\n        // have to update each time we open the team view as the roles have to\r\n        // be updated.\r\n        var cmd = commands.get(AddParticipantCommand.prototype.defaults.signature)\r\n        if (cmd) {\r\n          // update the roles for the command 'enabled' check.\r\n          cmd.roles = this.participantCollection.availableRoles;\r\n        } else {\r\n          // we have to create the commands initially.\r\n          commands.add(new AddParticipantCommand({\r\n            roles: this.participantCollection.availableRoles\r\n          }));\r\n          commands.add(new ExportParticipantsCommand());\r\n          commands.add(_.extend(new ShowRolesCommand(), {\r\n            execute: this.onShowRoles\r\n          }));\r\n          commands.add(new RemoveParticipantCommand());\r\n        }\r\n\r\n        this.participantsToolbarView = new TableToolbarView({\r\n          originatingView: this,\r\n          toolbarItems: participantToolbarItems,\r\n          collection: this.participantCollection\r\n        });\r\n      }\r\n\r\n      // create participant table view\r\n      if (!this.participantsTableView) {\r\n        // drop avatar column\r\n        var colsWithSearch = _.rest(ParticipantsTableColumnCollection.getColumnKeys(), 1);\r\n        // initialize view\r\n        this.participantsTableView = new TableView({\r\n          context: this.workspaceContext,\r\n          connector: this.context.getObject(ConnectorFactory),\r\n          collection: this.participantCollection,\r\n          columns: this.participantCollection.columns,\r\n          filterBy: this.participantCollection.filters,\r\n          tableColumns: ParticipantsTableColumnCollection,\r\n          selectColumn: true,\r\n          enableSorting: true,\r\n          orderBy: ParticipantsTableColumnCollection.columnNames.name + ' asc',\r\n          nameEdit: false,\r\n          haveDetailsRowExpandCollapseColumn: true,\r\n          columnsWithSearch: colsWithSearch,\r\n          tableTexts: {\r\n            zeroRecords: lang.zeroRecordsOrFilteredParticipants\r\n          },\r\n          tableAria: lang.rolesParticipantsTableAria\r\n        });\r\n        // handle events\r\n        this.listenTo(this.participantsTableView, 'tableRowSelected',\r\n            this.updateParticipantsToolItems);\r\n        this.listenTo(this.participantsTableView, 'tableRowUnselected',\r\n            this.updateParticipantsToolItems);\r\n        this.listenTo(this.participantsTableView, 'tableRowRendered', function(row) {\r\n          //set specific attribute, so we can find the row easier in the roles.view cell.\r\n          $(row.target).attr(\"conws-participant-row-id\",row.node.get(\"id\"));\r\n        });\r\n\r\n        // Set focus to roles column\r\n        if (!_.isUndefined(this.participantsTableView.accFocusedState.body.column)) {\r\n          this.participantsTableView.accFocusedState.body.column = 3;\r\n        }\r\n      }\r\n\r\n      // show\r\n      this.participantsToolbarRegion.show(this.participantsToolbarView);\r\n      this.participantsRegion.show(this.participantsTableView);\r\n    },\r\n\r\n    renderRolesAfterFetch: function () {\r\n\r\n      // create roles toolbar\r\n      if (!this.rolesToolbarView) {\r\n        commands.add(new ExportRolesCommand());\r\n        commands.add(_.extend(new ShowDetailsCommand(), {\r\n          execute: this.onShowDetails\r\n        }));\r\n        commands.add(new DeleteRoleCommand());\r\n\r\n        this.rolesToolbarView = new TableToolbarView({\r\n          originatingView: this,\r\n          toolbarItems: roleToolbarItems,\r\n          collection: this.roleCollection\r\n        });\r\n      }\r\n\r\n      // create roles table view\r\n      if (!this.rolesTableView) {\r\n        // drop avatar column\r\n        var colsWithSearch = _.rest(RolesTableColumnCollection.getColumnKeys(), 1);\r\n        // initialize view\r\n        this.rolesTableView = new TableView({\r\n          context: this.workspaceContext,\r\n          connector: this.context.getObject(ConnectorFactory),\r\n          collection: this.roleCollection,\r\n          columns: this.roleCollection.columns,\r\n          filterBy: this.roleCollection.filters,\r\n          tableColumns: RolesTableColumnCollection,\r\n          selectColumn: true,\r\n          enableSorting: true,\r\n          orderBy: RolesTableColumnCollection.columnNames.name + ' asc',\r\n          nameEdit: false,\r\n          haveDetailsRowExpandCollapseColumn: true,\r\n          columnsWithSearch: colsWithSearch,\r\n          tableTexts: {\r\n            zeroRecords: lang.zeroRecordsOrFilteredRoles\r\n          },\r\n          tableAria: lang.participantRolesTableAria\r\n        });\r\n        // handle events\r\n        this.listenTo(this.rolesTableView, 'tableRowSelected', this.updateRolesToolItems);\r\n        this.listenTo(this.rolesTableView, 'tableRowUnselected', this.updateRolesToolItems);\r\n\r\n        // Set focus to Name column\r\n        if (!_.isUndefined(this.rolesTableView.accFocusedState.body.column)) {\r\n          this.rolesTableView.accFocusedState.body.column = 2;\r\n        }\r\n      }\r\n\r\n      // show\r\n      this.rolesToolbarRegion.show(this.rolesToolbarView);\r\n      this.rolesRegion.show(this.rolesTableView);\r\n    },\r\n\r\n    onShowRoles: function (status, options) {\r\n      // initialize the role details view. it is based in a modal dialog view\r\n      // to create a new tabable layer\r\n      var dialog, deferred = $.Deferred();\r\n      this.editor = new ModalDialogView({\r\n        body: new ParticipantsView({\r\n          model: status.nodes.models[0],\r\n          roleCollection: status.originatingView.roleCollection,\r\n          participantCollection: status.originatingView.participantCollection\r\n        }),\r\n        modalClassName: 'conws-roles-edit'\r\n      });\r\n      dialog = this.editor.show();\r\n\r\n      if( !!dialog ) {\r\n        deferred.resolve();\r\n      }\r\n\r\n      return deferred.promise();\r\n    },\r\n\r\n    onShowDetails: function (status, options) {\r\n      // initialize the role details view. it is based in a modal dialog view\r\n      // to achieve a new tabable layer\r\n      var dialog, deferred = $.Deferred();\r\n      this.editor = new ModalDialogView({\r\n        body: new RolesView({\r\n          model: status.nodes.models[0],\r\n          roleCollection: status.originatingView.roleCollection,\r\n          participantCollection: status.originatingView.participantCollection\r\n        }),\r\n        modalClassName: 'conws-role-details'\r\n      });\r\n      dialog = this.editor.show();\r\n\r\n      if( !!dialog ) {\r\n        deferred.resolve();\r\n      }\r\n\r\n      return deferred.promise();\r\n    },\r\n\r\n    updateParticipantsToolItems: function () {\r\n      // update toolbar items\r\n      this.participantsToolbarView && this.participantsToolbarView.updateForSelectedChildren(\r\n          this.participantsTableView.getSelectedChildren());\r\n    },\r\n\r\n    participantsTableDomRefresh: function () {\r\n      // update toolbar items\r\n      this.participantsToolbarView.updateForSelectedChildren(\r\n          this.participantsTableView.getSelectedChildren());\r\n      this.participantsTableView.triggerMethod(\r\n          'dom:refresh', this.participantsTableView);\r\n    },\r\n\r\n    updateRolesToolItems: function () {\r\n      // update toolbar items\r\n      this.rolesToolbarView.updateForSelectedChildren(\r\n          this.rolesTableView.getSelectedChildren());\r\n    },\r\n\r\n    rolesTableDomRefresh: function () {\r\n      // update toolbar items\r\n      this.rolesToolbarView.updateForSelectedChildren(\r\n          this.rolesTableView.getSelectedChildren());\r\n      this.rolesTableView.triggerMethod(\r\n          'dom:refresh', this.rolesTableView);\r\n    },\r\n\r\n    onShownTab: function (e) {\r\n      var hash = e.target.hash,\r\n        participantsTabLink = this.tabParticipantsRegion.$el.find('a.csui-acc-tab-region'),\r\n        rolesTabLink = this.tabRolesRegion.$el.find('a.csui-acc-tab-region');\r\n      switch (hash) {\r\n        case '#participantstab':\r\n          participantsTabLink.attr('aria-selected', true);\r\n          rolesTabLink.attr('aria-selected', false);\r\n          this.renderParticipantsAfterFetch();\r\n          this.participantsTableDomRefresh();\r\n          break;\r\n        case '#rolestab':\r\n          participantsTabLink.attr('aria-selected', false);\r\n          rolesTabLink.attr('aria-selected', true);\r\n          this.renderRolesAfterFetch();\r\n          this.rolesTableDomRefresh();\r\n          break;\r\n      }\r\n    },\r\n\r\n    onParticipantsChanged: function () {\r\n      var self = this;\r\n      //mark the view as dirty\r\n      this.dirty = true;\r\n\r\n      self.participantCollection.fetch({\r\n        reload: true,\r\n        success: function () {\r\n          self.participantCollection.setNewParticipant();\r\n          //update the partcipant toolbar\r\n          self.updateParticipantsToolItems();\r\n        }\r\n      });\r\n      self.roleCollection.fetch({reload: true});\r\n\r\n      //update the roles toolbar\r\n      this.updateRolesToolItems();\r\n    },\r\n\r\n    // Event when the participant or roles collection was changed\r\n    onChanged: function () {\r\n      //mark the view as dirty\r\n      this.dirty = true;\r\n\r\n      //update the toolbars\r\n      this.updateParticipantsToolItems();\r\n      this.updateRolesToolItems();\r\n    },\r\n\r\n    // close the dialog / expanded view\r\n    onDestroy: function () {\r\n      // close open dialogs\r\n      if (this.rolesEditor) {\r\n        this.rolesEditor.close();\r\n        this.rolesEditor = undefined;\r\n      }\r\n      if (this.detailsEditor) {\r\n        this.detailsEditor.close();\r\n        this.detailsEditor = undefined;\r\n      }\r\n\r\n      // If the view is marked as dirty and a collapsed view is available trigger a refresh for the collapsed view\r\n      if (this.dirty && !_.isUndefined(this.collapsedView)) {\r\n        this.collapsedView.triggerMethod('refresh:list');\r\n      }\r\n      return true;\r\n    }\r\n\r\n  });\r\n\r\n  // attach events propagation mixin\r\n  _.extend(TeamTablesView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return TeamTablesView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/listitem/impl/listitemteammember',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <span class=\\\"cs-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":37},\"end\":{\"line\":5,\"column\":45}}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <span class=\\\"cs-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":37},\"end\":{\"line\":7,\"column\":45}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":47},\"end\":{\"line\":7,\"column\":55}}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <div class=\\\"cs-stage\\\">\\r\\n            <span class=\\\"cs-value\\\" title=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stage\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stage\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"</span>\\r\\n            <span class=\\\"cs-label\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stage\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1), depth0))\n    + \"</span>\\r\\n        </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-user-avatar\\\"></div>\\r\\n<div class=\\\"cs-left\\\">\\r\\n    <div class=\\\"cs-title\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isUser\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"loc\":{\"start\":{\"line\":4,\"column\":6},\"end\":{\"line\":8,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"stage\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":10,\"column\":4},\"end\":{\"line\":15,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_listitem_impl_listitemteammember', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/listitem/impl/listitemteamrole',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-role-avatar\\\">\\r\\n  <span class=\\\"cs-icon circular cs-icon-add\\\" aria-hidden=\\\"true\\\"></span>\\r\\n</div>\\r\\n<div class=\\\"cs-left\\\">\\r\\n  <div class=\\\"cs-title\\\">\\r\\n    <span class=\\\"cs-name cs-role conws-font-1em-italic-steel-grey\\\" title=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stage\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stage\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"</span>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_listitem_impl_listitemteamrole', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/listitem/impl/listitemteammember',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/listitem/listitemteammember.view',[\r\n  'csui/lib/jquery',\r\n  'csui/utils/url',\r\n  'csui/controls/listitem/listitemstandard.view',\r\n  'csui/utils/contexts/factories/user',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'hbs!conws/widgets/team/impl/controls/listitem/impl/listitemteammember',\r\n  'hbs!conws/widgets/team/impl/controls/listitem/impl/listitemteamrole',\r\n  'css!conws/widgets/team/impl/controls/listitem/impl/listitemteammember'\r\n], function ($, Url, StandardListItem, UserModelFactory, Avatar, UserWidget, memberTemplate,\r\n    roleTemplate) {\r\n\r\n  var TeamMemberListItem = StandardListItem.extend({\r\n\r\n    tagName: 'div',\r\n\r\n    className: 'conws-item-member ' + StandardListItem.prototype.className,\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    triggers: {\r\n      'click': 'click:item',\r\n      'click @ui.userAvatar': 'click:profile',\r\n      'click @ui.userProfileName': 'click:profile'\r\n    },\r\n\r\n    ui: {\r\n      userProfileName: '.cs-name',\r\n      userAvatar: '.conws-user-avatar'\r\n    },\r\n\r\n    constructor: function TeamMemberListItem(options) {\r\n\r\n      // initialize options\r\n      options || (options = {});\r\n      options.miniProfile = (options.miniProfile === undefined) ? true : false;\r\n      options.context || (options.context = options.model.collection.context);\r\n\r\n      // apply properties to parent\r\n      StandardListItem.apply(this, arguments);\r\n\r\n      // changes of the header model are rendered immediately\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    getTemplate: function () {\r\n      if (this.model.memberType === 'member') {\r\n        return memberTemplate;\r\n      } else {\r\n        return roleTemplate;\r\n      }\r\n    },\r\n\r\n    initialize: function () {\r\n      this.avatar = new Avatar({model: this.model});\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n        var loggedUser            = this.options.context.getModel(UserModelFactory),\r\n            defaultOptions        = {\r\n              connector: this.model.connector,\r\n              model: this.model,\r\n              userid: this.model.get('id'),\r\n              context: this.options.context,\r\n              showUserProfileLink: true,\r\n              showMiniProfile: this.options.miniProfile,\r\n              loggedUserId: loggedUser.get('id')\r\n            },\r\n            userProfilePicOptions = $.extend({\r\n              placeholder: this.$el.find(this.ui.userAvatar),\r\n              showUserWidgetFor: 'profilepic'\r\n            }, defaultOptions);\r\n        UserWidget.getUser(userProfilePicOptions);\r\n\r\n        var userWidgetOptions = $.extend({\r\n          placeholder: this.$el.find(this.ui.userProfileName)\r\n        }, defaultOptions);\r\n        UserWidget.getUser(userWidgetOptions);\r\n      }\r\n      else {\r\n        this.$el.find(this.ui.userAvatar).append(this.avatar.render().$el);\r\n      }\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      // open the user profile on enter / space\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        this.$('a').trigger('click');\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }\r\n    }\r\n  });\r\n\r\n  return TeamMemberListItem;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/previewpane/impl/rolemembers.empty',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-preview empty-role-members-view\\\">\\r\\n    <span>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"noResultsPlaceholder\") || (depth0 != null ? lookupProperty(depth0,\"noResultsPlaceholder\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"noResultsPlaceholder\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":10},\"end\":{\"line\":2,\"column\":34}}}) : helper)))\n    + \"</span>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_utils_previewpane_impl_rolemembers.empty', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/utils/previewpane/impl/previewpane',[],function(){});\n","// Shows a list of team members\r\ncsui.define('conws/utils/previewpane/impl/rolemembers.view',['csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/controls/list/list.view',\r\n  'csui/controls/list/emptylist.view',\r\n  'csui/behaviors/limiting/limiting.behavior',\r\n  'csui/behaviors/expanding/expanding.behavior',\r\n  'conws/widgets/header/impl/header.model.factory',\r\n  'conws/widgets/team/impl/team.model.factory',\r\n  'conws/widgets/team/impl/teamtables.view',\r\n  'csui/utils/nodesprites',\r\n  'conws/widgets/team/impl/controls/listitem/listitemteammember.view',\r\n  'i18n!conws/utils/previewpane/impl/nls/previewpane.lang',\r\n  'hbs!conws/utils/previewpane/impl/rolemembers.empty',\r\n  'css!conws/utils/previewpane/impl/previewpane'\r\n], function (_, $, Marionette, ListView, EmptyView, LimitingBehavior, ExpandingBehavior,\r\n    HeaderModelFactory, TeamCollectionFactory,\r\n    TeamTablesView, NodeSpriteCollection, ListItem, lang, RoleMembersEmptyTemplate) {\r\n\r\n  // Empty team view\r\n  var RoleMembersEmptyView = Marionette.ItemView.extend({\r\n\r\n    constructor: function RoleMembersEmptyView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    template: RoleMembersEmptyTemplate\r\n  });\r\n\r\n  //\r\n  // Constructor options:\r\n  // - showTitleIcon: boolean to show or hide the icon in the title bar\r\n  //\r\n  var RoleMembersView = Marionette.CollectionView.extend({\r\n\r\n    //className: 'conws-preview binf-list-group' + ListView.prototype.className,\r\n\r\n    constructor: function RoleMembersView(options) {\r\n      // initialize team view\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    getEmptyView: function () {\r\n      return EmptyView;\r\n    },\r\n\r\n    emptyViewOptions: function () {\r\n      return {\r\n        templateHelpers: {\r\n          text: this.options.noRoleMembersMessage\r\n        }\r\n      }\r\n    },\r\n\r\n    childView: ListItem,\r\n\r\n    childViewOptions: function () {\r\n      return {\r\n        templateHelpers: function () {\r\n          return {\r\n            name: this.model.get('display_name'),\r\n            email: this.model.get('business_email'),\r\n            isUser: this.model.get('type') === 0,\r\n            stage: {\r\n              value: this.model.getLeadingRole(),\r\n              label: this.model.getRolesIndicator()\r\n            }\r\n          }\r\n        },\r\n        context: this.options.context,\r\n        miniProfile: false\r\n      }\r\n    },\r\n\r\n    childEvents: {\r\n      'click:profile': 'onClickProfile'\r\n    },\r\n\r\n    onClickProfile: function (view, data) {\r\n      this.triggerMethod('click:member', data);\r\n    },\r\n\r\n    /*\r\n    getExpandableDialogIcon: function () {\r\n        // initialize\r\n        var ret = {\r\n            icon: undefined,\r\n            image: undefined\r\n        };\r\n        // calculate the images to show\r\n        if (this.options.data.showTitleIcon) {\r\n            // we want to show a workspace specific icon\r\n            if (this.options.data.showWorkspaceImage) {\r\n                if (this.headerModel.icon.location !== 'none') {\r\n                    ret.image = this.headerModel.icon.content;\r\n                } else {\r\n                    ret.icon = NodeSpriteCollection.findByNode(this.headerModel).get('className');\r\n                }\r\n            } else {\r\n                // default header icon style\r\n                ret.icon = 'title-icon title-team';\r\n            }\r\n        }\r\n        // return\r\n        return ret;\r\n    },\r\n    */\r\n\r\n    onClickHeader: function (target) {\r\n      this.triggerMethod('expand');\r\n    }\r\n  });\r\n\r\n  return RoleMembersView;\r\n\r\n})\r\n;\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('conws/widgets/metadata/impl/nls/metadata.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('conws/widgets/metadata/impl/nls/root/metadata.lang',{\r\n  defaultMetadataWidgetTitle: 'Metadata',\r\n  noMetadataMessage: 'No data to display.',\r\n  loadingMetadata: 'Loading metadata',\r\n  RelatedWorkspaceType: 'Related'\r\n});\n","\n","csui.define('conws/widgets/metadata/impl/forms.metadata.update.model',[\"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  'csui/utils/url', 'csui/utils/base',\r\n  'csui/models/mixins/node.connectable/node.connectable.mixin',\r\n  'i18n!conws/widgets/metadata/impl/nls/metadata.lang'\r\n], function ($, _, Backbone, Url, BaseUtils, NodeConnectableMixin, lang) {\r\n\r\n  \"use strict\";\r\n\r\n  function updateData(data, changes) {\r\n    _.each(changes, function (value, propertyId) {\r\n      if (data.hasOwnProperty(propertyId)) {\r\n        data[propertyId] = value;\r\n      }\r\n    });\r\n  }\r\n\r\n  function collectValues(config,getprop) {\r\n    var props = [];\r\n    _.each(config, function (configElement) {\r\n      var prop = getprop(configElement);\r\n      if (prop!=null && !_.contains(props, prop)) {\r\n        props.push(prop);\r\n      } else if (configElement.type === \"group\") {\r\n        var inner = collectValues(configElement.attributes,getprop);\r\n        _.each(inner, function (prop) {\r\n          if (!_.contains(props,prop)) {\r\n            props.push(prop);\r\n          }\r\n        })\r\n      }\r\n    }, this);\r\n    return props;\r\n  }\r\n\r\n  var MetadataUpdateFormModel = Backbone.Model.extend({\r\n\r\n    constructor: function MetadataUpdateFormModel(attributes, options) {\r\n\r\n      this.node = options.node;\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeNodeConnectable(options);\r\n\r\n      this.metadataConfig = [];\r\n      if (options.metadataConfig) {\r\n        this.metadataConfig = options.metadataConfig.metadata||[];\r\n        this.hideEmptyFields = options.metadataConfig.hideEmptyFields || false;\r\n        this.isReadOnly = options.metadataConfig.readonly ? true : false;\r\n      }\r\n\r\n      this.form_models = [];\r\n\r\n      this.categoryIds = collectValues(this.metadataConfig,function(el){\r\n        if (el.type === \"attribute\" || el.type === \"category\") {\r\n          return el.categoryId\r\n        }\r\n      });\r\n      this.workspaceTypeIds = collectValues(this.metadataConfig,function(el){\r\n        if (el.type === \"relation\") {\r\n          return el.workspaceTypeId\r\n        }\r\n      });\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var nodeId = this.node.get('id'),\r\n        url = this.connector.getConnectionUrl().getApiBase('v2'),\r\n        params = {};\r\n      if (this.workspaceTypeIds.length > 0) {\r\n        _.extend(params,{\r\n          where_rel_wksp_type_ids: \"{\" + this.workspaceTypeIds.join(',') + \"}\",\r\n          fields: \"related_items\",\r\n          where_rel_type: \"parent\"\r\n        });\r\n      }\r\n      if (this.categoryIds.length > 0) {\r\n        _.extend(params,{\r\n          where_category_ids: \"{\" + this.categoryIds.join(',') + \"}\"\r\n        });\r\n      }\r\n      params = _.omit(params, function (value) {\r\n        return value === null || value === undefined || value === '';\r\n      });\r\n\r\n      var path = \"/forms/businessworkspaces/\" + nodeId + \"/metadata/update\",\r\n        resources = _.isEmpty(params) ? path : path + '?' + $.param(params);\r\n      url = Url.combine(url, resources);\r\n      return url;\r\n    },\r\n\r\n    fetch: function () {\r\n      if(this.metadataConfig.length > 0){\r\n        return Backbone.Model.prototype.fetch.apply(this,arguments);\r\n      } else {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n    },\r\n\r\n    parse: function (response) {\r\n      this.update(this.metadataConfig, response);\r\n    },\r\n\r\n    _getChanges: function (catModel) {\r\n      var changes = catModel.get(\"data\");\r\n      var schema = catModel.get(\"schema\");\r\n      var options = catModel.get('options');\r\n      var key;\r\n\r\n      // workaround for LPAD-47456: set value of hidden string fields\r\n      // to \"\" instead of null\r\n      for (key in options.fields) {\r\n        if (options.fields[key].hidden === true) {\r\n          if (schema.properties[key].type === 'string') {\r\n            if (key in changes && changes[key] === null) {\r\n              changes[key] = \"\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return changes;\r\n    },\r\n\r\n    restoreData: function (changes) {\r\n      var restore = _.pick(this.oldData, _.keys(changes));\r\n      restore = JSON.parse(JSON.stringify(restore));\r\n      updateData(this.get(\"data\"), restore);\r\n      return restore;\r\n    },\r\n\r\n    updateData: function (changes) {\r\n      updateData(this.get(\"data\"), changes);\r\n    },\r\n\r\n    update: function (config, formData) {\r\n\r\n      // Initialize backbone model with empty objects - will be filled afterwards\r\n      var data = {};\r\n      var schema = { properties: {} };\r\n      var options = { fields: {} };\r\n\r\n      // Provide easy access to backbone model\r\n      var destinationModel = {\r\n        data: data,\r\n        properties: schema.properties,\r\n        fields: options.fields,\r\n        title: \"\"\r\n      };\r\n\r\n      this.form_models.splice(0);\r\n\r\n      // create form models for \"categories\" and \"related_items\"\r\n      var catId;\r\n      _.each(formData.forms, function (form) {\r\n        if (form.role_name === \"categories\") {\r\n          _.each(this.categoryIds, function (filterId) {\r\n            var options_fields = form.options && form.options.fields;\r\n            var schema_properties = form.schema && form.schema.properties;\r\n            if (options_fields && options_fields[filterId]) {\r\n              var segments = options_fields[filterId].form.attributes.action.split('categories/');\r\n              if (segments.length > 1) {\r\n                catId = parseInt(segments[segments.length - 1]);\r\n              }\r\n              if (filterId === catId) {\r\n                var cat_form = {\r\n                  id: catId,\r\n                  data: form.data[catId],\r\n                  schema: schema_properties[catId],\r\n                  options: options_fields[catId]\r\n                };\r\n                this.form_models.push(cat_form);\r\n              }\r\n            }\r\n          }, this);\r\n        } else if (form.role_name === \"related_items\") {\r\n          _.each(this.workspaceTypeIds, function (relWSType) {\r\n            var options_fields = form.options && form.options.fields;\r\n            var schema_properties = form.schema && form.schema.properties;\r\n            _.each(options_fields, function (relbws,relbwskey) {\r\n              if (relbws.workspace_type_id+\"\" === relWSType+\"\") {\r\n                var rel_form = {\r\n                  id: relWSType,\r\n                  data: form.data && form.data[relbwskey],\r\n                  schema: schema_properties && schema_properties[relbwskey],\r\n                  options: options_fields && options_fields[relbwskey]\r\n                };\r\n                this.form_models.push(rel_form);\r\n              }\r\n            }, this);\r\n          }, this);\r\n        }\r\n      }, this);\r\n\r\n      this._fillModel(config, destinationModel);\r\n      this.set({ data: data, schema: schema, options: options }); // triggers change event\r\n    },\r\n\r\n    _fillModel: function (config, destinationModel, prefix) {\r\n      // Iterate over all metadata sections of widget configuration\r\n      _.each(config, function (configElement) {\r\n        if (configElement.type === \"attribute\") { // Single attribute row\r\n          this._createAttribute(configElement, destinationModel, prefix);\r\n        } else if (configElement.type === \"category\") {  // All attributes of a category\r\n          this._createCategory(configElement, destinationModel, prefix);\r\n        } else if (configElement.type === \"relation\") {  // All related items\r\n          this._createRelation(configElement, destinationModel, prefix);\r\n        } else if (configElement.type === \"group\") { // Group of attributes\r\n          // Create an artifact using set schema, as expected by FormView\r\n          var groupName = configElement.label;\r\n          var innerData = {};\r\n          var innerProperties = { properties: {} };\r\n          var innerFields = {\r\n            label: BaseUtils.getClosestLocalizedString(configElement.label, \"Undefined\"),\r\n            fields: {}\r\n          };\r\n          var innerDestinationModel = {\r\n            data: innerData,\r\n            properties: innerProperties.properties,\r\n            fields: innerFields.fields,\r\n            title: \"\"\r\n          };\r\n          this._fillModel(configElement.attributes, innerDestinationModel, groupName);\r\n          if (!_.isEmpty(innerData)) { // empty groups are hidden\r\n            // instead of using groupId we are now using group name\r\n            destinationModel.data[groupName] = innerData;\r\n            destinationModel.properties[groupName] = innerProperties;\r\n            destinationModel.fields[groupName] = innerFields;\r\n          }\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _createAttribute: function (configElement, destinationModel, prefix) {\r\n      var fieldId = configElement.categoryId + \"_\" + configElement.attributeId, subFieldId;\r\n      _.each(this.form_models, function (modelElement) {\r\n        if (configElement.categoryId === modelElement.id) {\r\n          var sourceModel;\r\n          if (configElement.columnId) {\r\n            var setType = modelElement.schema.properties[fieldId].type;\r\n            if (setType === \"object\") { // single-row set\r\n              configElement.attributeType = setType;\r\n              subFieldId = fieldId + \"_1_\" + configElement.columnId;\r\n              sourceModel = {\r\n                data: modelElement.data[fieldId],\r\n                properties: modelElement.schema.properties[fieldId].properties,\r\n                fields: modelElement.options.fields[fieldId].fields\r\n              };\r\n              this._createRow(subFieldId, configElement, destinationModel, sourceModel, prefix);\r\n            } else if (setType === \"array\") { // multi-row set (has a different, more complex structure)\r\n              configElement.attributeType = setType;\r\n              subFieldId = fieldId + \"_x_\" + configElement.columnId;\r\n              sourceModel = {\r\n                data: modelElement.data[fieldId][0],\r\n                properties: modelElement.schema.properties[fieldId].items.properties,\r\n                fields: modelElement.options.fields[fieldId].fields.item.fields\r\n              };\r\n              this._createRow(subFieldId, configElement, destinationModel, sourceModel, prefix);\r\n            }\r\n          } else {\r\n            sourceModel = {\r\n              data: modelElement.data,\r\n              properties: modelElement.schema.properties,\r\n              fields: modelElement.options.fields\r\n            };\r\n            this._createRow(fieldId, configElement, destinationModel, sourceModel, prefix);\r\n          }\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _createCategory: function (configElement, destinationModel, prefix) {\r\n      _.each(this.form_models, function (modelElement) {\r\n        if (configElement.categoryId === modelElement.id) {\r\n          var sourceModel = {\r\n            data: modelElement.data,\r\n            properties: modelElement.schema.properties,\r\n            fields: modelElement.options.fields\r\n          };\r\n          _.each(modelElement.data, function (fieldElement, fieldIndex) {\r\n            this._createRow(fieldIndex, configElement, destinationModel, sourceModel, prefix);\r\n          }, this);\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _createRelation: function (configElement, destinationModel, prefix) {\r\n      _.each(this.form_models, function (modelElement) {\r\n        if (configElement.workspaceTypeId === modelElement.id) {\r\n          var sourceModel = {\r\n            data: modelElement.data,\r\n            properties: modelElement.schema.properties,\r\n            fields: modelElement.options.fields\r\n          };\r\n          _.each(modelElement.data, function (fieldElement, fieldIndex) {\r\n            sourceModel.fields[fieldIndex].workspace_type_id = modelElement.options.workspace_type_id;\r\n            this._createRow(fieldIndex, configElement, destinationModel, sourceModel, prefix);\r\n          }, this);\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _createRow: function (fieldId, config, destinationModel, sourceModel, prefix) {\r\n      var fieldVal = sourceModel.data[fieldId],\r\n        prop = sourceModel.properties[fieldId],\r\n        field = sourceModel.fields[fieldId],\r\n        key;\r\n      if (!this.hideEmptyFields || !this._isEmpty(fieldVal)) {\r\n        destinationModel.data[fieldId] = fieldVal;\r\n        destinationModel.properties[fieldId] = prop;\r\n        destinationModel.fields[fieldId] = field;\r\n        if (config.label) {\r\n          destinationModel.fields[fieldId].label =\r\n            BaseUtils.getClosestLocalizedString(config.label, \"Undefined\");\r\n        }\r\n        if (this.isReadOnly === true || config.readOnly === true) {\r\n          destinationModel.properties[fieldId].readonly = true;\r\n          destinationModel.fields[fieldId].readonly = true;\r\n          // if this is a Set attribute (contains an 'items' member) the readonly=true\r\n          // is propagated down to the members of the Set attribute\r\n          if ('items' in prop) {\r\n            for (key in prop.items.properties) {\r\n              prop.items.properties[key].readonly = true;\r\n            }\r\n          }\r\n          if ('properties' in prop) {\r\n            for (key in prop.properties) {\r\n              prop.properties[key].readonly = true;\r\n            }\r\n          }\r\n          if ('fields' in field) {\r\n            for (key in field.fields) {\r\n              field.fields[key].readonly = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    _isEmpty: function (val) {\r\n      if (val === null || val === undefined || val === \"\") {\r\n        return true;\r\n      }\r\n      var uniqueElements = _.uniq(_.values(val));\r\n      if (uniqueElements.length > 0) {\r\n        var allEmpty = true;\r\n        for (var i = 0; i < uniqueElements.length; i++) {\r\n          if (!this._isEmpty(uniqueElements[i])) {\r\n            allEmpty = false;\r\n            break;\r\n          }\r\n        }\r\n        if (allEmpty) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  });\r\n\r\n  NodeConnectableMixin.mixin(MetadataUpdateFormModel.prototype);\r\n\r\n  return MetadataUpdateFormModel;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/previewpane/impl/previewpane',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"binf-panel-heading conws-preview-header\\\">\\r\\n</div>\\r\\n\\r\\n<div class=\\\"binf-panel-body\\\">\\r\\n    <div class=\\\"conws-preview-metadata conws-preview-perfect-scroll\\\">\\r\\n    </div>\\r\\n\\r\\n    <hr>\\r\\n\\r\\n    <div class=\\\"binf-list-group conws-preview-role-members conws-preview-perfect-scroll\\\">\\r\\n        User Or Role Area\\r\\n    </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_utils_previewpane_impl_previewpane', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Business Workspace Header View\r\ncsui.define('conws/utils/previewpane/previewpane.view',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/utils/url',\r\n  'csui/controls/list/emptylist.view',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/utils/previewpane/impl/previewheader.model',\r\n  'conws/utils/previewpane/impl/previewheader.view',\r\n  'conws/utils/previewpane/impl/attributes.model',\r\n  'conws/utils/previewpane/impl/role.model',\r\n  'conws/utils/previewpane/impl/rolemembers.view',\r\n  'conws/widgets/metadata/impl/forms.metadata.update.model',\r\n  'conws/controls/selectedmetadataform/selectedmetadataform.view',\r\n  'i18n!conws/utils/previewpane/impl/nls/previewpane.lang',\r\n  'hbs!conws/utils/previewpane/impl/previewpane',\r\n  'css!conws/utils/previewpane/impl/previewpane'\r\n], function (require, _, $, Marionette, Handlebars, WidgetContainerBehavior, base, log, Url,\r\n    EmptyView, PerfectScrollingBehavior, LayoutViewEventsPropagationMixin,\r\n    PreviewHeaderModel, PreviewHeaderView, PreviewAttributesModel,\r\n    RoleMemberCollection, RoleMembersView,\r\n    MetadataModel, MetadataView,\r\n    lang, template) {\r\n\r\n  // initialize the Header View\r\n  var PreviewPaneView = Marionette.LayoutView.extend({\r\n    // CSS class names\r\n    className: 'conws-preview panel panel-default',\r\n\r\n    // Template is used to render the HTML for the view\r\n    template: template,\r\n\r\n    // the nested region is required to place right hand child view\r\n    regions: {\r\n      headerRegion: '.conws-preview-header',\r\n      metaDataRegion: '.conws-preview-metadata',\r\n      roleMembersRegion: '.conws-preview-role-members'\r\n    },\r\n\r\n    // the triggers are used to add / remove the workspace icon\r\n    triggers: {\r\n      'change #header-ws-add-icon-file': 'add:icon',\r\n      'click  #header-ws-remove-icon': 'remove:icon'\r\n    },\r\n\r\n    // find a better solution instead of a blank 1x1px png image\r\n    blankImage: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQI12NgYAAAAAMAASDVlMcAAAAASUVORK5CYII=',\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.conws-preview-perfect-scroll',\r\n        suppressScrollX: true\r\n      }\r\n    },\r\n\r\n    // The constructor gives an explicit name the the object in the debugger and\r\n    // can update the options for the parent view\r\n    constructor: function PreviewPaneView(options) {\r\n      // wire models and collections also to the parent view\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      options || (options = {});\r\n      this.config = options.config;\r\n      this.fetched = false;\r\n\r\n      // Only in case role or metadata is configured, show preview\r\n      if (this.config.roleId || this.config.metadata) {\r\n        // the related item view to show the preview for\r\n        this.parent = options.parent;\r\n\r\n        this.config.noMetadataMessage = this._localize('noMetadataMessage');\r\n        this.config.noRoleMembersMessage = this._localize('noRoleMembersMessage');\r\n        this.config.readonly = true;\r\n\r\n        //---------------------------------------------------------------\r\n        // create Backbone models for PreviewPane\r\n        //---------------------------------------------------------------\r\n        this.headerModel = new PreviewHeaderModel(options);\r\n        this.metaDataModel = new MetadataModel(undefined, {\r\n          node: options.node,\r\n          metadataConfig: this.config,\r\n          autofetch: true,\r\n          autoreset: true\r\n        });\r\n\r\n        this.roleMemberCollection = new RoleMemberCollection(null, options);\r\n\r\n        //---------------------------------------------------------------\r\n        // setup popover\r\n        //---------------------------------------------------------------\r\n        var container = $.fn.binf_modal.getDefaultContainer ?\r\n                        $.fn.binf_modal.getDefaultContainer() : 'body';\r\n        options.parent.$el.binf_popover({\r\n          content: this.$el,\r\n          parent: options.parent.$el,\r\n          placement: function () {\r\n            // reset element where popover is displayed, could have been changed e.g. due to\r\n            // resize browser\r\n            this.$element = this.options.parent;\r\n\r\n            // See also binf.js (Bootstrap - popover placement)\r\n            var defaultPlacement = \"right\";\r\n            var placement = defaultPlacement;\r\n            var tip = this.tip();\r\n\r\n            // To get the correct size and check the position, it must be attached\r\n            tip.detach()\r\n                .css({top: 0, left: 0, display: 'block'})\r\n                .addClass('binf-' + placement)\r\n                .data('binf.' + this.type, this);\r\n            this.options.container ? tip.appendTo(this.options.container) : tip.insertAfter(this.$element);\r\n\r\n            var pos = this.getPosition();\r\n            var $container = this.options.container ? $(this.options.container) :\r\n                             this.$element.parent();\r\n            var containerDim = this.getPosition($container);\r\n            var actualWidth = tip[0].offsetWidth;\r\n\r\n            // Check for space on the right side or on the left side of the widget\r\n            // containerDim.width = complete window width\r\n            if ((pos.right + actualWidth < containerDim.width) || (pos.left - actualWidth > 0)) {\r\n              // Calculate right or left placement beside the widget\r\n              placement = pos.right + actualWidth > containerDim.width ? 'left' :\r\n                          pos.left - actualWidth < containerDim.left ? 'right' :\r\n                          placement;\r\n            }\r\n            else {\r\n              // In case on the left and on the right side is not enough space, place it on the\r\n              // right side beside the title. Therefore change element beside popup is displayed\r\n              // to preview pane default position element if exist\r\n              var defaultPosition = $(this.$element[0]).find('.conws-previewpane-default-position');\r\n              if (defaultPosition.length > 0) {\r\n                this.$element.removeAttr('aria-describedby')\r\n                this.$element = defaultPosition\r\n                this.$element.attr('aria-describedby', tip.attr('id'))\r\n              }\r\n            }\r\n\r\n            // If placement has changed, set proper class\r\n            if( placement !== defaultPlacement ){\r\n              tip.removeClass('binf-' + defaultPlacement).addClass('binf-' + placement);\r\n            }\r\n\r\n            return placement;\r\n          },\r\n          trigger: 'manual',\r\n          container: container,\r\n          html: true\r\n        });\r\n\r\n        var $tip = this.parent.$el.data('binf.popover');\r\n        var $pop = $tip.tip();\r\n        $pop.addClass('conws-previewpane-popover');\r\n\r\n        //---------------------------------------------------------------\r\n        // setup event handlers for popover and its associated item view\r\n        //---------------------------------------------------------------\r\n\r\n        $pop.on('mouseenter', this, $.proxy(function () {\r\n              if (this.config.debug === true) {\r\n                log.info('Preview ' + this.options.node.get('id') + ': Mouseenter popover') && console.log(log.last);\r\n              }\r\n              this.show();\r\n            }, this)\r\n        );\r\n\r\n        $pop.on('mouseleave', this, $.proxy(function () {\r\n              if (this.config.debug === true) {\r\n                log.info('Preview ' + this.options.node.get('id') + ': Mouseleave popover') && console.log(log.last);\r\n              }\r\n              this.delayedHide();\r\n            }, this)\r\n        );\r\n\r\n        this.propagateEventsToRegions();\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function (e) {\r\n      if (this.config.roleId || this.config.metadata) {\r\n        this.parent.$el.binf_popover('destroy');\r\n      }\r\n    },\r\n\r\n    show: function () {\r\n      // Only in case role or metadata is configured, show preview\r\n      if (this.config.roleId || this.config.metadata) {\r\n        var that = this;\r\n\r\n        if (this.config.debug === true) {\r\n          log.info('Preview ' + this.options.node.get('id') + ': Preparing show') && console.log(log.last);\r\n        }\r\n\r\n        // clear hide timeout if there is one\r\n        if (this.hideTimeout) {\r\n          clearTimeout(this.hideTimeout);\r\n          if (this.config.debug === true) {\r\n            log.info('Preview ' + this.options.node.get('id') + ': Cleared hide timeout') && console.log(log.last);\r\n          }\r\n          this.hideTimeout = null;\r\n        }\r\n\r\n        // nothing to do if already visible\r\n        if (this.$el.is(\":visible\")) {\r\n          if (this.config.debug === true) {\r\n            log.info('Preview ' + this.options.node.get('id') + ': Already visible') && console.log(log.last);\r\n          }\r\n          return;\r\n        }\r\n\r\n        this.showCancelled = false;\r\n\r\n        this.$el.hide();\r\n        this.render();\r\n        var $deferred = $.Deferred();\r\n\r\n        if (this.headerView) {\r\n          this.headerView.destroy();\r\n        }\r\n\r\n        if (this.roleView) {\r\n          this.roleView.destroy();\r\n        }\r\n\r\n        if (this.metaDataView) {\r\n          this.metaDataView.destroy();\r\n        }\r\n\r\n        this.headerView = new PreviewHeaderView({model: this.headerModel, originatingView: this, context: this.options.context});\r\n        this.roleView = new RoleMembersView({\r\n          collection: this.roleMemberCollection,\r\n          noRoleMembersMessage: this.config.noRoleMembersMessage,\r\n          // Context is needed in constructor of TeamMemberListItem, so we need to pass it here\r\n          context: this.options.context\r\n        });\r\n        this.listenTo(this.roleView, 'click:member', this.hide);\r\n\r\n        this.metaDataView = new MetadataView({\r\n          model: this.metaDataModel,\r\n          context: this.options.context\r\n        });\r\n        this.metaDataView.on('render:form', function () {\r\n          that._attachUserFieldHandlers(this);\r\n          // Only called in case meta data configured\r\n          $deferred.resolve();\r\n        });\r\n\r\n        if( !this.config.metadata ){\r\n          // In case no meta data configured, still show role members\r\n          $deferred.resolve();\r\n        }\r\n\r\n        var proms;\r\n        if (!this.fetched) {\r\n          proms = [\r\n            this.headerModel.fetch(),\r\n            this.metaDataModel.fetch(),\r\n            this.roleMemberCollection.fetch(),\r\n            $deferred\r\n          ];\r\n        }\r\n        else if ( this.config.metadata ) {\r\n          // Do only in case metadata is configured\r\n          this.metaDataModel.trigger('change');\r\n          proms = [\r\n            $.Deferred().resolve(),\r\n            $.Deferred().resolve(),\r\n            $.Deferred().resolve(),\r\n            $deferred\r\n          ];\r\n        }\r\n\r\n        $.when.apply(this, proms).done(\r\n            _.bind(function () {\r\n              this.fetched = true;\r\n              if (!this.showCancelled) {\r\n                // close all other preview popovers\r\n                $(\".conws-previewpane-popover\").each(function (i, el) {\r\n                  var popoverId = $(el).attr('id');\r\n                  $(\"[aria-describedby^='\" + popoverId + \"']\").binf_popover('hide')\r\n                });\r\n\r\n                if (this.config.debug === true) {\r\n                  log.info('Preview ' + this.options.node.get('id') + ': Showing') && console.log(log.last);\r\n                }\r\n\r\n                var renderMeta = false;\r\n                if (_.isEmpty(this.metaDataModel.attributes.data)) {\r\n                  this.metaDataView = new EmptyView({text: this.config.noMetadataMessage});\r\n                  renderMeta = true;\r\n                }\r\n\r\n                // prepare and show popover for this item\r\n                this.headerRegion.show(this.headerView, {render: true});\r\n                this.metaDataRegion.show(this.metaDataView, {render: renderMeta});\r\n                this.roleMembersRegion.show(this.roleView, {render: true});\r\n                this.$el.show();\r\n                this.options.parent.$el.binf_popover('show');\r\n\r\n                if (this.config.debug === true) {\r\n                  log.info(\"Viewport height: \" + $(window).height()) && console.log(log.last);\r\n                  log.info(\"document height: \" + $(document).height()) && console.log(log.last);\r\n                  log.info(\"body     height: \" + $('body').height()) && console.log(log.last);\r\n                  log.info(\"popover  height: \" + this.$el.height()) && console.log(log.last);\r\n                  log.info(\"metadata height: \" +\r\n                              this.$el.find('.conws-preview-metadata').height()) && console.log(log.last);\r\n                  log.info(\"role     height: \" +\r\n                              this.$el.find('.conws-preview-role-members').height()) && console.log(log.last);\r\n                }\r\n                //triggering the perfect scroll behavior after updating the dom with metadata and roles data\r\n                this.triggerMethod('dom:refresh');\r\n              }\r\n              else if (this.config.debug === true) {\r\n                log.info('Preview ' + this.options.node.get('id') +\r\n                            ': Show was cancelled -> skipped') && console.log(log.last);\r\n              }\r\n            }, this)\r\n        );\r\n      }\r\n    },\r\n\r\n    hide: function () {\r\n      if (this.config.debug === true) {\r\n        log.info('Preview ' + this.options.node.get('id') + ': Going to hide') && console.log(log.last);\r\n      }\r\n\r\n      if (this.config && !this.config.debugNoHide) {\r\n        if (this.config.debug === true) {\r\n          log.info('Preview ' + this.options.node.get('id') + ': Hidden') && console.log(log.last);\r\n        }\r\n        this.options.parent.$el.binf_popover('hide');\r\n        this.hideTimeout = null;\r\n      }\r\n      else {\r\n        if (this.config.debug === true) {\r\n          log.info('Preview ' + this.options.node.get('id') + ': Leaving visible') && console.log(log.last);\r\n        }\r\n      }\r\n\r\n      this.showCancelled = true;\r\n      this.hideTimeout = null;\r\n    },\r\n\r\n    delayedHide: function () {\r\n      if (this.config.debug === true) {\r\n        log.info('Preview ' + this.options.node.get('id') + ': Setting hide timeout') && console.log(log.last);\r\n      }\r\n      this.hideTimeout = window.setTimeout($.proxy(this.hide, this), 200);\r\n    },\r\n\r\n    _localize: function (name) {\r\n      var ret = lang[name];\r\n\r\n      if (this.config[name]) {\r\n        ret = base.getClosestLocalizedString(this.config[name], ret);\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    // Attaches event handlers to user fields to\r\n    //    1. prevent user fields from displaying their info popover\r\n    //    2. close preview pane when user field is clicked to open user profile\r\n    _attachUserFieldHandlers: function (metadataView) {\r\n      var handler = function (event) {\r\n        log.info(\"User field mouseover\") && console.log(log.last);\r\n        event.stopPropagation();\r\n        return false;\r\n      };\r\n\r\n      var userFields = metadataView.$el.find(\".cs-userfield .cs-field-read\");\r\n      _.each(userFields, function (field) {\r\n        field.addEventListener('mouseover', handler, true);\r\n      });\r\n\r\n      handler = $.proxy(this.hide, this);\r\n      metadataView.$el.find(\".cs-userfield .cs-field-read-inner\").on('click',handler);\r\n    }\r\n  });\r\n\r\n  _.extend(PreviewPaneView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return the initialized view\r\n  return PreviewPaneView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/relatedworkspaces/impl/relateditem',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <span class=\\\"conws-value\\\">\\r\\n              <span class=\\\"conws-previewpane-default-position\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"</span>\\r\\n            </span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":10,\"column\":12},\"end\":{\"line\":13,\"column\":19}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"              <!-- add element to get proper distance to value -->\\r\\n              <div class=\\\"conws-spacer\\\"></div>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <span class=\\\"conws-label\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1), depth0))\n    + \"</span>\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"            <!-- add element to get proper distance to description -->\\r\\n            <div class=\\\"conws-description-spacer\\\"></div>\\r\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"          <div class=\\\"conws-right\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"topRight\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":26,\"column\":12},\"end\":{\"line\":32,\"column\":19}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"topRight\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":33,\"column\":12},\"end\":{\"line\":35,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <span class=\\\"conws-value\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"topRight\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"</span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"topRight\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":28,\"column\":14},\"end\":{\"line\":31,\"column\":21}}})) != null ? stack1 : \"\");\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"                <!-- add element to get proper distance to value -->\\r\\n                <div class=\\\"conws-spacer\\\"></div>\\r\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <span class=\\\"conws-label\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"topRight\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1), depth0))\n    + \"</span>\\r\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"          <div class=\\\"conws-body\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"description\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"</div>\\r\\n\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"          <div class=\\\"conws-left\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomLeft\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(17, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":49,\"column\":12},\"end\":{\"line\":55,\"column\":19}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomLeft\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(19, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":56,\"column\":12},\"end\":{\"line\":58,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n\";\n},\"17\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <span class=\\\"conws-label\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomLeft\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1), depth0))\n    + \"</span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomLeft\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":51,\"column\":14},\"end\":{\"line\":54,\"column\":21}}})) != null ? stack1 : \"\");\n},\"19\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <span class=\\\"conws-value\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomLeft\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"</span>\\r\\n\";\n},\"21\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"          <div class=\\\"conws-right\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomRight\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(22, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":63,\"column\":12},\"end\":{\"line\":69,\"column\":19}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomRight\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(24, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":70,\"column\":12},\"end\":{\"line\":72,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n\";\n},\"22\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <span class=\\\"conws-label\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomRight\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1), depth0))\n    + \"</span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomRight\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":65,\"column\":14},\"end\":{\"line\":68,\"column\":21}}})) != null ? stack1 : \"\");\n},\"24\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <span class=\\\"conws-value\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"bottomRight\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1), depth0))\n    + \"</span>\\r\\n\";\n},\"26\":function(container,depth0,helpers,partials,data) {\n    return \"  <div class=\\\"conws-relateditem-divider\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-relateditem-action-area\\\">\\r\\n  <a class=\\\"conws-nostyle\\\" href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"defaultActionUrl\") || (depth0 != null ? lookupProperty(depth0,\"defaultActionUrl\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"defaultActionUrl\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":33},\"end\":{\"line\":2,\"column\":53}}}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"conws-relateditem-border\\\">\\r\\n      <div class=\\\"conws-relateditem-top \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"inactive\") || (depth0 != null ? lookupProperty(depth0,\"inactive\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"inactive\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":40},\"end\":{\"line\":4,\"column\":52}}}) : helper)))\n    + \"\\\">\\r\\n        <div class=\\\"conws-title conws-left \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"inactive\") || (depth0 != null ? lookupProperty(depth0,\"inactive\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"inactive\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":43},\"end\":{\"line\":5,\"column\":55}}}) : helper)))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":6,\"column\":10},\"end\":{\"line\":14,\"column\":17}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? lookupProperty(stack1,\"label\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":15,\"column\":10},\"end\":{\"line\":17,\"column\":17}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"description\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":18,\"column\":10},\"end\":{\"line\":21,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"        </div>\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"topRight\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":24,\"column\":8},\"end\":{\"line\":37,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n\\r\\n      <div class=\\\"conws-relateditem-center \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"inactive\") || (depth0 != null ? lookupProperty(depth0,\"inactive\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"inactive\",\"hash\":{},\"loc\":{\"start\":{\"line\":40,\"column\":43},\"end\":{\"line\":40,\"column\":55}}}) : helper)))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"description\") : depth0)) != null ? lookupProperty(stack1,\"value\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":41,\"column\":8},\"end\":{\"line\":43,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n\\r\\n      <div class=\\\"conws-relateditem-bottom \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"inactive\") || (depth0 != null ? lookupProperty(depth0,\"inactive\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"inactive\",\"hash\":{},\"loc\":{\"start\":{\"line\":46,\"column\":43},\"end\":{\"line\":46,\"column\":55}}}) : helper)))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"bottomLeft\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(16, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":47,\"column\":8},\"end\":{\"line\":60,\"column\":15}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"bottomRight\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(21, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":61,\"column\":8},\"end\":{\"line\":74,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n    </div>\\r\\n  </a>\\r\\n</div>\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"notLastItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(26, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":80,\"column\":0},\"end\":{\"line\":82,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_widgets_relatedworkspaces_impl_relateditem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/relatedworkspaces/impl/relateditem',[],function(){});\n","// Shows a list of workspaces related to the current one\r\ncsui.define('conws/widgets/relatedworkspaces/impl/relateditem.view',['module', 'csui/lib/underscore', 'csui/lib/marionette', 'csui/lib/jquery',\r\n  'conws/utils/previewpane/previewpane.view',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/utils/base',\r\n  'csui/lib/numeral',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/lang',\r\n  'hbs!conws/widgets/relatedworkspaces/impl/relateditem',\r\n  'css!conws/widgets/relatedworkspaces/impl/relateditem'\r\n], function (module, _, Marionette, $,\r\n    PreviewPaneView,\r\n    DefaultActionBehavior,\r\n    base,\r\n    numeral,\r\n    lang,\r\n    itemTemplate) {\r\n\r\n  var RelatedItemView = Marionette.ItemView.extend({\r\n\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function RelatedItemView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    triggers: {\r\n      'click .conws-relateditem-border': 'click:item'\r\n    },\r\n\r\n    events: {\r\n      'mouseenter': 'showPreviewPane',\r\n      'mouseleave': 'hidePreviewPane'\r\n    },\r\n\r\n    onClickItem: function () {\r\n      this.destroyPreviewPane();\r\n      this.triggerMethod('execute:defaultAction', this.model);\r\n    },\r\n\r\n    onBeforeDestroy: function (e) {\r\n      this.destroyPreviewPane();\r\n    },\r\n\r\n    showPreviewPane: function () {\r\n      if (this.options && this.options.data && this.options.data.preview && (this.options.data.preview.roleId || this.options.data.preview.metadata)) {\r\n        if (!this.previewPane) {\r\n          this.previewPane = new PreviewPaneView({\r\n            parent: this,\r\n            context: this.options.context,\r\n            config: this.options.data && this.options.data.preview,\r\n            node: this.model\r\n          });\r\n        }\r\n        this.previewPane.show();\r\n      }\r\n    },\r\n\r\n    hidePreviewPane: function () {\r\n      if (this.previewPane) {\r\n        this.previewPane.delayedHide();\r\n      }\r\n    },\r\n\r\n    destroyPreviewPane: function() {\r\n      if (this.previewPane) {\r\n        this.previewPane.destroy();\r\n        delete this.previewPane;\r\n      }\r\n    },\r\n\r\n    className: 'conws-relateditem-object clearfix',\r\n    template: itemTemplate,\r\n\r\n    serializeData: function () {\r\n\r\n      // prepare values\r\n      var allval = this._getObject(this.options.data || {});\r\n\r\n      var values = {};\r\n\r\n      // take only values we want\r\n      allval.title && (values.title = allval.title);\r\n      allval.description && (values.description = allval.description);\r\n      allval.topRight && (values.topRight = allval.topRight);\r\n      allval.bottomLeft && (values.bottomLeft = allval.bottomLeft);\r\n      allval.bottomRight && (values.bottomRight = allval.bottomRight);\r\n\r\n      // default values if still no value is set\r\n      values.title || (values.title = {value: this.model.get('name')});\r\n      values.name || (values.name = this.model.get('name'));\r\n      values.id || (values.id = this.model.get('id'));\r\n      values.defaultActionUrl = DefaultActionBehavior.getDefaultActionNodeUrl(this.model);\r\n\r\n      // provide property to indicate that this is not the last item\r\n      if (this.model.get(\"id\") !==\r\n          this.model.collection.models[this.model.collection.models.length - 1].get(\"id\")) {\r\n        values.notLastItem = true;\r\n      }\r\n\r\n      values.inactive = this.defaultActionController.hasAction(this.model) ? '' : 'inactive';\r\n\r\n      return values;\r\n    },\r\n\r\n    templateHelpers: function (data) {\r\n      return data;\r\n    },\r\n\r\n    // Loop over configuration and set proper content that should be displayed\r\n    _getObject: function (object) {\r\n      return _.reduce(object, function (result, expression, name) {\r\n        if (typeof expression !== 'object') {\r\n          expression = this.self._getValue(expression);\r\n        } else if (typeof expression === 'object') {\r\n          if(name === 'value' || name === 'label') {\r\n            var exp = base.getClosestLocalizedString(expression);\r\n            expression = this.self._getValue(exp);\r\n          }\r\n          else {\r\n            expression = this.self._getObject(expression);\r\n          }\r\n        }\r\n        result[name] = expression;\r\n\r\n        return result;\r\n      }, {}, {\"self\": this});\r\n    },\r\n\r\n    _getValue: function (expression) {\r\n      // Replace the {} parameter placeholders\r\n      var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g,\r\n          match, propertyName, placeholder, value, valueFormat, result = expression;\r\n      // Go over every parameter placeholder found\r\n      // Don't change expression while doing this, because exec remembers position of last matches\r\n      while ((match = parameterPlaceholder.exec(expression))) {\r\n        placeholder = match[0];\r\n        propertyName = match[1];\r\n        valueFormat = match[3];\r\n        // Format the value according to his type\r\n        if (this.model.collection.columns.models) {\r\n          value = this._formatPlaceholder(propertyName, valueFormat, this.model.attributes,\r\n              this.model.collection.columns.models);\r\n        }\r\n\r\n        // Replace the placeholder with the value found\r\n        result = result.replace(placeholder, value);\r\n      }\r\n      return result;\r\n    },\r\n\r\n    // returns a type specifically formatted model value.\r\n    _formatPlaceholder: function (propertyName, valueFormat, attributes, columnModels) {\r\n      var value, column, type, suffix = \"_expand\", orgPropertyName = propertyName;\r\n\r\n      column = _.find(columnModels, function (obj) {\r\n        return obj.get(\"column_key\") === propertyName;\r\n      });\r\n      type = column && column.get(\"type\") || undefined;\r\n\r\n      // If exist use expanded property\r\n      propertyName = attributes[propertyName + suffix] ? propertyName + suffix : propertyName;\r\n      value = attributes[propertyName] || \"\";\r\n\r\n      switch (type) {\r\n      case -7:\r\n        value = base.formatDate(value);\r\n        break;\r\n      case 5:\r\n        // Type 5 is a boolean and in this case format properly\r\n        value = attributes[propertyName + \"_formatted\"];\r\n        if (value === null || value === undefined) {\r\n          value = '';\r\n        }\r\n        break;\r\n      case 2, 14:\r\n        // Type 2 and 14 can be user or group and in this case format properly\r\n        // Check for type_name : user + expand -> user\r\n        // Check for type_name : group + expand -> group\r\n        if (propertyName.indexOf(suffix, this.length - suffix.length) !== -1 &&\r\n            (attributes[propertyName].type_name === \"User\" || attributes[propertyName].type_name === \"Group\")) {\r\n          value = base.formatMemberName(value);\r\n        }\r\n        else {\r\n          // If exist use _formatted property\r\n          value = attributes[orgPropertyName + \"_formatted\"];\r\n        }\r\n\r\n        // No break because it must also be checked for default!\r\n        /* falls through */\r\n      default:\r\n        // Allow currency to applied for different types, e.g. also a string can be\r\n        // formatted as currency\r\n        if (valueFormat === 'currency') {\r\n          // FIXME: format properly if csui provide formating currencies, for now use default\r\n          value = numeral(value).format();\r\n        }\r\n\r\n        // In case the value is still expanded object (e.g. user property is undefined, ...)\r\n        // Set value the not expanded property\r\n        if (typeof value === 'object') {\r\n          value = attributes[orgPropertyName] || \"\";\r\n        }\r\n      }\r\n      return value;\r\n    }\r\n  });\r\n\r\n  return RelatedItemView;\r\n\r\n});\r\n\n","csui.define('conws/utils/workspaces/close.expanded.view',['require', 'csui/lib/jquery', 'csui/utils/base', 'csui/lib/underscore',\r\n  'csui/utils/commandhelper', 'csui/models/command'\r\n], function (require, $, base, _, CommandHelper, CommandModel) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Dummy command to make a close button visible and executable in toolbar view.\r\n   * But do not register command in the global command list.\r\n   * Execution is done by the view itself listening to the toolbar events\r\n   * 'before:execute:command' and 'after:execute:command'.\r\n   */\r\n  var CloseExpandedViewCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: \"CloseExpandedView\",\r\n      scope: \"single\"\r\n    },\r\n\r\n    enabled: function (status, options) {\r\n      return true;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n    }\r\n\r\n  });\r\n\r\n  return CloseExpandedViewCommand;\r\n\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/commands',[\r\n  'csui/models/commands',\r\n  'csui/utils/commands',\r\n  'conws/utils/workspaces/close.expanded.view'\r\n], function (\r\n    CommandCollection,\r\n    commands,\r\n    CloseExpandedViewCommand) {\r\n\r\n    /**\r\n     * Append close command to standard commands list, to have it in the related items view only.\r\n     */\r\n    var relatedWorkspacesCommands = new CommandCollection([\r\n      new CloseExpandedViewCommand()\r\n    ].concat(commands.models));\r\n\r\n  return relatedWorkspacesCommands;\r\n});\r\n\n","\n","csui.define('conws/widgets/relatedworkspaces/toolbaritems',[\r\n  'csui/lib/underscore',\r\n  'i18n!conws/utils/workspaces/impl/nls/lang',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/lang',\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'csui/controls/toolbar/toolitem.model',\r\n  'csui/widgets/favorites/favorite.star.view',\r\n  // Load extra tool items to be added to this collection\r\n  'csui-ext!conws/widgets/relatedworkspaces/toolbaritems'\r\n], function (_, wksplang, lang, ToolItemsFactory, TooItemModel, FavoriteStarView,\r\n    extraToolItems) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with csui/widgets/nodestable/toolbaritems.masks\r\n  var toolbarItems = {\r\n\r\n    addToolbar: new ToolItemsFactory(\r\n        {\r\n          main: [\r\n            {\r\n              signature: \"AddRelation\",\r\n              name: lang.ToolbarItemAddRelation,\r\n              iconName: \"csui_action_add32\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 2,\r\n          dropDownIconName: \"csui_action_more32\",\r\n          dropDownText: \"...\",\r\n          addTrailingDivider: false\r\n        }),\r\n    tableHeaderToolbar: new ToolItemsFactory({\r\n        main: [\r\n          {\r\n            signature: \"RemoveRelation\",\r\n            name: lang.ToolbarItemRemoveRelation\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        maxItemsShown: 15,\r\n        dropDownIconName: \"csui_action_more32\",\r\n        dropDownText: \"...\",\r\n        addGroupSeparators: false,\r\n        lazyActions: true\r\n      }),\r\n    rightToolbar: new ToolItemsFactory({\r\n      main: [\r\n        {\r\n          signature: \"CloseExpandedView\",\r\n          name: wksplang.ToolbarItemCloseExpandedView,\r\n          iconName: \"csui_action_minimize32\"\r\n        }\r\n     ]\r\n    }, {\r\n      hAlign: \"right\",\r\n      maxItemsShown: 5,\r\n      dropDownIconName: \"csui_action_more32\",\r\n      dropDownText: \"...\",\r\n      addTrailingDivider: false\r\n    })\r\n  };\r\n\r\n  if (extraToolItems) {\r\n    _.each(extraToolItems, function (moduleToolItems) {\r\n      _.each(moduleToolItems, function (toolItems, key) {\r\n        var targetToolbar = toolbarItems[key];\r\n        if (!targetToolbar && key === 'otherToolbar') {\r\n          targetToolbar = toolbarItems['tableHeaderToolbar'];\r\n        }\r\n        if (!targetToolbar) {\r\n          throw new Error('Invalid target toolbar: ' + key);\r\n        }\r\n        _.each(toolItems, function (toolItem) {\r\n          toolItem = new TooItemModel(toolItem);\r\n          targetToolbar.addItem(toolItem);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  return toolbarItems;\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/toolbaritems.masks',['module', 'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.mask',\r\n  'csui/utils/toolitem.masks/global.toolitems.mask'\r\n], function (module, _, ToolItemMask, GlobalMenuItemsMask) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with conws/widgets/relatedworkspaces/impl/toolbaritems\r\n  var toolbars = ['filterToolbar', 'leftToolbar', 'tableHeaderToolbar',\r\n                  'inlineActionbar', 'rightToolbar'];\r\n\r\n  function ToolbarItemsMasks() {\r\n    var config = module.config(),\r\n        globalMask = new GlobalMenuItemsMask();\r\n    // Create and populate masks for every toolbar\r\n    this.toolbars = _.reduce(toolbars, function (toolbars, toolbar) {\r\n      var mask = new ToolItemMask(globalMask, {normalize: false});\r\n      // Masks passed in by separate require.config calls are sub-objects\r\n      // stored in the outer object be different keys\r\n      _.each(config, function (source, key) {\r\n        source = source[toolbar];\r\n        if (source) {\r\n          mask.extendMask(source);\r\n        }\r\n      });\r\n      // Enable restoring the mask to its initial state\r\n      mask.storeMask();\r\n      toolbars[toolbar] = mask;\r\n      return toolbars;\r\n    }, {});\r\n  }\r\n\r\n  ToolbarItemsMasks.toolbars = toolbars;\r\n\r\n  return ToolbarItemsMasks;\r\n\r\n});\r\n\n","\n","csui.define('conws/widgets/relatedworkspaces/headermenuitems',['csui/lib/underscore',\r\n  'i18n!csui/controls/tabletoolbar/impl/nls/localized.strings',\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'csui/controls/toolbar/toolitem.model',\r\n  // Load extra tool items to be added to this collection\r\n  'csui-ext!conws/widgets/relatedworkspaces/headermenuitems'\r\n], function (_, lang, ToolItemsFactory, TooItemModel, extraMenuItems) {\r\n\r\n  var toolbarItems = {\r\n    headerMenuToolbar: new ToolItemsFactory({\r\n          other: [] // empty list. no menu is displayed.\r\n        },\r\n        {\r\n          maxItemsShown: 0, // force toolbar to immediately start with a drop-down list\r\n          dropDownIcon: \"icon icon-expandArrowDown\"\r\n        }\r\n    )\r\n  };\r\n\r\n  if (extraMenuItems) {\r\n    _.each(extraMenuItems, function (moduleMenuItems) {\r\n      _.each(moduleMenuItems, function (menuItems, key) {\r\n        var targetToolbar = toolbarItems[key];\r\n        if (!targetToolbar) {\r\n          throw new Error('Invalid target toolbar: ' + key);\r\n        }\r\n        _.each(menuItems, function (menuItem) {\r\n          menuItem = new TooItemModel(menuItem);\r\n          targetToolbar.addItem(menuItem);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  return toolbarItems;\r\n\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/headermenuitems.masks',['module', 'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.mask',\r\n  'csui/utils/toolitem.masks/global.toolitems.mask'\r\n], function (module, _, ToolItemMask, GlobalMenuItemsMask) {\r\n  'use strict';\r\n\r\n  var HeaderMenuItemsMask = ToolItemMask.extend({\r\n\r\n    constructor: function HeaderMenuItemsMask() {\r\n      var config = module.config(),\r\n          globalMask = new GlobalMenuItemsMask();\r\n      ToolItemMask.prototype.constructor.call(this, globalMask, {normalize: false});\r\n      // Masks passed in by separate require.config calls are sub-objects\r\n      // stored in the outer object be different keys\r\n      _.each(config, function (source, key) {\r\n        this.extendMask(source);\r\n      }, this);\r\n      // Enable restoring the mask to its initial state\r\n      this.storeMask();\r\n    }\r\n\r\n  });\r\n\r\n  return HeaderMenuItemsMask;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/workspaces/workspacestable',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-alternating-toolbars\\\">\\r\\n  <div class=\\\"conws-table-tabletoolbar\\\"></div>\\r\\n  <div class=\\\"conws-table-rowselection-toolbar\\\"></div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"showAlternatingToolbar\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":6,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div class=\\\"conws-workspacestable\\\">\\r\\n  <div id=\\\"tableview\\\"></div>\\r\\n  <div id=\\\"paginationview\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_utils_workspaces_workspacestable', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/utils/workspaces/workspaces.columns',['csui/lib/backbone'], function (Backbone) {\r\n\r\n  var TableColumnModel = Backbone.Model.extend({\r\n\r\n    idAttribute: 'key',\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    }\r\n\r\n  });\r\n\r\n  var TableColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: TableColumnModel,\r\n    comparator: 'sequence',\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    },\r\n\r\n    deepClone: function () {\r\n      return new TableColumnCollection(\r\n          this.map(function (column) {\r\n            return column.attributes;\r\n          }));\r\n    }\r\n\r\n  });\r\n\r\n  // sequence:\r\n  // 1-100: Fixed columns\r\n  // 500-600: Dynamic columns (custom columns in widget configuration)\r\n  // 900-1000: Special columns at the end (favorite, like, comment)\r\n  // Hint: if the sequence of 'name' column is changed, the focused column in workspacestable.view\r\n  // should be also adapted with the new id.\r\n  // Current state is tableView.accFocusedState.body.column = 1\r\n\r\n  var tableColumns = new TableColumnCollection([\r\n    {\r\n      key: 'type',\r\n      sequence: 10\r\n    },\r\n    {\r\n      key: 'name',\r\n      sequence: 20\r\n    },\r\n    {\r\n      key: 'size',\r\n      sequence: 30\r\n    },\r\n    {\r\n      key: 'modify_date',\r\n      sequence: 40\r\n    },\r\n    {\r\n      key: 'favorite',\r\n      sequence: 910,\r\n      noTitleInHeader: true, // don't display a column header\r\n      permanentColumn: true // don't wrap column due to responsiveness into details row\r\n    }\r\n  ]);\r\n\r\n  return tableColumns;\r\n\r\n});\r\n\n","\ncsui.define('css!conws/utils/workspaces/workspacestable',[],function(){});\n","csui.define('conws/utils/workspaces/workspacestable.view',['module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/backbone', 'csui/lib/marionette', 'csui/utils/log',\r\n  'i18n!conws/utils/workspaces/impl/nls/lang',\r\n  'hbs!conws/utils/workspaces/workspacestable',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/models/node/node.model',\r\n  'csui/controls/table/table.view',\r\n  'csui/controls/tabletoolbar/tabletoolbar.view',\r\n  'csui/controls/table.rowselection.toolbar/table.rowselection.toolbar.view',\r\n  'csui/utils/commands',\r\n  'csui/controls/toolbar/toolbar.command.controller',\r\n  'csui/controls/pagination/nodespagination.view',\r\n  'conws/utils/workspaces/workspaces.columns',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/utils/accessibility',\r\n  'csui/utils/base',\r\n  'csui/controls/progressblocker/blocker',\r\n  'conws/utils/workspaces/busyindicator',\r\n  'csui/lib/jquery.redraw',\r\n  'css!conws/utils/workspaces/workspacestable',\r\n  'css!conws/utils/workspaces/workspaces',\r\n  'csui/controls/toolbar/toolbar.view' /* must load this as well to have toolbar.css effective. */\r\n], function (module, $, _, Backbone,\r\n    Marionette, log, lang,\r\n    template,\r\n    DefaultActionBehavior,\r\n    ConnectorFactory,\r\n    NodeModel,\r\n    TableView,\r\n    TableToolbarView,\r\n    TableRowSelectionToolbarView,\r\n    commands,\r\n    ToolbarCommandController,\r\n    PaginationView,\r\n    WorkspacesColumns,\r\n    ModalAlert,\r\n    Accessibility,\r\n    base,\r\n    BlockingView,\r\n    BusyIndicator) {\r\n\r\n  var config = module.config();\r\n  var orderByDefault = { sortColumn: \"{name}\", sortOrder: \"asc\" };\r\n\r\n  var accessibleTable = Accessibility.isAccessibleTable();\r\n\r\n  var WorkspacesTableView = Marionette.LayoutView.extend({\r\n\r\n    className: function () {\r\n      var className = 'conws-workspaces-table';\r\n      if (accessibleTable) {\r\n        className += ' csui-no-animation';\r\n      }\r\n      return className;\r\n    },\r\n\r\n    template: template,\r\n\r\n    ui: {\r\n      // facetTableContainer: '.csui-facet-table-container',\r\n      // outerTableContainer: '.csui-outertablecontainer',\r\n      // innerTableContainer: '.csui-innertablecontainer',\r\n      // tableView: '.csui-table-tableview',\r\n      // thumbnail: '.csui-thumbnail-wrapper',\r\n      toolbarContainer: '.conws-alternating-toolbars'//,\r\n      // facetView: '.csui-table-facetview',\r\n      // paginationView: '.csui-table-paginationview'\r\n    },\r\n\r\n    regions: {\r\n      tableToolbarRegion: '.conws-table-tabletoolbar',\r\n      tableRowSelectionToolbarRegion: '.conws-table-rowselection-toolbar',\r\n      tableRegion: '#tableview',\r\n      paginationRegion: '#paginationview'\r\n    },\r\n\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function WorkspacesTableView(options) {\r\n      if (options === undefined || !options.context) {\r\n        throw new Error('Context required to create WorkspacesTableView');\r\n      }\r\n      if (!options.collection) {\r\n        throw new Error('Collection required to create WorkspacesTableView');\r\n      }\r\n      options.data || (options.data = {});\r\n      this.context = options.context;\r\n      this.collection = options.collection;\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments); // sets this.options\r\n      _.defaults(this.options.data, {\r\n        pageSize: config.defaultPageSize || 20,\r\n        orderBy: {}\r\n      });\r\n      _.defaults(this.options.data.orderBy, orderByDefault );\r\n\r\n      if (this.options &&\r\n          this.options.data &&\r\n          this.options.data.expandedView &&\r\n          this.options.data.expandedView.orderBy) {\r\n        if (_.isString(this.options.data.expandedView.orderBy)) {\r\n          log.error(lang.errorOrderByMustNotBeString) && console.log(log.last);\r\n          ModalAlert.showError(lang.errorOrderByMustNotBeString);\r\n        } else if (this.options.data.expandedView.orderBy.sortColumn) {\r\n          var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g;\r\n          var match = parameterPlaceholder.exec(this.options.data.expandedView.orderBy.sortColumn);\r\n          if (!match) {\r\n            log.error(lang.errorOrderByMissingBraces) && console.log(log.last);\r\n            ModalAlert.showError(lang.errorOrderByMissingBraces);\r\n          }\r\n        }\r\n      }\r\n\r\n      this.onWinRefresh = _.bind(this.windowRefresh, this);\r\n      $(window).on(\"resize.app\", this.onWinRefresh);\r\n\r\n      if (this.options.blockingParentView) {\r\n        BlockingView.delegate(this, this.options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n\r\n      // List for the event notifying when a dialog has been shown - at which point element sizing\r\n      // can be determined\r\n      this.listenTo(this, 'after:show', this.windowRefresh);\r\n\r\n      // Show error if returned from server\r\n      this.listenTo(this.collection, \"request\", this.blockActions)\r\n          .listenTo(this.collection, \"sync\", this.unblockActions)\r\n          .listenTo(this.collection, \"destroy\", this.unblockActions)\r\n          .listenTo(this.collection, \"error\", function (model,request,options) {\r\n            this.unblockActions.apply(this, arguments);\r\n            if (request) {\r\n              ModalAlert.showError((new base.Error(request)).message);\r\n            }\r\n          })\r\n          .listenTo(this.collection,\"sync\",function(){\r\n            if (this.collection.selectActions) {\r\n              var showSelectColumn = !!(this.options.showSelectColumn && this.collection.existsSelectable);\r\n              if (this.tableView && this.tableView.options && this.tableView.options.selectColumn!==showSelectColumn) {\r\n                this.tableView.options.selectColumn = showSelectColumn;\r\n                this.collection.columns.trigger('reset',this.collection.columns);\r\n              }\r\n            }\r\n          });\r\n    },\r\n\r\n    initialize: function() {\r\n\r\n      Marionette.LayoutView.prototype.initialize.apply(this, arguments);\r\n\r\n      if (this.options.hasTableRowSelection) {\r\n\r\n        // log warning if options.toolbarItems is not set\r\n        // log warning if options.toolbarItemsMasks is not set\r\n        // log warning if options.headermenuItems is not set\r\n        // log warning if options.headermenuItemsMasks is not set\r\n\r\n        _.defaults(this.options,{\r\n          showCondensedHeaderToggle: true,\r\n          showSelectColumn: true,\r\n          showSelectionCounter: true\r\n        });\r\n\r\n        this.commands = this.options.commands || commands;\r\n        this.commandController = this.options.commandController || new ToolbarCommandController({commands: this.commands});\r\n\r\n        this.listenTo(this.commandController, 'before:execute:command', this._beforeExecuteCommand);\r\n        this.listenTo(this.commandController, 'after:execute:command', this._toolbarActionTriggered);\r\n        this.listenTo(this, 'dom:refresh', this._refreshTableToolbar);\r\n  \r\n        this.initAllSelection();\r\n\r\n        // in selectActions collect all actions, participating in the selection,\r\n        // i.e. all command keys used in rowSelectionToolbar.\r\n        var selcmds = this.commands;\r\n        var sigcmds = _.compact(this.options.toolbarItems.tableHeaderToolbar.collection.map(function(toolItem){\r\n          return (selcmds.get(toolItem.get(\"signature\")));\r\n        }));\r\n        this.collection.selectActions = _.flatten(_.map(sigcmds,function(cmd){\r\n          return cmd.get(\"command_key\");\r\n        }));\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n      $(window).off(\"resize.app\", this.onWinRefresh);\r\n    },\r\n\r\n    _refreshTableToolbar: function () {\r\n      if (this.tableToolbarView && this.tableToolbarView.rightToolbarView) {\r\n        this.tableToolbarView.rightToolbarView.collection.refilter();\r\n      }\r\n    },\r\n\r\n    templateHelpers: function (data) {\r\n      data = data || {};\r\n      data.showAlternatingToolbar = !!this.options.hasTableRowSelection;\r\n      return data;\r\n    },\r\n\r\n    doRender: function (collection) {\r\n\r\n      // Due to endless scrolling and different properties displayed we have to fetch the first page again\r\n      _.extend(collection.options.query, this._getCollectionUrlQuery());\r\n      collection.setLimit(0, this.options.data.pageSize, false);\r\n\r\n      // Render table after workspaces are fetched because not\r\n      // all columns are loaded by limited view (e.g. modify_date)\r\n      var self = this;\r\n      collection\r\n        .once('sync', function() {\r\n          self.renderAfterFetch(self,collection);\r\n        })\r\n        .fetch();\r\n      // Not needed to care about error here, since the error listener defined in constructor,\r\n      // cares also bout error caused by this fetch\r\n\r\n      if (this.options.hasTableRowSelection) {\r\n        this._setToolBar();\r\n        this._setTableRowSelectionToolbar({\r\n          toolItemFactory: this.options.toolbarItems.tableHeaderToolbar,\r\n          toolbarItemsMask: this.options.toolbarItemsMasks.toolbars.tableHeaderToolbar,\r\n          showCondensedHeaderToggle: this.options.showCondensedHeaderToggle,\r\n          showSelectionCounter: this.options.showSelectionCounter\r\n        });\r\n        this._setTableRowSelectionToolbarEventListeners();\r\n        \r\n        this.tableToolbarRegion.show(this.tableToolbarView);\r\n\r\n        if (this.tableRowSelectionToolbarRegion) {\r\n          if (this._tableRowSelectionToolbarView) {\r\n            this.tableRowSelectionToolbarRegion.show(this._tableRowSelectionToolbarView);\r\n          }\r\n          this.tableRowSelectionToolbarRegion.$el.find('ul').attr('aria-label',\r\n            lang.selectedItemActionBarAria);\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n    renderAfterFetch: function (self, collection) {\r\n      var columns   = self.collection.columns,\r\n          connector = self.context.getObject(ConnectorFactory);\r\n\r\n      // For all columns where sort is true, search must be possible\r\n      var columnsWithSearch = [];\r\n      _.each(columns.models, function (model) {\r\n        // Enable sorting only for string types (e.g. StringField, StringMultiLine, StringPopup)\r\n        // This is required for now, since server does not support other types\r\n        if (model.get(\"sort\") === true && model.get(\"type\") === -1) {\r\n          columnsWithSearch.push(model.get(\"column_key\"));\r\n        }\r\n      });\r\n\r\n      // Add custom columns from widget configuration to displayed columns\r\n      // Don't change WorkspacesColumns!\r\n      var tableColumns = WorkspacesColumns.clone();\r\n      tableColumns.add(this._getCustomColumns(true));\r\n      this.tableColumns = tableColumns;\r\n\r\n      this.tableView = new TableView({\r\n        context: this.options.context,\r\n        connector: connector,\r\n        collection: collection,\r\n        columns: columns,\r\n        tableAria: this.options.tableAria || \"\",\r\n        // Columns (node properties) displayed in table view\r\n        tableColumns: tableColumns,\r\n        columnsWithSearch: columnsWithSearch,\r\n        selectColumn: !!(this.options.showSelectColumn && this.collection.existsSelectable),\r\n        showSelectionCounter: !!this.options.showSelectionCounter,\r\n        allSelectedNodes: this.allSelectedNodes,\r\n        pageSize: this.options.data.pageSize,\r\n        orderBy: this.collection.orderBy,\r\n        nameEdit: false,\r\n        actionItems: this.defaultActionController.actionItems,\r\n        commands: this.defaultActionController.commands,\r\n        tableTexts: {\r\n          zeroRecords: lang.noWorkspacesFound\r\n        }\r\n      });\r\n\r\n      if (this.options.hasTableRowSelection) {\r\n        this._setTableViewEvents();\r\n      }\r\n      \r\n      // Since the table view is rendered after data is fetched, we must enable the empty view text\r\n      // Otherwise it would stay disabled\r\n      this.tableView.enableEmptyViewText();\r\n      this.listenTo(this.tableView, 'execute:defaultAction', function (node) {\r\n        this.triggerMethod('execute:defaultAction', node);\r\n      });\r\n      // Set proper tab indexes (that in case of expanding the view the focus is set)\r\n      this.listenTo(this.tableView, 'render', function () {\r\n        this.tableView.triggerMethod('refresh:tabindexes');\r\n      });\r\n\r\n      // Set pagination\r\n      self.paginationView = new PaginationView({\r\n        collection: collection,\r\n        pageSize: self.options.data.pageSize\r\n      });\r\n\r\n      // Set focus to name column\r\n      if (!_.isUndefined(self.tableView.accFocusedState.body.column)) {\r\n        self.tableView.accFocusedState.body.column = 1;\r\n      }\r\n\r\n      self.tableRegion.show(self.tableView);\r\n      self.paginationRegion.show(self.paginationView);\r\n    },\r\n\r\n    _beforeExecuteCommand: function (toolbarActionContext) {\r\n\r\n      var self = this;\r\n      // Show the busy indicator for commands or toolbar items that request it.\r\n      // Also provide a switch to the command in the command status, so it can hide it, if needed.\r\n      if (toolbarActionContext.command && toolbarActionContext.command.get(\"showBusy\") ||\r\n          toolbarActionContext.status.toolItem && toolbarActionContext.status.toolItem.get(\"showBusy\")) {\r\n          toolbarActionContext.status.busyIndicator = new BusyIndicator(\r\n          function(){ self.blockActions(); },\r\n          function(){ self.unblockActions(); }\r\n        );\r\n        toolbarActionContext.status.busyIndicator.on();\r\n      }\r\n\r\n      switch (toolbarActionContext.commandSignature) {\r\n        case 'CloseExpandedView':\r\n          this.context.trigger(\"close:expanded\", {widgetView: this});\r\n          break;\r\n      }\r\n\r\n    },\r\n\r\n    _toolbarActionTriggered: function (toolbarActionContext) {\r\n      // switch off the busy indicator.\r\n      if (toolbarActionContext.status.busyIndicator) {\r\n        toolbarActionContext.status.busyIndicator.off();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * this method initializes for all items selection process across pages.\r\n     */\r\n    initAllSelection: function () {\r\n      this.allSelectedNodes = this.getCollectionWithSpecificModelId();\r\n\r\n      this.listenTo(this.allSelectedNodes, 'remove', this.removeItemToAllSelectedItems)\r\n          .listenTo(this.allSelectedNodes, 'add', this.addItemToAllSelectedItems)\r\n          .listenTo(this.allSelectedNodes, 'reset', this.resetAllSelectedItems);\r\n    },\r\n\r\n    /**\r\n     * this method return the node from collection based on modelId, if collection doesn't\r\n     * have modelId or idAttribute then default check takes place.\r\n     *\r\n     * @param collection\r\n     * @param node\r\n     * @returns {}\r\n     */\r\n    findNodeFromCollection: function (collection, node) {\r\n      return collection.get(node) || collection.findWhere({id: node.get('id')});\r\n    },\r\n\r\n    /**\r\n     * This method creates a new Backbone collection and set's modelId, and if any other module\r\n     * or in any other view which extends nodestable.view can override it if they do have unique\r\n     * model id is other than default \"id\".\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getCollectionWithSpecificModelId: function () {\r\n      var MultiSelectCollection = Backbone.Collection.extend({\r\n            modelId: function (attr) {\r\n              return attr.id;\r\n            }\r\n          }),\r\n          allSelectedCollection = new MultiSelectCollection();\r\n          if (this.collection && this.collection.modelId) {\r\n            allSelectedCollection.modelId = this.collection.modelId;\r\n          }\r\n      return allSelectedCollection;\r\n    },\r\n\r\n    /**\r\n     * this method removes specific item from all selection.\r\n     *\r\n     * @param node\r\n     */\r\n    removeItemToAllSelectedItems: function (node) {\r\n      var model = this.findNodeFromCollection(this.collection, node);   //  collection.get(node);\r\n      if (model) {\r\n        model.set('csuiIsSelected', false); // will be ignored if already false\r\n      } else {\r\n        // update the node itself when unselect the node from different page\r\n        node.set('csuiIsSelected', false);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * this method adds new item to all selected items.\r\n     *\r\n     * @param node\r\n     */\r\n    addItemToAllSelectedItems: function (node) {\r\n      var model = this.findNodeFromCollection(this.collection, node);\r\n      if (model) {\r\n        model.set('csuiIsSelected', true); // will be ignored if already true\r\n      } else {\r\n        // update the node itself when select the node from different page\r\n        node.set('csuiIsSelected', true);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * this method resets all selected item's collection.\r\n     */\r\n    resetAllSelectedItems: function () {\r\n      var allSelectedNodes = this.allSelectedNodes;\r\n      this.collection.each(_.bind(function (node) {\r\n        var selectedNode = allSelectedNodes.get(node);\r\n        node.set('csuiIsSelected', selectedNode !== undefined);// setting to same value is ignored\r\n      }, this));\r\n    },\r\n\r\n    _setTableViewEvents: function () {\r\n      this.listenTo(this.tableView, 'tableRowSelected', function (args) {\r\n        this.tableView.cancelAnyExistingInlineForm.call(this.tableView);\r\n        if (this.options.showSelectColumn && this.allSelectedNodes) {\r\n          var selectedNodes  = args.nodes,\r\n              selectedModels = [];\r\n          _.each(selectedNodes, function (selectedNode) {\r\n            if (!this.allSelectedNodes.get(selectedNode) && selectedNode.get('id') !== undefined) {\r\n              selectedModels.push(selectedNode);\r\n            }\r\n          }, this);\r\n          this.allSelectedNodes.reset(selectedModels.concat(this.allSelectedNodes.models));\r\n        }\r\n      });\r\n\r\n      this.listenTo(this.tableView, 'tableRowUnselected', function (args) {\r\n        if (this.options.showSelectColumn && this.allSelectedNodes) {\r\n          var unselectedNodes = args.nodes;\r\n          _.each(unselectedNodes, function (unselectedNode) {\r\n            this.allSelectedNodes.remove(unselectedNode,{silent:true});\r\n          }, this);\r\n          this.allSelectedNodes.reset(_.clone(this.allSelectedNodes.models));\r\n        }\r\n      });\r\n\r\n      return true;\r\n    },\r\n\r\n    _setTableRowSelectionToolbarEventListeners: function () {\r\n      // listen for change of the selected nodes collection and if at least one is\r\n      // selected, display the table-row-selected-toolbar and hide the table-toolbar\r\n      this.listenTo(this.allSelectedNodes, 'reset update', function () {\r\n        if (!this._tableRowSelectionToolbarView.isDestroyed) {\r\n          this.tableRowSelectionToolbarRegion.show(this._tableRowSelectionToolbarView);\r\n        }\r\n        this._onSelectionUpdateCssClasses(this.allSelectedNodes.length);\r\n      });\r\n\r\n    },\r\n\r\n    _setToolBar: function () {\r\n      // toolbarItems is an object with several TooItemFactories in it (for each toolbar one)\r\n      var titleNodeModel = new NodeModel({\r\n        \"type\": this.collection.node.get(\"type\"),\r\n        \"type_name\": this.collection.node.get(\"type_name\"),\r\n        \"parent_id\": this.collection.node.get(\"parent_id\"),\r\n        \"image_url\" : this.collection.titleIcon,\r\n        \"name\": this.options.title\r\n      }, {\r\n        connector: this.collection.connector\r\n      });\r\n      this.tableToolbarView = new TableToolbarView({\r\n        context: this.options.context,\r\n        toolbarItems: this.options.toolbarItems,\r\n        toolbarItemsMasks: this.options.toolbarItemsMasks,\r\n        headermenuItems: this.options.headermenuItems,\r\n        headermenuItemsMask: this.options.headermenuItemsMask,\r\n        creationToolItemsMask: this.options.creationToolItemsMask,\r\n        container: titleNodeModel,//this.container,//\r\n        collection: this.collection,\r\n        originatingView: this,\r\n        blockingParentView: this.options.blockingParentView || this,\r\n        addableTypes: this.addableTypes,\r\n        toolbarCommandController: this.commandController\r\n      });\r\n      this.tableToolbarView.captionView.nameView.readonly = true;\r\n\r\n      this.listenTo(this.collection,\"sync\", function() {\r\n        if (this.collection.titleIcon!==titleNodeModel.get(\"image_url\")) {\r\n          titleNodeModel.set(\"image_url\",this.collection.titleIcon);\r\n        }\r\n      });\r\n\r\n      return true;\r\n    },\r\n\r\n    _setTableRowSelectionToolbar: function (options) {\r\n      this._tableRowSelectionToolbarView = new TableRowSelectionToolbarView({\r\n        toolItemFactory: options.toolItemFactory,\r\n        toolbarItemsMask: options.toolbarItemsMask,\r\n        toolbarCommandController: this.commandController,\r\n        showCondensedHeaderToggle: options.showCondensedHeaderToggle,\r\n        showSelectionCounter: options.showSelectionCounter,\r\n        commands: this.defaultActionController.commands,\r\n        selectedChildren: this.allSelectedNodes,\r\n        container: this.collection.node,\r\n        context: this.context,\r\n        originatingView: this,\r\n        collection: this.collection,\r\n        scrollableParent: '.csui-table-tableview .csui-nodetable'\r\n      });\r\n\r\n      // hide/show the condensed header\r\n      var toolbarView = this._tableRowSelectionToolbarView;\r\n      this.listenTo(toolbarView, 'toggle:condensed:header', function () {\r\n        // only show/hide the condensed header when in row selection mode\r\n        if (this.$el && this.$el.hasClass('conws-table-rowselection-toolbar-visible')) {\r\n          var showingBothToolbars = !this.$el.hasClass('csui-show-header');\r\n          this.$el.addClass('csui-transitioning');\r\n          this.tableToolbarRegion.$el.one('transitionend', function () {\r\n            this.$el.removeClass('csui-transitioning');\r\n            if (!showingBothToolbars) {\r\n              this.tableToolbarRegion.$el.addClass('binf-hidden');\r\n            }\r\n          }.bind(this));\r\n\r\n          if (showingBothToolbars) {\r\n            this.tableToolbarRegion.$el.removeClass('binf-hidden');\r\n            this.tableToolbarRegion.currentView.trigger(this.tableToolbarRegion.currentView, 'dom:refresh');\r\n          }\r\n\r\n          this.$el && this.$el.toggleClass('csui-show-header');\r\n\r\n          // let the right toolbar know to update its attributes\r\n          toolbarView.trigger('toolbar:activity', true, showingBothToolbars);\r\n        }\r\n      });\r\n    },\r\n\r\n    _triggerToolbarActivityEvent: function (toolbarVisible, headerVisible) {\r\n      // let the right toolbar know to update its attributes\r\n      var toolbarView = this._tableRowSelectionToolbarView;\r\n      toolbarView.trigger('toolbar:activity', toolbarVisible, headerVisible);\r\n    },\r\n\r\n    _onSelectionUpdateCssClasses: function (selectionLength) {\r\n      var self = this;\r\n      var $rowSelectionToolbarEl = this.tableRowSelectionToolbarRegion.$el;\r\n\r\n      function transitionEnd(headerVisible) {\r\n        // let the right toolbar know to update its attributes\r\n        self.$el.removeClass('csui-transitioning');\r\n        self._triggerToolbarActivityEvent(self._tableRowSelectionToolbarVisible, headerVisible);\r\n        if (self._tableRowSelectionToolbarVisible) {\r\n          if (!headerVisible) {\r\n            // hide table toolbar completely so that screenreader does not see it\r\n            self.tableToolbarRegion.$el.addClass('binf-hidden');\r\n          }\r\n        } else {\r\n          self.tableRowSelectionToolbarRegion.$el.addClass('binf-hidden');\r\n        }\r\n      }\r\n\r\n      var headerVisible;\r\n      if (accessibleTable) {\r\n        if (selectionLength > 0) {\r\n          if (!this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = true;\r\n            // make tableToolbar invisible\r\n            //  and rowSelectionToolbar visible\r\n\r\n            this.$el.addClass('csui-transitioning');\r\n            \r\n            // this lets the rowSelectionToolbar appear\r\n            $rowSelectionToolbarEl.removeClass('binf-hidden');\r\n            // and also the tableToolbar disappear\r\n            this.$el.addClass('conws-table-rowselection-toolbar-visible');\r\n\r\n            // it could be that both toolbars should be visible\r\n            headerVisible = this.$el && this.$el.hasClass('csui-show-header');\r\n\r\n            transitionEnd(headerVisible);\r\n          }\r\n        } else {\r\n          if (this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = false;\r\n            // make tableToolbar visible\r\n            //  and rowSelectionToolbar invisible\r\n\r\n            this.$el.addClass('csui-transitioning');\r\n            \r\n            // without the rowSelectionToolbar, it is not necessary to have height for both toolbars\r\n            this.$el && this.$el.removeClass('csui-show-header');\r\n\r\n            // this lets the tableToolbar appear\r\n            this.tableToolbarRegion.$el.removeClass('binf-hidden');\r\n            this.tableToolbarRegion.currentView.trigger(this.tableToolbarRegion.currentView,\r\n              'dom:refresh');\r\n\r\n            // this lets the rowSelectionToolbar disappear and the tableToolbar appear\r\n            this.$el.removeClass('conws-table-rowselection-toolbar-visible');\r\n\r\n            transitionEnd(false);\r\n          }\r\n        }\r\n      } else {\r\n        if (selectionLength > 0) {\r\n          if (!this._tableRowSelectionToolbarVisible) {\r\n\r\n            this.$el.addClass('csui-transitioning');\r\n\r\n            this._tableRowSelectionToolbarVisible = true;\r\n            // make tableToolbar invisible\r\n            //  and rowSelectionToolbar visible\r\n\r\n            headerVisible = this.$el && this.$el.hasClass('csui-show-header');\r\n\r\n            // this will start the transition on height of rowSelectionToolbar from 0 to full\r\n            // height, which smoothly lets the rowSelectionToolbar appear\r\n            $rowSelectionToolbarEl\r\n              .removeClass('binf-hidden').redraw()\r\n              .one('transitionend', function () {\r\n                transitionEnd(headerVisible);\r\n              }.bind(this));\r\n\r\n            // this will start the transition on height of tableToolbar to 0, which finally lets\r\n            // the tableToolbar disappear\r\n            this.$el.addClass('conws-table-rowselection-toolbar-visible');\r\n          }\r\n        } else {\r\n          if (this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = false;\r\n            // make tableToolbar visible\r\n            //  and rowSelectionToolbar invisible\r\n\r\n            this.$el.addClass('csui-transitioning');\r\n            \r\n            // without the rowSelectionToolbar, it is not necessary to have height for both toolbars\r\n            this.$el && this.$el.removeClass('csui-show-header');\r\n\r\n            this.tableToolbarRegion.$el.removeClass('binf-hidden').redraw();\r\n            this.tableToolbarRegion.currentView.trigger(this.tableToolbarRegion.currentView,\r\n                'dom:refresh');\r\n\r\n            $rowSelectionToolbarEl\r\n                .one('transitionend', function () {\r\n                  transitionEnd(false);\r\n                }.bind(this));\r\n\r\n            // this will start the transition on height of tableToolbar from 0 to full\r\n            // height, which smoothly lets the tableToolbar appear\r\n            this.$el.removeClass('conws-table-rowselection-toolbar-visible');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Return custom columns from configuration\r\n     */\r\n    _getCustomColumns: function (showError) {\r\n      var customColumns = [], errors = [];\r\n      if (this.options &&\r\n          this.options.data &&\r\n          this.options.data.expandedView &&\r\n          this.options.data.expandedView.customColumns) {\r\n        var unknownError = false;\r\n        var seqnr = 500;\r\n        this.options.data.expandedView.customColumns.forEach(function (cc) {\r\n          var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g;\r\n          var match = parameterPlaceholder.exec(cc.key);\r\n          if (match) {\r\n            customColumns.push(_.defaults({key:match[1],sequence:seqnr++},cc));\r\n          } else {\r\n            if (showError) {\r\n              if (cc.key && cc.key.indexOf(\"{\")>=0) {\r\n                // if we have an error, but braces exist. we don't know what's wrong\r\n                unknownError = true;\r\n                log.error(lang.errorCustomColumnConfigInvalid, cc.key) && console.log(log.last);\r\n              } else {\r\n                log.error(lang.errorCustomColumnMissingBraces, cc.key) && console.log(log.last);\r\n              }\r\n              errors.push(cc.key)\r\n            }\r\n          }\r\n        });\r\n        if (showError && errors.length>0) {\r\n          var errfmt = unknownError ? lang.errorCustomColumnConfigInvalid : lang.errorCustomColumnMissingBraces;\r\n          ModalAlert.showError(_.str.sformat(errfmt, errors.join(\", \")));\r\n        }\r\n      }\r\n      return customColumns;\r\n    },\r\n\r\n    /**\r\n     * Return the identifiers of the custom columns as array\r\n     */\r\n    _getCustomColumnKeys: function () {\r\n      var columns = this._getCustomColumns();\r\n      return columns.length > 0 ? $.map(columns, function (val, i) {\r\n        return val.key\r\n      }) : [];\r\n    },\r\n\r\n    /**\r\n     * Return the identifiers of the core columns as array\r\n     */\r\n    _getCoreColumnKeys: function () {\r\n      var columns = WorkspacesColumns.models;\r\n      return columns.length > 0 ? $.map(columns, function (val, i) {\r\n        return val.get(\"key\");\r\n      }) : [];\r\n    },\r\n\r\n    /**\r\n     * Return fields that have to be fetched from server via rest call\r\n     */\r\n    getColumnsToFetch: function () {\r\n      var columns         = this._getCustomColumnKeys(),\r\n          coreColumns     = this._getCoreColumnKeys(),\r\n          // Columns needed for ui to be fetched even in case not displayed\r\n          requiredColumns = [\"id\", \"type\", \"type_name\", \"container\"];\r\n\r\n      // Merge columns\r\n      _.each(coreColumns, function (coreColumn) {\r\n        if ($.inArray(coreColumn, columns) < 0) {\r\n          columns.push(coreColumn);\r\n        }\r\n      });\r\n      _.each(requiredColumns, function (requiredColumn) {\r\n        if ($.inArray(requiredColumn, columns) < 0) {\r\n          columns.push(requiredColumn);\r\n        }\r\n      });\r\n\r\n      return columns.toString()\r\n    },\r\n\r\n    //Dom refresh currently only needed for the Pagination view. When a refresh is called\r\n    //on the tabelView, it causes the table to constantly expand its length without cause.\r\n    windowRefresh: function () {\r\n      // Window resizing can be triggered between the constructor and rendering;\r\n      // sub-views of this view are not created before the min view is rendered\r\n      if (this.paginationView) {\r\n        this.paginationView.triggerMethod('dom:refresh');\r\n      }\r\n    },\r\n\r\n    // bubble to regions\r\n    onDomRefresh: function () {\r\n      _.each(this.regionManager._regions, function (region) {\r\n        if (region.currentView) {\r\n          region.currentView.trigger('dom:refresh');\r\n        }\r\n      });\r\n    },\r\n\r\n    // Needed for scroll bar to work\r\n    onShow: function () {\r\n      _.each(this.regionManager._regions, function (region) {\r\n        if (region.currentView) {\r\n          region.currentView.trigger('show');\r\n        }\r\n      });\r\n    },\r\n\r\n    // Needed to resize for custom columns\r\n    onAfterShow: function () {\r\n      _.each(this.regionManager._regions, function (region) {\r\n        if (region.currentView) {\r\n          region.currentView.triggerMethod('after:show');\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return WorkspacesTableView;\r\n});\r\n\n","\ncsui.define('css!conws/widgets/relatedworkspaces/impl/relatedworkspacestable',[],function(){});\n","csui.define('conws/widgets/relatedworkspaces/impl/relatedworkspacestable.view',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/lib/marionette\", \"csui/utils/log\",\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/header/impl/header.model.factory',\r\n  'conws/widgets/relatedworkspaces/commands',\r\n  'conws/widgets/relatedworkspaces/toolbaritems',\r\n  'conws/widgets/relatedworkspaces/toolbaritems.masks',\r\n  'conws/widgets/relatedworkspaces/headermenuitems',\r\n  'conws/widgets/relatedworkspaces/headermenuitems.masks',\r\n  'conws/utils/workspaces/impl/workspaceutil',\r\n  'conws/utils/workspaces/workspacestable.view',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/lang',\r\n  'css!conws/widgets/relatedworkspaces/impl/relatedworkspacestable'\r\n], function (module, $, _, Backbone,\r\n    Marionette, log,\r\n    WorkspaceContextFactory,\r\n    HeaderModelFactory,\r\n    commands,\r\n    toolbarItems,\r\n    ToolbarItemsMasks,\r\n    headermenuItems,\r\n    HeaderMenuItemsMasks,\r\n    workspaceUtil, WorkspacesTableView, lang) {\r\n\r\n  var RelatedWorkspacesTableView = WorkspacesTableView.extend({\r\n\r\n    constructor: function RelatedWorkspacesTableView(options) {\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(HeaderModelFactory);\r\n      }\r\n\r\n      WorkspacesTableView.prototype.constructor.apply(this, arguments);\r\n\r\n      // get the model from the model factory\r\n      this.collection.workspace = options.workspaceContext.getModel(HeaderModelFactory);\r\n      // opening the expanded view is done long after navigation.\r\n      // so we fetch header model, to have data up to date.\r\n      this.collection.workspace.fetch();\r\n      this.listenTo(this.collection.workspace,\"sync\",function() {\r\n        // when the model containing the actions changes, refresh the add toolbar.\r\n        if (this.tableToolbarView && this.tableToolbarView.addToolbarView) {\r\n          this.tableToolbarView.addToolbarView.collection.refilter();\r\n        }\r\n      });\r\n    },\r\n\r\n    initialize: function() {\r\n      this.options.commands = commands;\r\n      this.options.hasTableRowSelection = true;\r\n      this.options.toolbarItems = toolbarItems;\r\n      this.options.toolbarItemsMasks = new ToolbarItemsMasks();\r\n      this.options.headermenuItems = headermenuItems;\r\n      this.options.headermenuItemsMasks = new HeaderMenuItemsMasks();\r\n      WorkspacesTableView.prototype.initialize.apply(this, arguments);\r\n    },\r\n\r\n    onRender: function () {\r\n      var collection = this.collection;\r\n\r\n      // Set order if passed as configuration, otherwise use default\r\n      if (!_.isUndefined(this.collection.options.relatedWorkspaces.attributes.sortExpanded)) {\r\n        collection.orderBy = this.collection.options.relatedWorkspaces.attributes.sortExpanded;\r\n      } else {\r\n        collection.orderBy = workspaceUtil.orderByAsString(this.options.data.orderBy);\r\n      }\r\n\r\n      this.options.tableAria = \"\";\r\n      if(!_.isUndefined(collection.options.attributes.title)) {\r\n        this.options.tableAria = _.str.sformat(lang.expandTableAria, collection.options.attributes.title);\r\n      }\r\n\r\n      this.doRender(collection);\r\n    },\r\n\r\n    _getCollectionUrlQuery: function () {\r\n\r\n      var query = {where_relationtype: this.options.data.relationType};\r\n\r\n      // only fetch specific properties for table view\r\n      query.fields = encodeURIComponent(\"properties{\" + this.getColumnsToFetch() + \"}\");\r\n      query.action = \"properties-properties\";\r\n\r\n      // Fetch users expanded, to show name\r\n      query.expand_users = \"true\";\r\n\r\n      return query;\r\n    },\r\n\r\n    _beforeExecuteCommand: function (toolbarActionContext) {\r\n      WorkspacesTableView.prototype._beforeExecuteCommand.apply(this, arguments);\r\n    },\r\n\r\n    _toolbarActionTriggered: function (toolbarActionContext) {\r\n      WorkspacesTableView.prototype._toolbarActionTriggered.apply(this, arguments);\r\n      if (!toolbarActionContext || toolbarActionContext.cancelled) {\r\n         // command was cancelled\r\n         return;\r\n       }\r\n  \r\n      var view = this;\r\n      var newNodes;\r\n      \r\n      switch (toolbarActionContext.commandSignature) {\r\n        case 'AddRelation':\r\n\r\n          // indicate, that view has changed data.\r\n          view.changed = true;\r\n\r\n          newNodes = toolbarActionContext.newNodes;\r\n          if (newNodes && newNodes.length>0) {\r\n\r\n            // prepare all new nodes on top of the view, marked as new (green) rows.\r\n            newNodes.forEach(function(newNode){\r\n              newNode.isLocallyCreated = true;\r\n              newNode.attributes && delete newNode.attributes.csuiIsSelected;\r\n              newNode.collection = view.collection;\r\n              newNode.selectable = true;\r\n            });\r\n\r\n            // to update pagination, currently no other chance (discussed with cs.core.ui team)\r\n            // than to set totalCount directly followed by a reset.\r\n            this.collection.totalCount = this.collection.totalCount + newNodes.length;\r\n\r\n            // add all new nodes on top, but not more than page size.\r\n            if (newNodes.length>this.collection.topCount) {\r\n              newNodes = newNodes.slice(0,this.collection.topCount);\r\n            } else if (newNodes.length<this.collection.topCount) {\r\n              newNodes = newNodes.concat(this.collection.slice(0,this.collection.topCount-newNodes.length));\r\n            }\r\n            this.collection.updateSelectableState(newNodes);\r\n            var showSelectColumn = !!(this.options.showSelectColumn && this.collection.existsSelectable);\r\n            if (this.tableView && this.tableView.options && this.tableView.options.selectColumn!==showSelectColumn) {\r\n              // in this case check box column has to appear.\r\n              this.tableView.options.selectColumn = showSelectColumn;\r\n              this.collection.reset(newNodes,{silent:true});\r\n              this.collection.columns.trigger('reset',this.collection.columns);\r\n              this.tableView.resetScrollToTop();\r\n              this.paginationView && this.paginationView.collectionChange();\r\n            } else {\r\n              // in this case check box column is already there.\r\n              this.collection.reset(newNodes);\r\n              this.tableView && this.tableView.resetScrollToTop();\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'RemoveRelation':\r\n          // TODO: keep selected nodes as good as possible\r\n          // after partial deletion (and error during a previous deletion).\r\n\r\n          // indicate, that view has changed data.\r\n          this.changed = true;\r\n          \r\n          this.collection.fetch().then(function(){\r\n            if (view.collection.totalCount<=view.collection.skipCount) {\r\n              // We are positioned beyond the last page. Thus, an empty table is displayed.\r\n              if (view.collection.totalCount>0) {\r\n                // But we have a non-empty collection.\r\n                if (view.collection.totalCount<=view.collection.topCount) {\r\n                  // And we have only one page. Thus, no paging buttons are there.\r\n                  // We help the user to get a result by automatically fetching the first page.\r\n                  view.collection.skipCount = 0;\r\n                  view.collection.fetch();\r\n                }\r\n                // If totalCount>topCount, we have more than one page and paging buttons\r\n                // are displayed. Thus, the user can navigate to a result accessing the buttons.\r\n              }\r\n            }\r\n          });\r\n          this.allSelectedNodes.reset([]);\r\n          break;\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return RelatedWorkspacesTableView;\r\n});\r\n\n","// Shows a list of workspaces related to the current one\r\ncsui.define('conws/widgets/relatedworkspaces/relatedworkspaces.view',['csui/lib/marionette', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery','csui/utils/log',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/utils/workspaces/workspaces.view',\r\n  'conws/widgets/relatedworkspaces/impl/relateditem.view',\r\n  'conws/widgets/relatedworkspaces/impl/relatedworkspaces.factory',\r\n  'conws/widgets/relatedworkspaces/impl/relatedworkspacestable.view',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/utils/base',\r\n  'conws/utils/workspaces/impl/workspaceutil',\r\n  'i18n!conws/utils/workspaces/impl/nls/lang',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/lang',\r\n  'css!conws/utils/icons/icons',\r\n  'hbs!conws/widgets/relatedworkspaces/impl/relateditem',\r\n  'css!conws/widgets/relatedworkspaces/impl/relateditem'\r\n], function (Marionette, module, _, Backbone, $, log,\r\n    WorkspaceContextFactory,\r\n    WorkspacesView,\r\n    RelatedItemView,\r\n    RelatedWorkspacesCollectionFactory,\r\n    RelatedWorkspacesTableView,\r\n    ModalAlert,\r\n    BaseUtils,\r\n    workspaceUtil,\r\n    langWksp,\r\n    lang) {\r\n\r\n  var RelatedWorkspacesView = WorkspacesView.extend({\r\n\r\n    constructor: function RelatedWorkspacesView(options) {\r\n      this.viewClassName = 'conws-relatedworkspaces';\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(RelatedWorkspacesCollectionFactory);\r\n      }\r\n\r\n      WorkspacesView.prototype.constructor.apply(this, arguments);\r\n\r\n      // Show expand icon always\r\n      this.limit = -1;\r\n\r\n      if (this.options &&\r\n          this.options.data &&\r\n          this.options.data.collapsedView &&\r\n          this.options.data.collapsedView.orderBy) {\r\n        if (_.isString(this.options.data.collapsedView.orderBy)) {\r\n          log.error(langWksp.errorOrderByMustNotBeString) && console.log(log.last);\r\n          ModalAlert.showError(langWksp.errorOrderByMustNotBeString);\r\n        } else if (this.options.data.collapsedView.orderBy.sortColumn) {\r\n          var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g;\r\n          var match = parameterPlaceholder.exec(this.options.data.collapsedView.orderBy.sortColumn);\r\n          if (!match) {\r\n            log.error(langWksp.errorOrderByMissingBraces) && console.log(log.last);\r\n            ModalAlert.showError(langWksp.errorOrderByMissingBraces);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.options &&\r\n          this.options.data &&\r\n          this.options.data.collapsedView) {\r\n        var errors = [], that = this;\r\n        [ \"title\", \"description\", \"topRight\", \"bottomLeft\", \"bottomRight\"].forEach(function (n) {\r\n          if (that.options.data.collapsedView[n] && that.options.data.collapsedView[n].format) {\r\n            errors.push(n);\r\n          }\r\n        });\r\n        if (errors.length>0) {\r\n          ModalAlert.showError(_.str.sformat(lang.errorFieldFormatTagUnrecognized, errors.join(\", \")));\r\n        }\r\n      }\r\n    },\r\n\r\n    getContext: function () {\r\n      return this.options.workspaceContext;\r\n    },\r\n\r\n    childView: RelatedItemView,\r\n\r\n    childViewOptions: function () {\r\n      return {\r\n        context: this.options.context,\r\n        checkDefaultAction: true,\r\n        data: this.options.data.collapsedView\r\n      };\r\n    },\r\n\r\n    emptyViewOptions: {\r\n      templateHelpers: function () {\r\n        return {\r\n          text: this._parent._getNoResultsPlaceholder()\r\n        };\r\n      }\r\n    },\r\n\r\n    workspacesCollectionFactory: RelatedWorkspacesCollectionFactory,\r\n    workspacesTableView: RelatedWorkspacesTableView,\r\n    dialogClassName: 'relatedworkspaces',\r\n    lang: lang,\r\n\r\n    _getExpandedViewOptions: function() {\r\n      var options = _.extend( WorkspacesView.prototype._getExpandedViewOptions.apply(this, arguments),{\r\n        title: this._getTitle()\r\n      });\r\n      return options;\r\n    },\r\n  \r\n    // Attributes identify collection/models for widget\r\n    // In case two widgets has returns same attributes here, they share the collection!!\r\n    _getCollectionAttributes: function () {\r\n      var attributes = {\r\n        workspaceTypeId: this.options.data.workspaceTypeId,\r\n        relationType: this.options.data.relationType,\r\n        sortExpanded: this.options.data.expandedView && workspaceUtil.orderByAsString(this.options.data.expandedView.orderBy) ||\r\n                      undefined,\r\n        sortCollapsed: this.options.data.collapsedView && workspaceUtil.orderByAsString(this.options.data.collapsedView.orderBy) ||\r\n                       this._getDefaultSortOrder() || undefined,\r\n        title:  BaseUtils.getClosestLocalizedString(this.options.data.title, lang.dialogTitle)\r\n      };\r\n      return attributes;\r\n    },\r\n\r\n    // Get the default sort order in case no sort order is defined\r\n    _getDefaultSortOrder: function () {\r\n      return this._getFilterPropertyName() ? this._getFilterPropertyName() + ' asc' : undefined;\r\n    },\r\n\r\n    _getCollectionUrlQuery: function () {\r\n      var options                 = this.options,\r\n          query                   = {},\r\n          customPropertiesToFetch = this._getPropertiesToFetch(options.data.collapsedView),\r\n          propertiesToFetch       = [\"id\", \"container\", \"name\", \"type\", \"type_name\"];\r\n\r\n      // Only fetch properties needed\r\n      propertiesToFetch = _.union(propertiesToFetch, customPropertiesToFetch);\r\n      query.fields = encodeURIComponent(\"properties{\" + propertiesToFetch.join(\",\") + \"}\");\r\n      query.action = \"properties-properties\";\r\n\r\n      query.where_workspace_type_id = options.data.workspaceTypeId;\r\n      query.where_relationtype = options.data.relationType;\r\n      var orderByAsString;\r\n      if (options.data.collapsedView) {\r\n        orderByAsString = workspaceUtil.orderByAsString(options.data.collapsedView.orderBy);\r\n      }\r\n      if (!orderByAsString) {\r\n        orderByAsString = this._getDefaultSortOrder();\r\n      }\r\n      if (orderByAsString) {\r\n        query.sort = orderByAsString;\r\n      }\r\n\r\n      // Fetch users expanded, to show name\r\n      query.expand_users = \"true\";\r\n\r\n      return query;\r\n    },\r\n\r\n    // get first placeholder from string with mix of column references and free text.\r\n    _getFirstPlaceholder: function (expression) {\r\n      var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g,\r\n          match, propertyName, placeholder, result;\r\n      // Go over every parameter placeholder found\r\n      // Don't change expression while doing this, because exec remembers position of last matches\r\n      while ((match = parameterPlaceholder.exec(expression))) {\r\n        placeholder = match[0];\r\n        propertyName = match[1];\r\n        if (propertyName) {\r\n          result = match;\r\n          break;\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n\r\n    // Get property name to use for filtering\r\n    _getFilterPropertyName: function () {\r\n      var propertyName;\r\n      if (this.options && this.options.data && this.options.data.collapsedView &&\r\n          this.options.data.collapsedView.title && this.options.data.collapsedView.title.value) {\r\n        var placeHolder = this._getFirstPlaceholder(this.options.data.collapsedView.title.value);\r\n        if (placeHolder) {\r\n          propertyName = placeHolder[1];\r\n        }\r\n      }\r\n      return propertyName;\r\n    },\r\n\r\n    // Get all properties that should be fetched from server\r\n    _getConfiguredProperties: function (object) {\r\n      var properties = {}, regex = /{([^:}]+)(:([^}]+))?}/g, match;\r\n      var recurse = function (object) {\r\n        if (typeof object !== 'object') {\r\n          while ((match = regex.exec(object))) {\r\n            properties[match[1]] = \"\";\r\n          }\r\n        } else {\r\n          $.each(object, function (key, value) {\r\n            recurse(value);\r\n          });\r\n        }\r\n      };\r\n      recurse(object);\r\n      return properties;\r\n    },\r\n\r\n    // Get custom properties that should be fetched from server\r\n    _getPropertiesToFetch: function (object) {\r\n      var properties = this._getConfiguredProperties(object);\r\n      return Object.keys(properties);\r\n    },\r\n\r\n    // return the jQuery list item element by index for keyboard navigation use\r\n    getElementByIndex: function (index) {\r\n      if (isNaN(index) || (index < 0)) {\r\n        return null;\r\n      }\r\n      var $item = this.$(_.str.sformat('.conws-relateditem-object:nth-child({0}) .conws-relateditem-border', index + 1));\r\n      return this.$($item[0]);\r\n    },\r\n\r\n    templateHelpers: function() {\r\n      var data = _.extend(WorkspacesView.prototype.templateHelpers.apply(this, arguments),{\r\n        searchAria: lang.searchAria,\r\n        expandAria: lang.expandAria\r\n      });\r\n      return data;\r\n    }\r\n\r\n  });\r\n\r\n  return RelatedWorkspacesView;\r\n\r\n});\r\n\n","/**\r\n * This class will be removed as soon as SVF-1020 got resolved.\r\n * For the respective document, please do follow smart/utils/high.contrast/doc/detector.md file.\r\n */\r\n\r\n\r\ncsui.define('csui/utils/high.contrast/detector',[],function () {\r\n  'use strict';\r\n\r\n  var highContrast;\r\n\r\n  function detectHighContrast() {\r\n    // See https://github.com/hanshillen/HCMDS\r\n    var testBackgroundColor = \"rgb(127, 127, 127)\";\r\n    var lightBackgroundColor = \"rgb(255, 255, 255)\";\r\n    // var darkBackgroundColor = \"rgb(0, 0, 0)\";\r\n    var div = document.createElement('div');\r\n    var style = div.style;\r\n    style.backgroundColor = testBackgroundColor;\r\n    style.borderWidth = '1px';\r\n    style.borderStyle = 'solid';\r\n    style.borderTopColor = '#ff0000';\r\n    style.borderRightColor = '#00ffff';\r\n    style.position = 'absolute';\r\n    style.left = '-9999px';\r\n    style.width = div.style.height = '2px';\r\n    var body = document.body;\r\n    body.appendChild(div);\r\n    style = window.getComputedStyle(div);\r\n    var backgroundColor = style.backgroundColor;\r\n    if (backgroundColor === testBackgroundColor) {\r\n      highContrast = 0;\r\n    } else {\r\n      if (backgroundColor === lightBackgroundColor) {\r\n        highContrast = 2; // dark on light\r\n      } else {\r\n        highContrast = 1; // light on dark\r\n      }\r\n    }\r\n\r\n    //    highContrast = style.borderTopColor === style.borderRightColor;\r\n    body.removeChild(div);\r\n    var method = highContrast ? 'add' : 'remove';\r\n    var hcMode = 'csui-highcontrast-light-on-dark';\r\n    if (highContrast === 2) {\r\n      hcMode = 'csui-highcontrast-dark-on-light';\r\n    }\r\n    document.documentElement.classList[method]('csui-highcontrast');\r\n    document.documentElement.classList[method](hcMode);\r\n  }\r\n\r\n  return {\r\n    load: function (name, _require, onLoad, config) {\r\n      function ensureHighContrastDetection() {\r\n        if (document.readyState === 'complete') {\r\n          if (highContrast === undefined) {\r\n            detectHighContrast();\r\n          }\r\n          onLoad(highContrast);\r\n          return true;\r\n        }\r\n      }\r\n\r\n      if (config.isBuild) {\r\n        onLoad(null);\r\n      } else {\r\n        if (!ensureHighContrastDetection()) {\r\n          document.addEventListener('readystatechange',\r\n              ensureHighContrastDetection);\r\n        }\r\n      }\r\n    }\r\n  };\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/navitem',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a class=\\\"conws-header-navlink\\\" href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backToPreviousLink\") || (depth0 != null ? lookupProperty(depth0,\"backToPreviousLink\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backToPreviousLink\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":38},\"end\":{\"line\":1,\"column\":60}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backToPreviousTitle\") || (depth0 != null ? lookupProperty(depth0,\"backToPreviousTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backToPreviousTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":69},\"end\":{\"line\":1,\"column\":92}}}) : helper)))\n    + \"\\\">\\r\\n  <div class=\\\"conws-header-navicon\\\"></div>\\r\\n  <div class=\\\"conws-header-navtext\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backToPreviousTitle\") || (depth0 != null ? lookupProperty(depth0,\"backToPreviousTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backToPreviousTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":36},\"end\":{\"line\":3,\"column\":59}}}) : helper)))\n    + \"</div>\\r\\n</a>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_navitem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('conws/widgets/header/impl/nls/header.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('conws/widgets/header/impl/nls/root/header.lang',{\r\n  changeIconDialogTitle: 'Change picture',\r\n  changeIconDialogMessage: 'For best results, use square images. Use JPEG, PNG or GIF formats not larger than %1.',\r\n  changeIconDialogBtnReset: 'Reset',\r\n  changeIconDialogBtnResetTitle: 'Reset to configured icon',\r\n  changeIconDialogBtnUpload: 'Change',\r\n  changeIconDialogBtnUploadTitle: 'Change to individual icon',\r\n  changeIconDialogBtnCancel: 'Cancel',\r\n  changeIconDialogBtnCancelTitle: 'Cancel',\r\n  changeIconDialogDefaultError: 'The image cannot be changed due to a server error.',\r\n  chooseInpFileTitle: 'Choose file',\r\n  iconMessage: 'Business Workspace Edit Icon',\r\n  CollapsePageOverlay: \"Close\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/editicon',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <p class=\\\"reset\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"resetTitle\") || (depth0 != null ? lookupProperty(depth0,\"resetTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"resetTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":32},\"end\":{\"line\":7,\"column\":46}}}) : helper)))\n    + \"\\\"><a href=\\\"#\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"reset\") || (depth0 != null ? lookupProperty(depth0,\"reset\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"reset\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":60},\"end\":{\"line\":7,\"column\":69}}}) : helper)))\n    + \"</a></p>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-primary upload\\\"\\r\\n                title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"uploadTitle\") || (depth0 != null ? lookupProperty(depth0,\"uploadTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"uploadTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":13,\"column\":23},\"end\":{\"line\":13,\"column\":38}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"upload\") || (depth0 != null ? lookupProperty(depth0,\"upload\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"upload\",\"hash\":{},\"loc\":{\"start\":{\"line\":13,\"column\":40},\"end\":{\"line\":13,\"column\":50}}}) : helper)))\n    + \"</button>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-popover\\\">\\r\\n  <div class='title'>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":21},\"end\":{\"line\":2,\"column\":30}}}) : helper)))\n    + \"</div>\\r\\n  <div class='message'>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"message\") || (depth0 != null ? lookupProperty(depth0,\"message\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"message\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":23},\"end\":{\"line\":3,\"column\":34}}}) : helper)))\n    + \"</div>\\r\\n  <div class=\\\"buttons\\\">\\r\\n    <div class=\\\"buttons binf-left\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"resetButton\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":6,\"column\":6},\"end\":{\"line\":8,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n    <div class=\\\"buttons binf-right\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"uploadButton\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":11,\"column\":6},\"end\":{\"line\":14,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"      <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-default cancel\\\"\\r\\n              title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancelTitle\") || (depth0 != null ? lookupProperty(depth0,\"cancelTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancelTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":21},\"end\":{\"line\":16,\"column\":36}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":38},\"end\":{\"line\":16,\"column\":48}}}) : helper)))\n    + \"</button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_editicon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/header/impl/editicon',[],function(){});\n","csui.define('conws/widgets/header/impl/editicon.view',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'i18n!conws/widgets/header/impl/nls/header.lang',\r\n  'hbs!conws/widgets/header/impl/editicon',\r\n  'css!conws/widgets/header/impl/editicon'\r\n], function (require, _, $, Marionette, lang, template) {\r\n\r\n  var EditIconView = Marionette.ItemView.extend({\r\n\r\n    classname: 'conws-popover',\r\n\r\n    template: template,\r\n\r\n    triggers: {\r\n      'click .reset > a': 'click:reset',\r\n      'click .upload': 'click:upload',\r\n      'click .cancel': 'click:cancel'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    // initializes the 'EditIcon' view.\r\n    constructor: function EditIconView(options) {\r\n      // initialize options\r\n      options || (options = {});\r\n      options.title = options.title || lang.changeIconDialogTitle;\r\n      options.message = options.message || lang.changeIconDialogMessage;\r\n      options.resetButton = options.resetButton !== undefined ? options.resetButton : true;\r\n      options.uploadButton = options.uploadButton !== undefined ? options.uploadButton : true;\r\n\r\n      // prepare tabable elements list\r\n      this.tabableElements = [];\r\n      if ((_.isFunction(options.resetButton) && options.resetButton()) ||\r\n          options.resetButton === true) {\r\n        this.tabableElements.push('.reset > a');\r\n      }\r\n      this.tabableElements.push('.upload', '.cancel');\r\n\r\n      // ensure initial focus\r\n      var self = this;\r\n      $('.conws-header-edit').on('shown.binf.popover', function () {\r\n        // focus first element\r\n        self._currentlyFocusedElement = self.tabableElements[0];\r\n        self.$el.find(self._currentlyFocusedElement).focus();\r\n        // detach event\r\n        $('.conws-header-edit').off('shown.binf.popover');\r\n      });\r\n\r\n      // apply arguments\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        title: this.options.title,\r\n        message: this.options.message,\r\n        resetButton: this.options.resetButton,\r\n        reset: lang.changeIconDialogBtnReset,\r\n        resetTitle: lang.changeIconDialogBtnResetTitle,\r\n        uploadButton: this.options.uploadButton,\r\n        upload: lang.changeIconDialogBtnUpload,\r\n        uploadTitle: lang.changeIconDialogBtnUploadTitle,\r\n        cancel: lang.changeIconDialogBtnCancel,\r\n        cancelTitle: lang.changeIconDialogBtnCancelTitle\r\n      };\r\n    },\r\n\r\n    _focusNextElement: function (backwards) {\r\n      // state\r\n      var success = true;\r\n\r\n      // get actual index\r\n      var idx = _.indexOf(this.tabableElements, this._currentlyFocusedElement);\r\n\r\n      // get next index\r\n      if (!backwards) {\r\n        if (++idx === this.tabableElements.length) {\r\n          idx = 0;\r\n        }\r\n      } else {\r\n        if (--idx < 0) {\r\n          idx = this.tabableElements.length - 1;\r\n        }\r\n      }\r\n\r\n      // get next element\r\n      var next = this.tabableElements[idx];\r\n\r\n      // get the element and check whether it is focusable\r\n      var elem = this.$el.find(next);\r\n      if ((elem.length === 1) && (elem.is(':visible'))) {\r\n        // ... and focus\r\n        this._currentlyFocusedElement = next;\r\n        elem.focus();\r\n      }\r\n\r\n      // return state\r\n      return success;\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      switch (e.keyCode) {\r\n      case 9:\r\n        // focus the next/previous element\r\n        if (this._focusNextElement(e.shiftKey)) {\r\n          // if successful stop propagation\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }\r\n        break;\r\n      case 27:\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // execute cancel.\r\n        $('.cancel').trigger('click');\r\n        break;\r\n      }\r\n    },\r\n\r\n    onClick: function (action) {\r\n      if (typeof this.options.callback === 'function') {\r\n        this.options.callback(action);\r\n      }\r\n    },\r\n\r\n    onClickReset: function (e) {\r\n      this.onClick('reset');\r\n    },\r\n\r\n    onClickUpload: function (e) {\r\n      this.onClick('upload');\r\n    },\r\n\r\n    onClickCancel: function (e) {\r\n      this.onClick('cancel');\r\n    }\r\n  });\r\n\r\n  return EditIconView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/headertoolbar',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-rightToolbar\\\" ></div>   \\r\\n      <div class=\\\"conws-delayedActionsToolbar\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-tabletoolbar tile-nav\\\" aria-label=\\\"Table menubar\\\" role=\\\"menu\\\">\\r\\n   \\r\\n   <div class=\\\"conws-header-status-indicators-section\\\">\\r\\n      <div class=\\\"conws-header-status-indicators\\\">        \\r\\n      </div>\\r\\n      <div class=\\\"conws-header-status-toolbar-divider\\\"></div>\\r\\n   </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasToolbarView\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":8,\"column\":3},\"end\":{\"line\":11,\"column\":10}}})) != null ? stack1 : \"\")\n    + \"      <div class=\\\"conws-header-collapse\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_headertoolbar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/collapse/collapse',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-collapse\\\" role=\\\"button\\\" tabindex=\\\"0\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":62},\"end\":{\"line\":1,\"column\":71}}}) : helper)))\n    + \"\\\">\\r\\n    \"\n    + ((stack1 = (lookupProperty(helpers,\"icon-v2\")||(depth0 && lookupProperty(depth0,\"icon-v2\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon-v2\",\"hash\":{\"states\":\"true\",\"theme\":(depth0 != null ? lookupProperty(depth0,\"iconTheme\") : depth0),\"iconName\":\"csui_action_minimize32\"},\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":2,\"column\":81}}})) != null ? stack1 : \"\")\n    + \"\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_collapse_collapse', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/header/impl/collapse/collapse',[],function(){});\n","csui.define('conws/widgets/header/impl/collapse/collapse.page.overlay',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/controls/icons.v2',\r\n  'csui/utils/high.contrast/detector!',\r\n  'hbs!conws/widgets/header/impl/collapse/collapse',\r\n  'i18n!conws/widgets/header/impl/nls/header.lang',\r\n  'css!conws/widgets/header/impl/collapse/collapse'\r\n], function ($, _, Marionette, iconRegistry, highContrast, template, lang) {\r\n  'use strict';\r\n\r\n  var CollapseView = Marionette.ItemView.extend({\r\n\r\n    className: 'conws-collapse',\r\n\r\n    template: template,\r\n\r\n    events: {\r\n      'keydown': 'onKeyInView',\r\n      'click': '_executeCollapse'\r\n    },\r\n\r\n    constructor: function CollapseView(options) {\r\n      this.options = options || {};\r\n      this.options.title = lang.CollapsePageOverlay;\r\n      this.options.icon = \"icon\";\r\n\r\n      if (highContrast === 2) {\r\n        this._useIconsForDarkBackground = false;\r\n      }\r\n      else {\r\n       this._useIconsForDarkBackground = true;\r\n      }\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n\r\n    },\r\n    //The template helpers are used to provide placeholders\r\n    // for the widget\r\n    templateHelpers: function () {\r\n      var obj = {\r\n        title: this.options.title,\r\n        icon: this.options.icon,\r\n        iconTheme: this._useIconsForDarkBackground ? 'dark' : ''\r\n      };\r\n      return obj;\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      var target = $(event.target);\r\n      if (event.keyCode === 13 || event.keyCode === 32) {  // enter(13) and space(32)\r\n        this._executeCollapse(event);\r\n      }\r\n    },\r\n\r\n    _executeCollapse: function (e) {\r\n      if (this.options.perspective) {\r\n        this.options.perspective.trigger('close:workspace:dialog');\r\n      }\r\n    }\r\n  });\r\n  return CollapseView;\r\n});\n","\ncsui.define('css!conws/widgets/header/impl/headertoolbar',[],function(){});\n","csui.define('conws/widgets/header/impl/headertoolbar.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'hbs!conws/widgets/header/impl/headertoolbar',\r\n  'conws/controls/lazyactions/lazyToolbar.view',\r\n  'csui/controls/toolbar/toolbar.view',\r\n  'csui/controls/toolbar/toolitems.filtered.model',\r\n  'csui/utils/commands',\r\n  'csui/controls/toolbar/toolbar.command.controller',\r\n  'csui/models/nodes',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/header/impl/collapse/collapse.page.overlay',\r\n  'css!conws/widgets/header/impl/headertoolbar'\r\n], function ($, _, Backbone, Marionette, template, LazyToolbarView, ToolbarView,\r\n    FilteredToolItemsCollection, commands, ToolbarCommandController, NodeCollection,\r\n    LayoutViewEventsPropagationMixin, CollapseView) {\r\n  'use strict';\r\n\r\n  var HeaderToolbarView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      statusIndicatorsRegion: '.conws-header-status-indicators',\r\n      dividerRegion: '.conws-header-status-toolbar-divider',\r\n      toolbarRegion: '.conws-rightToolbar',\r\n      delayedActionsToolbarRegion: '.conws-delayedActionsToolbar',\r\n      collapseRegion: '.conws-header-collapse'\r\n    },\r\n\r\n    ui: {\r\n      toolbarRegion: '.conws-rightToolbar',\r\n      delayedActionsToolbarRegion: '.conws-delayedActionsToolbar',\r\n      statusIndicatorsRegion: '.conws-header-status-indicators',\r\n      dividerRegion: '.conws-header-status-toolbar-divider',\r\n      collapseRegion: '.conws-header-collapse'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var obj = {\r\n        hasToolbarView: !this.options.hideToolbar\r\n      };\r\n      return obj;\r\n    },\r\n\r\n    constructor: function HeaderToolbarView(options) {\r\n      options || (options = {});\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    initialize: function (options) {\r\n\r\n      if (!options.hideToolbar) {\r\n        var toolbarItems = options.toolbarItems;\r\n        var toolItemsMask = options.toolbarItemsMasks;\r\n        var node = options.node;\r\n        var selectedNodes = new NodeCollection(node);\r\n        selectedNodes.connector = node.connector;\r\n\r\n        this.commandController = new ToolbarCommandController({\r\n          commands: options.commands || commands\r\n        });\r\n\r\n        this.commonToolbarOptions = {\r\n          originatingView: options.originatingView,\r\n          context: options.context,\r\n          toolbarCommandController: this.commandController,\r\n          container: options.container,\r\n          useIconsForDarkBackground: options.useIconsForDarkBackground\r\n        };\r\n\r\n        var rightToolbarItems = toolbarItems ? toolbarItems.rightToolbar : undefined\r\n        var rightToolbarMask = toolItemsMask ? toolItemsMask.toolbars.rightToolbar : undefined\r\n        this._righttoolbarView = this._setToolbarView(node, rightToolbarItems,\r\n            rightToolbarMask, toolbarItems.rightToolbar.options);\r\n\r\n        var delayedActionsToolbarItems = toolbarItems ? toolbarItems.delayedActionsToolbar :\r\n                                         undefined\r\n        var delayedActionsToolbarMask = toolItemsMask ?\r\n                                        toolItemsMask.toolbars.delayedActionsToolbar : undefined\r\n        this._delayedActionsToolbarView = this._setToolbarView(node, delayedActionsToolbarItems,\r\n            delayedActionsToolbarMask, toolbarItems.delayedActionsToolbar.options);\r\n      }\r\n\r\n      if (options.statusIndicatorsView && options.statusIndicatorsViewOptions) {\r\n        this._statusIndicatorsView = new options.statusIndicatorsView(\r\n            options.statusIndicatorsViewOptions);\r\n      }\r\n\r\n      if (options.enableCollapse) {\r\n        var collapseOptions;\r\n        if (options.context.perspective) {\r\n          collapseOptions = {\r\n            perspective: options.context.perspective\r\n          }\r\n        }\r\n        this._collapseView = new CollapseView(collapseOptions);\r\n      }\r\n\r\n      if (options.originatingView) {\r\n        this.listenTo(options.originatingView, 'adjust:toolbar', this.adjustToolbar);\r\n      }\r\n\r\n      this.listenTo(this, 'dom:refresh', this._DomRefresh);\r\n      this.listenTo(this, \"status:indicator:available\", this.showDivider);\r\n\r\n      if (this._delayedActionsToolbarView) {\r\n        this.listenTo(this._delayedActionsToolbarView, 'render', this._DomRefresh);\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      this.delegateEvents();\r\n      if (this._statusIndicatorsView) {\r\n        this.statusIndicatorsRegion.show(this._statusIndicatorsView);\r\n      }\r\n      if (this._righttoolbarView) {\r\n        this.toolbarRegion.show(this._righttoolbarView);\r\n      }\r\n      if (this._delayedActionsToolbarView) {\r\n        this.delayedActionsToolbarRegion.show(this._delayedActionsToolbarView);\r\n      }\r\n      if (this._collapseView) {\r\n        this.collapseRegion.show(this._collapseView);\r\n      }\r\n      if (this._showDivider) {\r\n        this.ui.dividerRegion.addClass('divider-show');\r\n      }\r\n    },\r\n\r\n    _setToolbarView: function (node, toolbarItems, toolbarMask, toolOptions) {\r\n      var nodes = new NodeCollection([node]);\r\n      nodes.connector = node.connector;\r\n\r\n      var status = _.extend(this.commonToolbarOptions, {\r\n        nodes: nodes\r\n      });\r\n\r\n      var filteredCollection = new FilteredToolItemsCollection(\r\n          toolbarItems, {\r\n            status: status,\r\n            commands: this.commandController.commands,\r\n            delayedActions: node.delayedActions,\r\n            mask: toolbarMask\r\n          });\r\n\r\n      // Toolbars in the header widget offer actions working on the workspace\r\n      // node. This node may fetch permitted actions in the delayed mode.\r\n      var toolbarView = new LazyToolbarView(_.extend({\r\n        collection: filteredCollection\r\n      }, this.commonToolbarOptions, toolOptions));\r\n\r\n      return toolbarView;\r\n    },\r\n\r\n    showDivider: function () {\r\n      if (this._collapseView || !this.options.hideToolbar) {\r\n        this._showDivider = true;\r\n        this.ui.dividerRegion.addClass('divider-show');\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n\r\n      if (this._statusIndicatorsView) {\r\n        this._statusIndicatorsView.destroy();\r\n      }\r\n      if (this._righttoolbarView) {\r\n        this._righttoolbarView.destroy();\r\n      }\r\n      if (this._delayedActionsToolbarView) {\r\n        this._delayedActionsToolbarView.destroy();\r\n      }\r\n      if (this._collapseView) {\r\n        this._collapseView.destroy();\r\n      }\r\n    },\r\n\r\n    _DomRefresh: function () {\r\n\r\n      if (this._righttoolbarView) {\r\n        this._righttoolbarView.triggerMethod('dom:refresh');\r\n      }\r\n      if (this._delayedActionsToolbarView) {\r\n        this._delayedActionsToolbarView.triggerMethod('delayed:toolbar:refresh');\r\n      }\r\n    },\r\n\r\n    adjustToolbar: function () {\r\n      var tabIndex = -1;\r\n      if (arguments && arguments.length > 0) {\r\n        tabIndex = arguments[0].tabIndex;\r\n      }\r\n\r\n      if (this.$el.find(\".binf-dropdown\").length === 0) {\r\n        this._DomRefresh();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(HeaderToolbarView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return HeaderToolbarView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/icon',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div class=\\\"conws-header-edit\\\" tabindex=\\\"0\\\" role=\\\"button\\\" data-binf-toggle=\\\"popover\\\"\\r\\n    aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"iconMsg\") || (depth0 != null ? lookupProperty(depth0,\"iconMsg\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"iconMsg\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":16},\"end\":{\"line\":3,\"column\":27}}}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"header-image\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"iconCustomized\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"loc\":{\"start\":{\"line\":5,\"column\":6},\"end\":{\"line\":9,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n    <div class=\\\"header-editor\\\">\\r\\n      <span> \"\n    + ((stack1 = (lookupProperty(helpers,\"icon-v2\")||(depth0 && lookupProperty(depth0,\"icon-v2\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon-v2\",\"hash\":{\"on\":\"true\",\"iconName\":\"csui_action_edit32\"},\"loc\":{\"start\":{\"line\":12,\"column\":13},\"end\":{\"line\":12,\"column\":66}}})) != null ? stack1 : \"\")\n    + \"</span>\\r\\n    </div>\\r\\n  </div>\\r\\n  <input class=\\\"conws-header-icon-file\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"chooseInpFileTitle\") || (depth0 != null ? lookupProperty(depth0,\"chooseInpFileTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"chooseInpFileTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":47},\"end\":{\"line\":15,\"column\":69}}}) : helper)))\n    + \"\\\" type=\\\"file\\\"\\r\\n  accept=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"iconFileTypes\") || (depth0 != null ? lookupProperty(depth0,\"iconFileTypes\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"iconFileTypes\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":10},\"end\":{\"line\":16,\"column\":27}}}) : helper)))\n    + \"\\\" style=\\\"display:none\\\">\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"iconData\") || (depth0 != null ? lookupProperty(depth0,\"iconData\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"iconData\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":18},\"end\":{\"line\":6,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"type\") || (depth0 != null ? lookupProperty(depth0,\"type\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"type\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":37},\"end\":{\"line\":6,\"column\":45}}}) : helper)))\n    + \"\\\">\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        \"\n    + ((stack1 = (lookupProperty(helpers,\"icon-v2\")||(depth0 && lookupProperty(depth0,\"icon-v2\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon-v2\",\"hash\":{\"size\":\"contain\",\"iconName\":\"conws_mime_workspace\"},\"loc\":{\"start\":{\"line\":8,\"column\":8},\"end\":{\"line\":8,\"column\":68}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div class=\\\"header-image\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"iconCustomized\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"loc\":{\"start\":{\"line\":19,\"column\":6},\"end\":{\"line\":23,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"canChange\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(6, data, 0),\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":25,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_icon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/header/impl/icon.view',['csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/utils/nodesprites',\r\n  'csui/controls/icons.v2',\r\n  'csui/controls/icon/icon.view',\r\n  'conws/widgets/header/impl/header.icon.model',\r\n  'conws/widgets/header/impl/editicon.view',\r\n  'i18n!conws/widgets/header/impl/nls/header.lang',\r\n  'hbs!conws/widgets/header/impl/icon',\r\n], function (_, $, Marionette, base, ModalAlert, NodeSpriteCollection, iconRegistry, IconViewHeader,\r\n    HeaderIconModel, EditIconView, lang, template) {\r\n\r\n  var IconView = Marionette.ItemView.extend({\r\n\r\n    className: 'conws-workspace-icon-view',\r\n\r\n    template: template,\r\n\r\n    // the triggers are used to add / remove the workspace icon\r\n    triggers: {\r\n      'change .conws-header-icon-file': 'set:icon'\r\n    },\r\n\r\n    // find a better solution instead of a blank 1x1px png image\r\n    blankImage: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQI12NgYAAAAAMAASDVlMcAAAAASUVORK5CYII=',\r\n\r\n    // default icon file types\r\n    defaultIconFileTypes: 'image/gif, image/x-png, image/jpeg, image/pjpeg, image/png, image/svg+xml',\r\n\r\n    // default icon file size\r\n    defaultIconFileSize: 1048576,\r\n\r\n    templateHelpers: function () {\r\n      var obj = {\r\n        canChange: this.model.hasAction('upload-icon') ||\r\n                   this.model.hasAction('update-icon') ||\r\n                   this.model.hasAction('delete-icon'),\r\n        iconData: this.getImageInfo().iconContent,\r\n        iconCustomized: this.getImageInfo().iconLocation !== 'none',\r\n        iconFileTypes: this.options.data.iconFileTypes,\r\n        chooseInpFileTitle: this.options.data.chooseInpFileTitle,\r\n        iconMsg: lang.iconMessage,\r\n        type: this.options.type\r\n      };\r\n      return obj;\r\n    },\r\n\r\n    constructor: function IconView(options) {\r\n      this.options = options || {};\r\n      // define icon file types\r\n      if (!options.data.iconFileTypes) {\r\n        options.data.iconFileTypes = this.defaultIconFileTypes;\r\n      }\r\n      // define icon file size in bytes\r\n      if (!options.data.iconFileSize) {\r\n        options.data.iconFileSize = this.defaultIconFileSize;\r\n      }\r\n      // define tooltip title of \"choose file\"\r\n      if (!options.data.chooseInpFileTitle) {\r\n        options.data.chooseInpFileTitle = lang.chooseInpFileTitle;\r\n      }\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n\r\n      // create an icon model and propagate changes between iconModel and model.\r\n      this.iconModel = new HeaderIconModel({\r\n        id: this.model.get('id')\r\n      }, {\r\n        connector: this.model.connector,\r\n        icon: this.model.icon\r\n      });\r\n      this.listenTo(this.model,'change:id',function(){\r\n        this.iconModel.set({\r\n          'id': this.model.get('id'),\r\n          'icon': undefined\r\n        });\r\n      })\r\n      this.listenTo(this.iconModel, 'icon:change', _.bind(function () {\r\n        this.model.icon = this.iconModel.icon;\r\n        this.render();\r\n      }, this));\r\n\r\n    },\r\n\r\n    isTabable: function () {\r\n      // the header icon shouldn't be tabable in collapsed mode\r\n      return $('.cs-tabbed-perspective.cs-collapse').length === 0;\r\n    },\r\n\r\n    onRender: function () {\r\n      var edit = this.$('.conws-header-edit'),\r\n        self = this;\r\n      edit.binf_popover({\r\n        container: '.conws-header-wrapper',\r\n        animation: true,\r\n        html: true,\r\n        content: _.bind(this.renderPopover, this)\r\n      });\r\n      this.options.parentView.$el.on('mouseleave', function () {\r\n        self.$('.conws-header-edit').binf_popover('hide');\r\n      });\r\n    },\r\n\r\n    // Initializes the view displayed in the edit icon popover.\r\n    renderPopover: function () {\r\n      var imageInfo = this.getImageInfo();\r\n      var self = this;\r\n      var view = new EditIconView({\r\n        message: lang.changeIconDialogMessage.replace('%1',\r\n            base.getReadableFileSizeString(self.options.data.iconFileSize)),\r\n        resetButton: function () {\r\n          return imageInfo.iconLocation === 'node' && self.model.hasAction('delete-icon')\r\n        },\r\n        uploadButton: function () {\r\n          return imageInfo.iconLocation !== 'type' && self.model.hasAction('upload-icon')\r\n                 || imageInfo.iconLocation !== 'node' && self.model.hasAction('update-icon');\r\n\r\n        },\r\n        callback: _.bind(this.onClickPopover, this)\r\n      });\r\n      return view.render().el;\r\n    },\r\n\r\n    // Whenever the file input view element has changed, the selected image is either\r\n    // set initially or updated depending on the icon state.\r\n    onSetIcon: function (e) {\r\n      var files = $('.conws-header-icon-file')[0].files\r\n      if (this.getImageInfo().iconLocation === 'node') {\r\n        this.iconModel.update(files).fail(function (resp) {\r\n          var message = new base.RequestErrorMessage(resp).message ||\r\n                        lang.changeIconDialogDefaultError;\r\n          ModalAlert.showError(message);\r\n        });\r\n      } else {\r\n        this.iconModel.add(files).fail(function (resp) {\r\n          var message = new base.RequestErrorMessage(resp).message ||\r\n                        lang.changeIconDialogDefaultError;\r\n          ModalAlert.showError(message);\r\n        });\r\n      }\r\n    },\r\n\r\n    onClickPopover: function (e) {\r\n      // close the popover\r\n      $('.conws-header-edit').binf_popover('hide');\r\n      // execute edit action\r\n      if (e === 'reset') {\r\n        // remove the custom workspace image\r\n        this.iconModel.remove().fail(function (resp) {\r\n          var message = new base.RequestErrorMessage(resp).message ||\r\n                        lang.changeIconDialogDefaultError;\r\n          ModalAlert.showError(message);\r\n        });\r\n      } else if (e === 'upload') {\r\n        // open the file browse to select a image file for upload\r\n        this.$('.conws-header-icon-file').trigger('click');\r\n      }\r\n      // refocus header image\r\n      this.$el.find('.conws-header-edit').trigger('focus');\r\n    },\r\n\r\n    // Resolves the header image\r\n    // - either return the image data url\r\n    // - or return the sub-type sprite\r\n    getImageInfo: function () {\r\n      var ret;\r\n      var icon = this.iconModel.icon;\r\n      if (icon && icon.location !== 'none') {\r\n        // workspace icon\r\n        ret = {\r\n          iconContent: icon.content,\r\n          iconLocation: icon.location\r\n        };\r\n      } else {\r\n        // default icon\r\n        ret = {\r\n          iconContent: this.blankImage,\r\n          iconLocation: 'none'\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    }\r\n  });\r\n\r\n  return IconView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/header',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"-childview\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <div class=\\\"conws-header-metadata-container\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasWorkspaceType\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":16,\"column\":8},\"end\":{\"line\":20,\"column\":15}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasDescription\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":21,\"column\":8},\"end\":{\"line\":25,\"column\":15}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasMetadataExtension\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":26,\"column\":8},\"end\":{\"line\":28,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"          <div class=\\\"conws-header-type\\\">\\r\\n            <p title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"type\") || (depth0 != null ? lookupProperty(depth0,\"type\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"type\",\"hash\":{},\"loc\":{\"start\":{\"line\":18,\"column\":22},\"end\":{\"line\":18,\"column\":30}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"type\") || (depth0 != null ? lookupProperty(depth0,\"type\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"type\",\"hash\":{},\"loc\":{\"start\":{\"line\":18,\"column\":32},\"end\":{\"line\":18,\"column\":40}}}) : helper)))\n    + \"</p>\\r\\n          </div>\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isDescriptionEmpty\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":22,\"column\":10},\"end\":{\"line\":24,\"column\":21}}})) != null ? stack1 : \"\");\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"            <div class=\\\"conws-header-desc\\\"></div>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    return \"          <div class=\\\"conws-header-metadata-extension\\\"></div>\\r\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    return \"    <div class=\\\"conws-header-childView-container\\\">\\r\\n      <div id=\\\"conws-header-childview\\\"></div>\\r\\n    </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-header-wrapper\\\">\\r\\n  <div class=\\\"conws-header-metadata\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasChildView\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":2,\"column\":35},\"end\":{\"line\":2,\"column\":72}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n    <div class=\\\"conws-header-image\\\"></div>\\r\\n    <div class=\\\"conws-header-title-section\\\">\\r\\n      <div class=\\\"conws-header-title\\\">\\r\\n        <h1 title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":19},\"end\":{\"line\":6,\"column\":28}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":30},\"end\":{\"line\":6,\"column\":39}}}) : helper)))\n    + \"</h1>\\r\\n\\r\\n        <div class=\\\"conws-header-child-displayUrl\\\"></div>\\r\\n      </div>\\r\\n\\r\\n       <div class=\\\"conws-header-toolbar\\\"></div>\\r\\n      \\r\\n    </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasMetadata\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":14,\"column\":4},\"end\":{\"line\":30,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasChildView\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":33,\"column\":2},\"end\":{\"line\":37,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_header', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/error.template',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-header-error content-tile\\\">\\r\\n  <div class=\\\"conws-header-error-icon-div\\\">\\r\\n    <div class=\\\"conws-header-error-icon-parent\\\">\\r\\n      <div class=\\\"conws-header-error-icon notification_error\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"conws-header-message\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"errorMessage\") || (depth0 != null ? lookupProperty(depth0,\"errorMessage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"errorMessage\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":36},\"end\":{\"line\":7,\"column\":52}}}) : helper)))\n    + \"</div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_error.template', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/header/impl/header',[],function(){});\n","// Business Workspace Header View\r\ncsui.define('conws/widgets/header/header.view',['module',\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/utils/url',\r\n  'csui/utils/nodesprites',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/utils/high.contrast/detector!',\r\n  'csui/utils/node.links/node.links',\r\n  'hbs!conws/widgets/header/impl/navitem',\r\n  'esoc/widgets/activityfeedwidget/activityfeedfactory',\r\n  'esoc/widgets/activityfeedwidget/activityfeedcontent',\r\n  'csui-ext!conws/utils/commands/navigate/workspace',\r\n  'conws/utils/navigate/navigate.util',\r\n  'conws/utils/commands/back.to.previous.location',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/header/impl/editicon.view',\r\n  'conws/widgets/header/impl/header.model.factory',\r\n  'conws/widgets/header/impl/header.icon.model',\r\n  'conws/widgets/header/impl/headertoolbaritems',\r\n  'conws/widgets/header/impl/headertoolbaritems.masks',\r\n  'conws/models/favorite.model',\r\n  'conws/controls/description/description.view',\r\n  'conws/widgets/header/impl/headertoolbar.view',\r\n  'conws/widgets/header/impl/icon.view',\r\n  'csui/controls/icon/icon.view',\r\n  'i18n!conws/widgets/header/impl/nls/header.lang',\r\n  'csui/utils/contexts/factories/node',\r\n  'hbs!conws/widgets/header/impl/header',\r\n  'hbs!conws/widgets/header/impl/error.template',\r\n  'css!conws/widgets/header/impl/header'\r\n], function (module, require, _, $, Backbone, Marionette,\r\n    base, Log, Url, NodeSpriteCollection,\r\n    ModalAlert, BlockingView, highContrast,\r\n    nodeLinks, headerNavItemTemplate,\r\n    ActivityFeedFactory, ActivityFeedContent,\r\n    NavigateExtensions, NavigateUtil, BackToPreviousLocation,\r\n    WorkspaceContextFactory, EditIconView, HeaderModelFactory,\r\n    HeaderIconModel, HeaderToolbarItems, HeaderToolbarItemsMask, FavoriteModel, DescriptionView,\r\n    HeaderToolbarView, IconView, CsuiIconView, lang, NodeModelFactory, template, errorTemplate) {\r\n\r\n  // strict javascript execution\r\n  'use strict';\r\n\r\n  // activity feed widget\r\n  var constants = {'activityfeedwidget': 'esoc/widgets/activityfeedwidget'};\r\n\r\n  var moduleConfig = module.config();\r\n  var log = new Log(module.id);\r\n\r\n  // highContrast is 1 for white on dark and 2 for dark on white background.\r\n  // in header we have dark background by default. show the \"dark\" theme icon\r\n  // by default and when background is dark due to high contrast setting.\r\n\r\n  var _useIconsForDarkBackground;\r\n\r\n  if (highContrast === 2) {\r\n    _useIconsForDarkBackground = false;\r\n  }\r\n  else {\r\n    _useIconsForDarkBackground = true;\r\n  }\r\n\r\n  var backCommand = new BackToPreviousLocation();\r\n  function goToPrevious() {\r\n    this.backToPrevious.done = true;\r\n    backCommand.execute({\r\n      context: this.options.context,\r\n      data: { index: this.backToPrevious.index }\r\n    })\r\n  }\r\n  function hasPreviousLink() {\r\n    return this.backToPrevious.router!==\"Landing\" && this.backToPrevious.index>=0;\r\n  }\r\n\r\n  var HeaderNavItemView = Marionette.ItemView.extend({\r\n\r\n    template: headerNavItemTemplate,\r\n\r\n    className: 'conws-header-navitem',\r\n\r\n    constructor: function HeaderNavItemView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this,arguments);\r\n    },\r\n\r\n    onRender: function() {\r\n      // render icon in navigation back link.\r\n      var target = this.$('.conws-header-navicon');\r\n      var backLinkIcon = new CsuiIconView({\r\n        iconName: 'conws_action_backv2',\r\n        states: 'true',\r\n        size: 'normal',\r\n        theme: _useIconsForDarkBackground ? 'dark' : ''\r\n      });\r\n      backLinkIcon.render();\r\n      backLinkIcon.$el.addClass(target[0].className);\r\n      target.replaceWith(backLinkIcon.el);\r\n    }\r\n\r\n  });\r\n\r\n  var HeaderNavBarView = Marionette.CollectionView.extend({\r\n\r\n    className: 'conws-header-navbar',\r\n\r\n    childView: HeaderNavItemView,\r\n\r\n    events: {\r\n      \"click .conws-header-navlink\": \"clickLink\"\r\n    },\r\n\r\n    clickLink: function(e){\r\n      this.trigger(\"click:link\",e);\r\n    },\r\n\r\n    constructor: function HeaderNavBarView() {\r\n      Marionette.CollectionView.prototype.constructor.apply(this,arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var keys = [\r\n    \"hideToolbar\", \"hideToolbarExtension\", \"hideActivityFeed\",\r\n    \"hideDescription\", \"hideWorkspaceType\", \"hasMetadataExtension\",\r\n    \"toolbarBlacklist\", \"extensionToolbarBlacklist\", \"enableCollapse\"\r\n  ];\r\n\r\n  // initialize the Header View\r\n  var HeaderView = Marionette.LayoutView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-header',\r\n\r\n    // Template is used to render the HTML for the view\r\n    template: template,\r\n\r\n    // The template helpers are used to provide placeholders\r\n    // for the widget\r\n    templateHelpers: function () {\r\n      var obj = {\r\n        title: this.resolveProperty('title'),\r\n        type: this.resolveProperty('type'),\r\n        description: this.resolveProperty('description'),\r\n        hasChildView: this.hasChildView(),\r\n        hasDescription: !this.options.hideDescription,\r\n        isDescriptionEmpty: this.hasEmptyDescription(),\r\n        hasWorkspaceType: !this.options.hideWorkspaceType,\r\n        hasMetadataExtension: this.options.hasMetadataExtension,\r\n        hasMetadata: !this.options.hideDescription || !this.options.hideWorkspaceType ||\r\n                     this.options.hasMetadataExtension\r\n      };\r\n      return obj;\r\n    },\r\n\r\n    // the header is separated in the following regions:\r\n    // - child view region contains the configured nested view. this\r\n    //   is currently only the activity view.\r\n    // - Toolbar region contains the commands like comments,favorites and other extensions\r\n    regions: {\r\n      childViewRegion: '#conws-header-childview',\r\n      toolBarRegion: '.conws-header-toolbar',\r\n      descriptionRegion: '.conws-header-desc',\r\n      iconViewRegion: '.conws-header-image'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    onClickLink: function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      goToPrevious.call(this);\r\n    },\r\n\r\n    isTabable: function () {\r\n      // the header icon shouldn't be tabable in collapsed mode\r\n      return $('.cs-tabbed-perspective.cs-collapse').length === 0;\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      // get header icon as focusable element\r\n      return this.$el.find('.conws-header-edit');\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        // open image editor in case the header isn't collapsed\r\n        if ($(e.target).hasClass('conws-header-edit')) {\r\n          // stall event\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          if ($('.cs-collapse').length === 0) {\r\n            // show popover\r\n            $(e.target).binf_popover('show');\r\n          }\r\n        } else if ($(e.target).hasClass('conws-header-navlink')) {\r\n          // stall event\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          goToPrevious.call(this);\r\n        }\r\n      }\r\n    },\r\n\r\n    // The constructor gives an explicit name the the object in the debugger and\r\n    // can update the options for the parent view\r\n    constructor: function HeaderView(options) {\r\n      // context is required\r\n      options || (options = {});\r\n      if (!options.context) {\r\n        throw new Error('Context is missing in the constructor options');\r\n      }\r\n      options.hideToolbar = options.hideToolbar ? !!options.hideToolbar :\r\n                            !!moduleConfig.hideToolbar;\r\n      options.hideToolbarExtension = options.hideToolbarExtension ? !!options.hideToolbarExtension :\r\n                                     !!moduleConfig.hideToolbarExtension;\r\n      options.hideActivityFeed = options.hideActivityFeed ? !!options.hideActivityFeed :\r\n                                 !!moduleConfig.hideActivityFeed;\r\n      options.hideDescription = options.hideDescription ? !!options.hideDescription :\r\n                                !!moduleConfig.hideDescription;\r\n      options.hideWorkspaceType = options.hideWorkspaceType ? !!options.hideWorkspaceType :\r\n                                  !!moduleConfig.hideWorkspaceType;\r\n      options.hasMetadataExtension = options.hasMetadataExtension ? !!options.hasMetadataExtension :\r\n                                     !!moduleConfig.hasMetadataExtension;\r\n      options.toolbarBlacklist = options.toolbarBlacklist ? options.toolbarBlacklist :\r\n                                 moduleConfig.toolbarBlacklist;\r\n      options.extensionToolbarBlacklist = options.extensionToolbarBlacklist ?\r\n                                          options.extensionToolbarBlacklist :\r\n                                          moduleConfig.extensionToolbarBlacklist;\r\n      options.expandDescription = true;\r\n      options.enableCollapse = options.enableCollapse === undefined ?\r\n                                !!moduleConfig.enableCollapse : !!options.enableCollapse;\r\n\r\n      if (NavigateExtensions) {\r\n        for (var ii=0; ii<NavigateExtensions.length; ii++) {\r\n          var extension = NavigateExtensions[ii];\r\n          if (extension.checkHeaderViewOptions) {\r\n            var extended = extension.checkHeaderViewOptions( {context: options.context}, _.pick(options,keys));\r\n            if (extended) {\r\n              _.extend(options,_.pick(extended,keys));\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(HeaderModelFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(ActivityFeedFactory);\r\n      }\r\n      // get the model from the model factory\r\n      options.model = options.workspaceContext.getModel(HeaderModelFactory);\r\n\r\n      // set child widget and options if the type is 'activityfeed'\r\n      if (options.data.widget && options.data.widget.type &&\r\n          options.data.widget.type === 'activityfeed') {\r\n        options.data.widget.type = constants.activityfeedwidget;\r\n        options.data.widget.options || (options.data.widget.options = {});\r\n      }\r\n\r\n      // Masking the toolbar items in the right section of header\r\n      if ((Array.isArray(options.toolbarBlacklist) && options.toolbarBlacklist.length > 0) ||\r\n          (Array.isArray(options.delayedToolbarBlacklist) &&\r\n           options.delayedToolbarBlacklist.length > 0)) {\r\n        options.headerToolbarItemsMask = new HeaderToolbarItemsMask({\r\n          \"rightToolbar\": {blacklist: options.toolbarBlacklist},\r\n          \"delayedActionsToolbar\": {blacklist: options.delayedToolbarBlacklist}\r\n        });\r\n      }\r\n\r\n      // Masking the toolbar items in the toolbar extension area of tabbed perspective\r\n      if ((Array.isArray(options.extensionToolbarBlacklist) &&\r\n           options.extensionToolbarBlacklist.length > 0) ||\r\n          (Array.isArray(options.extensionToolbarDelayedActionsBlacklist) &&\r\n           options.extensionToolbarDelayedActionsBlacklist.length > 0)) {\r\n        options.headerExtensionToolbarItemsMask = new HeaderToolbarItemsMask({\r\n          \"rightToolbar\": {blacklist: options.extensionToolbarBlacklist},\r\n          \"delayedActionsToolbar\": {blacklist: options.extensionToolbarDelayedActionsBlacklist}\r\n        });\r\n      }\r\n\r\n      options.workspaceNode = options.workspaceContext.getModel(NodeModelFactory);\r\n\r\n      // wire models and collections also to the parent view\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // listen to the window resize event\r\n      $(window).on('resize', _.bind(this.onWindowResize, this));\r\n      this.model.fetched = false;\r\n      // changes of the header model are rendered immediately\r\n      this.listenTo(this.model, 'change', _.bind(function () {\r\n        this.model.fetched = true;\r\n        this.render();\r\n      }, this));\r\n\r\n      //Show errors\r\n      this.listenTo(this.model, 'error', this.handleError);\r\n\r\n      if (this.hasChildView()) {\r\n        var widget = this.options.data.widget;\r\n        if (widget.type === constants.activityfeedwidget) {\r\n          // because nodeid is part of id of activity feed factory/model in context, we must create\r\n          // the widget every time the id changes. and we must do it before render,\r\n          // so it is fetched together with the other nodes, to get smooth animations.\r\n          this._makeActivityWidget();\r\n          this.listenTo(this.model.node, 'change:id', this._makeActivityWidget);\r\n        }\r\n      }\r\n\r\n      this.options.workspaceNode.nonPromotedActionCommands = this.getDelayedHeaderViewActions();\r\n      // Render toolbar items (comments, favorites) as an extension in tab links section of tabbed perspective\r\n      if (!this.options.hideToolbarExtension) {\r\n\r\n        this.tabBarRightExtensionView = HeaderToolbarView;\r\n\r\n        this.tabBarRightExtensionViewOptions = {\r\n          context: this.options.context,\r\n          node: this.options.workspaceNode,\r\n          toolbarItems: this.options.headerExtensionToolbaritems || HeaderToolbarItems,\r\n          container: this.options.workspaceNode,\r\n          originatingView: this,\r\n          toolbarItemsMasks: this.options.headerExtensionToolbarItemsMask,\r\n          useIconsForDarkBackground: _useIconsForDarkBackground,\r\n          customClass: \"conws-header-toolbar-extension conws-header-toolbar\"\r\n        };\r\n        // Not showing the extension in the condensed header\r\n        this.disableExtensionOnOtherTabs = true;\r\n      }\r\n\r\n      // listen to the dom:refresh event to do line clamping...\r\n      this.listenTo(this, 'dom:refresh', this.onDomRefresh);\r\n\r\n      this.listenTo(this, \"active:tab\", function () {\r\n        this.triggerMethod(\"adjust:toolbar\");\r\n        //have to render icon first and than set the right tabindex for the icon\r\n        this.renderWorkspaceIcon();\r\n        this.isTabable() ? this.currentlyFocusedElement().attr(\"tabindex\", \"0\") :\r\n                           this.currentlyFocusedElement().attr(\"tabindex\", \"-1\");\r\n      });\r\n      this.listenTo(this, \"render\", this.postCallbackFunction);\r\n\r\n      // add listeners to ensure back link is updated after it was clicked, even when perspective does not change.\r\n      var viewStateModel = this.options.context.viewStateModel;\r\n      this.listenTo(viewStateModel,\"navigate\",function(){\r\n        if (this.backToPrevious && this.backToPrevious.done) {\r\n          // if back link was clicked and perspective was not changed so far, then update the backlink explicitly.\r\n          this.renderNavigationBar(true);\r\n        }\r\n      });\r\n      this.listenTo(this.options.context,\"change:perspective\",function(){\r\n        if (this.backToPrevious && this.backToPrevious.done) {\r\n          // if back link was clicked and perspective changes no need to update the backlink explicitly.\r\n          this.backToPrevious && delete this.backToPrevious.done;\r\n        }\r\n      });\r\n\r\n      if (options.blockingParentView) {\r\n        BlockingView.delegate(this, options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n    },\r\n\r\n    postCallbackFunction: function () {\r\n      // Render toolbar items (comments, favorites) in the header right section\r\n      // and additional toolbar for extension of other actions.\r\n\r\n      this.headerToolbarView = new HeaderToolbarView(\r\n          {\r\n            context: this.options.context,\r\n            node: this.options.workspaceNode,\r\n            toolbarItems: this.options.headertoolbaritems ? this.options.headertoolbaritems :\r\n                          HeaderToolbarItems,\r\n            toolbarItemsMasks: this.options.headerToolbarItemsMask,\r\n            container: this.options.workspaceNode,\r\n            originatingView: this,\r\n            hideToolbar: this.options.hideToolbar,\r\n            useIconsForDarkBackground: _useIconsForDarkBackground,\r\n            statusIndicatorsView: this.options.statusIndicatorsView,\r\n            statusIndicatorsViewOptions: this.options.statusIndicatorsViewOptions,\r\n            enableCollapse: this.options.enableCollapse\r\n          });\r\n\r\n      this.toolBarRegion.show(this.headerToolbarView);\r\n    },\r\n\r\n    renderWorkspaceIcon: function () {\r\n      this.iconView = new IconView(\r\n        _.defaults(this.options, {type: this.resolveProperty('type'), parentView: this})\r\n      );\r\n      this.iconViewRegion.show(this.iconView);\r\n    },\r\n\r\n    addActivityFeedClass: function () {\r\n      if (this.$el.find('#conws-header-childview').find('.esoc-activityfeed-contentwidget').has(\r\n              '.esoc-activityfeed-list-item').length) {\r\n        this.$el.parent().addClass('conws-activityfeed-configured').removeClass(\r\n            'conws-activityfeed-configured-nodata');\r\n      } else if (this.$el.find('#conws-header-childview').has(\r\n              '.esoc-activityfeed-contentwidget .esoc-empty-activityfeed-message').length) {\r\n        this.$el.parent().addClass('conws-activityfeed-configured-nodata').removeClass(\r\n            'conws-activityfeed-configured');\r\n      } else {\r\n        this.$el.parent().removeClass('conws-activityfeed-configured-nodata').removeClass(\r\n            'conws-activityfeed-configured');\r\n      }\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      this.addActivityFeedClass();\r\n      // line clamping\r\n      this._clampTexts();\r\n      // tab indexes are maintained in the 'dom:refresh' event. unfortunately the event isn't\r\n      // executed on nested views. therefore we have to manually trigger them on the nested views.\r\n      if (this.hasChildView()) {\r\n        this.childViewRegion.currentView &&\r\n        this.childViewRegion.currentView.triggerMethod('dom:refresh');\r\n      }\r\n\r\n      this.headerToolbarView.triggerMethod('dom:refresh');\r\n\r\n      if (this.descriptionView && this.descriptionView.ui.readMore.is && this.descriptionView.ui.showLess.is) {\r\n        if (this.descriptionView.ui.readMore.is(\":hidden\") && this.descriptionView.ui.showLess.is(\":visible\")) {\r\n          this.descriptionView.ui.showLess.trigger('click');\r\n          this.currentlyFocusedElement().trigger('focus');\r\n        }\r\n      }\r\n\r\n      this.isTabable() ? this.currentlyFocusedElement().attr(\"tabindex\", \"0\") :\r\n      this.currentlyFocusedElement().attr(\"tabindex\", \"-1\");\r\n\r\n    },\r\n\r\n    onWindowResize: function () {\r\n      // line clamping\r\n      this._clampTexts();\r\n    },\r\n\r\n    onDestroy: function () {\r\n      // unbind resize event\r\n      $(window).off('resize', this.onWindowResize);\r\n      // release the observer\r\n      if (this._observer) {\r\n        this._observer.disconnect();\r\n      }\r\n\r\n      if (this.iconView) {\r\n        this.iconView.destroy();\r\n      }\r\n\r\n      if (this.headerToolbarView) {\r\n        this.headerToolbarView.destroy();\r\n      }\r\n\r\n      if (this.navigationBar){\r\n        this.navigationBar.destroy();\r\n      }\r\n    },\r\n\r\n    onShow: function () {\r\n      var self = this;\r\n      // create observer ...\r\n      var perspective = $('.cs-perspective-panel');\r\n      if (perspective.length === 1) {\r\n        this._observer = new MutationObserver(function (mutations) {\r\n          mutations.forEach(function (mutation) {\r\n            var target = $(mutation.target);\r\n            if (target.hasClass('cs-tabbed-perspective')) {\r\n              self.titleClampLines = target.hasClass('cs-collapse') ? 1 : 2;\r\n              self._clampTexts();\r\n            }\r\n          });\r\n        });\r\n        // ... and observe\r\n        this._observer.observe(perspective[0],\r\n            {attributes: true, attributeFilter: ['class'], subtree: true});\r\n      }\r\n    },\r\n\r\n    // The view is rendered whenever the model changes.\r\n    onRender: function () {\r\n      if (this._parent && this._parent.$el) {\r\n        this._parent.$el.parents('.cs-tabbed-perspective').addClass('conws-header-active');\r\n      }\r\n      // render icon and text in navigation back link.\r\n      this.renderNavigationBar();\r\n      if (this.model.fetched) {\r\n        this.$el.parent().addClass('conws-header-widget');\r\n        var self = this;\r\n\r\n        // Render Icon\r\n        this.renderWorkspaceIcon();\r\n\r\n        if (this.hasChildView()) {\r\n          // Render activityfeed if necessary\r\n          if (!self.activityFeedContent) {\r\n            this._makeActivityWidget();\r\n          }\r\n          if (self.activityFeedContent) {\r\n            var listView = self.activityFeedContent.contentView.unblockActions();\r\n            self.childViewRegion.show(listView);\r\n            self.activityFeedContent = undefined;\r\n          }\r\n        }\r\n\r\n        // Render description\r\n        if (!this.options.hideDescription && !this.hasEmptyDescription()) {\r\n          var data = {\r\n            view: this,\r\n            complete_desc: this.resolveProperty('description'),\r\n            expandDescription: this.options.expandDescription\r\n          };\r\n          this.descriptionView = new DescriptionView(data);\r\n          this.descriptionRegion.show(this.descriptionView);\r\n          this.$el.parent().addClass('conws-description-available');\r\n        }\r\n      }\r\n    },\r\n\r\n    renderNavigationBar: function(update) {\r\n\r\n      var backToPreviousTitle, backToPreviousLink = '#';\r\n      this.backToPrevious = backCommand.getLinkInfo(this.options.context);\r\n      var showBackLink = hasPreviousLink.call(this);\r\n      log.debug('HeaderView backToPrevious: {0} {1}', showBackLink, this.backToPrevious.index) && console.log(log.last);\r\n\r\n      if (this._parent && this._parent.$el) {\r\n        if (showBackLink) {\r\n          this._parent.$el.parents('.cs-tabbed-perspective').addClass('conws-backlink-visible');\r\n          this._parent.$el.addClass('conws-header-with-link');\r\n        } else {\r\n          this._parent.$el.parents('.cs-tabbed-perspective').removeClass('conws-backlink-visible');\r\n          this._parent.$el.removeClass('conws-header-with-link');\r\n        }\r\n      }\r\n\r\n      if (this.navigationBar && (!showBackLink||!update)) {\r\n        this.$('.conws-header-navwrap').remove();\r\n        this.navigationBar.destroy();\r\n        delete this.navigationBar;\r\n      }\r\n      if (showBackLink) {\r\n        backToPreviousTitle = this.backToPrevious.title;\r\n        if (this.backToPrevious.id) {\r\n          var crumb = new Backbone.Model({id:this.backToPrevious.id});\r\n          backToPreviousLink = nodeLinks.getUrl(crumb, {connector: this.model.connector}) || '#';\r\n        }\r\n\r\n        if (this.navigationBar) {\r\n          this.navigationBar.$('.conws-header-navlink').attr({\r\n            \"href\": backToPreviousLink,\r\n            \"title\": backToPreviousTitle\r\n          });\r\n          this.navigationBar.$('.conws-header-navtext').text(backToPreviousTitle);\r\n        } else {\r\n          var navbar = new HeaderNavBarView({\r\n            collection: new Backbone.Collection([{\r\n              backToPreviousLink: backToPreviousLink,\r\n              backToPreviousTitle: backToPreviousTitle\r\n            }])\r\n          });\r\n          navbar.render();\r\n          this.listenTo(navbar,\"click:link\",this.onClickLink);\r\n          $('<div class=\"conws-header-navwrap\"></div>').append(navbar.el).insertBefore(this.$('.conws-header-wrapper'));\r\n          this.navigationBar = navbar;\r\n        }\r\n      }\r\n    },\r\n\r\n    hasEmptyDescription: function () {\r\n      var description = this.resolveProperty('description');\r\n      return (description === \"\");\r\n    },\r\n\r\n    _clampTexts: function () {\r\n      // clear timer\r\n      if (this.resizeTimer) {\r\n        clearTimeout(this.resizeTimer);\r\n      }\r\n      // renew timer\r\n      this.resizeTimer = setTimeout(_.bind(function () {\r\n        // title\r\n        var title = $('.conws-header-title > p');\r\n        if (title.length !== 0) {\r\n          title.text(title.attr('title'));\r\n          this.clamp(title[0], title.parent().outerHeight());\r\n        }\r\n      }, this), 200);\r\n    },\r\n\r\n    // Get the header configuration property\r\n    _makeActivityWidget: function () {\r\n      // create activity widget if we have an id.\r\n      // set it to undefined, if we have no id or activityfeed is not configured.\r\n      this.activityFeedContent = undefined;\r\n      if (this.model.node.get('id')) {\r\n        var widget = (this.options.data && this.options.data.widget);\r\n        if (widget && widget.type === constants.activityfeedwidget) {\r\n          var widgetOptions = $.extend({}, widget.options, {\r\n            feedsize: 10,\r\n            feedtype: \"all\",\r\n            feedSettings: {\r\n              enableComments: true,\r\n              enableFilters: false\r\n            },\r\n            feedsource: {\r\n              source: 'pulsefrom',\r\n              id: this.model.node.get('id')\r\n            },\r\n            hideExpandIcon: true,\r\n            context: this.options.workspaceContext,\r\n            headerView: true\r\n          });\r\n          this.activityFeedContent = new ActivityFeedContent(widgetOptions);\r\n          this.listenTo(this.activityFeedContent.contentView.collection, 'sync', this.addActivityFeedClass);\r\n        }\r\n      }\r\n    },\r\n\r\n    // Get the header configuration property\r\n    configProperty: function (name) {\r\n      var props = (this.options.data && this.options.data.workspace &&\r\n                   this.options.data.workspace.properties) || {};\r\n      return props[name];\r\n    },\r\n\r\n    // Gets the widget properties from the view and resolves replacement tags if\r\n    // available.\r\n    resolveProperty: function (name) {\r\n      var ret = '';\r\n      // resolve widget property only in case the model is\r\n      // already a business workspace\r\n      if (this.model.isWorkspaceType()) {\r\n        // get the property from the widget workspace configuration\r\n        var prop = this.configProperty(name);\r\n        //for backword compatability\r\n        if (prop === '{business_properties.description}') {\r\n          prop = '{description}'\r\n        }\r\n        if (prop && (prop.length > 0)) {\r\n          // find placeholders in the format '{x}'\r\n          var tags = prop.match(/{(.*?)}/g);\r\n          if (tags) {\r\n            var self = this;\r\n            _.each(tags, function (tag) {\r\n              prop = prop.replace(tag, self.format(self.resolveModelValue(tag)).formatted || '');\r\n            });\r\n          }\r\n          ret = prop;\r\n        }\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    // Gets properties from the model.\r\n    // - Supports node / category properties\r\n    // - Multi-value fields are supported, values are comma-separated.\r\n    // - Returns name, value and metadata information\r\n    resolveModelValue: function (name) {\r\n      // initialize return\r\n      var ret = {\r\n        name: name,\r\n        value: name,\r\n        metadata: undefined\r\n      };\r\n      // resolve the model value\r\n      if (name.indexOf('{') === 0) {\r\n        // set node values and split replacement tag\r\n        var value = this.model.attributes || {};\r\n        var metadata = this.model.metadata && this.model.metadata.properties || {};\r\n        var names = name.substring(1, name.length - 1).split('.');\r\n        var metadataNames = names;\r\n        // in case of categories replacement tag switch to categories\r\n        // object and adopt the replacement tag elements.\r\n        var section = (names.length > 1) ? names[0] : undefined;\r\n        if (section === 'categories') {\r\n          // set the categories value, metadata field\r\n          value = this.model.categories || {};\r\n          metadata = this.model.metadata && this.model.metadata.categories || {};\r\n          // extend array from [categories, catid_fieldid]\r\n          // to [categories, catid, catid_fieldid]\r\n          var parts = names[1].split('_');\r\n          names = [parts[0], names[1]];\r\n          //\r\n          if (parts.length > 2) {\r\n            parts[2] = 'x';\r\n          }\r\n          metadataNames = [parts[0], parts.join('_')];\r\n        } else if (section === 'business_properties') {\r\n          // set the business properties value, metadata field\r\n          value = this.model.business_properties || {};\r\n          metadata = {};\r\n          // remove 'business_properties' tag\r\n          names.splice(0, 1);\r\n        }\r\n        // find the replacement tag in the workspace\r\n        // information.\r\n        _.find(names, function (name) {\r\n          value = value[name];\r\n          if (value === undefined) {\r\n            return true;\r\n          }\r\n        });\r\n        // find the value metadata\r\n        _.find(metadataNames, function (name) {\r\n          metadata = metadata[name];\r\n          if (metadata === undefined) {\r\n            return true;\r\n          }\r\n        });\r\n        // expand the category values\r\n        if (section === 'categories') {\r\n          if (metadata && metadata.type === 2) {\r\n            if (metadata.persona === 'user' || metadata.persona === 'group' ||\r\n                metadata.persona === 'member') {\r\n              this.model.expandMemberValue({name: names[1], value: value, metadata: metadata});\r\n            }\r\n          }\r\n        }\r\n        // return value\r\n        ret.name = name;\r\n        ret.value = value;\r\n        ret.metadata = metadata;\r\n      }\r\n      // return\r\n      return ret;\r\n    },\r\n\r\n    // returns a culture and type specifically formatted\r\n    // model value.\r\n    format: function (value) {\r\n      // format depending on metadata\r\n      var typeId = value.metadata && value.metadata.type;\r\n      switch (typeId) {\r\n      case -7:\r\n        // format date value\r\n        value.formatted = this.formatDate(value.value);\r\n        break;\r\n      case 2:\r\n        // in case of integer the value could also represent a user/group id\r\n        var persona = value.metadata.persona;\r\n        switch (persona) {\r\n        case 'user':\r\n        case 'group':\r\n        case 'member':\r\n          // users and groups must be expanded before they are formatted\r\n          var expprop = '{' + value.name.substring(1, value.name.length - 1) + '_expand}';\r\n          var expval = this.resolveModelValue(expprop);\r\n          value.formatted = this.formatMember(expval.value);\r\n          break;\r\n        default:\r\n          // default integer values are displayed as they are\r\n          value.formatted = this.formatValue(value.value);\r\n          break;\r\n        }\r\n        break;\r\n      default:\r\n        // all other types are displayed as they are\r\n        value.formatted = this.formatValue(value.value);\r\n        break;\r\n      }\r\n\r\n      // return the value\r\n      return value;\r\n    },\r\n\r\n    formatDate: function (value) {\r\n      // ensure value is array\r\n      value = _.isArray(value) ? value : [value];\r\n      // return formatted string\r\n      return _.map(value, function (element) {\r\n        return base.formatDate(element);\r\n      }).join('; ');\r\n    },\r\n\r\n    formatMember: function (value) {\r\n      // ensure value is array\r\n      value = _.isArray(value) ? value : [value];\r\n      // return formatted string\r\n      var map = _.map(value, function (element) {\r\n        if (!element) {\r\n          return '';\r\n        } else if (element.display_name !== undefined) {\r\n          return element.display_name;\r\n        } else if (element.name_formatted !== undefined) {\r\n          return element.name_formatted;\r\n        } else {\r\n          return base.formatMemberName(element);\r\n        }\r\n      });\r\n      var mapstr = map.join('; ');\r\n      return mapstr;\r\n    },\r\n\r\n    formatValue: function (value) {\r\n      // ensure value is array\r\n      value = _.isArray(value) ? value : [value];\r\n      // return formatted string\r\n      return value.join('; ');\r\n    },\r\n\r\n    // Evaluates whether the header contains a child widget or not.\r\n    hasChildView: function () {\r\n      return !this.options.hideActivityFeed && (this.options.data && this.options.data.widget &&\r\n             this.options.data.widget.type && this.options.data.widget.type !== \"none\");\r\n    },\r\n\r\n    clamp: function (elem, height) {\r\n\r\n      var truncChars = '...';\r\n      var splitChars = ['.', ',', ' '];\r\n      var splitChar = null;\r\n\r\n      var chunk = null;\r\n      var chunks = null;\r\n\r\n      function truncate(textElem) {\r\n\r\n        // get the value\r\n        var value = textElem.nodeValue.replace(truncChars, '');\r\n\r\n        // if no chunks exist get them\r\n        if (!chunks) {\r\n          // get the next splitchar\r\n          splitChar = splitChars.length ? splitChars.shift() : '';\r\n          // get the chunks\r\n          chunks = value.split(splitChar);\r\n        }\r\n\r\n        // chunks exist\r\n        if (chunks.length > 1) {\r\n          // remove last chunk\r\n          chunk = chunks.pop();\r\n          // assign new value\r\n          textElem.nodeValue = chunks.join(splitChar) + truncChars;\r\n        } else {\r\n          // reset chunks\r\n          chunks = null;\r\n        }\r\n\r\n        if (chunks) {\r\n          // if the text fits into the element we have to check if we\r\n          // can improve the result by splitting by the next character.\r\n          if (elem.clientHeight <= height) {\r\n            if (splitChars.length) {\r\n              // assign new value and additionally the last chunk that was\r\n              // removed. The actual chuck can split up into smaller parts.\r\n              textElem.nodeValue = chunks.join(splitChar) + splitChar + chunk;\r\n              // reset chunks\r\n              chunks = null;\r\n            } else {\r\n              // we're finished with truncating and can return\r\n              return;\r\n            }\r\n          }\r\n        } else {\r\n          // there are no valid chunks even when\r\n          // splitting by letters so we stop here\r\n          if (!truncChars.length) {\r\n            textElem.nodeValue = truncChars;\r\n            return;\r\n          }\r\n        }\r\n\r\n        // truncate remaining text\r\n        truncate(textElem);\r\n      }\r\n\r\n      // return if truncation isn't required.\r\n      if (elem.clientHeight <= height) {\r\n        return;\r\n      }\r\n      // truncate\r\n      truncate(elem.lastChild);\r\n    },\r\n\r\n    adjustToolbar: function () {\r\n      if (!this.options.hideToolbar) {\r\n        this.headerToolbarView.triggerMethod('dom:refresh');\r\n      }\r\n    },\r\n\r\n    getDelayedHeaderViewActions: function () {\r\n      var headerToolbarDelayedActions = (this.options.headertoolbaritems &&\r\n                                         this.options.headertoolbaritems['delayedActionsToolbar']) ?\r\n                                        this.options.headertoolbaritems['delayedActionsToolbar'].collection :\r\n                                        HeaderToolbarItems['delayedActionsToolbar'].collection;\r\n\r\n      return _.chain(headerToolbarDelayedActions.pluck('signature'))\r\n          .unique()\r\n          .value();\r\n    },\r\n\r\n    handleError: function (model, response, option) {\r\n      if (response){\r\n        if (response.responseJSON.error) {\r\n          var emptyEl = errorTemplate.call(this, { errorMessage: response.responseJSON.error });\r\n          if(this.$el.find('.conws-header-error').length > 0)\r\n          {\r\n            this.$el.find('div').remove('.conws-header-error');\r\n          }\r\n          this.$el.append(emptyEl);\r\n          this.$el.find('.conws-header-wrapper').hide();\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // return the initialized view\r\n  return HeaderView;\r\n});\r\n\n","// Expands the limited view by showing the full one in a modal dialog\r\ncsui.define('conws/utils/behaviors/expanding.behavior',['require', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/marionette'\r\n], function (require, _, Backbone, Marionette) {\r\n\r\n  var ExpandingBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function ExpandingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      // The perspective begins to change with an animation before the\r\n      // previous one is destroyed; the expanded view should be hidden\r\n      // previous one is.\r\n      var destroyWithAnimation = _.bind(this._destroyExpandedView, this, false),\r\n          destroyImmediately = _.bind(this._destroyExpandedView, this, true),\r\n          context = view.options && view.options.context;\r\n      this.listenTo(this, 'before:destroy', destroyWithAnimation);\r\n      if (context) {\r\n        // The hiding animation finishes before the context is fetched\r\n        // and the page is re-rendered.  If it becomes problem, use\r\n        // destroyImmediately here.\r\n        this.listenTo(context, 'request', destroyWithAnimation)\r\n            .listenTo(context, 'request:perspective', destroyWithAnimation);\r\n      }\r\n    },\r\n\r\n    onExpand: function () {\r\n      // If the expanding event is triggered multiple times, it should be\r\n      // handled just once by showing the expanded view; it is likely, that\r\n      // the expanding button was clicked quickly twice\r\n      if (this.expanded) {\r\n        return;\r\n      }\r\n      // Do not use the later initialized this.dialog property; loading\r\n      // the modules with the expanded view below may take some time.\r\n      this.expanded = true;\r\n\r\n      var self = this;\r\n      // TODO: remove completeCollection and limiting behavior.  Both\r\n      // client- and server-side browsable collections should provide\r\n      // the same interface and use the according mixins.\r\n      var collection = this.view.completeCollection ?\r\n                       this.view.completeCollection.clone() :\r\n                       this.view.collection.clone();\r\n\r\n      // TODO: This prevents other components from reusing this object,\r\n      // I hope that the and-conditions are enough to allow it in most cases.\r\n      // Order and filter should be carried via the model/collection\r\n      // and not chewed here for the expanded view.\r\n\r\n      // capture the name filter value from the collapsed tile and pass to the expanded table\r\n      var filterBy;\r\n      var filterVal = this.view.completeCollection && this.view.options &&\r\n                      this.view.options.filterValue &&\r\n                      this.view.options.filterValue.toLowerCase();\r\n      if (this.view.completeCollection && filterVal && filterVal.length > 0) {\r\n        filterBy = {name: filterVal};\r\n        collection.setFilter(filterBy, {fetch: false});\r\n        // Our PM Franz had a good idea that the filter in the collapsed tile should be cleared\r\n        // after we show the expanded table\r\n        this.view.searchClicked();\r\n      }\r\n\r\n      var expandedViewValue = self.getOption('expandedView');\r\n      var expandedViewClass = expandedViewValue;\r\n      if (_.isString(expandedViewValue) !== true) {\r\n        expandedViewClass = expandedViewValue.prototype instanceof Backbone.View ?\r\n                            expandedViewValue :\r\n                            expandedViewValue.call(self.view);\r\n      }\r\n      var requiredModules = ['csui/controls/dialog/dialog.view'];\r\n      if (_.isString(expandedViewClass)) {\r\n        requiredModules.push(expandedViewClass);\r\n      }\r\n      require(requiredModules, function (DialogView) {\r\n        if (_.isString(expandedViewClass)) {\r\n          expandedViewClass = arguments[1];\r\n        }\r\n        var expandedViewOptions = getOption(self.options, 'expandedViewOptions', self.view);\r\n        self.expandedView = new expandedViewClass(_.extend({\r\n          context: self.view.options.context,\r\n          collection: collection,\r\n          orderBy: getOption(self.options, 'orderBy', self.view),\r\n          filterBy: filterBy,\r\n          limited: false\r\n        }, expandedViewOptions));\r\n        self.dialog = new DialogView({\r\n          iconLeft: getOption(self.options, 'titleBarIcon', self.view) ||\r\n                    getOption(self.view.options, 'titleBarIcon', self.view),\r\n          imageLeftUrl: getOption(self.options, 'titleBarImageUrl', self.view),\r\n          imageLeftClass: getOption(self.options, 'titleBarImageClass', self.view),\r\n          title: getOption(self.options, 'dialogTitle', self.view),\r\n          iconRight: getOption(self.options, 'dialogTitleIconRight', self.view),\r\n          className: getOption(self.options, 'dialogClassName', self.view),\r\n          headerControl: getOption(self.options, 'headerControl', self.view),\r\n          largeSize: true,\r\n          view: self.expandedView\r\n        });\r\n        self.listenTo(self.dialog, 'before:hide', self._expandOtherView)\r\n            .listenTo(self.dialog, 'destroy', self._enableExpandingAgain);\r\n        self._expandOtherView(false);\r\n        self.dialog.show();\r\n      }, function (error) {\r\n        // If the module from the csui base cannot be loaded, something is so\r\n        // rotten, that it does not make sense trying to load other module to\r\n        // show the error message.\r\n        // There will be more information on the browser console.\r\n        self.expanded = false;\r\n      });\r\n    },\r\n\r\n    _destroyExpandedView: function (immediately) {\r\n      if (this.dialog) {\r\n        var method = immediately ? 'kill' : 'destroy';\r\n        this.dialog[method]();\r\n        this.dialog = undefined;\r\n      }\r\n    },\r\n\r\n    _expandOtherView: function (expand) {\r\n      this.options.collapsedView && this.options.collapsedView.triggerMethod(\r\n          expand === false ? 'go:away' : 'go:back');\r\n    },\r\n\r\n    _enableExpandingAgain: function () {\r\n      this.expanded = false;\r\n      if (this.view.tabableRegionBehavior) {\r\n        var navigationBehavior = this.view.tabableRegionBehavior,\r\n          targetElement      = this.view.ui.tileExpand;\r\n        navigationBehavior.currentlyFocusedElement &&\r\n        navigationBehavior.currentlyFocusedElement.prop('tabindex', -1);\r\n        targetElement && targetElement.prop('tabindex', 0);\r\n        targetElement.trigger('focus');\r\n        navigationBehavior.setInitialTabIndex();\r\n        this.view.currentTabPosition = 2;\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for functiona objects too.\r\n  function getOption(object, property, context) {\r\n    if (object == null) {\r\n      return void 0;\r\n    }\r\n    var value = object[property];\r\n    return _.isFunction(value) ? object[property].call(context) : value;\r\n  }\r\n\r\n  return ExpandingBehavior;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/teamheader/impl/teamheader',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-teamheader-content\\\">\\r\\n  <div class=\\\"title primary-title\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"primaryTitle\") || (depth0 != null ? lookupProperty(depth0,\"primaryTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"primaryTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":42},\"end\":{\"line\":2,\"column\":58}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"primaryTitle\") || (depth0 != null ? lookupProperty(depth0,\"primaryTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"primaryTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":60},\"end\":{\"line\":2,\"column\":76}}}) : helper)))\n    + \"</div>\\r\\n  <div class=\\\"title secondary-title\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"secondaryTitle\") || (depth0 != null ? lookupProperty(depth0,\"secondaryTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"secondaryTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":44},\"end\":{\"line\":3,\"column\":62}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"secondaryTitle\") || (depth0 != null ? lookupProperty(depth0,\"secondaryTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"secondaryTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":64},\"end\":{\"line\":3,\"column\":82}}}) : helper)))\n    + \"</div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_teamheader_impl_teamheader', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/teamheader/impl/teamheader',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/teamheader/teamheader.view',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/marionette',\r\n    'i18n!conws/widgets/team/impl/nls/team.lang',\r\n    'hbs!conws/widgets/team/impl/controls/teamheader/impl/teamheader',\r\n    'css!conws/widgets/team/impl/controls/teamheader/impl/teamheader'\r\n], function(_, $, Marionette, lang, template){\r\n\r\n    var TeamHeaderView = Marionette.LayoutView.extend({\r\n\r\n        className: 'conws-teamheader',\r\n\r\n        template: template,\r\n\r\n        constructor: function TeamHeaderView(options){\r\n            Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n            // initialize team header view\r\n            options || (options = {});\r\n        },\r\n\r\n        templateHelpers: function(){\r\n            return {\r\n                primaryTitle: this.options.primaryTitle,\r\n                secondaryTitle: this.options.secondaryTitle\r\n            }\r\n        }\r\n    });\r\n\r\n    return TeamHeaderView;\r\n});\r\n\n","// Shows a list of team members\r\ncsui.define('conws/widgets/team/team.view',['csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/controls/list/list.view',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/behaviors/limiting/limiting.behavior',\r\n  'conws/utils/behaviors/expanding.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/list/behaviors/list.view.keyboard.behavior',\r\n  'csui/behaviors/collection.state/collection.state.behavior',\r\n  'csui/controls/list/list.state.view',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/header/impl/header.model.factory',\r\n  'conws/widgets/team/impl/team.model.factory',\r\n  'conws/widgets/team/impl/teamtables.view',\r\n  'conws/widgets/team/impl/controls/teamheader/teamheader.view',\r\n  'csui/utils/base',\r\n  'csui/utils/nodesprites',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/progressblocker/blocker',\r\n  'conws/widgets/team/impl/controls/listitem/listitemteammember.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'css!conws/widgets/team/impl/team'\r\n], function (_, Marionette, ListView, PerfectScrollingBehavior, LimitingBehavior, ExpandingBehavior,\r\n    TabableRegionBehavior, ListViewKeyboardBehavior, CollectionStateBehavior, ListStateView, WorkspaceContextFactory, HeaderModelFactory,\r\n    TeamCollectionFactory, TeamTablesView, TeamHeaderView, BaseUtils, NodeSpriteCollection,\r\n    NodeModelFactory, BlockingView, ListItem, lang) {\r\n\r\n  //\r\n  // Constructor options:\r\n  // - showTitleIcon: boolean to show or hide the icon in the title bar\r\n  //\r\n  var TeamView = ListView.extend({\r\n\r\n    className: 'conws-team ' + ListView.prototype.className,\r\n\r\n    constructor: function TeamView(options) {\r\n      // initialize team view\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n      if (options.data.showTitleIcon === undefined) {\r\n        options.data.showTitleIcon = true;\r\n      }\r\n      if (options.data.showWorkspaceIcon === undefined) {\r\n        options.data.showWorkspaceIcon = false;\r\n      }\r\n      options.data.title || (options.data.title = lang.dialogTitle);\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(HeaderModelFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(TeamCollectionFactory);\r\n      }\r\n\r\n      // apply properties to parent\r\n      ListView.prototype.constructor.apply(this, arguments);\r\n      this.loadingText = lang.loadingListText;\r\n      BlockingView.imbue(this);\r\n      // TODO: In terms of reusability the CONWS model factories should be moved to a common\r\n      // TODO: location in the CONWS source. Otherwise we have dependencies between the different\r\n      // TODO: widgets.\r\n      // get the header model\r\n      this.headerModel = options.workspaceContext.getObject(HeaderModelFactory);\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        searchAria: lang.searchAria,\r\n        expandAria: lang.expandAria,\r\n        title: BaseUtils.getClosestLocalizedString(this.options.data.title, lang.dialogTitle),\r\n        icon: this.options.data.titleBarIcon || 'title-icon title-team',\r\n        searchPlaceholder: _.str.sformat(lang.searchIconTooltip,\r\n            lang.rolesParticipantsColTooltip)\r\n      };\r\n    },\r\n\r\n    childView: ListItem,\r\n\r\n    childViewOptions: {\r\n      templateHelpers: function () {\r\n        return {\r\n          name: this.model.get('display_name'),\r\n          email: this.model.get('business_email'),\r\n          isUser: this.model.get('type') === 0,\r\n          stage: {\r\n            value: this.model.getLeadingRole(),\r\n            label: this.model.getRolesIndicator()\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    childEvents: {\r\n      'click:item': 'onClickItem'\r\n    },\r\n\r\n    onClickItem: function (target) {\r\n      return;\r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.tile-content',\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      },\r\n\r\n      LimitedList: {\r\n        behaviorClass: LimitingBehavior,\r\n        completeCollection: function () {\r\n          return this.options.workspaceContext.getCollection(TeamCollectionFactory);\r\n        },\r\n        filterByProperty: 'display_name',\r\n        limit: 0\r\n      },\r\n\r\n      ExpandableList: {\r\n        behaviorClass: ExpandingBehavior,\r\n        expandedView: TeamTablesView,\r\n        expandedViewOptions: function () {\r\n          return {collapsedView: this}\r\n        },\r\n        dialogTitle: function () {\r\n          return this.headerModel.get('name');\r\n        },\r\n        headerControl: function () {\r\n          return new TeamHeaderView({\r\n            primaryTitle: this.headerModel.get('name'),\r\n            secondaryTitle: this.headerModel.get('workspace_type_name')\r\n          });\r\n        },\r\n        titleBarIcon: function () {\r\n          return this.getIconData().titleBarIcon;\r\n        },\r\n        titleBarImageUrl: function () {\r\n          return this.getIconData().titleBarImageUrl;\r\n        },\r\n        titleBarImageClass: function () {\r\n          return this.getIconData().titleBarImageClass;\r\n        },\r\n        dialogTitleIconRight: 'icon-tileCollapse',\r\n        dialogClassName: 'conws-team'\r\n      },\r\n\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n\r\n      ListViewKeyboardBehavior: {\r\n        behaviorClass: ListViewKeyboardBehavior\r\n      },\r\n      CollectionState: {\r\n        behaviorClass: CollectionStateBehavior,\r\n        collection: function () {\r\n          return this.completeCollection;\r\n        },\r\n        stateView: ListStateView,\r\n        stateMessages: {\r\n          empty: lang.noResultsPlaceholder,\r\n          loading: lang.loadingListText,\r\n          failed: lang.failedListText\r\n        }\r\n      }\r\n    },\r\n\r\n    onClickHeader: function (target) {\r\n      this.triggerMethod('expand');\r\n    },\r\n\r\n    getIconData: function () {\r\n      var ret = {};\r\n      // show a title icon - default to team svg\r\n      if (this.options.data.showTitleIcon) {\r\n        ret.titleBarIcon = this.options.data.titleBarIcon || 'title-icon mime-team';\r\n        // show workspace icon\r\n        if (this.options.data.showWorkspaceIcon) {\r\n          // workspace contains icon information\r\n          if (this.headerModel.icon && this.headerModel.icon.location !== 'none') {\r\n            ret.titleBarIcon = undefined;\r\n            ret.titleBarImageUrl = this.headerModel.icon.content;\r\n          }\r\n          else {\r\n            ret.titleBarIcon = NodeSpriteCollection.findByNode(this.headerModel).get('className');\r\n          }\r\n        }\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    // Event from the expanded view to refresh the displayed list\r\n    onRefreshList: function () {\r\n      if (!_.isUndefined(this.completeCollection)) {\r\n        this.completeCollection.fetch();\r\n      }\r\n    },\r\n\r\n    // return the jQuery list item element by index for keyboard navigation use\r\n    getElementByIndex: function (index) {\r\n      if (isNaN(index) || (index < 0)) {\r\n        return null;\r\n      }\r\n      var $item = this.$(_.str.sformat('.conws-item-member:nth-child({0})', index + 1));\r\n      return this.$($item[0]);\r\n    }\r\n  });\r\n\r\n  return TeamView;\r\n});\r\n\n","// Shows a list of links\r\ncsui.define('conws/widgets/myworkspaces/impl/myworkspaceslistitem.view',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/controls/listitem/listitemstandard.view',\r\n  'conws/utils/previewpane/previewpane.view',\r\n  'csui/behaviors/default.action/default.action.behavior'\r\n], function (_, $,\r\n    StandardListItem, PreviewPaneView,\r\n    DefaultActionBehavior) {\r\n\r\n  var MyWorkspacesListItem = StandardListItem.extend({\r\n\r\n    constructor: function MyWorkspacesListItem(options) {\r\n      StandardListItem.apply(this, arguments);\r\n\r\n      if (this.options && this.options.preview) {\r\n        this.previewPane = new PreviewPaneView({\r\n          parent: this,\r\n          context: this.options.context,\r\n          config: this.options.preview,\r\n          node: this.model\r\n        });\r\n      }\r\n    },\r\n\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function(e) {\r\n      if (this.previewPane) {\r\n        this.previewPane.destroy();\r\n        delete this.previewPane;\r\n      }\r\n    },\r\n\r\n    onClickItem: function () {\r\n      this.triggerMethod('execute:DefaultAction', this.model);\r\n    }\r\n  });\r\n\r\n  return MyWorkspacesListItem;\r\n\r\n});\r\n\r\n\n","csui.define('conws/widgets/myworkspaces/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/myworkspaces/impl/nls/root/lang',{\r\n    dialogTitle: 'My workspaces',\r\n    searchPlaceholder: '%1',\r\n    noResultsPlaceholder: 'No recently accessed workspaces to display.',\r\n    searchAria: 'Search for workspaces',\r\n    expandAria: 'Expand the my workspaces widget',\r\n    expandTableAria: 'Content of {0}'\r\n});\r\n\n","\n","csui.define('conws/widgets/myworkspaces/impl/myworkspacestable.view',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n    \"csui/lib/marionette\", \"csui/utils/log\",\r\n    'conws/utils/workspaces/impl/workspaceutil',\r\n    'conws/utils/workspaces/workspacestable.view',\r\n    'i18n!conws/widgets/myworkspaces/impl/nls/lang',\r\n], function (module, $, _, Backbone,\r\n             Marionette, log,\r\n             workspaceUtil, WorkspacesTableView, lang) {\r\n\r\n    var MyWorkspacesTableView = WorkspacesTableView.extend({\r\n\r\n        constructor: function MyWorkspacesTableView(options) {\r\n            WorkspacesTableView.prototype.constructor.apply(this, arguments);\r\n        },\r\n\r\n        onRender: function () {\r\n            var collection = this.collection;\r\n\r\n            // Set order if passed as configuration, otherwise use default\r\n            if (!_.isUndefined(this.collection.options.myworkspaces.attributes.sortExpanded)) {\r\n                collection.orderBy = this.collection.options.myworkspaces.attributes.sortExpanded;\r\n            }else{\r\n              collection.orderBy = workspaceUtil.orderByAsString(this.options.data.orderBy);\r\n            }\r\n\r\n            this.options.tableAria = \"\";\r\n            if(!_.isUndefined(collection.options.attributes.title)) {\r\n              this.options.tableAria = _.str.sformat(lang.expandTableAria, collection.options.attributes.title);\r\n            }\r\n\r\n            this.doRender(collection);\r\n        },\r\n\r\n        _getCollectionUrlQuery: function () {\r\n            var query = {};\r\n\r\n            // only fetch specific properties for table view\r\n            query.fields = encodeURIComponent(\"properties{\" + this.getColumnsToFetch() + \"}\");\r\n            query.action = \"properties-properties\";\r\n\r\n            // Fetch all workspaces\r\n            query.expanded_view = \"true\";\r\n\r\n            // Fetch users expanded to show proper name\r\n            query.expand_users = \"true\";\r\n\r\n            return query;\r\n        }\r\n\r\n    });\r\n\r\n    return MyWorkspacesTableView;\r\n});\r\n\n","// Shows a list of my workspaces of a specific type\r\ncsui.define('conws/widgets/myworkspaces/myworkspaces.view',['csui/lib/marionette', 'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/jquery',\r\n    'conws/widgets/myworkspaces/impl/myworkspaceslistitem.view',\r\n    'conws/widgets/myworkspaces/impl/myworkspaces.model.factory',\r\n    'conws/widgets/myworkspaces/impl/myworkspacestable.view',\r\n    'i18n!conws/widgets/myworkspaces/impl/nls/lang',\r\n\t'csui/utils/base',\r\n    'conws/utils/workspaces/impl/workspaceutil',\r\n    'conws/utils/workspaces/workspaces.view'\r\n], function (Marionette, module, _, Backbone, $,\r\n             MyWorkspacesListItem,\r\n             MyWorkspacesCollectionFactory,\r\n             MyWorkspacesTableView,\r\n             lang,\r\n\t\t\t BaseUtils,\r\n             workspaceUtil,\r\n             WorkspacesView) {\r\n\r\n    var MyWorkspacesView = WorkspacesView.extend({\r\n\r\n        constructor: function MyWorkspacesView(options) {\r\n            this.viewClassName = 'conws-myworkspaces';\r\n\r\n            WorkspacesView.prototype.constructor.apply(this, arguments);\r\n\r\n            // Show expand icon always\r\n            this.limit = -1;\r\n        },\r\n\r\n        childView: MyWorkspacesListItem,\r\n\r\n        childViewOptions: function () {\r\n            return {\r\n                // page context needed for default action on child view\r\n                context: this.options.context,\r\n                checkDefaultAction: true,\r\n                preview: this.options.data                      &&\r\n                         this.options.data.collapsedView        &&\r\n                         this.options.data.collapsedView.preview,\r\n                templateHelpers: function () {\r\n                    return {\r\n                        name: this.model.get('name'),\r\n                        enableIcon: true\r\n                        //icon now loaded in workspaces.view: onRenderItem\r\n                    };\r\n                }\r\n            }\r\n        },\r\n\r\n        emptyViewOptions: {\r\n            templateHelpers: function () {\r\n                return {\r\n                    text: this._parent._getNoResultsPlaceholder()\r\n                };\r\n            }\r\n        },\r\n\r\n        workspacesCollectionFactory: MyWorkspacesCollectionFactory,\r\n        workspacesTableView: MyWorkspacesTableView,\r\n        dialogClassName: 'myworkspaces',\r\n        lang: lang,\r\n\r\n        // Attributes identify collection/models for widget\r\n        // In case two widgets has returns same attributes here, they share the collection!!\r\n        _getCollectionAttributes: function () {\r\n            var attributes = {\r\n                workspaceTypeId: this.options.data.workspaceTypeId,\r\n                sortExpanded: this.options.data.expandedView && workspaceUtil.orderByAsString(this.options.data.expandedView.orderBy),\r\n\t\t\t\ttitle:  BaseUtils.getClosestLocalizedString(this.options.data.title, lang.dialogTitle)\r\n            };\r\n            return attributes;\r\n        },\r\n\r\n        _getCollectionUrlQuery: function () {\r\n            var options = this.options.data,\r\n                query = {};\r\n            if (!_.isUndefined(options.workspaceTypeId)) {\r\n                query.where_workspace_type_id = options.workspaceTypeId;\r\n            }\r\n\r\n            // only fetch properties for limited view\r\n            query.fields = encodeURIComponent(\"properties{id,container,name,type,type_name}\");\r\n            query.action = \"properties-properties\";\r\n\r\n            // Fetch only recently accessed workspaces, which workspaces these are\r\n            // is defined by the server. Also the order is already set by server, this must not\r\n            // be done/passed from client to server\r\n            query.expanded_view = \"false\";\r\n\r\n            return _.isEmpty(query) ? undefined : query;\r\n        },\r\n\r\n        templateHelpers: function() {\r\n           var data = _.extend(WorkspacesView.prototype.templateHelpers.apply(this, arguments),{\r\n               searchAria: lang.searchAria,\r\n               expandAria: lang.expandAria\r\n           });\r\n           return data;\r\n        }\r\n\r\n    });\r\n\r\n    return MyWorkspacesView;\r\n});\r\n\n","csui.define('conws/widgets/metadata/impl/forms.metadata.update.factory',[\r\n    'csui/utils/contexts/factories/factory',\r\n    'csui/utils/contexts/factories/node',\r\n    'conws/models/categoryforms/categoryforms.model',\r\n    'conws/widgets/metadata/impl/forms.metadata.update.model'\r\n], function (ModelFactory, NodeModelFactory, CategoryFormCollection, MetadataUpdateFormModel) {\r\n\r\n    var MetadataUpdateFormFactory = ModelFactory.extend({\r\n\r\n        // unique prefix for the metadata model instance.\r\n        propertyPrefix: 'forms.metadata.update',\r\n\r\n        constructor: function SelectedMetadataFormFactory(context, options) {\r\n\r\n            ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n            var node = context.getModel(NodeModelFactory);\r\n            this.property = new MetadataUpdateFormModel(undefined, {\r\n                node: node,\r\n                metadataConfig: options[this.propertyPrefix].metadataConfig,\r\n                autofetch: true,\r\n                autoreset: true\r\n            });\r\n\r\n        },\r\n\r\n        fetch: function (options) {\r\n            // fetch the model contents exposed by this factory.\r\n            return this.property.fetch(options);\r\n        }\r\n    });\r\n\r\n    return MetadataUpdateFormFactory;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/metadata/impl/metadata',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <div class=\\\"tile-header\\\">\\r\\n\\r\\n            <div class=\\\"tile-type-icon\\\">\\r\\n                <div class=\\\"title-icon \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"icon\") || (depth0 != null ? lookupProperty(depth0,\"icon\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":39},\"end\":{\"line\":7,\"column\":47}}}) : helper)))\n    + \"\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"tile-title\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":43},\"end\":{\"line\":10,\"column\":52}}}) : helper)))\n    + \"\\\">\\r\\n                <h2 class=\\\"csui-heading\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":11,\"column\":41},\"end\":{\"line\":11,\"column\":50}}}) : helper)))\n    + \"</h2>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"conws-metadata tile content-tile\\\">\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hideHeader\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":3,\"column\":4},\"end\":{\"line\":15,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"\\r\\n    <div class=\\\"tile-content metadata-tile-content csui-normal-scrolling  csui-no-scroll-x\\\">\\r\\n        <div class=\\\"load-container\\\">\\r\\n            <div class=\\\"csui-common-loading-parent-wrapper\\\">\\r\\n                <div class=\\\"csui-loading-3dots\\\">\\r\\n                    <div class=\\\"csui-loading-dots-wrapper\\\">\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                    </div>\\r\\n                    <div class=\\\"placeholder\\\" role=\\\"alert\\\" aria-live=\\\"polite\\\">\\r\\n                        \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"loadingMetadata\") || (depth0 != null ? lookupProperty(depth0,\"loadingMetadata\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"loadingMetadata\",\"hash\":{},\"loc\":{\"start\":{\"line\":27,\"column\":24},\"end\":{\"line\":27,\"column\":43}}}) : helper)))\n    + \"\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\t\t<div class=\\\"form-metadata\\\">\\r\\n\t\t</div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_metadata_impl_metadata', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/metadata/impl/metadata',[],function(){});\n","// Business Workspace Metadata View\r\ncsui.define('conws/widgets/metadata/metadata.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/utils/base',\r\n  'csui/controls/list/emptylist.view',\r\n  'conws/controls/selectedmetadataform/selectedmetadataform.view',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/metadata/impl/forms.metadata.update.factory',\r\n  'i18n!conws/widgets/metadata/impl/nls/metadata.lang',\r\n  'hbs!conws/widgets/metadata/impl/metadata',\r\n  'hbs!conws/utils/workspaces/error.template',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'css!conws/widgets/metadata/impl/metadata',\r\n  'css!conws/utils/workspaces/workspaces'\r\n], function (_, $, Marionette, TabableRegionBehavior, base, log, BaseUtils, EmptyListView, SelectedMetadataFormView,\r\n  WorkspaceContextFactory, MetadataUpdateFormFactory, lang, template, errorTemplate, LayoutViewEventsPropagationMixin) {\r\n\r\n  // initialize the Metadata View\r\n  var MetadataView = Marionette.LayoutView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-metadata',\r\n\r\n    // Template is used to render the HTML for the view\r\n    template: template,\r\n\r\n    ui: {\r\n      loadContainer: '.load-container',\r\n      headerTitle: '.tile-title',\r\n      tileHeader: '.tile-header',\r\n      tileContent: '.tile-content'\r\n    },\r\n\r\n    // The template helpers are used to provide placeholders for the widget\r\n    templateHelpers: function (data) {\r\n      return {\r\n        hideHeader: this.hideHeader,\r\n        title: BaseUtils.getClosestLocalizedString(this.headerTitle, lang.defaultMetadataWidgetTitle),\r\n        icon: this.headerIcon,\r\n        loadingMetadata: lang.loadingMetadata\r\n      }\r\n    },\r\n\r\n    events: { \"keydown .form-metadata\": \"onKeyInView\" },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      // current focussed element in the view\r\n      var ActiveElementInView = document.activeElement,\r\n        Tabable_Elements = this.currentlyFocusedElement(),\r\n        Element_Index = 0;\r\n\r\n      if (ActiveElementInView.children.length > 0) {\r\n        ActiveElementInView = ActiveElementInView.children[0];\r\n      }\r\n\r\n      if (event.keyCode === 9) {\r\n\r\n        if (event.shiftKey) {\r\n\r\n          for (Element_Index = 0; Element_Index < Tabable_Elements.length; Element_Index++) {\r\n\r\n            if (ActiveElementInView === Tabable_Elements[Element_Index]) {\r\n\r\n              // special-case only for User attribute\r\n              if (ActiveElementInView.classList.contains(\"esoc-user-mini-profile\") || ActiveElementInView.classList.contains(\"reference-generate-number\") || (ActiveElementInView.classList.contains(\"cs-field-read-content\") && ActiveElementInView.classList.contains(\"placeholder\")) || Element_Index - 1 < 0) {\r\n\r\n                break;\r\n              } else {\r\n\r\n                // focus the next element in the view\r\n                Tabable_Elements[Element_Index - 1].focus();\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n\r\n          // TAB (NO shift) -> put focus into table body view if in header   esoc-user-mini-profile   cs-field-read-content placeholder\r\n\r\n          for (Element_Index = 0; Element_Index < Tabable_Elements.length; Element_Index++) {\r\n\r\n            // special-case only for User attribute\r\n            if (ActiveElementInView === Tabable_Elements[Element_Index] && Element_Index + 1 < Tabable_Elements.length) {\r\n\r\n              if (ActiveElementInView.classList.contains(\"esoc-user-mini-profile\") || ActiveElementInView.classList.contains(\"reference-generate-number\") || (ActiveElementInView.classList.contains(\"cs-field-read-content\") && ActiveElementInView.classList.contains(\"placeholder\"))) {\r\n\r\n                break;\r\n              } else {\r\n\r\n                // focus the next element in the view\r\n                Tabable_Elements[Element_Index + 1].focus();\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      var readonly = !!this.$form && this.$form.find('.alpaca-readonly button'),\r\n        // tabable elements selector\r\n        tabElements = this.$('button,*[data-cstabindex],*[tabindex]');\r\n      tabElements = this.remove_Elements(tabElements);\r\n      return tabElements;\r\n    },\r\n\r\n    remove_Elements: function (tabElements) {\r\n      // removing some unwanted elements which have tabindex\r\n      var Class_List = [\"alpaca-array-actionbar-action\", \"typeahead\", \"cs-icon\", \"binf-hidden\", \"csui-icon-edit\", \"csui-bulk-edit\", \"icon-date_picker\"];\r\n\r\n      for (var Element_Index = 0; Element_Index < tabElements.length; Element_Index++) {\r\n\r\n        for (var Class_Index = 0; Class_Index < Class_List.length; Class_Index++) {\r\n\r\n          if (tabElements[Element_Index].classList.contains(Class_List[Class_Index])) {\r\n\r\n            tabElements.splice(Element_Index, 1);\r\n            Class_Index = Class_List.length;\r\n            Element_Index = Element_Index - 1;\r\n          }\r\n        }\r\n      }\r\n      return tabElements;\r\n    },\r\n\r\n    // The constructor gives an explicit name the the object in the debugger and\r\n    // can update the options for the parent view\r\n    constructor: function MetadataView(options) {\r\n\r\n      // context is required\r\n      options || (options = {});\r\n      if (!options.context) {\r\n        throw new Error('Context is missing in the constructor options');\r\n      }\r\n\r\n      _.defaults(options, {\r\n        searchTabContentForTabableElements: true\r\n      });\r\n\r\n      this.hideHeader = options.data && options.data.hideHeader;\r\n      this.headerTitle = options.data && options.data.title || lang.defaultMetadataWidgetTitle; // from perspective configuration\r\n      this.headerIcon = options.data && options.data.icon || \"category1\";   // from perspective configuration\r\n\r\n      this.noMetadataMessage = lang.noMetadataMessage;\r\n      if (options.data && options.data.noMetadataMessage) {\r\n        this.noMetadataMessage = base.getClosestLocalizedString(\r\n          options.data.noMetadataMessage, this.noMetadataMessage);\r\n      }\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n      }\r\n      options.workspaceContext.setWorkspaceSpecific(MetadataUpdateFormFactory);\r\n\r\n      //initially there are no form views.\r\n      this.formViewList = [];\r\n\r\n      var modelConfig = options.data;\r\n      if (options.data && options.data.relatedWorkspaces && options.data.relatedWorkspaces.workspaceTypes) {\r\n        // convert related items config to appropriate metadata config.\r\n        modelConfig = $.extend(true, {}, options.data);\r\n        var relationData = _.map(options.data.relatedWorkspaces.workspaceTypes,function(el){\r\n          return {\r\n            workspaceTypeId: el.workspaceTypeId,\r\n            type: \"relation\"\r\n          };\r\n        })\r\n        if (!_.isEmpty(options.data.relatedWorkspaces.relatedGroupName)) {\r\n          relationData = [{\r\n            attributes: relationData,\r\n            label: options.data.relatedWorkspaces.relatedGroupName,\r\n            type: \"group\"\r\n          }];\r\n        }\r\n        //add the related workspaces config before the metadata config\r\n        if (modelConfig.metadata) {\r\n          modelConfig.metadata = relationData.concat(modelConfig.metadata);\r\n        } else {\r\n          modelConfig.metadata = relationData;\r\n        }\r\n      }\r\n\r\n      // get model collection from the model factory\r\n      options.model = options.workspaceContext.getObject(MetadataUpdateFormFactory, {\r\n        metadataConfig: modelConfig,\r\n        unique: true,\r\n        connector: options.connector\r\n      });\r\n\r\n      // wire models and collections also to the parent view\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // changes of the model are rendered immediately\r\n      this.listenTo(options.model, 'change', this.render);\r\n      this.listenTo(options.model, 'error', this.handleError);\r\n\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    handleError: function(model,response,options){\r\n      var emptyEl = errorTemplate.call(this, { errorMessage: response.responseJSON.error });\r\n      this.$(\".form-metadata\").empty();\r\n      this.$('.conws-workspaces-error').remove();\r\n      this.$('.tile-content').append(emptyEl);\r\n      this._hideLoadContainer();\r\n    },\r\n\r\n    _hideLoadContainer: function () {\r\n      this.ui.loadContainer.addClass(\"binf-hidden\");\r\n    },\r\n\r\n    // The view is rendered whenever the model changes.\r\n    onRender: function () {\r\n      var titleId = _.uniqueId(\"dlgTitle\");\r\n      this.ui.tileHeader.attr('tabindex', 0);\r\n      this.ui.headerTitle.find('.csui-heading').attr('id', titleId);\r\n      this.ui.tileHeader.parent().attr('role', 'region').attr('aria-labelledby', titleId);\r\n      this.ui.tileContent.attr('aria-labelledby', titleId);\r\n\r\n      this._currentShortcutIndex = 0;\r\n\r\n      _.each(this.regions,function(region,reg){this.removeRegion(reg);},this);\r\n      this.formViewList.splice(0);\r\n      delete this.formView;\r\n\r\n      if (this.model.metadataConfig.length > 0 && !_.isEmpty(this.model.attributes.data)) {\r\n        var attributeList = [];\r\n        var attributeDetails = { data: {}, options: { fields: {} }, schema: { properties: {} } }\r\n        attributeDetails.data = $.extend({}, this.model.attributes.data);\r\n        attributeDetails.options.fields = $.extend({}, this.model.attributes.options.fields);\r\n        attributeDetails.schema.properties = $.extend({}, this.model.attributes.schema.properties);\r\n\r\n        /*\r\n        * from metadataConfig,\r\n        * if the config type is a group, adding the group details to attributeList\r\n        * if the config type is a category, search for all the category attributes and add details to attributeList at same index\r\n        *  if the config type is a attribute, checking if it has a column and row ids and adding the details to atributeList\r\n        *  ( As we add all the elements even group data is added in else part, hence it is further removed when groups are added individually )\r\n        */\r\n\r\n        _.each(this.model.metadataConfig, function (config, index) {\r\n          if (config.type === 'group') {\r\n            attributeList[index] = { data: {}, options: {}, schema: {} };\r\n            attributeList[index].data = $.extend({}, this.model.attributes.data[config.label]);\r\n            attributeList[index].options = $.extend({}, this.model.attributes.options.fields[config.label]);\r\n            attributeList[index].schema = $.extend({}, this.model.attributes.schema.properties[config.label]);\r\n          } else if (config.type === 'category') {\r\n            attributeList[index] = { data: {}, options: { fields: {} }, schema: { properties: {} } };\r\n            _.each(this.model.attributes.data, function (data, key) {\r\n              if (key.lastIndexOf(config.categoryId+\"_\",0)===0) {\r\n                attributeList[index].data[key] = this.model.attributes.data[key];\r\n                attributeList[index].options.fields[key] = this.model.attributes.options.fields[key];\r\n                attributeList[index].schema.properties[key] = this.model.attributes.schema.properties[key];\r\n              }\r\n            }, this);\r\n          } else if (config.type === 'relation') {\r\n            attributeList[index] = { data: {}, options: { fields: {} }, schema: { properties: {} } };\r\n            _.each(this.model.attributes.data, function (data, key) {\r\n              var fields = this.model.attributes.options && this.model.attributes.options.fields;\r\n              var workspace_type_id = fields && fields[key] && fields[key].workspace_type_id;\r\n              if (workspace_type_id+\"\"===config.workspaceTypeId+\"\") {\r\n                attributeList[index].data[key] = this.model.attributes.data[key];\r\n                attributeList[index].options.fields[key] = this.model.attributes.options.fields[key];\r\n                attributeList[index].schema.properties[key] = this.model.attributes.schema.properties[key];\r\n              }\r\n            }, this);\r\n          } else if (config.type === 'attribute') {\r\n            var key = config.categoryId + \"_\" + config.attributeId\r\n            if (!!config.attributeType) {\r\n              if (config.attributeType === \"object\") {\r\n                key = key + \"_1_\" + config.columnId;\r\n              } else {\r\n                key = key + \"_x_\" + config.columnId;\r\n              }\r\n            }\r\n            attributeList[index] = { data: {}, options: { fields: {} }, schema: { properties: {} } };\r\n            if (typeof this.model.attributes.data[key] !== 'undefined') {\r\n              attributeList[index].data[key] = this.model.attributes.data[key];\r\n              attributeList[index].options.fields[key] = this.model.attributes.options.fields[key];\r\n              attributeList[index].schema.properties[key] = this.model.attributes.schema.properties[key];\r\n            }\r\n          }\r\n        }, this);\r\n\r\n          /*\r\n          * Creating and adding individual formViews for each region\r\n          */\r\n\r\n        _.each(attributeList, function (attrs, index) {\r\n          if (_.isEmpty(attrs.data) && _.isEmpty(attrs.options.fields) && _.isEmpty(attrs.schema.properties)) {\r\n            return;\r\n          }\r\n          this.model.attributes = attributeList[index];\r\n          var formView = this[\"formView\" + index] = new SelectedMetadataFormView({ model: this.model, context: this.options.context, node: this.model.node });\r\n          /*\r\n          * Adding the metadataview to the created formView.\r\n          * this is done because every formView can be accessed from from all formViews.\r\n          * And a change in one formView can be used to modify in other.\r\n              *\r\n          * For Example:\r\n          *\r\n          * In a scenario when single attributes are configured in metadata widgets like id, old_reference, reference.\r\n          * Here, reference attribute depends on id and old_reference contains previous reference value.\r\n          * If we configure attributes to perspective we get equal number of form views. As we have dedicated regions and formViews for each single attribute configurations.\r\n          * As the user has configured 3 attributes (id,old_reference,reference) we get 3 formViews.\r\n          * Previously a change in reference could easily modify old_reference as they are in a single formView.\r\n          * but, now the Metadata Widget can have multiple formViews (Based on the configuration done in PMan).\r\n          * So, a new object 'formViewList' is introduced in MetadataView which will store all the formViews.\r\n          * And a new object metadataview is added to every formView which will store the reference to MetadataView.\r\n          *\r\n          */\r\n          this.formViewList.push(formView);\r\n          formView.metadataview = this;\r\n\r\n          var reg = \"Region\" + index;\r\n          $('<div></div>').addClass(\"form-metadata\" + index).appendTo(this.$(\".form-metadata\"));\r\n          this.addRegion( reg, \".form-metadata\" + index );\r\n          this.regions[reg] = $.extend({}, this[reg]);\r\n\r\n          formView.listenTo(formView, 'render:form', function () {\r\n            this._hideLoadContainer();\r\n          }.bind(this));\r\n          this[reg].show(formView);\r\n        }, this);\r\n        this.model.attributes = attributeDetails;\r\n      }\r\n\r\n      if (this.formViewList.length===0 && (this.model.metadataConfig.length===0 || this.model.attributes.data)) {\r\n        // if there is no formview display the empty view.\r\n        $('<div></div>').addClass(\"form-metadata0\").appendTo(this.$(\".form-metadata\"));\r\n        this.addRegion(\"Region0\", \".form-metadata0\");\r\n        this.regions.Region0 = $.extend({}, this.Region0);\r\n        this.formView = new EmptyListView({ text: this.noMetadataMessage });\r\n        this.Region0.show(this.formView);\r\n        this._hideLoadContainer();\r\n      }\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(MetadataView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return the initialized view\r\n  return MetadataView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/wksp/impl/wksp',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"List-item\\\" >\\r\\n    <div class=\\\"listItemWksp wkspItem\\\"  id=\\\"wkspItem\\\" >\\r\\n        <span class=\\\"wksp-expand-icon\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":48},\"end\":{\"line\":4,\"column\":54}}}) : helper)))\n    + \"\\\"><div id=\\\"toggleIcon\\\" tabindex=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tabIndex\") || (depth0 != null ? lookupProperty(depth0,\"tabIndex\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tabIndex\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":87},\"end\":{\"line\":4,\"column\":99}}}) : helper)))\n    + \"\\\" class=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"toggleStatus\") || (depth0 != null ? lookupProperty(depth0,\"toggleStatus\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"toggleStatus\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":108},\"end\":{\"line\":4,\"column\":124}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"typeName\") || (depth0 != null ? lookupProperty(depth0,\"typeName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"typeName\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":133},\"end\":{\"line\":4,\"column\":145}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":156},\"end\":{\"line\":4,\"column\":162}}}) : helper)))\n    + \"\\\"></div></span>\\r\\n        <span class=\\\"wkspItemIcon\\\"><div class=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"iconClass\") || (depth0 != null ? lookupProperty(depth0,\"iconClass\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"iconClass\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":47},\"end\":{\"line\":5,\"column\":60}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"typeName\") || (depth0 != null ? lookupProperty(depth0,\"typeName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"typeName\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":69},\"end\":{\"line\":5,\"column\":81}}}) : helper)))\n    + \"\\\"></div></span>\\r\\n        <div class=\\\"listItemWkspName wkspItemName\\\"  tabindex=\\\"0\\\" id=\\\"wkspNameDiv\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":89},\"end\":{\"line\":6,\"column\":97}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":108},\"end\":{\"line\":6,\"column\":114}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":116},\"end\":{\"line\":6,\"column\":124}}}) : helper)))\n    + \" </div>\\r\\n        <div class=\\\"wkspFolder-actiondiv binf-fade\\\" style=\\\"display:none\\\">\\r\\n            <div id=\\\"wkspActionBar\\\" class=\\\"wkspFolder-actionbar wkspFolder-actionbar-bubble\\\" >\\r\\n                <ul class=\\\"wksptile-nav wkspnav wksptile-pills\\\">\\r\\n                    <li class=\\\"needsclick wkspActionButton wkspActionSaveButton\\\" id=\\\"wkspSaveMenuItem\\\" style=\\\"display:none\\\">\\r\\n                        <div>\\r\\n                            <a href=\\\"javascript:void(0)\\\" id=\\\"saveEmailButton\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":12,\"column\":87},\"end\":{\"line\":12,\"column\":93}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveTitle\") || (depth0 != null ? lookupProperty(depth0,\"saveTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":12,\"column\":120},\"end\":{\"line\":12,\"column\":133}}}) : helper)))\n    + \"\\\">\\r\\n                                <div class=\\\"wkspIcon \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"actionIcon\") || (depth0 != null ? lookupProperty(depth0,\"actionIcon\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"actionIcon\",\"hash\":{},\"loc\":{\"start\":{\"line\":13,\"column\":53},\"end\":{\"line\":13,\"column\":67}}}) : helper)))\n    + \"\\\" data-id=\\\"noToggle\\\"></div>\\r\\n                            </a>\\r\\n                        </div>\\r\\n                    </li>\\r\\n\\r\\n                    <li class=\\\"needsclick wkspActionButton\\\">\\r\\n                        <div>\\r\\n                            <a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"linkToWS\") || (depth0 != null ? lookupProperty(depth0,\"linkToWS\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"linkToWS\",\"hash\":{},\"loc\":{\"start\":{\"line\":20,\"column\":37},\"end\":{\"line\":20,\"column\":49}}}) : helper)))\n    + \"\\\" id=\\\"wkspOpenButton\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"openLinkTitle\") || (depth0 != null ? lookupProperty(depth0,\"openLinkTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"openLinkTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":20,\"column\":78},\"end\":{\"line\":20,\"column\":95}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"openLinkTitle\") || (depth0 != null ? lookupProperty(depth0,\"openLinkTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"openLinkTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":20,\"column\":109},\"end\":{\"line\":20,\"column\":126}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":20,\"column\":137},\"end\":{\"line\":20,\"column\":143}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\" target=\\\"_blank\\\">\\r\\n                                <div class=\\\"wkspIcon wkspOpenIcon\\\" data-id=\\\"noToggle\\\"></div>\\r\\n                            </a>\\r\\n                        </div>\\r\\n                    </li>\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"subFolders\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_wksp_impl_wksp', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/utils/emailservice',['module',\r\n    'csui/lib/jquery',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang'\r\n], function EmailSerivce(module, $, WkspUtil, lang) {\r\n\r\n        return {\r\n\r\n            constants : {\r\n                cs_config_missing: lang.config_CS_missing,\r\n                retrieve_email_error: lang.error_retrieve_email\r\n            },\r\n\r\n            getCurrentMailboxItem: getCurrentMailboxItem,\r\n            emailItemChanged: emailItemChanged,\r\n            insertLink: insertLink\r\n        };\r\n\r\n        function getCurrentMailboxItem(isEdit) {\r\n            var deferred = $.Deferred();\r\n\r\n            var editMode = (typeof isEdit === 'undefined')? false : isEdit;\r\n\r\n            try {\r\n                var currentEmail = null,\r\n                    currentUser = window.Office.context.mailbox.userProfile.emailAddress;\r\n\r\n                if (editMode){\r\n                    currentEmail = window.Office.context.mailbox.item;\r\n                } else{\r\n                    currentEmail = window.Office.cast.item.toItemRead(window.Office.context.mailbox.item);\r\n                    currentEmail.archivableAttachments = [];\r\n                    for (var i = 0; i < currentEmail.attachments.length; i++) {\r\n                        var attachment = currentEmail.attachments[i];\r\n                        if (attachment.attachmentType === window.Office.MailboxEnums.AttachmentType.File){\r\n                            currentEmail.archivableAttachments.push(attachment);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                deferred.resolve({\r\n                    currentEmail: currentEmail,\r\n                    currentUser: currentUser\r\n                });\r\n            } catch (error) {\r\n                deferred.reject(error);\r\n            }\r\n\r\n            return deferred.promise();\r\n        }\r\n\r\n        function emailItemChanged(eventArgs){\r\n            if (WkspUtil.SavingSubmitted){\r\n                WkspUtil.EmailChangedAfterSaving = true;\r\n                return;\r\n            } else {\r\n                WkspUtil.EmailChangedAfterSaving = false;\r\n            }\r\n\r\n            var item = window.Office.context.mailbox.item,\r\n                previousItem = window.CurrentEmailItem,\r\n                yPosition = window.pageYOffset;\r\n\r\n            if (previousItem.itemId === item.itemId){\r\n                return;\r\n            }\r\n            \r\n            var currentEmail = window.Office.cast.item.toItemRead(item);\r\n            currentEmail.archivableAttachments = [];\r\n            for (var i = 0; i < currentEmail.attachments.length; i++) {\r\n                var attachment = currentEmail.attachments[i];\r\n                if (attachment.attachmentType === window.Office.MailboxEnums.AttachmentType.File){\r\n                    currentEmail.archivableAttachments.push(attachment);\r\n                }\r\n            }\r\n            window.CurrentEmailItem = currentEmail;\r\n\r\n            if (previousItem === null){\r\n                return;\r\n            }\r\n\r\n            WkspUtil.writeTrace(\"Email has been switched. New email subject: \" + item.subject);\r\n\r\n            window.CurrentEmailItem = window.Office.cast.item.toItemRead(item);\r\n            WkspUtil.uiShow(WkspUtil.PreSaveSection);\r\n            if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n                WkspUtil.uiShow(\"customSearchButton\");\r\n            }\r\n            \r\n            WkspUtil.uiHide(\"savePanel\");\r\n            if (WkspUtil.ScorllPositionBeforeSaving !== -1){\r\n                window.scrollTo(0, WkspUtil.ScorllPositionBeforeSaving);\r\n                WkspUtil.ScorllPositionBeforeSaving = -1;\r\n            } else {\r\n                window.scrollTo(0, yPosition);\r\n            }\r\n\r\n            if (WkspUtil.SuggestedWkspsView !== null){\r\n                WkspUtil.SuggestedWkspsView.refresh();\r\n            }\r\n        }\r\n\r\n        function insertLink(name, url){\r\n            var deferred = $.Deferred();\r\n\r\n            if (typeof window.Office.context === 'undefined' ||\r\n                typeof window.Office.context.mailbox === 'undefined' ||\r\n                typeof window.Office.context.mailbox.item === 'undefined' ||\r\n                window.Office.context.mailbox.item === null){\r\n                deferred.reject({message: lang.warning_no_outlook_context});\r\n                return deferred.promise();\r\n            }\r\n\r\n            var emailItem = window.Office.context.mailbox.item;\r\n            \r\n            emailItem.body.getTypeAsync(\r\n                function (result) {\r\n                    if (result.status === window.Office.AsyncResultStatus.Failed){\r\n                        deferred.reject({message: result.error.message});\r\n                    }\r\n                    else {\r\n                        // Successfully got the type of item body.\r\n                        // Set data of the appropriate type in body.\r\n                        if (result.value === window.Office.MailboxEnums.BodyType.Html) {\r\n                            // Body is of HTML type.\r\n                            emailItem.body.setSelectedDataAsync(\r\n                                name + ':<br><a href=\"' + url + '\">' + url + '</a> ',\r\n                                { coercionType: window.Office.CoercionType.Html},\r\n                                function (asyncResult) {\r\n                                    if (asyncResult.status === window.Office.AsyncResultStatus.Failed){\r\n                                        deferred.reject({message: asyncResult.error.message});\r\n                                    }\r\n                                    else {\r\n                                        deferred.resolve({});\r\n                                    }\r\n                                });\r\n                        }\r\n                        else {\r\n                            // Body is of text type. \r\n                            emailItem.body.setSelectedDataAsync(\r\n                                name + ':\\n' + url + ' ',\r\n                                { coercionType: window.Office.CoercionType.Text},\r\n                                function (asyncResult) {\r\n                                    if (asyncResult.status === window.Office.AsyncResultStatus.Failed){\r\n                                        deferred.reject({message: asyncResult.error.message});\r\n                                    }\r\n                                    else {\r\n                                        deferred.resolved({});\r\n                                    }\r\n                                 });\r\n                        }\r\n                    }\r\n                });\r\n        \r\n            return deferred.promise();\r\n        }\r\n\r\n    }\r\n);\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/folder/impl/item',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"List-item\\\">\\r\\n    <div class=\\\"wkspItem listItemFolder\\\" id=\\\"wkspFolderItem\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":70},\"end\":{\"line\":3,\"column\":76}}}) : helper)))\n    + \"\\\">\\r\\n        <span class=\\\"wksp-expand-icon\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":48},\"end\":{\"line\":4,\"column\":54}}}) : helper)))\n    + \"\\\"><div id=\\\"toggleIcon\\\" class=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"toggleStatus\") || (depth0 != null ? lookupProperty(depth0,\"toggleStatus\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"toggleStatus\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":84},\"end\":{\"line\":4,\"column\":100}}}) : helper)))\n    + \"\\\" tabindex=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tabIndex\") || (depth0 != null ? lookupProperty(depth0,\"tabIndex\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tabIndex\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":112},\"end\":{\"line\":4,\"column\":124}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"typeName\") || (depth0 != null ? lookupProperty(depth0,\"typeName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"typeName\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":133},\"end\":{\"line\":4,\"column\":145}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":156},\"end\":{\"line\":4,\"column\":162}}}) : helper)))\n    + \"\\\"></div></span>\\r\\n        <span class=\\\"wkspItemIcon\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":44},\"end\":{\"line\":5,\"column\":50}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"typeName\") || (depth0 != null ? lookupProperty(depth0,\"typeName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"typeName\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":59},\"end\":{\"line\":5,\"column\":71}}}) : helper)))\n    + \"\\\">\\r\\n            <div class=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"iconClass\") || (depth0 != null ? lookupProperty(depth0,\"iconClass\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"iconClass\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":24},\"end\":{\"line\":6,\"column\":37}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":48},\"end\":{\"line\":6,\"column\":54}}}) : helper)))\n    + \"\\\"></div>\\r\\n        </span>\\r\\n        \\r\\n        <div data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":22},\"end\":{\"line\":9,\"column\":28}}}) : helper)))\n    + \"\\\" class=\\\"wkspItemName\\\"  tabindex=\\\"0\\\" id=\\\"folderNameDiv\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":91},\"end\":{\"line\":9,\"column\":99}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":110},\"end\":{\"line\":9,\"column\":116}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":118},\"end\":{\"line\":9,\"column\":126}}}) : helper)))\n    + \" </div>\\r\\n        <div class=\\\"wkspFolder-actiondiv binf-fade\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":61},\"end\":{\"line\":10,\"column\":67}}}) : helper)))\n    + \"\\\" style=\\\"display:none\\\">\\r\\n            <div id=\\\"folderActionBar\\\" class=\\\"wkspFolder-actionbar wkspFolder-actionbar-bubble\\\" >\\r\\n                <ul class=\\\"wksptile-nav wkspnav wksptile-pills\\\">\\r\\n                    \\r\\n                    <li class=\\\"needsclick\\\">\\r\\n                        <div >\\r\\n                            <a href=\\\"javascript:void(0)\\\" id=\\\"saveEmailButton\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveTitle\") || (depth0 != null ? lookupProperty(depth0,\"saveTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":85},\"end\":{\"line\":16,\"column\":98}}}) : helper)))\n    + \" \\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveTitle\") || (depth0 != null ? lookupProperty(depth0,\"saveTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":113},\"end\":{\"line\":16,\"column\":126}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":137},\"end\":{\"line\":16,\"column\":143}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\" >\\r\\n                                <div class=\\\"wkspIcon \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"actionIcon\") || (depth0 != null ? lookupProperty(depth0,\"actionIcon\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"actionIcon\",\"hash\":{},\"loc\":{\"start\":{\"line\":17,\"column\":53},\"end\":{\"line\":17,\"column\":67}}}) : helper)))\n    + \"\\\" data-id=\\\"noToggle\\\"></div>\\r\\n                            </a>            \\r\\n                        </div>\\r\\n                    </li>\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"subFolders\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_folder_impl_item', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/dialog/impl/logindialog',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"modal-dialog modal-sm load-container\\\">\\r\\n    <div class=\\\"binf-modal-dialog \\\">\\r\\n        <div class=\\\"binf-modal-content\\\">\\r\\n            <div class=\\\"binf-modal-header wksp-dialog-header\\\">\\r\\n                <img src=\\\"impl/images/headerbar_content_server.png\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"signInTitle\") || (depth0 != null ? lookupProperty(depth0,\"signInTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"signInTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":75},\"end\":{\"line\":6,\"column\":90}}}) : helper)))\n    + \"\\\" class=\\\"signInImage\\\" />\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"wksp-dialog-body\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"signInTitle\") || (depth0 != null ? lookupProperty(depth0,\"signInTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"signInTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":49},\"end\":{\"line\":9,\"column\":64}}}) : helper)))\n    + \"\\\">\\r\\n                <div>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"signInMessage\") || (depth0 != null ? lookupProperty(depth0,\"signInMessage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"signInMessage\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":21},\"end\":{\"line\":10,\"column\":38}}}) : helper)))\n    + \"</div>\\r\\n                <div class=\\\"errorMessage\\\" > </div>\\r\\n                <div>\\r\\n                    <label for=\\\"userName\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"usernameLabel\") || (depth0 != null ? lookupProperty(depth0,\"usernameLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"usernameLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":13,\"column\":42},\"end\":{\"line\":13,\"column\":59}}}) : helper)))\n    + \"</label> <input class=\\\"wkspInput\\\" id=\\\"userName\\\" tabindex=\\\"0\\\"/>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <label for=\\\"passkey\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"passkeyLabel\") || (depth0 != null ? lookupProperty(depth0,\"passkeyLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"passkeyLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":41},\"end\":{\"line\":16,\"column\":57}}}) : helper)))\n    + \"</label> <input class=\\\"wkspInput\\\" id=\\\"passkey\\\" type=\\\"password\\\" tabindex=\\\"0\\\" />\\r\\n                </div>\\r\\n            </div>\\r\\n            \\r\\n            <div class=\\\"binf-modal-footer\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-primary csui-yes csui-default\\\" tabindex=\\\"0\\\" >\\r\\n                    \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"signInButtonTitle\") || (depth0 != null ? lookupProperty(depth0,\"signInButtonTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"signInButtonTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":22,\"column\":20},\"end\":{\"line\":22,\"column\":41}}}) : helper)))\n    + \"\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_dialog_impl_logindialog', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n","csui.define('conws/widgets/outlook/impl/dialog/authenticator',['module',\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/marionette',\r\n    'csui/utils/log',\r\n    'csui/utils/base',\r\n    'csui/utils/url',\r\n\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'hbs!conws/widgets/outlook/impl/dialog/impl/logindialog',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'i18n!csui/pages/start/nls/root/lang',\r\n    'csui/behaviors/keyboard.navigation/tabkey.behavior',\r\n    'csui/lib/binf/js/binf'\r\n], function (module, _, $, Marionette, log, base, Url, WkspUtil, template, lang, publicLang, TabKeyBehavior) {\r\n\r\n    var Authenticator = Marionette.ItemView.extend({\r\n        className: function() {\r\n            var className = 'csui-alert binf-modal binf-fade';\r\n            if (this.options.modalClass) {\r\n                className += ' ' + this.options.modalClass;\r\n            }\r\n            return className;\r\n        },\r\n\r\n        template: template,\r\n\r\n        ui: {\r\n            errorMessage: '.errorMessagae',\r\n            userName: '#userName',\r\n            passkey: '#passkey'\r\n        },\r\n\r\n        triggers: {\r\n            'click .csui-yes': 'click:yes'\r\n        },\r\n\r\n        events: {\r\n            'shown.binf.modal': 'onShown',\r\n            'hide.binf.modal': 'onHiding',\r\n            'hidden.binf.modal': 'onHidden',\r\n            'keyup' : 'processKey'\r\n        },\r\n        behaviors: {\r\n            TabKeyBehavior: {\r\n                behaviorClass: TabKeyBehavior,\r\n                recursiveNavigation: true\r\n            }\r\n        },\r\n\r\n        constructor: function LoginDialogView(options) {\r\n            Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n            var connector = WkspUtil.getConnector(); \r\n            this.connector = connector;\r\n\r\n            var urlObj = new Url(connector.connection.url);\r\n            this.hostName = urlObj.getHost();\r\n            this.ticketCookieName = 'otcsTicket' + this.hostName.replace(/;/g, \"_\").replace(/=/g, \"_\").replace(/ /g, \"_\").replace(/,/g, \"_\").replace(/-/g, \"_\");\r\n            this._deferred = $.Deferred();\r\n            this.ssoDeferred = $.Deferred();\r\n\r\n            this.errorMessage = '';\r\n\r\n            this.llCookie = null;\r\n            this.isSSOMessageReceived = false;\r\n\r\n            this.beingAuthenticated = false;\r\n        },\r\n\r\n        templateHelpers: function() {\r\n            return {\r\n                signInButtonTitle: lang.signIn_button_Title,\r\n                usernameLabel: lang.signIn_username,\r\n                passkeyLabel: lang.signIn_passkey,\r\n                signInMessage: _.str.sformat(lang.signIn_message, publicLang.ProductName),\r\n                signInTitle: lang.signIn_title\r\n            }\r\n        },\r\n\r\n        show: function () {\r\n            var self = this,\r\n                promise = self._deferred.promise();\r\n\r\n            WkspUtil.stopGlobalSpinner();\r\n\r\n            if (self.beingAuthenticated){\r\n                WkspUtil.writeTrace(\"Bing authenticated, so skip.\");\r\n                self._deferred.resolve(false);\r\n                self.beingAuthenticated = false;\r\n            } else{\r\n                self.beingAuthenticated = true;\r\n                WkspUtil.modalOpen();\r\n\r\n                this.render();\r\n                this.$el.attr('tabindex', 0);\r\n                if (this.errorMessage) {\r\n                    this.$('.errorMessage').html(this.errorMessage);\r\n                }\r\n                if (this.options.centerVertically) {\r\n                    this.centerVertically();\r\n                }\r\n\r\n                this.$el.binf_modal('show');\r\n                this.triggerMethod('show');\r\n    \r\n                promise.close = function () {\r\n                    //console.log(\"closing model------\");\r\n                    self.$el.binf_modal('hide');\r\n                    return promise;\r\n                };\r\n            }\r\n\r\n            return promise;\r\n        },\r\n\r\n        centerVertically: function() {\r\n            var $clone;\r\n            var top;\r\n\r\n            // add clone of modalAlert to document\r\n            $clone = this.$el.clone();\r\n            $clone.css('display', 'block');\r\n            $clone.appendTo($.fn.binf_modal.getDefaultContainer());\r\n\r\n            // calculate top of centered position\r\n            top = Math.round(($clone.height() - $clone.find('.binf-modal-content').height()) / 2);\r\n            top = top > 0 ? top : 0;\r\n\r\n            $clone.remove();\r\n\r\n            // set top of modalAlert\r\n            this.$el.find('.binf-modal-content').css(\"margin-top\", top);\r\n        },\r\n\r\n        onShown: function() {\r\n            this._deferred.notify({ state: 'shown' });\r\n            this.$('#userName').focus();\r\n        },\r\n\r\n        onHiding: function() {\r\n            this._deferred.notify({ state: 'hiding' });\r\n        },\r\n\r\n        onHidden: function (event) {\r\n            WkspUtil.modalClose();\r\n            this.destroy();\r\n            // Trigger callbacks and promises when the hiding animation ended\r\n            if (this.options.callback) {\r\n                this.options.callback(this._result);\r\n            }\r\n            if (this._result) {\r\n                this._deferred.resolve(this._result);\r\n            } else {\r\n                this._deferred.reject(this._result);\r\n            }\r\n        },\r\n\r\n        processKey: function(e) {\r\n            if (e.which === 13) {\r\n                this.onClickYes();\r\n            }\r\n        },\r\n\r\n        onClickYes: function() {\r\n            var self = this,\r\n                userName = self.$('#userName').val().trim(),\r\n                passkey = self.$('#passkey').val().trim(),\r\n                messageArea = self.$('.errorMessage');\r\n\r\n            messageArea.html('  ');\r\n            if (!userName || !passkey) {\r\n                messageArea.html(lang.signIn_required);\r\n                return;\r\n            }\r\n\r\n            this.connector.connection.credentials = {\r\n                username: userName,\r\n                password: passkey,\r\n                domain: ''\r\n            };\r\n            this.connector.confirmingReload = false;\r\n            var authenticator = this.connector.authenticator,\r\n                data = {\r\n                    type: 'POST',\r\n                    data: this.connector.connection.credentials,\r\n                    contentType: \"application/x-www-form-urlencoded\"\r\n                };\r\n\r\n            authenticator.login(data,\r\n                function(connection) {\r\n                    WkspUtil.writeTrace(\"Authenticated based on username & password.\");\r\n\r\n                    if (typeof self.connector.connection.session === 'undefined') {\r\n                        self.connector.connection.session = connection.session;\r\n                    }\r\n\r\n                    self.options.context.csUser = data.data.username;  \r\n                    WkspUtil.setPersistentSetting(self.ticketCookieName, connection.session.ticket, connection.session.expries);\r\n                    self.connector.timeoutProcessed = false;\r\n                    self._result = true;\r\n                    self.onHidden();\r\n                },\r\n                function(error) {\r\n                    self.connector.timeoutProcessed = false;\r\n                    self.$('.errorMessage').html(WkspUtil.getErrorMessage(error));\r\n                });\r\n\r\n        },\r\n\r\n        _setTabFocus: function() {\r\n            var tabElements = this.$('*[tabindex=0]'),\r\n                lastIndex = tabElements.length - 1,\r\n                tabShift = event.shiftKey,\r\n                i = this._getStartIndex(lastIndex, tabShift, tabElements);\r\n            if (lastIndex > -1) {\r\n                var activeIndex = (this.activeIndex !== undefined) ? this.activeIndex :\r\n                (tabShift ? 0 : lastIndex);\r\n                do {\r\n                    var $tabElem = $(tabElements[i]);\r\n                    if (base.isVisibleInWindowViewport($tabElem)) {\r\n                        this.activeIndex = i;\r\n                        $tabElem.focus();\r\n                        break;\r\n                    }\r\n                    if (tabShift) {\r\n                        i = (i === 0) ? lastIndex : i - 1;\r\n                    } else {\r\n                        i = (i === lastIndex) ? 0 : i + 1;\r\n                    }\r\n                } while (i !== activeIndex);\r\n            }\r\n            return false;\r\n        },\r\n        _getStartIndex: function(lastIndex, tabShift) {\r\n            var startIndex = 0,\r\n                activeIndex = this.activeIndex;\r\n            if (tabShift) {\r\n                startIndex = lastIndex;\r\n                if (activeIndex !== undefined && activeIndex > 0) {\r\n                    startIndex = this.activeIndex - 1;\r\n                }\r\n            } else {\r\n                if (activeIndex !== undefined && activeIndex < lastIndex) {\r\n                    startIndex = activeIndex + 1;\r\n                }\r\n            }\r\n            return startIndex;\r\n        },\r\n\r\n        authenticate: function(options) {\r\n            var self = this,\r\n                authPromise = self._deferred.promise(),\r\n                connection = self.connector.connection,\r\n                url = connection.url;\r\n\r\n            // fallback login function\r\n            var login = function(self, ticket) {\r\n                // get ticket from persistent setting if not passed in\r\n                var savedTicket = (typeof ticket === 'undefined') ? WkspUtil.getPersistentSetting(self.ticketCookieName) : ticket;\r\n                if (savedTicket && !self.connector.timeoutProcessed) {\r\n                    connection.session = { ticket: savedTicket };\r\n\r\n                    var verifyPromise = self.verifyAuthentication(self, connection);\r\n                    verifyPromise.done(function(result) {\r\n                        self.connector.authenticator.authenticate(options,\r\n                            function(data) {\r\n                                WkspUtil.setPersistentSetting(self.ticketCookieName, self.connector.authenticator.connection.session.ticket, self.connector.authenticator.connection.session.expries);\r\n                                self.connector.timeoutProcessed = false;\r\n                                self._result = true;\r\n                                self._deferred.resolve(self._result);\r\n                            },\r\n                            function(error) {\r\n                                return self.show();\r\n                            });\r\n                    });\r\n                    verifyPromise.fail(function(error) {\r\n                        if (WkspUtil.SSOEnabled) {\r\n                            self.getSSOTicket(self).then(\r\n                                function(data) {\r\n                                    self.connector.timeoutProcessed = false;\r\n                                    if (data) {\r\n                                        WkspUtil.writeTrace(\"Using existing ticket unsuccessful, renew ticket using SSO.\");\r\n                                        connection.session = { 'ticket': data };\r\n                                        self.traceLoginUser(self, connection);\r\n                                        self.connector.confirmingReload = false;\r\n                                        WkspUtil.stopGlobalSpinner();\r\n                                        WkspUtil.setPersistentSetting(self.ticketCookieName, connection.session.ticket, connection.session.expries);\r\n                                        self._result = true;\r\n                                        self._deferred.resolve(self._result);\r\n                                        return self._deferred.promise();\r\n                                    } else {\r\n                                        self.show();\r\n                                    }\r\n                                },\r\n                                function() {\r\n                                    self.show();\r\n                                });\r\n                        } else {\r\n                            self.show();\r\n                        }\r\n                    });\r\n\r\n                } else {\r\n                    return self.show();\r\n                }\r\n                return self._deferred.promise();\r\n            };\r\n\r\n            var existingTicket, ticketSource;\r\n            if (connection.session && connection.session.ticket) {\r\n                existingTicket = connection.session.ticket;\r\n                ticketSource = \"existing connection session\";\r\n            } else {\r\n                existingTicket = WkspUtil.getPersistentSetting(self.ticketCookieName);\r\n                ticketSource = \"persistent setting\"\r\n            }\r\n\r\n            if (!self.connector.timeoutProcessed && existingTicket) {\r\n                WkspUtil.writeTrace(\"Trying to authenticate based on \" + ticketSource);\r\n                return login(self, existingTicket);\r\n            }\r\n            else if (WkspUtil.SSOEnabled) {\r\n                WkspUtil.writeTrace(\"Trying SSO authentication\");\r\n                self.getSSOTicket(self).then(\r\n                    function (data) {\r\n                        self.connector.timeoutProcessed = false;\r\n                        if (data) {\r\n                            connection.session = { 'ticket': data };\r\n                            self.traceLoginUser(self, connection);\r\n                            self.connector.confirmingReload = false;\r\n                            WkspUtil.stopGlobalSpinner();\r\n                            WkspUtil.setPersistentSetting(self.ticketCookieName, connection.session.ticket, connection.session.expries);\r\n                            self._result = true;\r\n                            self._deferred.resolve(self._result);\r\n                            return self._deferred.promise();\r\n                        } else {\r\n                            return login(self);\r\n                        }\r\n                    },\r\n                    function () {\r\n                        return login(self);\r\n                    }\r\n                );\r\n            } else {\r\n                return login(self);\r\n            }\r\n\r\n            return authPromise;\r\n        },\r\n\r\n        getSSOTicket: function(self) {\r\n            if (!WkspUtil.getPersistentSetting(\"sso_error\")) {\r\n                setTimeout(function () {\r\n                    WkspUtil.startGlobalSpinner(true);\r\n                }, 500);\r\n\r\n                self.isSSOMessageReceived = false;\r\n                var originDomain = window.ServerOrigin;\r\n                self.messageListener = WkspUtil.registerMessageListener(function(message) { //register the listener to wait for the LLCookie from the child page\r\n                    if (!self.isSSOMessageReceived) {\r\n                        WkspUtil.writeTrace('Received SSO message from: ' + originDomain);\r\n                        self.isSSOMessageReceived = true;\r\n                        WkspUtil.detachMessageListener(self.messageListener, originDomain); //unregister the listener\r\n                        setTimeout(function() {\r\n                            WkspUtil.stopGlobalSpinner();\r\n                        }, 500);\r\n                        self.ssoDeferred.resolve(message.data);\r\n                    }\r\n                }, originDomain);\r\n\r\n                var dummyPara = \"&tick=\" + (new Date()).getTime(); //change the url so the iframe can refresh each time to get SSO message\r\n                var url = window.ServerCgiScript + WkspUtil.SSOLoginURL + dummyPara + \"#\";\r\n                var src = url + encodeURIComponent(document.location.href); //pass in the current domain\r\n                if (WkspUtil.isSafeURL(src)) {\r\n                    document.getElementById(\"ssoFrame\").src = src; //load the SSO authentication page in a hidden iFrame\r\n                    setTimeout(function() {\r\n                        if (self.isSSOMessageReceived === false) {\r\n                            WkspUtil.writeTrace('SSO timed out.');\r\n                            self.errorMessage = \"\"; //lang.ssoTimeout; don't show error message when SSO timed out\r\n                            document.getElementById(\"ssoFrame\").src = \"\";\r\n                            WkspUtil.detachMessageListener(self.messageListener);\r\n                            self.ssoDeferred.reject();\r\n                        }\r\n                    }, 6000);\r\n\r\n                    WkspUtil.writeTrace('SSO enabled and token being retrieved.');\r\n                } else {\r\n                    WkspUtil.writeTrace('Unsafe URL found: ' + src);\r\n                    self.ssoDeferred.reject();\r\n                }\r\n            } else {\r\n                self.ssoDeferred.reject();\r\n            }\r\n            return self.ssoDeferred.promise();\r\n        },\r\n\r\n        verifyAuthentication: function (self, connection) {\r\n            var defer = $.Deferred();\r\n\r\n            $.ajax({\r\n                type: \"GET\",\r\n                headers: {\r\n                    'otcsticket': connection.session.ticket\r\n                },\r\n                url: connection.url + \"/auth\",\r\n                success: function (data) {\r\n                    self.options.context.csUser = data.data.name;\r\n                    WkspUtil.writeTrace(\"Logged in as: \" + data.data.name);\r\n                    defer.resolve({ successful: true });\r\n                },\r\n                error: function (error) {\r\n                    defer.reject(error);\r\n                }\r\n            });\r\n\r\n            return defer.promise();\r\n        },\r\n\r\n        traceLoginUser: function(self, connection) {\r\n            if (WkspUtil.TraceEnabled) {\r\n                $.ajax({\r\n                    type: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": undefined,\r\n                        'otcsticket': connection.session.ticket\r\n                    },\r\n                    url: connection.url + \"/auth\",\r\n                    success: function(data) {\r\n                        if (data && data.data && data.data.name) {\r\n                            self.options.context.csUser = data.data.name;\r\n                            WkspUtil.writeTrace(\"Logged in as: \" + data.data.name);\r\n                        } else {\r\n                            WkspUtil.writeTrace(\"Cannot get login user.\");\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }); \r\n\r\n    return Authenticator;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/dialog/impl/nameresolver',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"modal-dialog modal-sm load-container\\\">\\r\\n    <div class=\\\"binf-modal-dialog \\\">\\r\\n        <div class=\\\"binf-modal-content\\\">\\r\\n            <div class=\\\"binf-modal-header question-header\\\">\\r\\n                <h4 class=\\\"binf-modal-title\\\">\\r\\n                    <span class=\\\"icon csui-icon-notification-confirmation-white\\\"></span>\\r\\n                    <span class=\\\"title-text\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"titleSaveEmail\") || (depth0 != null ? lookupProperty(depth0,\"titleSaveEmail\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"titleSaveEmail\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":45},\"end\":{\"line\":8,\"column\":63}}}) : helper)))\n    + \"</span>\\r\\n                </h4>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"wksp-dialog-body\\\">\\r\\n                <div>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"validationMessage\") || (depth0 != null ? lookupProperty(depth0,\"validationMessage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"validationMessage\",\"hash\":{},\"loc\":{\"start\":{\"line\":13,\"column\":21},\"end\":{\"line\":13,\"column\":42}}}) : helper)))\n    + \"</div>\\r\\n                <div class=\\\"errorMessage\\\"> </div>\\r\\n                <div>\\r\\n                    <span>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"uniqueNameLabel\") || (depth0 != null ? lookupProperty(depth0,\"uniqueNameLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"uniqueNameLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":26},\"end\":{\"line\":16,\"column\":45}}}) : helper)))\n    + \"</span> \\r\\n                    <textarea class=\\\"wkspInput wkspEmailName\\\" id=\\\"fileName\\\" tabindex=\\\"0\\\"/>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n            \\r\\n            <div class=\\\"binf-modal-footer\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-primary csui-yes csui-default\\\" tabindex=\\\"0\\\" >\\r\\n                    \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"titleOk\") || (depth0 != null ? lookupProperty(depth0,\"titleOk\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"titleOk\",\"hash\":{},\"loc\":{\"start\":{\"line\":24,\"column\":20},\"end\":{\"line\":24,\"column\":31}}}) : helper)))\n    + \"\\r\\n                </button>\\r\\n                <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-default csui-cancel\\\" tabindex=\\\"0\\\"\\r\\n                        data-binf-dismiss=\\\"modal\\\">\\r\\n                    \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"titleCancel\") || (depth0 != null ? lookupProperty(depth0,\"titleCancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"titleCancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":28,\"column\":20},\"end\":{\"line\":28,\"column\":35}}}) : helper)))\n    + \"\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_dialog_impl_nameresolver', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/dialog/nameresolver',['module',\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/marionette',\r\n    'csui/utils/log',\r\n    'csui/utils/base',\r\n    'csui/utils/url',\r\n    'csui/utils/requestauthenticator',\r\n\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'hbs!conws/widgets/outlook/impl/dialog/impl/nameresolver', \r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'csui/behaviors/keyboard.navigation/tabkey.behavior',\r\n    'csui/lib/binf/js/binf'\r\n], function (module, _, $, Marionette, log, base, Url, RequestAuthenticator, WkspUtil, template, lang, TabKeyBehavior) {\r\n\r\n    var NameResolver = Marionette.ItemView.extend({\r\n        className: function () {\r\n            var className = 'csui-alert binf-modal binf-fade';\r\n            if (this.options.modalClass) {\r\n                className += ' ' + this.options.modalClass;\r\n            }\r\n            return className;\r\n        },\r\n\r\n        template: template,\r\n\r\n        ui: {\r\n            errorMessage: '.errorMessagae',\r\n            fileName: '#fileName'\r\n        },\r\n\r\n        triggers: {\r\n            'click .csui-yes': 'click:yes'\r\n        },\r\n\r\n        events: {\r\n            'shown.binf.modal': 'onShown',\r\n            'hide.binf.modal': 'onHiding',\r\n            'hidden.binf.modal': 'onHidden',\r\n            'keyup': 'processKey',\r\n            \"keyup #fileName\": \"emailNameTyping\"\r\n        },\r\n\r\n        behaviors: {\r\n            TabKeyBehavior: {\r\n                behaviorClass: TabKeyBehavior,\r\n                recursiveNavigation: true\r\n            }\r\n        },\r\n\r\n        constructor: function NameResolver(options) {\r\n            Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n            options = this.options;\r\n           \r\n            this.connector = options.connector;\r\n            this._deferred = $.Deferred();\r\n            this.folderId = options.folderId;\r\n\r\n            this.proposedName = WkspUtil.escapeNameToCreate(options.originalName);\r\n            this.originalName = this.proposedName;\r\n            this.folderName = options.folderName;\r\n            // url example: https://ecmlink18dev.opentext.net/otcs/cs.exe/api/v1/validation/nodes/names?body={\"parent_id\":7066352,\"names\":[\"RE_ Group project review\"]}\r\n            \r\n            this.url = Url.combine(this.connector.connection.url, 'validation/nodes/names');\r\n            this.bodyFormat = '{\"parent_id\":%d,\"names\":[\"%s\"]}';\r\n        },\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                validationMessage: this.originalName ? _.str.sformat(lang.validation_name_conflict, this.originalName, this.folderName) : lang.validation_no_subject,\r\n                titleSaveEmail: lang.title_save_email,\r\n                uniqueNameLabel: lang.save_nameNotUnique,\r\n                titleOk: lang.title_ok,\r\n                titleCancel: lang.title_cancel\r\n            }\r\n        },\r\n\r\n        show: function () {\r\n            WkspUtil.modalOpen();\r\n\r\n            this.render();\r\n            this.$el.attr('tabindex', 0);\r\n            if (this.options.centerVertically) {\r\n                this.centerVertically();\r\n            }\r\n            this.$el.binf_modal('show');\r\n            this.triggerMethod('show');\r\n\r\n            if (this.proposedName) {\r\n                this.$('#fileName').val(this.proposedName);\r\n            }\r\n            this.templateHelpers();\r\n\r\n            var promise = this._deferred.promise(),\r\n                self = this;\r\n            \r\n            // testable without this on the public interface?\r\n            promise.close = function () {\r\n                self.$el.binf_modal('hide');\r\n                return promise;\r\n            };\r\n\r\n            return promise;\r\n        },\r\n\r\n        centerVertically: function () {\r\n            var $clone;\r\n            var top;\r\n\r\n            // add clone of modalAlert to document\r\n            $clone = this.$el.clone();\r\n            $clone.css('display', 'block');\r\n            $clone.appendTo($.fn.binf_modal.getDefaultContainer());\r\n\r\n            // calculate top of centered position\r\n            top = Math.round(($clone.height() - $clone.find('.binf-modal-content').height()) / 2);\r\n            top = top > 0 ? top : 0;\r\n\r\n            $clone.remove();\r\n\r\n            // set top of modalAlert\r\n            this.$el.find('.binf-modal-content').css(\"margin-top\", top);\r\n        },\r\n\r\n        onShown: function () {\r\n            this._deferred.notify({ state: 'shown' });\r\n            this.$('#fileName').focus();\r\n\r\n            var nameInput = this.$('#fileName')[0];\r\n            nameInput.style.height = \"1px\";\r\n            nameInput.style.height = (nameInput.scrollHeight) + \"px\";\r\n        },\r\n\r\n        onHiding: function () {\r\n            this._deferred.notify({ state: 'hiding' });\r\n        },\r\n\r\n        onHidden: function (event) {\r\n            WkspUtil.modalClose();\r\n\r\n            this.destroy();\r\n            // Trigger callbacks and promises when the hiding animation ended\r\n            if (this.options.callback) {\r\n                this.options.callback(this._result);\r\n            }\r\n            if (this._result) {\r\n                this._deferred.resolve(this._result);\r\n            } else {\r\n                this._deferred.reject(this._result);\r\n            }\r\n        },\r\n\r\n        emailNameTyping: function(event) {\r\n            var inputs = this.$(\"#fileName\");\r\n            if (inputs.length === 0) {\r\n                return;\r\n            }\r\n\r\n            var nameInput = inputs[0];\r\n            nameInput.style.height = \"1px\";\r\n            nameInput.style.height = (nameInput.scrollHeight) + \"px\";\r\n        },\r\n\r\n        processKey: function (e) {\r\n            if (e.which === 13) {\r\n                this.onClickYes();\r\n            }\r\n        },\r\n\r\n        onClickNo: function () {\r\n            this._result = false;\r\n        },\r\n\r\n        onClickYes: function () {\r\n            var self = this,\r\n                fileName = WkspUtil.escapeNameToCreate(self.$('#fileName').val().trim()),\r\n                messageArea = self.$('.errorMessage');\r\n\r\n            messageArea.text('  ');\r\n\r\n            if (!fileName) {\r\n                messageArea.text(lang.save_enterName);\r\n            } else {\r\n                self.originalName = fileName;\r\n                self.proposedName = fileName;\r\n                self.validate()\r\n                    .done(function (data) {\r\n                        if (data.status) {\r\n                            self.destroy();\r\n                        }\r\n                    });\r\n            }\r\n        },\r\n\r\n        _setTabFocus: function () {\r\n            var tabElements = this.$('*[tabindex=0]'),\r\n                lastIndex = tabElements.length - 1,\r\n                tabShift = event.shiftKey,\r\n                i = this._getStartIndex(lastIndex, tabShift, tabElements);\r\n            if (lastIndex > -1) {\r\n                var activeIndex = (this.activeIndex !== undefined) ? this.activeIndex :\r\n                    (tabShift ? 0 : lastIndex);\r\n                do {\r\n                    var $tabElem = $(tabElements[i]);\r\n                    if (base.isVisibleInWindowViewport($tabElem)) {\r\n                        this.activeIndex = i;\r\n                        $tabElem.focus();\r\n                        break;\r\n                    }\r\n                    if (tabShift) {\r\n                        i = (i === 0) ? lastIndex : i - 1;\r\n                    } else {\r\n                        i = (i === lastIndex) ? 0 : i + 1;\r\n                    }\r\n                } while (i !== activeIndex);\r\n            }\r\n            return false;\r\n        },\r\n        _getStartIndex: function (lastIndex, tabShift) {\r\n            var startIndex = 0,\r\n                activeIndex = this.activeIndex;\r\n            if (tabShift) {\r\n                startIndex = lastIndex;\r\n                if (activeIndex !== undefined && activeIndex > 0) {\r\n                    startIndex = this.activeIndex - 1;\r\n                }\r\n            } else {\r\n                if (activeIndex !== undefined && activeIndex < lastIndex) {\r\n                    startIndex = activeIndex + 1;\r\n                }\r\n            }\r\n            return startIndex;\r\n        },\r\n\r\n        validate: function(options) {\r\n            var namePromise = this._deferred.promise(),\r\n                self = this,\r\n                url = self.url;\r\n\r\n            if (self.proposedName) {\r\n                WkspUtil.startGlobalSpinner();\r\n\r\n                var verifyingPromise = self.verifyName(url, self.proposedName);\r\n                verifyingPromise.done(function(data) {\r\n                    if (data.results && data.results.length === 0) {\r\n                        self._result = { success: true, name: self.proposedName };\r\n                        self.onHidden();\r\n                        //WkspUtil.stopGlobalSpinner();\r\n                        self._deferred.resolve(self._result);\r\n                    } else {\r\n                        var firstNewName = self.rename(self.proposedName);\r\n                        self.resolveName(firstNewName, function(newName) {\r\n                            self.proposedName = newName;\r\n                            WkspUtil.stopGlobalSpinner();\r\n                            self.show();\r\n                            self.onShown();\r\n                        });\r\n                    }\r\n\r\n                });\r\n                verifyingPromise.fail(function (error, errorText) {\r\n                    WkspUtil.stopGlobalSpinner();\r\n                    var errMsg = errorText;\r\n                    if (error) {\r\n                        errMsg = (error.responseJSON && error.responseJSON.error) ? error.responseJSON.error :\r\n                            error.responseText ? error.responseText :\r\n                            error.statusText ? error.statusText : JSON.stringify(error);\r\n                    }\r\n                    self.$('.errorMessage').text(errMsg);\r\n                    self._result = { success: false , status: error.status, errorMessage: errMsg};\r\n                    self._deferred.resolve(self._result);\r\n                });\r\n            } else {\r\n                self.show();\r\n            }\r\n\r\n            return namePromise;\r\n        },\r\n\r\n        verifyName: function (url, nameToVerify) {\r\n            var self = this,\r\n                ticket = self.connector.connection.session.ticket;\r\n\r\n            var body = _.str.sprintf(self.bodyFormat, self.folderId, WkspUtil.escapeNameToVerify(nameToVerify) + \".eml\"); \r\n\r\n            return $.ajax({\r\n                type: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    'OTCSTicket': ticket\r\n                },\r\n                url: url,\r\n                contentType: false,\r\n                data: {body: body}\r\n            });\r\n        },\r\n\r\n        resolveName: function(nameToResolve, callback) {\r\n            var self = this,\r\n                url = self.url;\r\n\r\n            var verifyingPromise = self.verifyName(url, nameToResolve);\r\n            verifyingPromise.done(function (data) {\r\n                if (data.results && data.results.length === 0) {\r\n                    callback(nameToResolve);\r\n                } else {\r\n                    var newName = self.rename(nameToResolve);\r\n                    self.resolveName(newName, callback);\r\n                }\r\n\r\n            });\r\n\r\n        },\r\n\r\n        rename: function(originalName) {\r\n            if (!originalName) {\r\n                return null;\r\n            }\r\n\r\n            var toRename = originalName.trim();\r\n            if (toRename[toRename.length - 1] === ')') {\r\n                var lastOpenParenthesis = toRename.lastIndexOf('(');\r\n                if (lastOpenParenthesis > 0 && lastOpenParenthesis < toRename.length-2) {\r\n                    var sequence = toRename.substring(lastOpenParenthesis + 1, toRename.length - 1),\r\n                        newSequence = parseInt(sequence, 10);\r\n                    if (sequence === String(newSequence)) {\r\n                        newSequence++;\r\n                        return toRename.substring(0, lastOpenParenthesis + 1) + newSequence + \")\";\r\n                    } \r\n                } \r\n            } \r\n\r\n            return toRename + \" (1)\";\r\n        }\r\n    });\r\n\r\n    return NameResolver;\r\n\r\n});\r\n\n","\n","csui.define('conws/widgets/outlook/impl/utils/csservice',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/utils/url',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/utils/contexts/factories/connector',\r\n    'csui/dialogs/modal.alert/modal.alert',\r\n    'conws/widgets/outlook/impl/utils/emailservice',\r\n    'conws/widgets/outlook/impl/dialog/authenticator',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/dialog/nameresolver',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'i18n!csui/utils/impl/nls/lang'\r\n], function CsService(_, $, Url, PageContext, ConnectorFactory, ModalAlert, EmailService, Authenticator, WkspUtil, NameResolver, lang, csuiLang) {\r\n\r\n    return {\r\n        save: save,\r\n        confirmSaving: confirmSaving,\r\n        reauthenticate: reauthenticate,\r\n        getSuggestedWksps: getSuggestedWksps,\r\n        filterWksps: filterWksps,\r\n        searchWksps: searchWksps,\r\n        getWkspForEmail: getWkspForEmail,\r\n        getSuggestedWkspConfig: getSuggestedWkspConfig,\r\n        getSimpleSearchQueries: getSimpleSearchQueries,\r\n        getAddinConfig: getAddinConfig,\r\n        resolveNames: resolveNames,\r\n        resolveName: resolveName,\r\n        verifyName: verifyName,\r\n        prepareNames: prepareNames,\r\n        nameExists: nameExists\r\n} \r\n  \r\n    function save(connector, folderId, emailName, attachments, metadataValues){\r\n        var self = this,\r\n            emailItem = window.CurrentEmailItem,\r\n            saveEmail = emailName ? true : false,\r\n            attachmentNames = \"\",\r\n            attachmentIds = \"\",\r\n            attachmentTypes = \"\",\r\n            saveAttachment = false,\r\n            metadataValueString = metadataValues === undefined ?  \"\" : JSON.stringify(metadataValues),\r\n            defer = $.Deferred();\r\n\r\n            if (attachments != null && attachments.length > 0){\r\n                saveAttachment = true;\r\n                for(var i = 0; i < attachments.length; i++){\r\n                    attachmentNames += i === 0 ? '\"' + attachments[i].name + '\"' : ',\"' + attachments[i].name + '\"';\r\n                    attachmentIds += i === 0 ? '\"' + attachments[i].id + '\"' : ',\"' + attachments[i].id + '\"';\r\n                    attachmentTypes += i === 0 ? '\"' + attachments[i].mimeType + '\"' : ',\"' + attachments[i].mimeType + '\"';\r\n                }\r\n            }\r\n            attachmentNames = \"{\" + attachmentNames + \"}\";\r\n            attachmentIds = \"{\" + attachmentIds + \"}\";\r\n            attachmentTypes = \"{\" + attachmentTypes + \"}\";\r\n\r\n      \r\n            var saveSuccessful = \"\";\r\n            if (saveEmail && saveAttachment){\r\n                saveSuccessful = lang.save_successful_all;\r\n            } else if (saveEmail){\r\n                saveSuccessful = lang.save_successful_email;\r\n            } else if (saveAttachment){\r\n                if (attachments.length > 1){\r\n                    saveSuccessful = lang.save_successful_attachments;\r\n                } else {\r\n                    saveSuccessful = lang.save_successful_attachment;\r\n                }\r\n            }\r\n\r\n            WkspUtil.writeTrace(\"Ready to perform: saving email = \" + saveEmail + \", saving attachment(s) = \" + saveAttachment);\r\n\r\n            if (typeof window.Office === \"undefined\" || typeof window.Office.context === \"undefined\" ||\r\n                typeof window.Office.context.mailbox === \"undefined\"){\r\n                    defer.reject({errorMsg: lang.warning_no_outlook_context});\r\n                    WkspUtil.writeTrace(\"Could not save email because there is no Outlook context.\");\r\n\r\n                    return defer.promise();\r\n            }\r\n\r\n            window.Office.context.mailbox.getCallbackTokenAsync(function(tokenResult) {\r\n                if (tokenResult.status === 'succeeded') {\r\n                    var dummyEmailContent = \"From: Demo <demo@demo.com>\\nTo: Demo <demo@demo.com>\\nSubject: Content placeholder email\\nDate: 1 Jul 2017\";\r\n                    var dummyBlob = new Blob([dummyEmailContent], { type: 'message/rfc822' });\r\n                    var formData = new FormData();\r\n\r\n                    formData.append(\"parent_id\", folderId);\r\n                    formData.append(\"ewsUrl\", window.Office.context.mailbox.ewsUrl);\r\n                    formData.append(\"emailId\", emailItem.itemId);\r\n                    formData.append(\"accessToken\", tokenResult.value);\r\n                    formData.append(\"emailName\", emailName);\r\n                    formData.append(\"file\", dummyBlob);\r\n                    formData.append(\"body\", metadataValueString);\r\n                    if (saveAttachment){\r\n                        formData.append(\"attachmentNames\", attachmentNames);\r\n                        formData.append(\"attachmentIds\", attachmentIds);\r\n                        formData.append(\"attachmentTypes\", attachmentTypes);\r\n                    }\r\n\r\n                    WkspUtil.writeTrace(\"Calling CS REST to retrieve email content and attachment to save ...\");\r\n                    $.ajax({\r\n                        type: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": undefined,\r\n                            'otcsticket': connector.connection.session.ticket\r\n                        },\r\n                        url: WkspUtil.v1ToV2(connector.connection.url) + \"businessworkspaces/outlookaddin/email\",\r\n                        contentType: false,\r\n                        data: formData,\r\n                        processData: false,\r\n                        success: function (data) {\r\n                            var successful = false,\r\n                                csRestMsg = \"\";\r\n                            if (data.results != null && data.results.length > 0) {\r\n                                successful = data.results[0].resultCode === \"Success\";\r\n                                csRestMsg = data.results[0].message;\r\n                            } else {\r\n                                csRestMsg = \"OutlookAddinRestFailed\";\r\n                            }\r\n\r\n                            if (successful) {\r\n                                defer.resolve({result: saveSuccessful});\r\n                                WkspUtil.writeTrace(\"Saving the email/attachment to Content Server completed.\");\r\n                            } else {\r\n                                defer.reject({errorMsg: _.str.sformat(lang.error_save_email, csRestMsg)});\r\n                                WkspUtil.writeTrace(\"Saving the email/attachment to Content Server failed with message: \" + csRestMsg);\r\n                            }\r\n                        },\r\n                        error: function (error, errorText, obj) {\r\n                            var errMsg = errorText;\r\n                            if (error) {\r\n                                errMsg = (error.responseJSON && error.responseJSON.error) ? error.responseJSON.error :\r\n                                    error.responseText ? error.responseText :\r\n                                        error.statusText ? error.statusText : JSON.stringify(error);\r\n                            }\r\n                            if (error.status === 401) {\r\n                                self.reauthenticate(lang.warning_session_expired);\r\n                            } else {\r\n                                defer.reject({errorMsg: _.str.sformat(lang.error_save_email, errMsg)});\r\n                                WkspUtil.writeTrace(\"Saving the email to Content Server failed with message: \" + errMsg);\r\n                            }\r\n                        }\r\n                    });\r\n                } else {\r\n                    // getCallbackTokenAsync unsuccessful \r\n                    //WkspUtil.stopGlobalSpinner();\r\n                    defer.reject({errorMsg: lang.error_retrieve_token});\r\n                    WkspUtil.writeTrace(\"Retrieving EWS access token failed.\");\r\n                }\r\n            });\r\n        return defer.promise();\r\n    }\r\n\r\n    function confirmSaving (needConfirmation, folderName) {\r\n        if (!needConfirmation) {\r\n            return $.Deferred().resolve(true);\r\n        } else {\r\n            WkspUtil.stopGlobalSpinner();\r\n            return ModalAlert.confirmQuestion(_.str.sformat(lang.info_confirm_saving, folderName),\r\n                lang.title_save_email, { buttons: ModalAlert.buttons.OkCancel });\r\n        }\r\n    }\r\n\r\n    function reauthenticate (message) {\r\n        var conn = WkspUtil.getConnector();\r\n        if (!conn.timeoutProcessed){\r\n            conn.timeoutProcessed = true;\r\n            WkspUtil.stopGlobalSpinner();\r\n            ModalAlert.showWarning(csuiLang.AuthenticationFailureDialogText, message, {\r\n                buttons: ModalAlert.buttons.Ok\r\n            })\r\n                .always(function () {\r\n                    var context = new PageContext(),\r\n                        connector = conn;\r\n\r\n                    context.connector = connector;\r\n                    var authenticator = new Authenticator({ context: context, centerVertically: true });\r\n                    authenticator.authenticate()\r\n                        .done(function(result){\r\n                            authenticator.beingAuthenticated = false;\r\n                        });\r\n                });\r\n        }\r\n    }\r\n\r\n    function getSuggestedWksps(connector, emailItem, config) {\r\n        var self = this,\r\n            processes = [],\r\n            defer = $.Deferred(),\r\n            i = 0;\r\n\r\n        // For testing without email context\r\n        var dummyEmailItem = null;\r\n        /*\r\n        {\r\n            subject: \"Order 155 from customer 0 requrest of product 508 for equipment building 200 from for client 0\", //\"test email\", //\r\n            sender: { displayName: \"Nathan\", emailAddress: \"nathan@SPDC1.com\" },\r\n            to: [\r\n                { displayName: \"Joe Doe\", emailAddress: \"joe@spdc1.com\" },\r\n                { displayName: \"Bill Whites\", emailAddress: \"bill@jasonwang.onmicrosoft.com\" }\r\n            ],\r\n            cc: [\r\n                { displayName: \"Derek Miller\", emailAddress: \"Derek@spdc1.com\" },\r\n                { displayName: \"Fiona Smith\", emailAddress: \"fiona@jasonwang.onmicrosoft.com\" }\r\n            ]\r\n        }; */\r\n        var email = emailItem != null ? emailItem : dummyEmailItem;\r\n\r\n        var filterConfig = WkspUtil.getSuggestedWkspFilters(email, config);\r\n        if (filterConfig != null && filterConfig.rules.length > 0) {\r\n            for (i = 0; i < filterConfig.rules.length; i++) {\r\n                var rule = filterConfig.rules[i];\r\n                var name = rule.filterName.trim();\r\n                if (name) {\r\n                    processes.push(self.filterWksps(connector, rule.typeId, rule.typeName.trim(), name, rule.weight));\r\n                }\r\n            }\r\n        }\r\n\r\n        var emailSearchConfig = WkspUtil.getSuggestedWkspEmailSearchConfig(email, config);\r\n        if (emailSearchConfig != null && emailSearchConfig.searchTerm.length > 0) {\r\n            for (i = 0; i < emailSearchConfig.searchTerm.length; i++) {\r\n                var term = emailSearchConfig.searchTerm[i];\r\n                if (term.region != null && term.searchTerm != null) {\r\n                    processes.push(self.searchWksps(connector, term.region, term.searchTerm, emailSearchConfig.sort, emailSearchConfig.weight));\r\n                }\r\n            }\r\n        }\r\n\r\n        if (processes.length === 0) {\r\n            setTimeout(function () {\r\n                defer.resolve({ results: [] });\r\n            });\r\n        } else {\r\n            //Promise.all(processes)\r\n            $.whenAll(processes)\r\n                .then(function (values) {\r\n                    var collection = [];\r\n                    var errors = [];\r\n                    for (i = 0; i < values.length; i++) {\r\n                        if (values[i].error != null) {\r\n                            errors.push(values[i].error);\r\n                        } else {\r\n                            Array.prototype.push.apply(collection, (values[i].results));\r\n                        }\r\n                    }\r\n                    // merge duplicates, then sort by suggestedWeight and last modified date\r\n                    var wksps = [];\r\n                    for (i = 0; i < collection.length; i++) {\r\n                        var wkspProp = collection[i].data.properties,\r\n                            foundDuplicate = false;\r\n                        for (var k = 0; k < wksps.length; k++) {\r\n                            if (wkspProp.id === wksps[k].data.properties.id) {\r\n                                wksps[k].data.properties.suggestedWeight += wkspProp.suggestedWeight;\r\n\r\n                                var kDate = new Date(wksps[k].data.properties.modifyDate),\r\n                                    iDate = new Date(wkspProp.modifyDate);\r\n                                if (iDate > kDate) {\r\n                                    wksps[k].data.properties.modifyDate = iDate;\r\n                                }\r\n\r\n                                foundDuplicate = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (foundDuplicate) {\r\n                            continue;\r\n                        } else {\r\n                            wksps.push(collection[i]);\r\n                        }\r\n                    }\r\n                    var compareWeight = function(a, b) {\r\n                        if (a.data.properties.suggestedWeight > b.data.properties.suggestedWeight) {\r\n                            return -1;\r\n                        }\r\n                        if (a.data.properties.suggestedWeight < b.data.properties.suggestedWeight) {\r\n                            return 1;\r\n                        }\r\n                        var aDate = new Date(a.data.properties.modifyDate),\r\n                            bDate = new Date(b.data.properties.modifyDate);\r\n                        if (aDate > bDate) {\r\n                            return -1;\r\n                        } else {\r\n                            return 1;\r\n                        }\r\n                    };\r\n                    wksps.sort(compareWeight);\r\n\r\n                    // Only return the configured number of suggested workspaces\r\n                    var maxNumber = config.general != null && config.general.count != null ? config.general.count : 5;\r\n                    var suggestWksps = wksps.slice(0, maxNumber);\r\n\r\n                    // Display error setting, default is false.\r\n                    var displayError = false;\r\n\r\n                    if (errors.length > 0) {\r\n                        for (var j = 0; j < errors.length; j++) {\r\n                            WkspUtil.writeTrace(\"Error reported in retrieving suggested workspace: \" + errors[j]);\r\n                        }\r\n                    }\r\n\r\n                    var reportedErrors = displayError ? errors : [];\r\n\r\n                    defer.resolve({ results: suggestWksps, errors: reportedErrors });\r\n                }, function (error) {\r\n                    defer.reject(WkspUtil.getErrorMessage(error));\r\n                });\r\n        }\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function filterWksps(connector, wkspType, wkspTypeName, wkspName, weight) {\r\n        var defer = $.Deferred(),\r\n            queryString;\r\n\r\n        if (wkspType !== -999){\r\n            WkspUtil.writeTrace(\"Suggested Wksp: filter wksps with typeID '\" + wkspType + \"' and name contains '\" + wkspName + \"'\");\r\n            queryString = 'where_workspace_type_id=' + wkspType + '&' + 'where_name=contains_' + encodeURIComponent(wkspName);\r\n        } else {\r\n            WkspUtil.writeTrace(\"Suggested Wksp: filter wksps with type name '\" + wkspTypeName + \"' and name contains '\" + wkspName + \"'\");\r\n            queryString = 'where_workspace_type_name=' + encodeURIComponent(wkspTypeName) + '&' + 'where_name=contains_' + encodeURIComponent(wkspName);\r\n        }\r\n        \r\n        var url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), 'businessworkspaces?expanded_view=true&' + queryString);\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                var wksps = [];\r\n                if (data != null && data.results != null && data.results.length > 0) {\r\n                    for (var i = 0; i < data.results.length; i++) {\r\n                        var props = data.results[i].data.properties;\r\n                        wksps.push({ data: { properties: { id: props.id, name: props.name, size: props.size, modifyDate: props.modify_date, suggestedWeight: weight, type: 848, container: true } } });\r\n                    }\r\n                }\r\n                defer.resolve({ results: wksps });\r\n            },\r\n            error: function (error) {\r\n                // Passing the error as a resolved result instead of rejecting it.\r\n                defer.resolve({ error: \"Filter: \" + WkspUtil.getErrorMessage(error) });\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function searchWksps(connector, region, searchTerm, sortBy, weight) {\r\n        var self = this,\r\n            defer = $.Deferred();\r\n\r\n        WkspUtil.writeTrace(\"Suggested Wksp: search emails with region '\" + region + \"' contains '\" + searchTerm + \"'\");\r\n        var queryString = 'search?where1=%22' + region + '%22:(*' + encodeURIComponent(searchTerm) + '*)&limit=50';\r\n        if (sortBy !== \"relevance\") {\r\n            queryString += \"&sort=desc_OTObjectDate\";\r\n        }\r\n        var url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), queryString);\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                var processes = [],\r\n                    wksps = [],\r\n                    i = 0;\r\n                if (data != null && data.results != null && data.results.length > 0) {\r\n                    for (i = 0; i < data.results.length; i++) {\r\n                        var props = data.results[i].data.properties;\r\n                        processes.push(self.getWkspForEmail(connector, props.id, props.modify_date,  weight));\r\n                    }\r\n\r\n                    ////Promise.all(processes)   // -- this is not working in IE\r\n                    //$.when.apply($, processes)   // -- this returns only one result\r\n                    //    .done(function (values) {\r\n                    //        for (i = 0; i < values.length; i++) {\r\n                    //            var value = values[i];\r\n                    //            if (value != null) {\r\n                    //                wksps.push(value);\r\n                    //            }\r\n                    //        }\r\n                    //        defer.resolve({ results: wksps });\r\n                    //    })\r\n                    //    .fail(function (error) {\r\n                    //        defer.reject(error);\r\n                    //    });\r\n\r\n\r\n                    $.whenAll(processes)\r\n                        .then(function(values) {\r\n                            for (i = 0; i < values.length; i++) {\r\n                                var value = values[i];\r\n                                if (value != null) {\r\n                                    wksps.push(value);\r\n                                }\r\n                            }\r\n                            defer.resolve({ results: wksps });\r\n                        }, function(error) {\r\n                            defer.reject(WkspUtil.getErrorMessage(error));\r\n                        });\r\n                } else {\r\n                    defer.resolve({ results: wksps });\r\n                }\r\n            },\r\n            error: function (error) {\r\n                // Passing the error as a resolved result instead of rejecting it.\r\n                defer.resolve({ error: \"Search: \" + WkspUtil.getErrorMessage(error) });\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function getWkspForEmail(connector, wkspId, modifyDate, weight) {\r\n        var defer = $.Deferred(),\r\n            url = Url.combine(connector.connection.url, \"nodes/\" + wkspId + \"/ancestors\");\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                var wksp = null;\r\n                if (data != null && data.ancestors != null && data.ancestors.length >= 2) {\r\n                    for (var i = data.ancestors.length - 2; i >= 0; i--) {\r\n                        var node = data.ancestors[i];\r\n                        if (node.type === 848) {\r\n                            wksp = { data: { properties: { id: node.id, name: node.name, size: 1, modifyDate: modifyDate, suggestedWeight: weight, type: 848, container: true } } }; // size > 0 meaning has children.\r\n                            break;\r\n                        }\r\n                    }\r\n                    defer.resolve(wksp);\r\n                } else {\r\n                    defer.resolve(null);\r\n                }\r\n            },\r\n            error: function(error) {\r\n                defer.reject(WkspUtil.getErrorMessage(error));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function getSuggestedWkspConfig(connector) {\r\n        var defer = $.Deferred(),\r\n            url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), \"businessworkspaces/outlookaddin/suggestedworkspacesconfig\");\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                if (data != null && data.results != null && data.results.resultCode === \"Success\") {\r\n                    defer.resolve(data.results.config);\r\n                } else if (data == null || data.results == null) {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_suggestedConfig, \"Null Configuration\"));\r\n                } else {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_suggestedConfig, data.results.message));\r\n                }\r\n            },\r\n            error: function (error) {\r\n                defer.reject(WkspUtil.getErrorMessage(error));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function getSimpleSearchQueries(connector) {\r\n        var defer = $.Deferred(),\r\n            url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), \"businessworkspaces/outlookaddin/simplesearchqueries\");\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                if (data != null && data.results != null && data.results.resultCode === \"Success\") {\r\n                    defer.resolve(data.results.menuEntries);\r\n                } else if (data == null || data.results == null) {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_searchQueries, \"Null Configuration\"));\r\n                } else {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_searchQueries, data.results.message));\r\n                }\r\n            },\r\n            error: function (error) {\r\n                defer.reject(WkspUtil.getErrorMessage(error));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function getAddinConfig(connector) {\r\n        var defer = $.Deferred(),\r\n            url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), \"businessworkspaces/outlookaddin/config\");\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                if (data != null && data.results != null && data.results.resultCode === \"Success\") {\r\n                    defer.resolve(data.results.config);\r\n                } else if (data == null || data.results == null) {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_config, \"Null Configuration\"));\r\n                } else {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_config, data.results.message));\r\n                }\r\n            },\r\n            error: function (error) {\r\n                defer.reject(_.str.sformat(lang.error_retrieve_config, WkspUtil.getErrorMessage(error)));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function resolveNames(connector, folderId, emailTitleInfo, attachmentInfo){\r\n        var self = this,\r\n            namesToResolve = [],\r\n            resolvedNames = [],\r\n            defer = $.Deferred();\r\n\r\n        var url = Url.combine(connector.connection.url, 'validation/nodes/names'),\r\n            ticket = connector.connection.session.ticket;    \r\n        \r\n        if (emailTitleInfo.checked){\r\n            emailTitleInfo.isEmail = true;\r\n            namesToResolve.push(emailTitleInfo);\r\n        }\r\n        if (attachmentInfo != null && attachmentInfo.length ){\r\n            for (var i = 0; i < attachmentInfo.length; i++){\r\n                var info = attachmentInfo[i].data;\r\n                if (info.checked){\r\n                    info.isEmail = false;\r\n                    namesToResolve.push(info);\r\n                }\r\n            }\r\n        }\r\n\r\n        var looper = $.Deferred().resolve();\r\n        $.when.apply($, $.map(namesToResolve, function(item, i){\r\n            looper = looper.then(function(){\r\n                var nameToResolve = typeof item.isEmail === \"undefined\" || ! item.isEmail ? \r\n                                    item.suggestedName : item.suggestedName + \".eml\";\r\n\r\n                return self.resolveName(url, ticket, folderId, nameToResolve, item, resolvedNames)\r\n            });\r\n            return looper\r\n        })).then(function(){\r\n                defer.resolve();\r\n            },  function (error) {\r\n                // reject happens at the first fail, then ignore the reset\r\n                var err = Array.isArray(error) && error.length > 0 ? error[0] : error;\r\n                defer.reject(err);\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function verifyName(url, ticket, folderId, names) {\r\n        var bodyFormat = '{\"parent_id\":%d,\"names\":[%s]}';\r\n\r\n        var escapedNames = [];\r\n        for(var i = 0; i < names.length; i++){\r\n            escapedNames.push(WkspUtil.escapeNameToVerify(names[i]));\r\n        }\r\n        var nameString = '\"' + escapedNames.join('\",\"') + '\"';\r\n        var body = _.str.sprintf(bodyFormat, folderId, nameString); \r\n\r\n        return $.ajax({\r\n            type: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                'OTCSTicket': ticket\r\n            },\r\n            url: url,\r\n            contentType: false,\r\n            data: {body: body}\r\n        });\r\n    }\r\n\r\n    function resolveName(url, ticket, folderId, nameToResolve, nameInfo, resolvedNames) {\r\n        var self = this,\r\n            defer = $.Deferred();\r\n\r\n        var ensuredName = nameToResolve,\r\n            nameConflicted = false,\r\n            nameCandidates;\r\n        if (!Array.isArray(ensuredName) && resolvedNames.length > 0){\r\n            while (self.nameExists(resolvedNames, ensuredName)){\r\n                nameCandidates = self.prepareNames(ensuredName, 5, resolvedNames);\r\n                ensuredName = nameCandidates[1];\r\n                nameConflicted = true;\r\n            }\r\n        }\r\n        if (!nameConflicted){\r\n            nameCandidates = self.prepareNames(ensuredName, 5, resolvedNames);\r\n        }\r\n\r\n        var verifyingPromise = self.verifyName(url, ticket, folderId, nameCandidates);\r\n        verifyingPromise.done(function (data) {\r\n            if (data.results && data.results.length === 0) {\r\n                nameInfo.suggestedName = nameCandidates[0];\r\n                nameInfo.editable = nameConflicted || Array.isArray(ensuredName);\r\n                nameInfo.hasConflict = nameConflicted || Array.isArray(ensuredName);\r\n                resolvedNames.push(nameCandidates[0]);\r\n                defer.resolve();\r\n            } else if (data.results.length === nameCandidates.length) {\r\n                var subPromise = self.resolveName(url, ticket, folderId, nameCandidates, nameInfo, resolvedNames);\r\n                subPromise.done(function (result){\r\n                    defer.resolve();\r\n                });\r\n                subPromise.fail(function (error){\r\n                    defer.reject(error);\r\n                });\r\n            } \r\n            else {\r\n                for (var i = 0; i < nameCandidates.length; i++){\r\n                    var candidate = nameCandidates[i];\r\n                    var exist = false;\r\n                    for (var j = 0; j < data.results.length; j++){\r\n                        var existName = data.results[j].name;\r\n                        if (candidate.toUpperCase() === existName.toUpperCase()){\r\n                            exist = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (exist){\r\n                        continue;\r\n                    } else {\r\n                        nameInfo.suggestedName = candidate;\r\n                        nameInfo.editable = nameConflicted || i !== 0;\r\n                        nameInfo.hasConflict = nameConflicted || i !== 0;\r\n                        resolvedNames.push(candidate);\r\n                        break;\r\n                    }\r\n                }\r\n                defer.resolve();\r\n            }\r\n\r\n        });\r\n        verifyingPromise.fail(function (error, errorDetail) {\r\n            // test and verify session expire\r\n            if (error.status === 401) {\r\n                self.reauthenticate(lang.warning_session_expired);\r\n            } else {\r\n                // Passing the error as a resolved result instead of rejecting it.\r\n                defer.reject(_.str.sformat(lang.error_validate_name, WkspUtil.getErrorMessage(error)));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function prepareNames(name, nameCount, existingNames){\r\n        var initialRequest = Array.isArray(name) ? false : true;\r\n        var baseName = initialRequest ? name : name[name.length-1];\r\n\r\n        var ext = \"\",\r\n            namePart = baseName,\r\n            lastDot = baseName.lastIndexOf(\".\");\r\n\r\n        if (lastDot >= 0){\r\n            ext = baseName.substring(lastDot).trim();\r\n            namePart = baseName.substring(0, lastDot);\r\n        }\r\n\r\n        var regEx = /.*\\((\\d+)\\)$/g;\r\n        var match = regEx.exec(namePart);\r\n        var sequence = 1,\r\n            nameSeed = \"\",\r\n            hasSequence = false;\r\n\r\n        if (match !== null && match.length > 1){\r\n            sequence = parseInt(match[1], 10);\r\n            if (!initialRequest){\r\n                sequence++;\r\n            }\r\n            hasSequence = true;\r\n            nameSeed = namePart.substring(0, namePart.lastIndexOf(\"(\"));\r\n        } else {\r\n            nameSeed = namePart;\r\n        }\r\n        nameSeed = nameSeed.trim();\r\n        \r\n        // If not specified, generate 5 name candidates to reduce possible multiple calls\r\n        var count = typeof nameCount === \"undefined\" || nameCount < 1 ? 5 : nameCount;\r\n        var alreadyExistedNames = typeof existingNames === \"undefined\" ? [] : existingNames;\r\n\r\n        var candidates = [],\r\n            index = 0;\r\n        while (index < count){\r\n            var candidate;\r\n            if (initialRequest && !hasSequence){\r\n                candidate = nameSeed + ext;\r\n                initialRequest = false;\r\n            } else {\r\n                candidate = nameSeed + \" (\" + sequence + \")\" + ext;\r\n                sequence++;\r\n            }\r\n\r\n            if (!this.nameExists(alreadyExistedNames, candidate)){\r\n                candidates.push(candidate);\r\n                index++;\r\n            }\r\n        }\r\n\r\n        return candidates;\r\n    }\r\n\r\n    function nameExists(nameArray, name){\r\n        if (!Array.isArray(nameArray) || nameArray.length === 0){\r\n            return false;\r\n        }\r\n        for (var i = 0; i < nameArray.length; i++){\r\n            if (name.toUpperCase() === nameArray[i].toUpperCase()){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/dialog/impl/nameControl',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<td id=\\\"checkboxTd\\\" class=\\\"emailSaveIconTd hiddenArea\\\">\\r\\n    <button type=\\\"button\\\" id=\\\"checkButton\\\" role=\\\"checkbox\\\" class=\\\"checkbox csui-control csui-checkbox\\\" tabindex=\\\"0\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveLabel\") || (depth0 != null ? lookupProperty(depth0,\"saveLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":128},\"end\":{\"line\":3,\"column\":141}}}) : helper)))\n    + \"\\\">\\r\\n        <span class=\\\"checkboxIcon\\\" id=\\\"checkboxIcon\\\"></span>\\r\\n    </button>\\r\\n</td>\\r\\n<td id=\\\"itemIconTd\\\" class=\\\"emailSaveIconTd hiddenArea\\\"> \\r\\n    <span class=\\\"wkspItemIcon\\\"><div id=\\\"itemIcon\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"typeName\") || (depth0 != null ? lookupProperty(depth0,\"typeName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"typeName\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":57},\"end\":{\"line\":8,\"column\":69}}}) : helper)))\n    + \"\\\"></div></span>\\r\\n</td>\\r\\n<td class=\\\"emailSaveNameTd\\\">\\r\\n    <div style=\\\"\\\" class=\\\"wkspInput nameBox textReadonly textNoWrap\\\" id=\\\"itemName\\\" tabindex=\\\"-1\\\"><span></span></div>\\r\\n</td>\\r\\n<td id=\\\"editButtonTd\\\" class=\\\"emailSaveIconTd hiddenArea\\\">\\r\\n    <span id=\\\"itemEditIcon\\\" class=\\\"nameEdit\\\" disabled tabindex=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tabIndex\") || (depth0 != null ? lookupProperty(depth0,\"tabIndex\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tabIndex\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":64},\"end\":{\"line\":14,\"column\":76}}}) : helper)))\n    + \"\\\"></span>\\r\\n</td>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_dialog_impl_nameControl', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/outlook/impl/conwsoutlook',[],function(){});\n","csui.define('conws/widgets/outlook/impl/dialog/nameControl.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette',                             \r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/utils/nodesprites',\r\n\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/dialog/impl/nameControl',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, PageContext, NodeSprites, WkspUtil, CSService, lang, template) {\r\n\r\n    var nameControlView = Marionette.CompositeView.extend({\r\n\r\n    tagName: \"tr\",\r\n\r\n    template: template,\r\n\r\n\r\n    ui: {\r\n        \r\n    },\r\n\r\n    events: {\r\n        'click #saveSelectionBack': 'backToPreSave',\r\n        'click #itemEditIcon': 'toggleEdit',\r\n        'click #checkButton': 'clickCheckbox',\r\n        'keyup #itemName': 'nameTyping',\r\n        'blur #itemName': 'ensureName',\r\n        'keyup #itemEditIcon': 'processKey'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            iconClass: this.mimeType,\r\n            tabIndex: this.checked ? \"0\" : \"-1\",\r\n            saveLabel: lang.save_label\r\n        }\r\n    },\r\n\r\n    initialize: function(options) {\r\n        \r\n    },\r\n\r\n    constructor: function nameControlView(options) {\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        var self = this;\r\n\r\n        var data = options.model != null ? options.model.get('data') : options.data;\r\n\r\n        if (data != null){\r\n            this.showOriginalName = data.showOriginalName != null ? data.showOriginalName : false;\r\n            this.hasConflict = data.hasConflict != null ? data.hasConflict : false;\r\n            var name = \"\";\r\n            if (this.showOriginalName && this.hasConflict){\r\n                name = data.name ? data.name : lang.name_untitled;\r\n            } else {\r\n                name = data.suggestedName ? data.suggestedName : (data.name ? data.name : lang.name_untitled);\r\n            }\r\n            this.name = name;\r\n\r\n            this.showCheckbox = data.showCheckbox != null ? data.showCheckbox : true;\r\n            this.checkboxDisabled = data.checkboxDisabled != null ? data.checkboxDisabled : false;\r\n            this.checked = data.checked != null ? data.checked : false;\r\n            this.showEditButton = data.showEditButton != null ? data.showEditButton : true;\r\n            this.editable = this.showEditButton ? (data.editable != null ? data.editable : false) : false;\r\n            this.showIcon = data.showIcon != null ? data.showIcon : true;\r\n            this.mimeType = data.mimeType ? data.mimeType : \"\";\r\n            this.wrapping = data.wrapping != null ? data.wrapping : false;\r\n            this.focus = this.editable && (data.hasConflict != null ? data.hasConflict : false);\r\n            this.avoidHighlight = data.avoidHighlight != null ? data.avoidHighlight : false;\r\n        }\r\n\r\n        self.renderForm();\r\n    },\r\n\r\n    processKey: function(e){\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"itemEditIcon\"){\r\n                this.toggleEdit(e);\r\n            }\r\n        }\r\n\r\n        //if (e.which === 9 && e.target.id === \"folderNameDiv\"){\r\n         //   this.showActionBar(e);\r\n        //}\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#saveMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    renderForm: function (model, response, options) {\r\n        var self = this;\r\n        //self.render();\r\n\r\n        setTimeout(\r\n            function(){\r\n                self.$(\"#itemName\").text(self.name);\r\n                if (self.showCheckbox){\r\n                    self.$(\"#checkboxTd\").removeClass(\"hiddenArea\");\r\n                }\r\n                if (self.editable){\r\n                    self.$(\"#editButtonTd\").removeClass(\"hiddenArea\");\r\n                    self.switchEditMode(true, self.focus);\r\n                }\r\n                if (self.checked){\r\n                    // the edit button is clickable when this item is checked, even when the checkbox is hidden\r\n                    self.$(\"#checkboxIcon\").addClass(\"checkboxSelected\");\r\n                    self.$(\"#itemEditIcon\").removeAttr(\"disabled\");\r\n                }\r\n                if (self.checkboxDisabled){\r\n                    self.$(\"#checkboxIcon\").removeClass(\"checkboxSelected\");\r\n                    self.$(\"#checkboxIcon\").addClass(\"checkboxDisabled\");\r\n                } \r\n                if (self.showEditButton){\r\n                    self.$(\"#editButtonTd\").removeClass(\"hiddenArea\");\r\n                }\r\n                if (self.showIcon){\r\n                    self.$(\"#itemIconTd\").removeClass(\"hiddenArea\");\r\n\r\n                    var css = \"icon \" + NodeSprites.findClassByNode({mime_type: self.mimeType});\r\n                    self.$(\"#itemIcon\").addClass(css);\r\n                }\r\n                if (self.wrapping){\r\n                    var nameEditor = self.$(\"#itemName\");\r\n                    nameEditor.removeClass(\"textNoWrap\");\r\n                    //nameEditor[0].style.height = \"1px\";\r\n                    nameEditor[0].style.height = (nameEditor[0].scrollHeight) + \"px\";\r\n                } \r\n                \r\n            }\r\n        )\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(msg);\r\n    },\r\n\r\n    toggleEdit: function (args){\r\n        var self = this;\r\n        var editable = args.target.classList.contains(\"editCancelIcon\");\r\n        self.switchEditMode(!editable, true);\r\n        self.avoidHighlight = false;\r\n    },\r\n\r\n    switchEditMode: function (editable, focus){\r\n        var self = this;\r\n        var nameEditor = self.$(\"#itemName\");\r\n        if (editable){\r\n            self.$(\"#itemEditIcon\").addClass(\"editCancelIcon\");\r\n            nameEditor.removeClass(\"textReadonly\");\r\n            nameEditor.prop(\"contenteditable\", true);\r\n            nameEditor.attr('tabindex', \"0\");\r\n\r\n            //if (!self.wrapping){\r\n                nameEditor.removeClass(\"textNoWrap\");\r\n                setTimeout(function(){\r\n                    if ( nameEditor[0].scrollHeight >= 30){\r\n                        nameEditor[0].style.height = ( nameEditor[0].scrollHeight) + \"px\";\r\n                    }\r\n                });\r\n                \r\n            //}\r\n\r\n            if (focus){\r\n                setTimeout(function(){\r\n                    self.highlightName();\r\n                });\r\n                \r\n            }\r\n        }else{\r\n            self.$(\"#itemEditIcon\").removeClass(\"editCancelIcon\");\r\n            nameEditor.addClass(\"textReadonly\");\r\n            nameEditor.prop(\"contenteditable\", false);\r\n            nameEditor.attr('tabindex', \"-1\");\r\n\r\n            if (!self.wrapping){\r\n                nameEditor.addClass(\"textNoWrap\");\r\n                nameEditor[0].style.removeProperty(\"height\");\r\n            }\r\n        }\r\n    },\r\n\r\n    clickCheckbox: function (args){\r\n        var self = this,\r\n            checkbox = self.$(\"#checkboxIcon\"),\r\n            edit = self.$(\"#itemEditIcon\");\r\n\r\n        if (checkbox.hasClass(\"checkboxDisabled\")){\r\n            return;\r\n        }\r\n\r\n        var checked = checkbox.hasClass(\"checkboxSelected\");\r\n        var tabIndex = \"-1\",\r\n            nameEditor = self.$(\"#itemName\");\r\n        if (checked){\r\n            checkbox.removeClass(\"checkboxSelected\");\r\n            edit.attr(\"disabled\", \"disabled\");\r\n            edit.removeClass(\"editCancelIcon\");\r\n            nameEditor.addClass(\"textReadonly\");\r\n            nameEditor.prop(\"contenteditable\", false);\r\n\r\n            if (!self.wrapping){\r\n                nameEditor.addClass(\"textNoWrap\");\r\n                nameEditor[0].style.removeProperty(\"height\");\r\n            }\r\n        } else{\r\n            checkbox.addClass(\"checkboxSelected\");\r\n            edit.removeAttr(\"disabled\");\r\n            tabIndex = \"0\";\r\n        }\r\n\r\n        edit.attr('tabindex', tabIndex);\r\n    },\r\n\r\n    nameTyping: function(event) {\r\n        var inputs = this.$(\"#itemName\");\r\n        if (inputs.length === 0) {\r\n            return;\r\n        }\r\n        if (inputs.hasClass(\"textReadonly\")){\r\n            return;\r\n        }\r\n        var nameInput = inputs[0];\r\n        if (nameInput.scrollHeight >= 30){\r\n            nameInput.style.height = \"1px\";\r\n            nameInput.style.height = (nameInput.scrollHeight) + \"px\";\r\n        }\r\n    },\r\n\r\n    ensureName: function(event){\r\n        var self = this;\r\n        if (!self.$(\"#itemName\").text().trim()){\r\n            self.$(\"#itemName\").text(lang.name_untitled);\r\n        }\r\n    },\r\n\r\n    backToPreSave: function(args){\r\n        WkspUtil.uiShow(WkspUtil.PreSaveSection);\r\n        if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n            WkspUtil.uiShow(\"customSearchButton\");\r\n        }\r\n        WkspUtil.uiHide(\"saveSelectionPanel\");\r\n        WkspUtil.uiHide(\"savePanel\");\r\n    },\r\n\r\n    backToStandard: function(args){\r\n        WkspUtil.uiShow(\"standardSections\");\r\n        WkspUtil.uiShow(\"customSearchButton\");\r\n        WkspUtil.uiHide(\"customSearchSection\");\r\n    },\r\n\r\n    highlightName: function(){\r\n        var self = this;\r\n        var nameText = self.$(\"#itemName\")[0];\r\n\r\n        if (!self.avoidHighlight){\r\n            nameText.focus();\r\n\r\n            var range;\r\n            if (document.selection) { // IE\r\n                range = document.body.createTextRange();\r\n                range.moveToElementText(nameText);\r\n                range.select();\r\n            } else if (window.getSelection) {\r\n                range = document.createRange();\r\n                range.selectNodeContents(nameText);\r\n                window.getSelection().removeAllRanges();\r\n                window.getSelection().addRange(range);\r\n            }\r\n        }\r\n    }\r\n\r\n  });\r\n\r\n  return nameControlView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/metadata/impl/metadata.forms.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/widgets/metadata/metadata.forms',\r\n  'csui/utils/contexts/factories/connector'\r\n], function (module, _, Backbone, CollectionFactory, \r\n    CreateFormCollection, ConnectorFactory) {\r\n\r\n  var CreateFormCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'createForm',\r\n    widgetID: '',\r\n\r\n    constructor: function CreateFormCollectionFactory(context, options) {\r\n      options || (options = {});\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var createForms = {};\r\n      if (!(createForms instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config    = module.config();\r\n        createForms = new CreateFormCollection(createForms.models, _.extend({\r\n          connector: connector,\r\n          action: \"create\",\r\n          container: options.container,\r\n          node: options.node,\r\n          autoreset: true\r\n        }, createForms.options, config.options));\r\n      }\r\n      this.property = createForms;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(this.options);\r\n    }\r\n\r\n  });\r\n\r\n  return CreateFormCollectionFactory;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/metadata/impl/form.item',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"binf-panel-heading outlook-heading hiddenArea\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":66},\"end\":{\"line\":1,\"column\":75}}}) : helper)))\n    + \"\\\" id=\\\"propertyTitle\\\">\\r\\n    <span class=\\\"headerIcon sectionToggleIcon\\\" id=\\\"toggleIcon\\\" tabindex=\\\"0\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":83},\"end\":{\"line\":2,\"column\":92}}}) : helper)))\n    + \"\\\"></span>\\r\\n    <span>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":10},\"end\":{\"line\":3,\"column\":19}}}) : helper)))\n    + \"</span>\\r\\n</div>\\r\\n<div id=\\\"propertyForm\\\" class=\\\"metadata-formitems\\\"></div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_metadata_impl_form.item', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/metadata/form.item.view',['csui/lib/marionette',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n\r\n  'csui/controls/form/form.view',\r\n  'conws/widgets/outlook/impl/utils/utility',\r\n  'hbs!conws/widgets/outlook/impl/metadata/impl/form.item'\r\n], function (Marionette, _, $, FormView, WkspUtil, FormItemTemplate) {\r\n\r\n  var MetadataFormItemView = Marionette.ItemView.extend({\r\n    tag: 'div',\r\n    className: \"customsearch-attr-container\",  // Rely on custom view search widget styles to render the form, with minimum overwrites. \r\n\r\n    events: {\r\n      'click #toggleIcon': 'clickToggle',\r\n      'keyup #toggleIcon': 'processKeyUp'\r\n  },\r\n\r\n    templateHelpers: function () {\r\n      var roleName = this.model.get(\"role_name\"),\r\n          title = this.model.get(\"title\"),\r\n          id = this.model.get(\"id\");\r\n\r\n      return {\r\n        title: roleName === \"categories\" ? title : id,\r\n        toggleStatus: this.expended ? WkspUtil.ToggleStatusCollapse : WkspUtil.ToggleStatusExpand\r\n      }\r\n    },\r\n\r\n    constructor: function MetadataFormItemView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.model.on('error', this.errorHandle, this);\r\n      this.options.hideNotRequired = options.hideNotRequired || false;\r\n      this.expended = true;\r\n    },\r\n\r\n    template: FormItemTemplate,\r\n\r\n    onRender: function (e) {\r\n      var formItemRegion = new Marionette.Region({\r\n            el: this.$el.find('.metadata-formitems')\r\n          }),\r\n          formView = new FormView({\r\n            context: this.options.context,\r\n            model: this.model,\r\n            layoutMode: 'singleCol',\r\n            mode: 'create',\r\n            node: this.model.node,\r\n            templateId: this.model.attributes.data.templateId\r\n          });\r\n    \r\n      formItemRegion.show(formView);\r\n      formView.hideNotRequired(this.options.hideNotRequired); \r\n      if (this.options.hideNotRequired && !this.options.hasRequiredField){\r\n        this.$(\"#propertyTitle\").addClass(\"hiddenArea\");\r\n      } else {\r\n        this.$(\"#propertyTitle\").removeClass(\"hiddenArea\");\r\n      }\r\n\r\n      if (this.options.requiredFormCount === 1){\r\n        this.$(\"#toggleIcon\").css(\"display\", \"none\");\r\n      }\r\n      this.formView = formView;\r\n    },\r\n\r\n    onRenderForm: function () {\r\n      this.options.objectView.triggerMethod(\"render:form\");\r\n      return;\r\n    },\r\n\r\n    switchToHide: function(hide){\r\n      this.formView.hideNotRequired(hide);\r\n      if (hide && !this.options.hasRequiredField){\r\n        this.$(\"#propertyTitle\").addClass(\"hiddenArea\");\r\n      } else {\r\n        this.$(\"#propertyTitle\").removeClass(\"hiddenArea\");\r\n      }\r\n    },\r\n\r\n    clickToggle: function(e){\r\n      this.$(\"#toggleIcon\").toggleClass(\"sectionExpended\");\r\n      if (this.expended){\r\n        this.$(\"#propertyForm\").addClass(\"hiddenArea\");\r\n        this.expended = false;\r\n      } else {\r\n        this.$(\"#propertyForm\").removeClass(\"hiddenArea\");\r\n        this.expended = true;\r\n      }\r\n    },\r\n\r\n    processKeyUp: function(e){\r\n      if (e.which === 13) {\r\n          if (e.target.id === \"toggleIcon\"){\r\n              this.clickToggle(e);\r\n          }\r\n      }\r\n    },\r\n  });\r\n\r\n  return MetadataFormItemView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/metadata/impl/metadata.forms',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-saved-search-form\\\" id=\\\"metadata-forms\\\"></div>\\r\\n<div class=\\\"header-right\\\">\\r\\n    <div class=\\\"required-field-switch\\\">\\r\\n        <span id=\\\"requiredFieldsLabelId\\\" class=\\\"only-required-fields-label\\\"\\r\\n              aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"requiredFieldsSwitchTitle\") || (depth0 != null ? lookupProperty(depth0,\"requiredFieldsSwitchTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"requiredFieldsSwitchTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":26},\"end\":{\"line\":5,\"column\":55}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"requiredFieldsSwitchTitle\") || (depth0 != null ? lookupProperty(depth0,\"requiredFieldsSwitchTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"requiredFieldsSwitchTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":57},\"end\":{\"line\":5,\"column\":86}}}) : helper)))\n    + \"</span>\\r\\n              <div id=\\\"required-fields-switch\\\" class=\\\"required-fields-switch\\\"></div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_metadata_impl_metadata.forms', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/metadata/metadata.forms.view',['csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/backbone',\r\n  'csui/lib/jsonpath',\r\n  'csui/controls/tile/behaviors/blocking.behavior',\r\n    \r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/page/page.context',\r\n  'csui/controls/form/fields/booleanfield.view',\r\n\r\n  'conws/widgets/outlook/impl/metadata/impl/metadata.forms.factory',\r\n  'conws/widgets/outlook/impl/metadata/form.item.view',\r\n  'conws/widgets/outlook/impl/utils/utility',\r\n\r\n  'i18n!conws/widgets/outlook/impl/nls/lang',\r\n  'hbs!conws/widgets/outlook/impl/metadata/impl/metadata.forms'\r\n], function (_, $, Marionette, Backbone, jsonPath, BlockingBehavior,\r\n    PerfectScrollingBehavior, NodeModelFactory, PageContext, BooleanFieldView,  \r\n    CreateFormsFactory, MetadataFormItemView, WkspUtil, lang, MetadataFormsTemplate) {\r\n\r\n  var MetadataFormsView = Marionette.LayoutView.extend({\r\n    className: \"csui-custom-view-search\", // Rely on custom view search widget styles to render the form, with minimum overwrites.\r\n\r\n    templateHelpers: function () {\r\n      var messages = {\r\n        requiredFieldsTitle: lang.required_fields_title, \r\n        requiredFieldsSwitchTitle: lang.required_fields_switchLabel\r\n      };\r\n      return messages;\r\n    },\r\n\r\n    behaviors: {\r\n      Blocking: {\r\n        behaviorClass: BlockingBehavior\r\n      },\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: \".csui-saved-search-form\",\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n    regions: {\r\n      requiredSwitchRegion: \"#required-fields-switch\"\r\n    },\r\n\r\n    constructor: function MetadataFormsView(options) {\r\n      options = options || {};\r\n      options.data || (options.data = {});\r\n      this.context = options.context || (new PageContext());\r\n      this.parentView = options.parentView;\r\n\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      \r\n      options.container = this.context.getModel(NodeModelFactory, {attributes: {id: options.parentId }, connector: WkspUtil.getConnector()});\r\n      options.node = this.context.getModel(NodeModelFactory, {attributes: {type: 144, docParentId: options.parentId, parent_id: options.parentId}, connector: WkspUtil.getConnector()});\r\n     \r\n      this.model = this.context.getCollection(CreateFormsFactory, options);\r\n\r\n      this.options.context = this.context;\r\n\r\n      this.listenTo(this.model, \"sync\", this.renderForms);\r\n\r\n      this.categoryChecked = false;\r\n      this.hasRequired = false; // including all forms except the 'general' form\r\n      this.requiredFormCount = 0;\r\n\r\n      this.requiredFieldSwitchModel = new Backbone.Model({data: false});\r\n\r\n      this.$el.on({\r\n        \"change input\": _.bind(this._refreshDOM, this)\r\n      });\r\n\r\n      this.model.fetch();\r\n\r\n    },\r\n\r\n    _refreshDOM: function () {\r\n      setTimeout(_.bind(function() {\r\n        this.triggerMethod('dom:refresh');\r\n      }, this), 500);\r\n    },\r\n\r\n    template: MetadataFormsTemplate,\r\n\r\n    renderForms: function (e) {\r\n      var self = this;\r\n      if (self.model.length > 0){\r\n          self.checkRequired(self.model.models);\r\n          \r\n          self.formViews = [];\r\n          var formView;\r\n\r\n          for(var i = 0; i < self.model.length; i++){\r\n            var m = self.model.models[i];\r\n            if (m.id === \"general\"){\r\n              continue;\r\n            } else if (m.get(\"role_name\") === \"categories\"){\r\n              if (self.hasRequired){\r\n                // show all category forms as long as there is any required field, even it is not from a category.\r\n                formView = new MetadataFormItemView(_.extend(self.options, {model: m, hideNotRequired: false, hasRequiredField: m.attributes.hasRequiredField, requiredFormCount: self.requiredFormCount}));\r\n                self.formViews.push(formView);\r\n                self.appendView(\"view\" + i, formView);\r\n              }\r\n            } else {\r\n              if (m.attributes.hasRequiredField){\r\n                formView = new MetadataFormItemView(_.extend(self.options, {model: m, hideNotRequired: false, hasRequiredField: true, requiredFormCount: self.requiredFormCount}));\r\n                self.formViews.push(formView);\r\n                self.appendView(\"view\" + i, formView);\r\n              }\r\n            }\r\n          }\r\n\r\n          if (self.hasRequired){\r\n            self.requiredFieldSwitchView = new BooleanFieldView({\r\n              mode: 'writeonly',\r\n              model: self.requiredFieldSwitchModel,\r\n              labelId: 'requiredFieldsLabelId'\r\n            }); \r\n            self.getRegion(\"requiredSwitchRegion\").show(self.requiredFieldSwitchView);\r\n            self.listenTo(self.requiredFieldSwitchView, 'field:changed', function (event) {\r\n              self.toggleRequiredFields(event.fieldvalue);  \r\n            });\r\n          }\r\n\r\n          self.parentView.metadataFormRetrieved = true;\r\n          self.parentView.model.set(\"hasRequired\", self.hasRequired);\r\n\r\n          self.parentView.processMetadata();\r\n\r\n      }\r\n    },\r\n\r\n    checkRequired: function(models){\r\n      var self = this,\r\n          categoryFormCount = 0;\r\n\r\n      if (!self.categoryChecked){\r\n        self.categoryChecked = true;\r\n        for (var i = 0; i < models.length; i++){\r\n          var m = models[i];\r\n          if (m.id === \"general\"){\r\n            continue;\r\n          }\r\n          if (m.get(\"role_name\") === \"categories\"){\r\n            categoryFormCount++;\r\n          }\r\n\r\n          m.attributes.hasRequiredField = false;\r\n          var reqFields = jsonPath(m.attributes.schema.properties, \"$..[?(@.required===true)]\");\r\n          if (_.isArray(reqFields) && reqFields.length > 0){\r\n            self.hasRequired = true;\r\n            m.attributes.hasRequiredField = true;\r\n            if (m.get(\"role_name\") !== \"categories\"){\r\n              self.requiredFormCount++;\r\n            }\r\n          }\r\n        }\r\n        if (self.hasRequired){\r\n          self.requiredFormCount = self.requiredFormCount + categoryFormCount; // we only care of it is > 1 or not.\r\n        }\r\n      }\r\n    },\r\n\r\n    toggleRequiredFields: function(hideNotRequired){\r\n      _.each(this.formViews, function(view){\r\n        view.switchToHide(hideNotRequired);\r\n      })\r\n    },\r\n\r\n    getValuesToParent: function(e){\r\n      var allValid = true,\r\n          value = {roles: {categories:{}}};\r\n\r\n      _.each(this.formViews, function(view){\r\n        if (!view.formView.validate()){\r\n          allValid = false;\r\n          return;\r\n        }\r\n        var roleName = view.formView.model.get(\"role_name\");\r\n        if (roleName === \"categories\"){\r\n          value.roles.categories[view.formView.model.id] = view.formView.getValues();\r\n        } else {\r\n          value.roles[roleName] = view.formView.getValues();\r\n        }\r\n      })\r\n      if (allValid){\r\n        this.parentView.metadataValue = value;\r\n      }\r\n      return allValid;\r\n    },\r\n\r\n    appendView: function(viewId, newView){\r\n      var self = this;\r\n      self.$el.append('<div id=\"view' + viewId + '\">');\r\n      self.addRegion('view' + viewId, '#view' + viewId);\r\n      self['view' + viewId].show(newView);\r\n    },\r\n\r\n  });\r\n  return MetadataFormsView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/dialog/impl/saveSection',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div id=\\\"saveDisplayArea\\\" class=\\\"saveDisplayArea\\\">\\r\\n    <div id=\\\"saveSelectionPanel\\\" class=\\\"hiddenArea\\\">\\r\\n        <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n            <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"saveSectionBack\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backLabel\") || (depth0 != null ? lookupProperty(depth0,\"backLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":91},\"end\":{\"line\":4,\"column\":104}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backLabel\") || (depth0 != null ? lookupProperty(depth0,\"backLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":118},\"end\":{\"line\":4,\"column\":131}}}) : helper)))\n    + \"\\\"></span>\\r\\n            <span id=\\\"saveSectionTitle\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"infoMessage\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveInfo\") || (depth0 != null ? lookupProperty(depth0,\"saveInfo\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveInfo\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":33},\"end\":{\"line\":7,\"column\":45}}}) : helper)))\n    + \"</div>\\r\\n        \\r\\n        <div id=\\\"saveMessageArea\\\" class=\\\"hiddenArea warningMessage\\\">\\r\\n            <span class=\\\"headerIcon warningIcon\\\"></span>\\r\\n            <span id=\\\"saveMessage\\\" style=\\\"display: table;\\\"></span>\\r\\n        </div>\\r\\n        \\r\\n        <div id=\\\"saveEmailDiv\\\" style=\\\"padding: 5px 5px 5px 30px;\\\">\\r\\n            <div style=\\\"padding: 5px 0 5px 0\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveEmailText\") || (depth0 != null ? lookupProperty(depth0,\"saveEmailText\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveEmailText\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":46},\"end\":{\"line\":15,\"column\":63}}}) : helper)))\n    + \"</div>\\r\\n            <table style=\\\"width:100%;\\\">\\r\\n                <tr>\\r\\n                    <td class=\\\"emailSaveNameTd\\\" style=\\\"padding: 0;\\\">\\r\\n                        <table id=\\\"emailName\\\" class=\\\"emailSaveTable\\\"></table>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </table>\\r\\n            \\r\\n        </div>\\r\\n        <div id=\\\"saveAttachmentDiv\\\" style=\\\"padding: 10px 5px 5px 30px;\\\">\\r\\n            <div style=\\\"padding: 5px 0 5px 0\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveAttachmentText\") || (depth0 != null ? lookupProperty(depth0,\"saveAttachmentText\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveAttachmentText\",\"hash\":{},\"loc\":{\"start\":{\"line\":26,\"column\":46},\"end\":{\"line\":26,\"column\":68}}}) : helper)))\n    + \"</div>\\r\\n            <table style=\\\"width:100%;\\\">\\r\\n                <tr id=\\\"attachmentOptionTr\\\">\\r\\n                    <td class=\\\"emailSaveIconTd\\\">\\r\\n                        <button type=\\\"button\\\" id=\\\"saveAttachmentCheckbox\\\" role=\\\"checkbox\\\" class=\\\"checkbox csui-control csui-checkbox\\\" tabindex=\\\"0\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveLabel\") || (depth0 != null ? lookupProperty(depth0,\"saveLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":30,\"column\":159},\"end\":{\"line\":30,\"column\":172}}}) : helper)))\n    + \"\\\">\\r\\n                            <span class=\\\"checkboxIcon\\\" id=\\\"saveAttachmentCheckboxIcon\\\"></span>\\r\\n                        </button>\\r\\n                    </td>\\r\\n                    <td class=\\\"emailSaveNameTd\\\"> \\r\\n                        <span style=\\\"padding: 0 0 0 8px;\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveAttachmentOption\") || (depth0 != null ? lookupProperty(depth0,\"saveAttachmentOption\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveAttachmentOption\",\"hash\":{},\"loc\":{\"start\":{\"line\":35,\"column\":58},\"end\":{\"line\":35,\"column\":82}}}) : helper)))\n    + \"</span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td colspan=\\\"2\\\" class=\\\"emailSaveNameTd\\\" style=\\\"padding: 10px 3px 5px 0;\\\">\\r\\n                        <table id=\\\"emailAttachment\\\" class=\\\"emailSaveTable\\\"></table>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </table>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"metadataPanel\\\" class=\\\"hiddenArea metadataForm\\\">\\r\\n        <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n            <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"metadataFormBack\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backLabel\") || (depth0 != null ? lookupProperty(depth0,\"backLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":50,\"column\":92},\"end\":{\"line\":50,\"column\":105}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backLabel\") || (depth0 != null ? lookupProperty(depth0,\"backLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":50,\"column\":119},\"end\":{\"line\":50,\"column\":132}}}) : helper)))\n    + \"\\\"></span>\\r\\n            <span>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"requiredFieldsTitle\") || (depth0 != null ? lookupProperty(depth0,\"requiredFieldsTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"requiredFieldsTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":51,\"column\":18},\"end\":{\"line\":51,\"column\":41}}}) : helper)))\n    + \"</span>\\r\\n        </div>\\r\\n        <div class=\\\"infoMessage\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"saveInfo\") || (depth0 != null ? lookupProperty(depth0,\"saveInfo\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"saveInfo\",\"hash\":{},\"loc\":{\"start\":{\"line\":53,\"column\":33},\"end\":{\"line\":53,\"column\":45}}}) : helper)))\n    + \"</div>\\r\\n        <div id=\\\"metadataMessageArea\\\" class=\\\"hiddenArea warningMessage\\\">\\r\\n            <span class=\\\"headerIcon warningIcon\\\"></span>\\r\\n            <span id=\\\"metadataMessage\\\" style=\\\"display: table;\\\"></span>\\r\\n        </div>\\r\\n        <div id=\\\"metadataDiv\\\"></div>\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"saveResultPanel\\\" class=\\\"hiddenArea\\\">\\r\\n        <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n            <span id=\\\"saveResultTitle\\\"></span>\\r\\n        </div>    \\r\\n        <div id=\\\"saveResult\\\" style=\\\"position:relative; padding: 0 25px 0 25px; line-height: 150%\\\"></div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"saveMsgArea\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"saveSectionButton outlook-heading binf-panel-heading\\\" id=\\\"saveNextButton\\\" tabindex=\\\"0\\\"></div>\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_dialog_impl_saveSection', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/dialog/saveSection.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette3',                             \r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n    'conws/widgets/outlook/impl/utils/emailservice',\r\n    'conws/widgets/outlook/impl/dialog/nameControl.view',\r\n    'conws/widgets/outlook/impl/metadata/metadata.forms.view',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/dialog/impl/saveSection',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, PageContext, WkspUtil, CSService, EmailService, NameView, MetadataFormsView, lang, template) {\r\n\r\n    var saveSectionView = Marionette.CompositeView.extend({\r\n\r\n    template: template,\r\n\r\n    childView: NameView,\r\n    childEvents:{\r\n        'change:status': 'onStatusChange'\r\n    },\r\n\r\n\r\n    childViewContainer: '#emailAttachment',\r\n\r\n    events: {\r\n        'click #saveSectionBack': 'clickBack',\r\n        'click #saveEmailDiv #checkButton': 'clickSaveEmail',\r\n        'click #saveAttachmentCheckbox': 'clickSaveAttachment',\r\n        'click #saveAttachmentDiv #checkButton': 'clickOneAttachment',\r\n        'click #saveNextButton': 'clickNext',\r\n        'keyup #saveSectionBack, #saveNextButton, #metadataFormBack': 'processKey',\r\n        'click #metadataFormBack': 'clickMetadataBack'\r\n    },\r\n\r\n    templateContext: function () {\r\n        return {\r\n            saveEmailText: this.hasAttachment ? lang.save_email_text : lang.save_email_text_noAttachment,\r\n            saveAttachmentText: lang.save_attachment_text,\r\n            saveAttachmentOption: lang.save_attachment_option,\r\n            saveInfo: _.str.sformat(lang.save_email_info, this.folderName),\r\n            requiredFieldsTitle: lang.required_fields_title,\r\n            saveLabel: lang.save_label,\r\n            backLabel: lang.save_button_back\r\n        }\r\n    },\r\n\r\n    initialize: function(options) {\r\n        this.stageCode = {\r\n            initial: 1,\r\n            nameChecking: 2,\r\n            metadata: 3,\r\n            finished: 4\r\n        };\r\n        this.model = new Backbone.Model({});\r\n        //this.listenTo(this.model, 'change', this.processMetadata);\r\n    },\r\n\r\n    constructor: function saveSectionView(options) {\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        var self = this;\r\n        \r\n        self.connector = options.connector;\r\n        self.folderId = options.folderId;\r\n        self.folderName = options.folderName;\r\n\r\n        self.saveStage = self.stageCode.initial; // All saving stages: initial, nameChecking, metadata, finished \r\n        self.saveEmail = true;\r\n        self.nothingToSave = false;\r\n        self.hasAttachment = options.attachments != null && options.attachments.length > 0 ? true : false;\r\n        \r\n        self.attachments = options.attachments;\r\n        self.emailTitleInfo = {name: options.proposedEmailName,\r\n                        showCheckbox: self.hasAttachment,\r\n                        checkboxDisabled: false,\r\n                        editable: false,\r\n                        hasConflict: false,\r\n                        focus: false}\r\n\r\n        self.attachmentInfo = [];\r\n        if (self.attachments != null){\r\n            self.attachments.forEach(function(element){\r\n                self.attachmentInfo.push({\r\n                    data: {\r\n                        name: element.name, \r\n                        id: element.id, \r\n                        mimeType: element.contentType, \r\n                        attachmentType: element.attachmentType,\r\n                        checked: false,\r\n                        focus: false,\r\n                        hasConflict: false\r\n                    }\r\n                });\r\n            })\r\n        }\r\n\r\n        self.metadataFormView = null;\r\n        self.metadataFormRetrieved = false;\r\n        self.hasRequiredMetadata = false;\r\n        self.requiredMetadataResolved = false;\r\n        self.metadataValue = {};\r\n        self.previousStage = self.stageCode.initial;\r\n\r\n        self.saveFailed = false;\r\n        self.saveMessage = \"\";\r\n\r\n        if (self.hasAttachment){\r\n            self.collection = new Backbone.Collection(self.attachmentInfo);\r\n        }\r\n\r\n        self.renderForm();\r\n    },\r\n\r\n    processKey: function(e){\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"saveSectionBack\"){\r\n                this.clickBack(e);\r\n            } else if (e.target.id === \"saveNextButton\"){\r\n                this.clickNext(e);\r\n            } else if (e.target.id === \"metadataFormBack\"){\r\n                this.clickMetadataBack(e);\r\n            }\r\n        }\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#saveMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    onStatusChange: function(model, value, options){\r\n        this.render();\r\n    },\r\n\r\n    renderForm: function (model, response, options) {\r\n        var self = this;\r\n\r\n       self.renderChildren();\r\n\r\n        if (self.saveStage === self.stageCode.initial){\r\n            WkspUtil.ConflictHighlighted = false;\r\n        }\r\n        \r\n        setTimeout(function(){ \r\n\r\n            $('#saveDisplayArea').css('height', 'calc(100vh - ' + (36 + WkspUtil.TraceAreaHeight) + 'px)');\r\n            $('#saveResult').css('top', 'calc(40vh - ' + (36 + WkspUtil.TraceAreaHeight/2) + 'px)');\r\n            \r\n            var emailNameRegion = new Marionette.Region({\r\n                el: '#emailName'\r\n            });\r\n            var emailTitle = \"\";\r\n            if (self.saveStage === self.stageCode.initial){\r\n                emailTitle = self.emailTitleInfo.name;\r\n            } else {\r\n                var pos = self.emailTitleInfo.suggestedName.lastIndexOf(\".eml\");\r\n                if (pos > 0){\r\n                    emailTitle = self.emailTitleInfo.suggestedName.substring(0, pos);\r\n                } else {\r\n                    emailTitle = self.emailTitleInfo.suggestedName;\r\n                }\r\n            }\r\n            emailNameRegion.show(new NameView({ \r\n                data: {context: self.context,\r\n                       name: self.emailTitleInfo.name,\r\n                       suggestedName: emailTitle,\r\n                       showIcon: false,\r\n                       showCheckbox: self.hasAttachment,\r\n                       checkboxDisabled: !self.hasAttachment,\r\n                       checked: self.saveEmail,\r\n                       wrapping: true,\r\n                       showOriginalName: self.emailTitleInfo.showOriginalName,\r\n                       hasConflict: self.emailTitleInfo.hasConflict,\r\n                       editable: self.emailTitleInfo.editable,\r\n                       focus: self.emailTitleInfo.focus }}));\r\n            \r\n            WkspUtil.uiShow(\"saveSelectionPanel\");\r\n\r\n            self.$(\"#saveNextButton\").text(lang.save_button_next);\r\n            if (self.saveStage === self.stageCode.initial){\r\n                WkspUtil.uiHide(WkspUtil.PreSaveSection);\r\n                if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n                    WkspUtil.uiHide(\"customSearchButton\");\r\n                }\r\n                WkspUtil.uiShow(\"savePanel\");\r\n                WkspUtil.uiShow(\"saveSelectionPanel\");\r\n                self.$(\"#saveSectionTitle\").text(lang.title_save_email);\r\n                WkspUtil.uiHide(\"metadataPanel\");\r\n                WkspUtil.uiHide(\"saveMessageArea\");\r\n            } else if (self.saveStage === self.stageCode.nameChecking) {\r\n                self.$(\"#saveSectionTitle\").text(lang.save_selection_conflict);\r\n                WkspUtil.uiShow(\"saveMessageArea\");\r\n                self.$(\"#saveMessage\").html(lang.save_selection_conflict_msg);\r\n            } else if (self.saveStage === self.stageCode.metadata){\r\n                self.$(\"#saveSectionTitle\").text(lang.required_fields_title);\r\n                WkspUtil.uiShow(\"metadataPanel\");\r\n                WkspUtil.uiHide(\"saveSelectionPanel\");\r\n                WkspUtil.uiHide(\"saveResultPanel\");\r\n            } else if (self.saveStage === self.stageCode.finished){\r\n                WkspUtil.uiHide(\"saveSelectionPanel\");\r\n                WkspUtil.uiHide(\"metadataPanel\");\r\n                WkspUtil.uiShow(\"saveResultPanel\");\r\n                self.$(\"#saveNextButton\").text(lang.save_button_close);\r\n                self.$(\"#saveResult\").text(self.saveMessage);\r\n                self.$(\"#saveResultTitle\").text(self.saveTitle);\r\n            }\r\n            \r\n            var attachmentOption = 0; // 0 unchecked, 1 checked, 2 mixed\r\n            for(var i = 0; i < self.attachmentInfo.length; i++){\r\n                var info = self.attachmentInfo[i].data;\r\n                if (i === 0){\r\n                    attachmentOption = info.checked ? 1 : 0;\r\n                } else if ((info.checked && attachmentOption === 0) ||\r\n                           (!info.checked && attachmentOption === 1)){\r\n                        attachmentOption = 2;\r\n                        break;\r\n                }\r\n            }\r\n            self.$(\"#saveAttachmentCheckboxIcon\").removeClass(\"checkboxSelected checkboxMixed\");\r\n            var attachmentClass = attachmentOption === 1 ? \"checkboxSelected\" : (attachmentOption === 2 ? \"checkboxMixed\" : \"\" );\r\n            self.$(\"#saveAttachmentCheckboxIcon\").addClass(attachmentClass);\r\n\r\n            if (!self.hasAttachment){\r\n                WkspUtil.uiHide(\"saveAttachmentDiv\");\r\n            } else if (self.attachments.length === 1){\r\n                WkspUtil.uiHide(\"attachmentOptionTr\");\r\n            }\r\n\r\n            if (self.nothingToSave){\r\n                WkspUtil.uiShow(\"saveMessageArea\");\r\n                self.$(\"#saveNextButton\").addClass(\"buttonDisabled\");\r\n                self.$(\"#saveMessage\").html(lang.save_noSelection);\r\n            }\r\n        });\r\n        \r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(msg);\r\n    },\r\n\r\n\r\n    clickBack: function(args){\r\n        var self = this;\r\n        if (self.saveStage === self.stageCode.initial){\r\n            WkspUtil.uiShow(WkspUtil.PreSaveSection);\r\n            if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n                WkspUtil.uiShow(\"customSearchButton\");\r\n            }\r\n            WkspUtil.uiHide(\"saveSelectionPanel\");\r\n            WkspUtil.uiHide(\"savePanel\");\r\n            window.scrollTo(0, WkspUtil.ScorllPositionBeforeSaving);\r\n            WkspUtil.ScorllPositionBeforeSaving = -1;\r\n        } else if (self.saveStage === self.stageCode.nameChecking){\r\n            self.emailTitleInfo.showOriginalName = true;\r\n            self.emailTitleInfo.editable = false;\r\n            for (var i = 0; i < self.attachmentInfo.length; i++){\r\n                var info = self.attachmentInfo[i].data;\r\n                info.showOriginalName = true;\r\n                info.editable = false;\r\n            }\r\n            self.saveStage = self.stageCode.initial;\r\n            self.renderForm();\r\n        } else if (self.saveStage === self.stageCode.metadata){\r\n            self.saveStage = self.previousStage;\r\n            self.renderForm();\r\n        }\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    backToStandard: function(args){\r\n        WkspUtil.uiShow(\"standardSections\");\r\n        WkspUtil.uiShow(\"customSearchButton\");\r\n        WkspUtil.uiHide(\"customSearchSection\");\r\n    },\r\n\r\n    clickMetadataBack: function(args){\r\n        WkspUtil.uiShow(\"saveSelectionPanel\");\r\n        WkspUtil.uiHide(\"metadataPanel\");\r\n        this.saveStage = this.previousStage;\r\n        this.$(\"#saveSectionBack\").focus();\r\n    },\r\n\r\n    clickSaveAttachment: function(args){\r\n        var self = this,\r\n            icon = self.$(\"#saveAttachmentCheckboxIcon\");\r\n        var checked = icon.hasClass(\"checkboxSelected\");\r\n        icon.removeClass(\"checkboxMixed\");\r\n        if (checked){\r\n            icon.removeClass(\"checkboxSelected\");\r\n        } else{\r\n            icon.addClass(\"checkboxSelected\");\r\n            if (self.$(\"#saveNextButton\").hasClass(\"buttonDisabled\")){\r\n                self.$(\"#saveNextButton\").removeClass(\"buttonDisabled\");\r\n                WkspUtil.uiHide(\"saveMessageArea\");\r\n            }\r\n        }\r\n\r\n        self.$(\"#saveAttachmentDiv #checkboxIcon\").each(function(i, obj){\r\n            if (checked){\r\n                $(obj).removeClass(\"checkboxSelected\");\r\n            } else{\r\n                $(obj).addClass(\"checkboxSelected\");\r\n            }\r\n        });\r\n\r\n        self.$(\"#saveAttachmentDiv #itemEditIcon\").each(function(i, obj){\r\n            if (checked){\r\n                $(obj).attr(\"disabled\", \"disabled\");\r\n                $(obj).removeClass(\"editCancelIcon\");\r\n                $(obj).attr(\"tabindex\", \"-1\");\r\n            } else{\r\n                $(obj).removeAttr(\"disabled\");\r\n                $(obj).attr(\"tabindex\", \"0\");\r\n            }\r\n        });\r\n\r\n        self.$(\"#saveAttachmentDiv #itemName\").each(function(i, obj){\r\n            if (checked){\r\n                $(obj).addClass(\"textReadonly\");\r\n                $(obj).prop(\"contenteditable\", false);\r\n\r\n                $(obj).addClass(\"textNoWrap\");\r\n                obj.style.removeProperty(\"height\");\r\n            } \r\n        });\r\n    },\r\n\r\n    clickOneAttachment: function(args){\r\n        var self = this;\r\n        var thisCheckbox = args.target; \r\n        if (args.target.id === \"checkButton\"){\r\n            thisCheckbox = args.target.querySelector(\"span\");\r\n        }\r\n        var allBox = self.$(\"#saveAttachmentCheckboxIcon\");\r\n        var attachmentBoxes = self.$(\"#saveAttachmentDiv #checkboxIcon\");\r\n\r\n\r\n        var changeToSelected = thisCheckbox.classList.contains(\"checkboxSelected\") ? true : false;\r\n        var changeToMix = false;\r\n        attachmentBoxes.each(function(i, obj){\r\n            if (obj !== thisCheckbox){\r\n                if (obj.classList.contains(\"checkboxSelected\") !== changeToSelected){\r\n                    changeToMix = true;\r\n                    return false; // 'break' for jQuery loop\r\n                }\r\n            }\r\n        });\r\n\r\n        if (changeToMix) {\r\n            allBox.removeClass(\"checkboxSelected\");\r\n            allBox.addClass(\"checkboxMixed\");\r\n        } else{\r\n            allBox.removeClass(\"checkboxMixed\");\r\n            if (changeToSelected){\r\n                allBox.addClass(\"checkboxSelected\");\r\n            } else {\r\n                allBox.removeClass(\"checkboxSelected\");\r\n            }\r\n        }\r\n\r\n        if (changeToSelected && self.$(\"#saveNextButton\").hasClass(\"buttonDisabled\")){\r\n            self.$(\"#saveNextButton\").removeClass(\"buttonDisabled\");\r\n            WkspUtil.uiHide(\"saveMessageArea\");\r\n        }\r\n    },\r\n\r\n    clickSaveEmail: function(args){\r\n        var self = this;\r\n        if (!self.$(\"#saveEmailDiv #checkButton\").hasClass(\"checkboxSelected\") && \r\n            self.$(\"#saveNextButton\").hasClass(\"buttonDisabled\")){\r\n            self.$(\"#saveNextButton\").removeClass(\"buttonDisabled\");\r\n            WkspUtil.uiHide(\"saveMessageArea\");\r\n        }\r\n    },\r\n\r\n    clickNext: function(args){\r\n        var self = this;\r\n\r\n        if (self.$(\"#saveNextButton\").hasClass(\"buttonDisabled\")){\r\n            return;\r\n        }\r\n\r\n        if (self.saveStage === self.stageCode.initial || self.saveStage === self.stageCode.nameChecking){\r\n            self.previousStage = self.saveStage;\r\n            self.collectInfo();\r\n\r\n            if (self.nothingToSave){\r\n                self.renderForm();\r\n            } else {\r\n                WkspUtil.startGlobalSpinner();\r\n                self.saveStage = self.stageCode.nameChecking;\r\n\r\n                var nameResolvingPromise = CSService.resolveNames(self.connector, self.folderId, self.emailTitleInfo, self.attachmentInfo);\r\n                nameResolvingPromise.done(function(result){\r\n                    var nameCheckingPassed = true;\r\n                    self.savingEmailName = self.emailTitleInfo.checked ? self.emailTitleInfo.suggestedName : \"\";\r\n                    self.savingAttachments = [];\r\n\r\n                    if (self.emailTitleInfo.hasConflict){\r\n                        nameCheckingPassed = false;\r\n                    }\r\n                    \r\n                    for (var i = 0; i < self.attachmentInfo.length; i++){\r\n                        var info = self.attachmentInfo[i].data;\r\n                        if (!nameCheckingPassed){\r\n                            info.avoidHighlight = true;\r\n                        }\r\n                        if (info.hasConflict){\r\n                            nameCheckingPassed = false;\r\n                        }\r\n\r\n                        if (info.checked){\r\n                            self.savingAttachments.push({name: info.suggestedName,\r\n                                                    id: info.id,\r\n                                                    mimeType: info.mimeType})\r\n                        }\r\n                    }\r\n\r\n                    if (nameCheckingPassed) {\r\n                        self.saveStage = self.stageCode.metadata;\r\n                        var metadataRegion = new Marionette.Region({\r\n                            el: '#metadataDiv'\r\n                        });\r\n\r\n                        // Verify if there are required metadata. If there is none, then the metadata form won't show up.\r\n                        if (!self.metadataFormRetrieved){\r\n                            self.metadataFormView = new MetadataFormsView({ \r\n                                parentId: self.folderId,\r\n                                parentView: self\r\n                            });\r\n                            metadataRegion.show(self.metadataFormView);\r\n                        } else if (self.hasRequiredMetadata){\r\n                            WkspUtil.uiHide(\"saveSelectionPanel\");\r\n                            WkspUtil.uiShow(\"metadataPanel\");\r\n                            WkspUtil.stopGlobalSpinner();\r\n                        } else {\r\n                            self.processMetadata();\r\n                        }\r\n\r\n                    } else {\r\n                        //self.collection = new Backbone.Collection(self.attachmentInfo);\r\n                        WkspUtil.stopGlobalSpinner();\r\n                        self.renderForm();\r\n                    }\r\n                });\r\n                nameResolvingPromise.fail(function(error){\r\n                    // Go to saving stage, set the stage to \"finished\", and display the name resolving error message.\r\n                    self.saveStage = self.stageCode.finished;\r\n                    self.saveFailed = true;\r\n                    self.saveMessage = WkspUtil.getErrorMessage(error);\r\n                    self.saveTitle = lang.title_save_error;\r\n                    WkspUtil.stopGlobalSpinner();\r\n                    self.renderForm();\r\n                });\r\n            }\r\n        } else if (self.saveStage === self.stageCode.metadata) {\r\n            var allValid = self.metadataFormView.getValuesToParent();\r\n            if (allValid){\r\n                WkspUtil.startGlobalSpinner();\r\n                WkspUtil.uiHide(\"metadataMessageArea\");\r\n                self.processSave();\r\n            } else {\r\n                WkspUtil.uiShow(\"metadataMessageArea\");\r\n                self.$(\"#metadataMessage\").html(lang.save_metadate_form_invalid);\r\n            }\r\n        } else if (self.saveStage === self.stageCode.finished){\r\n            WkspUtil.SavingSubmitted = false;\r\n            if (WkspUtil.EmailChangedAfterSaving){\r\n                EmailService.emailItemChanged({});\r\n            } else {\r\n                WkspUtil.uiShow(WkspUtil.PreSaveSection);\r\n                if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n                    WkspUtil.uiShow(\"customSearchButton\");\r\n                }\r\n                WkspUtil.uiHide(\"savePanel\");\r\n                window.scrollTo(0, WkspUtil.ScorllPositionBeforeSaving);\r\n                WkspUtil.ScorllPositionBeforeSaving = -1;\r\n            }\r\n        }\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    processMetadata: function(){\r\n        var self = this;\r\n\r\n        self.hasRequiredMetadata = self.model.get('hasRequired') || false;\r\n\r\n        if (!self.metadataFormRetrieved && !self.hasRequiredMetadata){\r\n            self.metadataFormRetrieved = true;\r\n            return;\r\n        }\r\n        self.metadataFormRetrieved = true;\r\n        if (!self.hasRequiredMetadata){\r\n            // Go to saving stage\r\n            self.processSave();\r\n        } else {\r\n            WkspUtil.stopGlobalSpinner();\r\n            WkspUtil.uiHide(\"saveSelectionPanel\");\r\n            WkspUtil.uiShow(\"metadataPanel\");\r\n        }\r\n    },\r\n\r\n    processSave: function () {\r\n        var self = this;\r\n        self.saveStage = self.stageCode.finished;\r\n\r\n        WkspUtil.SavingSubmitted = true;\r\n\r\n        var savePromise = CSService.save(self.connector, self.folderId, self.savingEmailName, self.savingAttachments, self.metadataValue);\r\n        savePromise.done(function (result) {\r\n            self.saveFailed = false;\r\n            self.saveMessage = result.result;\r\n            self.saveTitle = lang.title_save_success;\r\n            WkspUtil.stopGlobalSpinner();\r\n            self.renderForm();\r\n        });\r\n        savePromise.fail(function (error) {\r\n            self.saveFailed = true;\r\n            self.saveMessage = error.errorMsg;\r\n            self.saveTitle = lang.title_save_error;\r\n            WkspUtil.stopGlobalSpinner();\r\n            self.renderForm();\r\n        });\r\n    },\r\n\r\n    collectInfo: function(){\r\n        var self = this;\r\n        self.nothingToSave = true;\r\n        self.emailTitleInfo.suggestedName = WkspUtil.escapeNameToCreate(self.$(\"#emailName #itemName\").text().trim());\r\n        self.emailTitleInfo.showOriginalName = false;\r\n        // When there is no attachment, the email saving check box is disabled.\r\n        self.saveEmail = self.$(\"#saveEmailDiv #checkboxIcon\").hasClass(\"checkboxSelected\") ||\r\n                        self.$(\"#saveEmailDiv #checkboxIcon\").hasClass(\"checkboxDisabled\");\r\n        self.emailTitleInfo.checked = self.saveEmail;\r\n        if (!self.saveEmail){\r\n            self.emailTitleInfo.editable = false;\r\n            self.emailTitleInfo.hasConflict = false;\r\n            self.emailTitleInfo.focus = false;\r\n            \r\n        } else {\r\n            self.nothingToSave = false;\r\n        }\r\n\r\n        var attachmentBoxes = self.$(\"#saveAttachmentDiv #checkboxIcon\");\r\n        var attachmentNames = self.$(\"#saveAttachmentDiv #itemName\");\r\n\r\n        for(var i=0; i < self.attachmentInfo.length; i++){\r\n            var info = self.attachmentInfo[i].data;\r\n            info.checked = attachmentBoxes.eq(i).hasClass(\"checkboxSelected\");\r\n            if (self.nothingToSave && info.checked){\r\n                self.nothingToSave = false;\r\n            }\r\n            info.suggestedName = WkspUtil.escapeNameToCreate(attachmentNames.eq(i).text().trim());\r\n            info.editable = !attachmentNames.eq(i).hasClass(\"textReadonly\");\r\n            info.showOriginalName = false;\r\n            info.avoidHighlight = false;\r\n            info.hasConflict = false;\r\n            //info.focus = true;\r\n        }\r\n        \r\n        //var resolvePromise = \r\n    }\r\n\r\n  });\r\n\r\n  return saveSectionView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/folder/item.view',[\r\n    'csui/lib/underscore',\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/backbone',\r\n    'csui/lib/marionette',\r\n    'csui/utils/url',\r\n    'csui/dialogs/modal.alert/modal.alert',\r\n    'csui/utils/nodesprites',\r\n\r\n    'conws/widgets/outlook/impl/utils/emailservice',\r\n    'hbs!conws/widgets/outlook/impl/folder/impl/item',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/dialog/saveSection.view',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang', \r\n    'css!conws/widgets/outlook/impl/conwsoutlook' \r\n\r\n], function (_, $, Backbone, Marionette, Url, ModalAlert, NodeSprites, EmailService, template, WkspUtil, SaveView, lang) {\r\n    var FolderView = Marionette.LayoutView.extend({\r\n        className: 'FolderItem',\r\n\r\n        template: template,\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                serverOrigin: window.ServerOrigin,\r\n                supportFolder: window.ContentServerSupportPath,\r\n                iconClass: this.iconClass,         \r\n                id: this.id,\r\n                name: this.name,\r\n                typeName: this.typeName,\r\n                toggleStatus: this.hasChild ? WkspUtil.ToggleStatusExpand : WkspUtil.ToggleStatusEmpty,\r\n                tabIndex: this.hasChild ? \"0\" : \"-1\",\r\n                saveTitle: this.isEdit? lang.insert_action : lang.title_save_email,\r\n                actionIcon: this.isEdit ? \"copyLink\" : \"emailSaveIcon\"\r\n            }\r\n        },\r\n\r\n        regions: {\r\n            subFolders: '#subFolders'\r\n        },\r\n\r\n        ui: {\r\n            $actionBar: '.wkspFolder-actiondiv',\r\n            $toggleIcon: '#toggleIcon'\r\n        },\r\n\r\n        events: {\r\n            'click .listItemFolder': 'clickFolder',\r\n            'mouseenter #wkspFolderItem': 'showActionBar',\r\n            'mouseleave #wkspFolderItem': 'hideActionBar',\r\n            'click #saveEmailButton': 'saveEmail',\r\n            'focusin #saveEmailButton': 'buttonFocused',\r\n            'focusout #saveEmailButton, #folderNameDiv': 'buttonFocusOut',\r\n            'keyup #toggleIcon, #folderNameDiv, #saveEmailButton': 'processKeyUp',\r\n            'keydown #folderNameDiv, #saveEmailButton': 'processKeyDown'\r\n        },\r\n\r\n        initialize: function (options) {\r\n            this.listenTo(this.model, 'change', this.renderToggleIcon);\r\n        },\r\n\r\n        constructor: function FolderView(options) {\r\n            this.model = options.model;\r\n            this.name = options.model.get('data').properties.name;\r\n            this.id = options.model.get('data').properties.id;\r\n            this.type = options.model.get('data').properties.type;\r\n            this.typeName = options.model.get('data').properties.type_name;\r\n            this.hasChild = options.model.get('data').properties.container_size > 0;\r\n            this.isEdit = options.model.get('data').properties.isEdit;\r\n            this.connector = WkspUtil.getConnector();\r\n            this.accessUrl = Url.combine((new Url(this.connector.connection.url)).getCgiScript(), 'app/nodes', this.id);\r\n\r\n\r\n            this.folderRetrieved = false;\r\n            this.folderExpended = false;\r\n\r\n            this.iconClass = 'wkspContentIcon ' + this.getIconClass();\r\n\r\n            Marionette.LayoutView.prototype.constructor.call(this, options);\r\n        },\r\n\r\n        clickFolder: function (e) {\r\n            if (event.target.id === \"saveEmailButton\" || event.target.id === \"moreLink\"){\r\n                return;\r\n            }\r\n\r\n            var self = this;\r\n\r\n            if (!self.hasChild) {\r\n                return;\r\n            }\r\n\r\n            var targetId = $(e.target).data(\"id\");\r\n\r\n            if (targetId !== self.id || targetId === \"noToggle\") {\r\n                return;\r\n            }\r\n\r\n            var FoldersView = (window.csui) ? window.csui.require('conws/widgets/outlook/impl/folder/folders.view') :\r\n                window.require('conws/widgets/outlook/impl/folder/folders.view');\r\n\r\n            if (!self.folderRetrieved) {\r\n                var foldersView = new FoldersView({\r\n                    connector: self.connector,\r\n                    id: self.id,\r\n                    parentNode: self,\r\n                    pageSize: WkspUtil.pageSize,\r\n                    pageNo: 1,\r\n                    isEdit: self.isEdit\r\n                });\r\n                self.getRegion('subFolders').show(foldersView);\r\n                //toggle icon and the flags are set in the FoldersView\r\n            } else if (self.folderExpended) {\r\n                self.getRegion('subFolders').$el.hide();\r\n                self.folderExpended = false;\r\n                self.toggleStatus = WkspUtil.ToggleStatusExpand;\r\n            } else {\r\n                self.getRegion('subFolders').$el.show();\r\n                self.folderExpended = true;\r\n                self.toggleStatus = WkspUtil.ToggleStatusCollapse;\r\n            }\r\n\r\n            var toggleIcon = this.ui.$toggleIcon;\r\n            toggleIcon.attr('class', self.toggleStatus);\r\n        },\r\n\r\n        renderToggleIcon: function () {\r\n            this.hasChild = this.model.get('hasChild');\r\n            var toggleIcon = this.ui.$toggleIcon;\r\n            if (!this.hasChild) {\r\n                this.toggleStatus = WkspUtil.ToggleStatusEmpty;\r\n            }\r\n            toggleIcon.attr('class', this.toggleStatus);\r\n            var tabIndex = this.toggleStatus === WkspUtil.ToggleStatusEmpty ? \"-1\" : \"0\";\r\n            toggleIcon.attr('tabindex', tabIndex);\r\n            if (tabIndex === \"-1\"){\r\n                $(\"#conwsoutlook-body\").focus();\r\n            }\r\n        },\r\n\r\n        showActionBar: function (e) {\r\n            var self = this;\r\n            var targetId = $(e.currentTarget).data(\"id\");\r\n            if (targetId !== self.id) {\r\n                return;\r\n            }\r\n\r\n            if (self.type !== 751 && WkspUtil.emailSavingConfig.onlySaveToEmailFolder) {\r\n                return;\r\n            }\r\n\r\n            var bar = this.ui.$actionBar;\r\n            bar.css(\"display\", \"block\");\r\n            setTimeout(function () {\r\n                bar.addClass(\"binf-in\");\r\n            }, 300);\r\n        },\r\n\r\n        hideActionBar: function (e) {\r\n            var self = this;\r\n            if (self.type === 0 && WkspUtil.emailSavingConfig.onlySaveToEmailFolder) {\r\n                return;\r\n            }\r\n\r\n            var bar = this.ui.$actionBar;\r\n            bar.css(\"display\", \"none\");\r\n            bar.removeClass(\"binf-in\");\r\n        },\r\n\r\n        processKeyUp: function(e){\r\n            if ($(e.target).data(\"id\") !== this.id){\r\n                return;\r\n            }\r\n\r\n            if (e.which === 13 || e.which === 32) {\r\n                if (e.target.id === \"toggleIcon\"){\r\n                    this.clickFolder(e);\r\n                } else if (e.target.id === \"saveEmailButton\"){\r\n                    this.saveEmail(e);\r\n                    this.hideActionBar(e);\r\n                }\r\n            }\r\n\r\n            if (e.which === 9 && e.target.id === \"folderNameDiv\"){\r\n                this.showActionBar(e);\r\n            }\r\n        },\r\n\r\n        processKeyDown: function(e){\r\n            if ($(e.target).data(\"id\") !== this.id){\r\n                return;\r\n            }\r\n\r\n            if (e.which !== 9){\r\n                return;\r\n            }\r\n            if ((e.shiftKey && e.target.id === \"folderNameDiv\") ||\r\n                (!e.shiftKey && e.target.id === \"saveEmailButton\")){\r\n                    this.hideActionBar(e);\r\n                }\r\n        },\r\n\r\n        buttonFocused: function(e){\r\n            if (e.target.id !== \"saveEmailButton\"){\r\n                return;\r\n            }\r\n            var div = e.target.querySelector(\"div\");\r\n            if (div !== null){\r\n                $(div).css(\"outline\", \"1px dotted grey\");\r\n                $(div).css(\"outline-offset\", \"2px\");\r\n            }\r\n        },\r\n\r\n        buttonFocusOut: function(e){\r\n            if (e.target.id !== \"saveEmailButton\" && e.target.id !== \"folderNameDiv\"){\r\n                return;\r\n            }\r\n\r\n            var self = this;\r\n            setTimeout(function(e){\r\n                var focusId = document.activeElement.id;\r\n                if (focusId !== \"saveEmailButton\" && focusId !== \"folderNameDiv\"){\r\n                    self.hideActionBar(e);\r\n                }\r\n            }, 50);\r\n\r\n            var div = e.target.querySelector(\"div\");\r\n            if (div !== null){\r\n                $(div).css(\"outline\", \"\");\r\n                $(div).css(\"outline-offset\", \"\");\r\n            }\r\n        },\r\n\r\n        saveEmail: function(e) {\r\n            var self = this;\r\n            var targetId = $(e.currentTarget).data(\"id\");\r\n            if (targetId !== self.id) {\r\n                return;\r\n            }\r\n\r\n            if (self.isEdit){\r\n                return self.insertLink(event);\r\n            }\r\n\r\n            if (window.CurrentEmailItem == null) {\r\n                ModalAlert.showWarning(lang.warning_no_outlook_context);\r\n                return;\r\n            }\r\n\r\n            var folderId = self.id,\r\n                folderName = self.name,\r\n                connector = self.connector,\r\n                emailItem = window.CurrentEmailItem;\r\n            \r\n            WkspUtil.ScorllPositionBeforeSaving = window.pageYOffset;\r\n\r\n            var saveRegion = new Marionette.Region({\r\n                el: '#savePanel'\r\n            });\r\n            var saveEmailView = new SaveView({\r\n                connector: connector, \r\n                folderId: folderId,\r\n                folderName: folderName,\r\n                proposedEmailName: emailItem.subject,\r\n                attachments: emailItem.archivableAttachments\r\n            });\r\n            saveRegion.show(saveEmailView);\r\n            $(\"#conwsoutlook-body\").focus();\r\n        },\r\n\r\n        insertLink: function(event){\r\n            var self = this;\r\n\r\n            var insertPromise = EmailService.insertLink(self.name, self.accessUrl);\r\n            insertPromise.fail(function (error) {\r\n                ModalAlert.showWarning(error.message);\r\n                return;\r\n            });\r\n            insertPromise.done(function(){\r\n                return;\r\n            });\r\n        },\r\n\r\n        getIconClass: function() {\r\n            var self = this,\r\n                atts = self.model.attributes,\r\n                node = {type: self.type};\r\n            if (atts != null && atts.data != null && atts.data.properties != null) {\r\n                node = atts.data.properties;\r\n            }\r\n\r\n            var iconClass = \"\";\r\n            try {\r\n                iconClass = \"icon \" + NodeSprites.findClassByNode(node);\r\n            } catch(err){\r\n                if (node.type === 751){\r\n                    iconClass = \"wkspEmailFolderIcon\";\r\n                } else if (node.container || node.type === 0){\r\n                    iconClass = \"icon csui-icon mime_folder\";\r\n                } else{\r\n                    iconClass = \"icon csui-icon mime_document\";\r\n                } \r\n            }\r\n            return iconClass;\r\n        }\r\n\r\n    });\r\n\r\n    return FolderView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/folder/impl/folders',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div id=\\\"folders-list\\\" style=\\\"padding-left: 22px\\\"></div>\\r\\n<div class=\\\"listItemFolder\\\"><a href=\\\"javascript:;\\\" id=\\\"moreLink\\\" class=\\\"moreLink\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showMoreFoldersTitle\") || (depth0 != null ? lookupProperty(depth0,\"showMoreFoldersTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showMoreFoldersTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":89},\"end\":{\"line\":3,\"column\":113}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":124},\"end\":{\"line\":3,\"column\":130}}}) : helper)))\n    + \"\\\"  tabindex=\\\"0\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showMoreLink\") || (depth0 != null ? lookupProperty(depth0,\"showMoreLink\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showMoreLink\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":146},\"end\":{\"line\":3,\"column\":162}}}) : helper)))\n    + \"</a></div>\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_folder_impl_folders', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/folder/folders.view',[\r\n    'csui/lib/underscore',\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n\r\n    'conws/widgets/outlook/impl/folder/impl/folders.model',\r\n    'conws/widgets/outlook/impl/folder/item.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'hbs!conws/widgets/outlook/impl/folder/impl/folders',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'\r\n], function (_, $, Marionette, Backbone, FoldersModel, ItemView, WkspUtil, lang, template) {\r\n    var foldersView = Marionette.CompositeView.extend({\r\n        className: 'folders-conwsoutlook',\r\n\r\n        template: template,\r\n\r\n        childView: ItemView,\r\n        \r\n        childViewContainer: '#folders-list',\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                id: this.id,\r\n                showMoreLink: lang.showMore_link,\r\n                showMoreFoldersTitle: lang.showMore_folders\r\n            };\r\n        },\r\n\r\n        events: {\r\n            'click #moreLink': 'retrieveNextPage'\r\n        },\r\n\r\n        initialize: function (options) {\r\n\r\n        },\r\n\r\n        constructor: function foldersView(options) {\r\n            options.model = new FoldersModel({}, options);\r\n            this.parentNode = options.parentNode;\r\n            this.id = options.id;\r\n            this.pageNo = options.pageNo;\r\n\r\n            Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n            this.listenTo(this.model, 'sync', this.renderFolders);\r\n            options.model.fetch();\r\n        },\r\n\r\n        retrieveNextPage: function (options) {\r\n            var targetId = $(options.currentTarget).data(\"id\");\r\n            if (targetId !== this.id) {\r\n                return;\r\n            }\r\n            var collection = this.model.get('collection'),\r\n                paging = collection ? collection.paging : null;\r\n            if (paging && paging.links && paging.links.data && paging.links.data.next && paging.links.data.next.href) {\r\n                this.model.nextPageUrl = paging.links.data.next.href;\r\n                this.model.fetch();\r\n            }\r\n        },\r\n\r\n        renderFolders: function (model, response, options) {\r\n            var self = this,\r\n                collection = model.get('collection'),\r\n                paging = collection ? collection.paging : null;\r\n\r\n            var isFirstPage = paging == null || paging.links == null || paging.links.data == null || paging.links.data.previous == null;\r\n            var values = model.get('results');\r\n\r\n            if (isFirstPage) {\r\n                self.parentNode.folderRetrieved = true;\r\n                self.parentNode.toggleStatus = WkspUtil.ToggleStatusCollapse;\r\n                self.parentNode.folderExpended = true;\r\n                if (values.length === 0) {\r\n                    self.parentNode.model.set(\"hasChild\", false);\r\n                } else {\r\n                    self.parentNode.model.set(\"hasChild\", true);\r\n                }\r\n            }\r\n\r\n            if (values.length !== 0 || !isFirstPage) {\r\n                if (self.collection == null) {\r\n                    self.collection = new Backbone.Collection(values);\r\n                    self.render();\r\n                } else {\r\n                    var origLength = self.collection.length; //original length before addition\r\n                    self.collection.add((new Backbone.Collection(values)).toJSON());\r\n                    self._addItems(self.collection.slice(origLength), origLength); //get latest added models   \r\n                }\r\n            }\r\n\r\n            self.$('.moreLink').each(function() {\r\n                var button = $(this);\r\n                if (button.data('id') === self.id) {\r\n                    if (paging && paging.links && paging.links.data && paging.links.data.next && paging.links.data.next.href) {\r\n                        button.css(\"display\", \"block\");\r\n                    } else {\r\n                        button.css(\"display\", \"none\");\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        _addItems: function (models, collIndex) {\r\n            var self = this,\r\n                ChildView;\r\n\r\n            _.each(models, function (model, index) {\r\n                ChildView = self.getChildView(model);\r\n                self._addChild(model, ChildView, collIndex + index);\r\n            });\r\n        },\r\n\r\n        _addChild: function (child, ChildView, index) {\r\n            return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n        }\r\n\r\n    });\r\n\r\n    return foldersView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/wksp/wksp.view',[\r\n    'csui/lib/underscore',\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/backbone',\r\n    'csui/lib/marionette',\r\n    'csui/utils/url',\r\n    'csui/dialogs/modal.alert/modal.alert',\r\n    'csui/utils/nodesprites',\r\n    'hbs!conws/widgets/outlook/impl/wksp/impl/wksp',\r\n    'conws/widgets/outlook/impl/folder/folders.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n    'conws/widgets/outlook/impl/dialog/saveSection.view',\r\n    'conws/widgets/outlook/impl/wksp/impl/wksp.model',\r\n    'conws/widgets/outlook/impl/utils/emailservice',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang'\r\n], function (_, $, Backbone, Marionette, Url, ModalAlert, NodeSprites, template, FoldersView, WkspUtil, CSService, SaveView, WkspModel, EmailService, lang) {\r\n\r\n    var WkspView = Marionette.LayoutView.extend({\r\n\r\n        className: 'ListItem', \r\n\r\n        template: template,\r\n\r\n        templateHelpers: function() {\r\n            return {\r\n                id: this.id,\r\n                name: this.name,\r\n                iconClass: this.getIconClass(),\r\n                typeName: this.typeName,\r\n                toggleStatus: this.hasChild && this.expendable ? WkspUtil.ToggleStatusExpand : WkspUtil.ToggleStatusEmpty,\r\n                openLinkTitle: lang.wksp_open_link,\r\n                linkToWS: this.accessUrl,\r\n                tabIndex: this.hasChild ? \"0\" : \"-1\",\r\n                saveTitle: this.isEdit? lang.insert_action : lang.title_save_email,\r\n                actionIcon: this.isEdit ? \"copyLink\" : \"emailSaveIcon\"\r\n            }\r\n        },\r\n\r\n        regions: {\r\n            subFolders: '#subFolders'\r\n        },\r\n\r\n        ui: {\r\n            $actionBar: '.wkspFolder-actiondiv',\r\n            $toggleIcon: '#toggleIcon',\r\n            $saveMenuItem: '#wkspSaveMenuItem',\r\n            $saveButton: '#saveEmailButton'\r\n        },\r\n\r\n        events: {\r\n            'click .listItemWksp': 'clickWksp',\r\n            'mouseenter #wkspItem': 'showActionBar',\r\n            'mouseleave #wkspItem': 'hideActionBar',\r\n            'click #saveEmailButton': 'saveEmail',\r\n            'focusin #saveEmailButton, #wkspOpenButton': 'buttonFocused',\r\n            'focusout #saveEmailButton, #wkspOpenButton, #wkspNameDiv': 'buttonFocusOut',\r\n            'keyup #toggleIcon, #wkspNameDiv, #saveEmailButton': 'processKeyUp',\r\n            'keydown #wkspNameDiv, #wkspOpenButton': 'processKeyDown'\r\n        },\r\n\r\n        initialize: function (options) {\r\n            this.listenTo(this.model, 'change', this.renderToggleIcon);\r\n        },\r\n\r\n        constructor: function WkspView(options) {\r\n            this.model = options.model;\r\n            var props = options.model.get('data').properties;\r\n            this.name = props.name;\r\n            this.id = props.id;\r\n            this.typeName = props.type_name;\r\n            this.type = props.type;\r\n\r\n            this.isEdit = (typeof props.isEdit !== 'undefined')? props.isEdit : false;\r\n            \r\n            // only workspaces are expendable\r\n            this.hasChild = props.container && props.size > 0 && props.type === 848;\r\n            this.connector = WkspUtil.getConnector(); \r\n            this.accessUrl = Url.combine((new Url(this.connector.connection.url)).getCgiScript(), 'app/nodes', this.id);\r\n\r\n            var enableEmailSaving = this.model.get('enableEmailSaving');\r\n            //if email saving is disabled do not expand workspaces\r\n            this.expendable = (enableEmailSaving !== undefined ? enableEmailSaving : true) && WkspUtil.emailSavingConfig.allowExpandWorkspace;            \r\n            \r\n            this.folderRetrieved = false;\r\n            this.folderExpended = false;\r\n\r\n            var self = this;\r\n\r\n            //update pre config folder only when email saving is enabled\r\n            if (!this.isEdit && (enableEmailSaving === undefined || enableEmailSaving)){\r\n                this.updateModelForPreConfigFolder(self);\r\n            } else if (this.isEdit){\r\n                setTimeout(function(){\r\n                    var saveMenuItem = self.ui.$saveMenuItem,\r\n                        saveButton = self.ui.$saveButton;\r\n                    saveMenuItem.css(\"display\", \"inline-block\");\r\n                    saveButton.attr(\"title\", lang.insert_action);\r\n                });\r\n            }\r\n\r\n            Marionette.LayoutView.prototype.constructor.call(this, options);\r\n        },\r\n\r\n        processKeyUp: function(e){\r\n            if ($(e.target).data(\"id\") !== this.id){\r\n                return;\r\n            }\r\n\r\n            if (e.which === 13 || e.which === 32) {\r\n                if (e.target.id === \"toggleIcon\"){\r\n                    this.clickWksp(e);\r\n                } \r\n                else if (e.target.id === \"saveEmailButton\"){\r\n                    this.saveEmail(e);\r\n                }\r\n            } else if (e.which === 9 && e.target.id === \"wkspNameDiv\"){\r\n                this.showActionBar(e);\r\n            }\r\n        },\r\n\r\n        processKeyDown: function(e){\r\n            if (e.which !== 9){\r\n                return;\r\n            }\r\n            if ((!e.shiftKey && e.target.id === \"wkspOpenButton\") ||\r\n                (e.shiftKey && e.target.id === \"wkspNameDiv\") ){\r\n                    this.hideActionBar(e);\r\n                }\r\n        },\r\n\r\n        buttonFocused: function(e){\r\n            if (e.target.id !== \"saveEmailButton\" && e.target.id !== \"wkspOpenButton\"){\r\n                return;\r\n            }\r\n            var div = e.target.querySelector(\"div\");\r\n            if (div !== null){\r\n                $(div).css(\"outline\", \"1px dotted grey\");\r\n                $(div).css(\"outline-offset\", \"2px\");\r\n            }\r\n        },\r\n\r\n        buttonFocusOut: function(e){\r\n            var self = this;\r\n            if (e.target.id === \"saveEmailButton\" || e.target.id === \"wkspOpenButton\" || e.target.id === \"wkspNameDiv\"){\r\n                setTimeout(function(e){\r\n                    var focusId = document.activeElement.id;\r\n                    if (focusId !== \"saveEmailButton\" && focusId !== \"wkspOpenButton\" && focusId !== \"wkspNameDiv\"){\r\n                        self.hideActionBar(e);\r\n                    }\r\n                }, 50);\r\n\r\n                if (e.target.id !== \"wkspNameDiv\") {\r\n                    var div = e.target.querySelector(\"div\");\r\n                    if (div !== null){\r\n                        $(div).css(\"outline\", \"\");\r\n                        $(div).css(\"outline-offset\", \"\");\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        clickWksp: function(event) {\r\n            if (event.target.id === \"saveEmailButton\" || event.target.id === \"wkspOpenButton\"){\r\n                return;\r\n            }\r\n\r\n            var self = this;\r\n\r\n            //do not expand it if it is disabled because enableEmailSaving flag is false\r\n            if (!self.expendable){\r\n                return;\r\n            }\r\n\r\n            if (!self.expendable || !self.hasChild) {\r\n                return;\r\n            }\r\n\r\n            var toToggle = $(event.target).data(\"id\");\r\n            if (toToggle && toToggle === \"noToggle\") {\r\n                return;\r\n            }\r\n\r\n            if (!self.folderRetrieved) {\r\n                var foldersView = new FoldersView({\r\n                    connector: this.connector,\r\n                    id: self.id,\r\n                    parentNode: self,\r\n                    pageSize: WkspUtil.pageSize,\r\n                    pageNo: 1,\r\n                    isEdit: this.isEdit\r\n                });\r\n                self.getRegion('subFolders').show(foldersView);\r\n                //toggle icon and the flags are set in the FoldersView\r\n            } else if (self.folderExpended) {\r\n                self.getRegion('subFolders').$el.hide();\r\n                self.folderExpended = false;\r\n                self.toggleStatus = WkspUtil.ToggleStatusExpand;\r\n            } else {\r\n                self.getRegion('subFolders').$el.show();\r\n                self.folderExpended = true;\r\n                self.toggleStatus = WkspUtil.ToggleStatusCollapse;\r\n            }\r\n\r\n            var toggleIcon = this.ui.$toggleIcon;\r\n            toggleIcon.attr('class', self.toggleStatus);\r\n        },\r\n\r\n        saveEmail: function(event) {\r\n            var self = this;\r\n            var targetId = $(event.currentTarget).data(\"id\");\r\n            if (targetId !== self.id) {\r\n                return;\r\n            }\r\n\r\n            if (self.isEdit){\r\n                return self.insertLink(event);\r\n            }\r\n\r\n            if (window.CurrentEmailItem == null) {\r\n                ModalAlert.showWarning(lang.warning_no_outlook_context);\r\n                return;\r\n            }\r\n\r\n            var folderId = self.saveFolderId,\r\n                folderName = self.saveFolderName,\r\n                connector = self.connector,\r\n                emailItem = window.CurrentEmailItem;\r\n            \r\n            WkspUtil.ScorllPositionBeforeSaving = window.pageYOffset;\r\n            \r\n            var saveRegion = new Marionette.Region({\r\n                    el: '#savePanel'\r\n            });\r\n            var saveEmailView = new SaveView({\r\n                connector: connector, \r\n                folderId: folderId,\r\n                folderName: folderName,\r\n                proposedEmailName: emailItem.subject,\r\n                attachments: emailItem.archivableAttachments\r\n            });\r\n            saveRegion.show(saveEmailView);\r\n\r\n            $(\"#conwsoutlook-body\").focus();\r\n        },\r\n\r\n        insertLink: function(event){\r\n            var self = this;\r\n\r\n            var insertPromise = EmailService.insertLink(self.name, self.accessUrl);\r\n            insertPromise.fail(function (error) {\r\n                ModalAlert.showWarning(error.message);\r\n                return;\r\n            });\r\n            insertPromise.done(function(){\r\n                return;\r\n            });\r\n        },\r\n\r\n        keyEnterWksp: function(event) {\r\n            if (event.keyCode === 13 || event.keyCode === 27) {\r\n                this.$(\".listItemWkspName\").trigger('click');\r\n            }\r\n        },\r\n\r\n        showActionBar: function () {\r\n            var bar = this.ui.$actionBar;\r\n            bar.css(\"display\", \"block\");\r\n            setTimeout(function () {\r\n                bar.addClass(\"binf-in\");\r\n            }, 300);\r\n        },\r\n\r\n        hideActionBar: function () {\r\n            var bar = this.ui.$actionBar;\r\n            bar.css(\"display\", \"none\");\r\n            bar.removeClass(\"binf-in\");\r\n        },\r\n\r\n        renderToggleIcon: function () {\r\n            this.hasChild = this.model.get('hasChild');\r\n            var toggleIcon = this.ui.$toggleIcon;\r\n            if (!this.hasChild || !this.expendable) {\r\n                this.toggleStatus = WkspUtil.ToggleStatusEmpty;\r\n            }\r\n\r\n            toggleIcon.attr('class', this.toggleStatus);\r\n            var tabIndex = this.toggleStatus === WkspUtil.ToggleStatusEmpty ? \"-1\" : \"0\";\r\n            toggleIcon.attr('tabindex', tabIndex);\r\n            if (tabIndex === \"-1\"){\r\n                $(\"#conwsoutlook-body\").focus();\r\n            }\r\n        },\r\n\r\n        updateModelForPreConfigFolder: function (self) {\r\n            if (!WkspUtil.emailSavingConfig.preConfigFolderToSave.enabled) {\r\n                return;\r\n            }\r\n\r\n            var wkspModel = new WkspModel({ id: self.id }, {connector: self.connector});\r\n\r\n            var fetchPromise = wkspModel.getPreConfigFolder();\r\n            fetchPromise.done(function (result) {\r\n                var saveMenuItem = self.ui.$saveMenuItem,\r\n                    saveButton = self.ui.$saveButton;\r\n                    \r\n                if (result.hasPreConfigFolder) {\r\n                    //self.model.set(\"preConfigFolder\", { folderId: result.folderId, folderName: result.folderName });\r\n                    self.saveFolderId = result.folderId;\r\n                    self.saveFolderName = result.folderName;\r\n                    saveMenuItem.css(\"display\", \"inline-block\");\r\n                    saveButton.attr(\"title\", lang.title_save_email_to + result.folderName);\r\n                } else {\r\n                    saveMenuItem.css(\"display\", \"none\");\r\n                }\r\n            });\r\n        },\r\n\r\n        getIconClass: function() {\r\n            var self = this,\r\n                atts = self.model.attributes,\r\n                node = {type: self.type};\r\n            if (atts != null && atts.data != null && atts.data.properties != null) {\r\n                node = atts.data.properties;\r\n            }\r\n\r\n            var iconClass = \"\";\r\n            try {\r\n                iconClass = \"icon \" + NodeSprites.findClassByNode(node);\r\n            } catch(err){\r\n                iconClass = \"icon csui-icon mime_folder\";\r\n            }\r\n            return iconClass;\r\n        }\r\n    });\r\n\r\n    return WkspView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/recentwksps/impl/recentwksps',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"binf-panel-heading outlook-heading\\\">\\r\\n    <span class=\\\"headerIcon sectionToggleIcon\\\" id=\\\"recentToggleIcon\\\" tabindex=\\\"0\\\"></span>\\r\\n    <span >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"sectionTitle\") || (depth0 != null ? lookupProperty(depth0,\"sectionTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"sectionTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":11},\"end\":{\"line\":4,\"column\":27}}}) : helper)))\n    + \"</span> <span id=\\\"recentCount\\\"></span>\\r\\n</div>\\r\\n<div id=\\\"recentSection\\\">\\r\\n    <div id=\\\"recent-list\\\" class=\\\"\\\"></div>\\r\\n    <div class=\\\"listItemWksp\\\"><a href=\\\"javascript:;\\\" id=\\\"moreRecentWksp\\\" class=\\\"moreLinkWksp\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showMoreWkspTitle\") || (depth0 != null ? lookupProperty(depth0,\"showMoreWkspTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showMoreWkspTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":101},\"end\":{\"line\":8,\"column\":122}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showMoreLink\") || (depth0 != null ? lookupProperty(depth0,\"showMoreLink\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showMoreLink\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":137},\"end\":{\"line\":8,\"column\":153}}}) : helper)))\n    + \"</a></div>\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"recentWkspMsgArea\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_recentwksps_impl_recentwksps', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/recentwksps/recentwksps.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n\r\n    'conws/widgets/outlook/impl/recentwksps/impl/recentwksps.model.factory',\r\n    'conws/widgets/outlook/impl/wksp/wksp.view',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',      \r\n    'hbs!conws/widgets/outlook/impl/recentwksps/impl/recentwksps',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'\r\n], function ($, _, Marionette, Backbone, recentwkspsModelFactory, WkspView, lang, template, WkspUtil) {\r\n  var recentwkspsView = Marionette.CompositeView.extend({\r\n    className: 'recentWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#recent-list',\r\n\r\n    templateHelpers: function() {\r\n        return {\r\n            sectionTitle: lang.sectionTitle_recent,\r\n            showMoreLink: lang.showMore_link,\r\n            showMoreWkspTitle: lang.showMore_wksp\r\n        }\r\n    },\r\n\r\n    events: {\r\n        'click #moreRecentWksp': 'retrieveNextPage',\r\n        'click #recentToggleIcon': 'toggleIconClicked',\r\n        'keyup' : 'processKey'\r\n    },\r\n\r\n    constructor: function recentwkspsView(options) {\r\n        options.model = options.context.getModel(recentwkspsModelFactory);\r\n\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        this.listenTo(this.model, 'change', this.renderWksps);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n    },\r\n\r\n    renderWksps: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this,\r\n            values = model.get('results'),\r\n            paging = model.get('paging');\r\n\r\n        var isFirstPage = paging == null || paging.actions == null || paging.actions.previous;\r\n\r\n        if (values.length === 0 && isFirstPage) {\r\n            if (paging && paging.page === 1) {\r\n                self.renderMessage(lang.noWksp_recent);\r\n                $(\"#recentToggleIcon\").trigger('click');\r\n            }\r\n        } else {\r\n            if (self.collection == null) {\r\n                self.collection = new Backbone.Collection(values);\r\n                self.render();\r\n            } else {\r\n                var origLength = self.collection.length; //original length before addition\r\n                self.collection.add((new Backbone.Collection(values)).toJSON());\r\n                self._addItems(self.collection.slice(origLength), origLength); //get latest added models\r\n            }\r\n        }\r\n        $(\"#recentCount\").html(\"(\" + paging.total_count + \")\");\r\n\r\n        var nextButton = self.$('#moreRecentWksp');\r\n        if (paging && paging.actions && paging.actions.next && paging.actions.next.href) {\r\n            nextButton.css(\"display\", \"block\");\r\n        } else {\r\n            nextButton.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    retrieveNextPage: function (options) {\r\n        var paging = this.model.get(\"paging\");\r\n        if (paging && paging.actions && paging.actions.next && paging.actions.next.href) {\r\n            WkspUtil.startGlobalSpinner();\r\n            this.model.nextPageUrl = paging.actions.next.href;\r\n            this.model.fetch();\r\n        }\r\n    },\r\n\r\n    _addItems: function (models, collIndex) {\r\n        var self = this,\r\n            ChildView;\r\n\r\n        _.each(models, function (model, index) {\r\n            ChildView = self.getChildView(model);\r\n            self._addChild(model, ChildView, collIndex + index);\r\n        });\r\n    },\r\n\r\n    _addChild: function (child, ChildView, index) {\r\n        return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(_.str.sformat(lang.error_retrieve_recent, msg));\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#recentWkspMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    processKey: function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"recentToggleIcon\"){\r\n                this.toggleIconClicked(e);\r\n            } \r\n        }\r\n    },\r\n\r\n    toggleIconClicked: function(args){\r\n        WkspUtil.collapsibleClicked(\"recent\");\r\n    }\r\n\r\n  });\r\n\r\n  return recentwkspsView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/favoritewksps/impl/favoritewksps',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"binf-panel-heading outlook-heading\\\">\\r\\n    <span class=\\\"headerIcon sectionToggleIcon\\\" id=\\\"favoriteToggleIcon\\\" tabindex=\\\"0\\\"></span>\\r\\n    <span >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"sectionTitle\") || (depth0 != null ? lookupProperty(depth0,\"sectionTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"sectionTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":11},\"end\":{\"line\":3,\"column\":27}}}) : helper)))\n    + \"</span> <span id=\\\"favoriteCount\\\"></span>\\r\\n</div>\\r\\n<div id=\\\"favoriteSection\\\">\\r\\n    <div id=\\\"favorite-list\\\" class=\\\"panel panel-default\\\"></div>\\r\\n    <div class=\\\"listItemWksp\\\"><a href=\\\"javascript:;\\\" id=\\\"moreFavoriteWksp\\\" class=\\\"moreLinkWksp\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showMoreWkspTitle\") || (depth0 != null ? lookupProperty(depth0,\"showMoreWkspTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showMoreWkspTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":103},\"end\":{\"line\":7,\"column\":124}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showMoreLink\") || (depth0 != null ? lookupProperty(depth0,\"showMoreLink\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showMoreLink\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":139},\"end\":{\"line\":7,\"column\":155}}}) : helper)))\n    + \"</a></div>\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"recentWkspMsgArea\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_favoritewksps_impl_favoritewksps', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\r\ncsui.define('conws/widgets/outlook/impl/favoritewksps/favoritewksps.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n\r\n    'conws/widgets/outlook/impl/favoritewksps/impl/favoritewksps.model.factory',\r\n    'conws/widgets/outlook/impl/wksp/wksp.view',\r\n    'conws/widgets/outlook/impl/wksp/impl/wksp.model',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/favoritewksps/impl/favoritewksps',\r\n   'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, favoritewkspsModelFactory, WkspView, WkspModel, WkspUtil, lang, template) {\r\n  var favoritewkspsView = Marionette.CompositeView.extend({\r\n\r\n    className: 'favoriteWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#favorite-list',\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            sectionTitle: lang.sectionTitle_favorite,\r\n            showMoreLink: lang.showMore_link,\r\n            showMoreWkspTitle: lang.showMore_wksp\r\n        }\r\n    },\r\n\r\n    events: {\r\n        'click #moreFavoriteWksp': 'retrieveNextPage',\r\n        'click #favoriteToggleIcon': 'toggleIconClicked',\r\n        'keyup' : 'processKey'\r\n    },\r\n\r\n    initialize: function(options) {\r\n\r\n    },\r\n\r\n    constructor: function favoritewkspsView(options) {\r\n        options.model = options.context.getModel(favoritewkspsModelFactory);\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        this.pageIndex = 0;\r\n        this.pageSize = WkspUtil.pageSize;\r\n\r\n        this.listenTo(this.model, 'change', this.renderWksps);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n    },\r\n\r\n    renderWksps: function (model, response, options) {\r\n        var self = this;\r\n        var values = model.get('results'),\r\n            totalCount = values.length;\r\n\r\n        if (totalCount === 0) {\r\n            self.renderMessage(lang.noWksp_favorite);\r\n            $(\"#favoriteToggleIcon\").trigger('click');\r\n        } else {\r\n            var end;\r\n            if (self.pageIndex === 0){\r\n                end = totalCount > self.pageSize ? self.pageSize : totalCount;\r\n                self.collection = new Backbone.Collection(values.slice(0, end));\r\n                self.render();\r\n            } else {\r\n                var start = self.pageIndex * self.pageSize,\r\n                    fullPageCount = (self.pageIndex + 1) * self.pageSize,\r\n                    origLength = self.collection.length; //original length before addition;\r\n                \r\n                end = totalCount > fullPageCount ? fullPageCount : totalCount,\r\n\r\n                self.collection.add((new Backbone.Collection(values.slice(start, end))).toJSON());\r\n                self._addItems(self.collection.slice(origLength), origLength); //get latest added models    \r\n            }\r\n        }\r\n\r\n        $(\"#favoriteCount\").html(\"(\" + totalCount + \")\");\r\n        \r\n        var nextButton = self.$('#moreFavoriteWksp'),\r\n            display = (self.pageIndex + 1) * self.pageSize < totalCount ? \"block\" : \"none\"; \r\n        nextButton.css(\"display\", display);\r\n    },\r\n\r\n    retrieveNextPage: function (options) {\r\n        var self = this;\r\n        self.pageIndex++;\r\n        self.renderWksps(self.model);\r\n    },\r\n\r\n    _addItems: function (models, collIndex) {\r\n        var self = this,\r\n            ChildView;\r\n\r\n        _.each(models, function (model, index) {\r\n            ChildView = self.getChildView(model);\r\n            self._addChild(model, ChildView, collIndex + index);\r\n        });\r\n    },\r\n\r\n    _addChild: function (child, ChildView, index) {\r\n        return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(_.str.sformat(lang.error_retrieve_favorite, msg));\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#recentWkspMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    processKey: function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"favoriteToggleIcon\"){\r\n                this.toggleIconClicked(e);\r\n            } \r\n        }\r\n    },\r\n\r\n    toggleIconClicked: function(args){\r\n        WkspUtil.collapsibleClicked(\"favorite\");\r\n    }\r\n\r\n  });\r\n\r\n  return favoritewkspsView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/searchwksps/impl/searchresult',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div id=\\\"searchresult-list\\\" ></div>\\r\\n<div class=\\\"listItemWksp\\\"><a href=\\\"javascript:;\\\" id=\\\"moreSearchWksp\\\" class=\\\"moreLinkWksp\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showMoreWkspTitle\") || (depth0 != null ? lookupProperty(depth0,\"showMoreWkspTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showMoreWkspTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":97},\"end\":{\"line\":3,\"column\":118}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"showMoreLink\") || (depth0 != null ? lookupProperty(depth0,\"showMoreLink\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"showMoreLink\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":133},\"end\":{\"line\":3,\"column\":149}}}) : helper)))\n    + \"</a></div>\\r\\n<div class=\\\"wkspMessageArea\\\" id=\\\"searchResultMsgArea\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_searchwksps_impl_searchresult', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('conws/widgets/outlook/impl/searchwksps/searchresult.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette',                             \r\n    'csui/lib/backbone',\r\n\r\n    'conws/widgets/outlook/impl/searchwksps/impl/searchresult.model', \r\n    'conws/widgets/outlook/impl/wksp/wksp.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/searchresult',        \r\n    'css!conws/widgets/outlook/impl/conwsoutlook'       \r\n], function ($, _, Marionette, Backbone, SearchResultModel, WkspView, WkspUtil, lang, template) {\r\n\r\n    var searchresultView = Marionette.CompositeView.extend({\r\n\r\n    className: 'wksp-srch-results',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#searchresult-list',\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            showMoreLink: lang.showMore_link,\r\n            showMoreWkspTitle: lang.showMore_wksp\r\n        }\r\n    },\r\n\r\n    ui: {\r\n        srchResultMessage: '#searchResultMsgArea',\r\n        srchResultList: '#searchresult-list'\r\n    },\r\n\r\n    events: {\r\n        'click #moreSearchWksp': 'retrieveNextPage'\r\n    },\r\n\r\n    initialize: function(options) {\r\n        //var wksps = options.model.get('results');\r\n        //this.collection = new Backbone.Collection(wksps);\r\n    },\r\n\r\n    constructor: function searchresultView(options) {\r\n        options.model = new SearchResultModel({}, options);\r\n        this.enableEmailSaving = options.enableEmailSaving;\r\n\r\n        this.typeAhead = options.typeAhead;\r\n        this.wkspName = options.wkspName;\r\n        this.pageNo = options.pageNo;\r\n        \r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        this.listenTo(this.model, 'change', this.renderWksps);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n        options.model.fetch();    \r\n    },\r\n\r\n    retrieveNextPage: function (options) {\r\n        var paging = this.model.get(\"paging\"),\r\n            pagingLinks = null;\r\n\r\n        if (paging){\r\n            pagingLinks = paging.actions;\r\n        } else{\r\n            var collectionResponse = this.model.get('collection');\r\n            if (collectionResponse && collectionResponse.paging){\r\n                paging = collectionResponse.paging;\r\n                if (paging){\r\n                    pagingLinks = paging.links;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (paging && pagingLinks && pagingLinks.next && pagingLinks.next.href) {\r\n            WkspUtil.startGlobalSpinner();\r\n            this.model.nextPageUrl = pagingLinks.next.href;\r\n            this.model.fetch();\r\n        }\r\n    },\r\n\r\n    renderWksps: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this,\r\n            paging = model.get('paging'),\r\n            pagingLinks = null;\r\n\r\n        if (paging){\r\n            pagingLinks = paging.actions;\r\n        } else{\r\n             \r\n            var collectionResponse = model.get('collection');\r\n            if (collectionResponse && collectionResponse.paging){\r\n                paging = collectionResponse.paging;\r\n                if (paging){\r\n                    pagingLinks = paging.links;\r\n                }\r\n            }\r\n        }\r\n\r\n        var isFirstPage = paging == null || pagingLinks == null || pagingLinks.previous;\r\n        var values = model.get('results');\r\n        //append enableEmailSaving flag to the collection\r\n        _.each(values, function (value){\r\n            value.enableEmailSaving = self.enableEmailSaving;\r\n        });\r\n\r\n        if (values.length === 0 && isFirstPage) {\r\n            if (self.pageNo === 1) {\r\n                self.renderMessage(lang.noWksp_search);\r\n            }\r\n        } else {\r\n            if (self.collection == null) {\r\n                self.collection = new Backbone.Collection(values);\r\n                self.render();\r\n            } else {\r\n                var origLength = self.collection.length; //original length before addition\r\n                self.collection.add((new Backbone.Collection(values)).toJSON());\r\n                self._addItems(self.collection.slice(origLength), origLength); //get latest added models\r\n            }\r\n            if (self.typeAhead) {\r\n                self.highlight(self, self.wkspName);\r\n            }\r\n        }\r\n\r\n        var nextButton = self.$('#moreSearchWksp');\r\n        if (pagingLinks && pagingLinks.next && pagingLinks.next.href) {\r\n            nextButton.css(\"display\", \"block\");\r\n        } else {\r\n            nextButton.css(\"display\", \"none\");\r\n        }\r\n\r\n    },\r\n\r\n    _addItems: function (models, collIndex) {\r\n        var self = this,\r\n            ChildView;\r\n\r\n        _.each(models, function (model, index) {\r\n            ChildView = self.getChildView(model);\r\n            self._addChild(model, ChildView, collIndex + index);\r\n        });\r\n    },\r\n\r\n    _addChild: function (child, ChildView, index) {\r\n        return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n    },\r\n\r\n    highlight: function(view, name) {\r\n        if (name){\r\n            var nameString = name.replace(/^\\W+/g, \"\");\r\n            var regex = RegExp(nameString, 'gi'),\r\n                replacement = \"<u style='font-weight: bold'>$&</u>\"; // need to use inline style, otherwise it will be overridden. \r\n            view.$('div.listItemWkspName').each(function() {\r\n                $(this).html($(this).html().replace(regex, replacement));\r\n            });\r\n        }\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(_.str.sformat(lang.error_retrieve_search, msg));\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;        \r\n\r\n        if (msg) {\r\n            //show message\r\n            self.ui.srchResultMessage.text(msg);\r\n            self.ui.srchResultMessage.css(\"display\", \"block\");\r\n            //hide search results div\r\n            self.ui.srchResultList.css(\"display\", \"none\");\r\n        } else {\r\n             self.ui.srchResultMessage.css(\"display\", \"none\");\r\n             //show search results div\r\n            self.ui.srchResultList.css(\"display\", \"block\");\r\n        }\r\n    }\r\n  });\r\n\r\n  return searchresultView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/searchwksps/simplesearch.view',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/handlebars',\r\n    'csui/lib/marionette',\r\n    'csui/lib/jquery',\r\n    'csui/widgets/search.custom/search.custom.view',\r\n\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang'\r\n], function(_, Handlebars, Marionette, $, CustomSearchWidgetView, WkspUtil, lang) {\r\n\r\n    var simpleSearchView = CustomSearchWidgetView.extend({\r\n        constructor: function simpleSearchView(options) {\r\n            options || (options = {});\r\n\r\n            CustomSearchWidgetView.prototype.constructor.call(this, options);\r\n\r\n            this.context = options.context;\r\n            this.options = options;\r\n            this.options.parentView = this;\r\n            this.contentViewOptions = this.options;\r\n\r\n            WkspUtil.startGlobalSpinner();\r\n        },\r\n        initialize: function () {\r\n            _.bindAll(this, 'render', 'afterRender');\r\n            var self = this;\r\n            this.render = _.wrap(this.render, function (render) {\r\n                render();\r\n                self.afterRender();\r\n                return self;\r\n            }); \r\n        },\r\n\r\n        afterRender: function () {\r\n            this.verifyForm();\r\n        },\r\n\r\n        verifyForm: function() {\r\n            setTimeout(function checking() {\r\n                var att = $(\".customsearch-attr-container\");\r\n                if (att.length === 0) {\r\n                    setTimeout(checking, 100);\r\n                } else {\r\n                    WkspUtil.stopGlobalSpinner();\r\n\r\n                    var occupied = (WkspUtil.SearchFormBottomPadding + WkspUtil.TraceAreaHeight) + \"px\";\r\n                    $(\".tile-content\").css(\"height\", \"calc(100vh - \" + occupied +\")\");\r\n                }\r\n            }, 20);\r\n        }\r\n\r\n\r\n    });\r\n    return simpleSearchView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/searchwksps/impl/wksptype',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<option value=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"value\") || (depth0 != null ? lookupProperty(depth0,\"value\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"value\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":15},\"end\":{\"line\":1,\"column\":24}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":26},\"end\":{\"line\":1,\"column\":34}}}) : helper)))\n    + \"</option>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_searchwksps_impl_wksptype', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/searchwksps/wksptypes.view',[\r\n    'csui/lib/underscore',\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/backbone',\r\n    'csui/lib/marionette',\r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/wksptype' \r\n], function (_, $, Backbone, Marionette, template) {\r\n\r\n    var WkspTypesView = Marionette.LayoutView.extend({\r\n        tagName: 'option',\r\n\r\n        template: template,\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                value: this.id,\r\n                name: this.name\r\n            }\r\n        },\r\n\r\n        initialize: function (options) {\r\n            var wkspTypes = options.model.get('results');\r\n            this.collection = new Backbone.Collection(wkspTypes);\r\n        },\r\n\r\n        constructor: function WkspTypesView(options) {\r\n            this.model = options.model;\r\n            this.name = options.model.get('data').properties.wksp_type_name;\r\n            this.id = options.model.get('data').properties.wksp_type_id;\r\n\r\n            Marionette.LayoutView.prototype.constructor.call(this, options);\r\n        },\r\n\r\n        onRender: function () {\r\n            // Get rid of that pesky wrapping-div.\r\n            // Assumes 1 child element present in template.\r\n            this.$el = this.$el.children();\r\n            // Unwrap the element to prevent infinitely \r\n            // nesting elements during re-render.\r\n            this.$el.unwrap();\r\n            this.setElement(this.$el);\r\n        }\r\n    });\r\n\r\n    return WkspTypesView;\r\n\r\n});\n","csui.define('conws/widgets/outlook/impl/searchwksps/impl/simplesearchresult.model',[\r\n    'csui/lib/backbone',   \r\n    'csui/utils/url',      \r\n    'conws/widgets/outlook/impl/utils/utility'\r\n], function (Backbone, Url, WkspUtil) {\r\n\r\n    var simpleSearchresultModel = Backbone.Model.extend({\r\n\r\n        defaults: {\r\n            name: 'Unnamed'\r\n        },\r\n\r\n        constructor: function searchresultModel(attributes, options) {\r\n            Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n            if (options && options.context.connector) {\r\n                options.context.connector.assignTo(this);\r\n\r\n                this.pageSize = options.pageSize;\r\n                this.pageNo = options.pageNo;\r\n                this.isEdit = options.isEdit;\r\n\r\n                this.nextPageUrl = \"\";\r\n                this.query = options.query;\r\n            }\r\n        },\r\n\r\n        url: function() {\r\n            var url = WkspUtil.v1ToV2(this.connector.connection.url),\r\n                query = this.query.toJSON(),\r\n                cacheId = \"\",\r\n                pagingString = \"\";\r\n\r\n            if (this.nextPageUrl) {\r\n                this.pageNo++;\r\n                var regEx = /cache_id=\\d+/g;\r\n                var cacheIdEx = regEx.exec(this.nextPageUrl);\r\n                cacheId = cacheIdEx.length > 0 ? cacheIdEx[0] : \"\";\r\n            }\r\n\r\n            pagingString = 'page=' + this.pageNo + '&limit=' + this.pageSize;\r\n            query = Url.combineQueryString(query, pagingString, cacheId);\r\n\r\n            return Url.combine(url, 'search?' + query);\r\n\r\n        },\r\n\r\n        parse: function (response) {\r\n            if (this.isEdit){\r\n                if (response && response.results && response.results.length > 0) {\r\n                    for (var i = response.results.length-1; i >= 0; i--) {\r\n                        response.results[i].data.properties.isEdit = true;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return response;\r\n        }\r\n\r\n    });\r\n\r\n    return simpleSearchresultModel;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/searchwksps/simplesearchresult.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n\r\n    'csui/utils/contexts/factories/search.query.factory',\r\n    'csui/utils/contexts/factories/search.results.factory',\r\n\r\n    'conws/widgets/outlook/impl/searchwksps/impl/simplesearchresult.model', \r\n\r\n    'conws/widgets/outlook/impl/wksp/wksp.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/searchresult',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'       \r\n], function ($, _, Marionette, Backbone, SearchQueryModelFactory,\r\n    SearchResultsCollectionFactory, SimpleSearchResultModel, WkspView, WkspUtil, lang, template) {\r\n\r\n  var simpleSearchresultView = Marionette.CompositeView.extend({\r\n\r\n    className: 'wksp-srch-results',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#searchresult-list',\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            showMoreLink: lang.showMore_link,\r\n            showMoreWkspTitle: lang.showMore_wksp\r\n        }\r\n    },\r\n\r\n    ui: {\r\n        srchResultMessage: '#searchResultMsgArea',\r\n        srchResultList: '#searchresult-list'\r\n    },\r\n\r\n    events: {\r\n        'click #moreSearchWksp': 'retrieveNextPage'\r\n    },\r\n\r\n    constructor: function simpleSearchresultView(options) {\r\n\r\n        this.enableEmailSaving = options.enableEmailSaving;\r\n        this.pageNo = options.pageNo;\r\n        this.pageSize = options.pageSize;\r\n        this.context = options.context;\r\n\r\n        if (!options.query) {\r\n            options.query = this.context.getModel(SearchQueryModelFactory);\r\n        }\r\n\r\n        options.model = new SimpleSearchResultModel({}, options);\r\n        this.model = options.model;\r\n\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        // Whenever properties of the model change, re-render the view\r\n        this.listenTo(this.model, 'change', this.renderWksps);\r\n        //this.listenTo(this.model, 'sync', this.renderWksps);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n\r\n        this.model.fetch();\r\n    },\r\n\r\n    retrieveNextPage: function (options) {\r\n        var collection = this.model.get('collection');\r\n        var paging = collection.paging == null ? null : collection.paging;\r\n        if (paging && paging.links && paging.links.next && paging.links.next.href) {\r\n            WkspUtil.startGlobalSpinner();\r\n            this.model.nextPageUrl = paging.links.next.href;\r\n            this.model.fetch();\r\n        }\r\n    },\r\n\r\n    renderWksps: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this,\r\n            collection = model.get('collection');\r\n        var paging = collection.paging == null ? null : collection.paging;\r\n        var isFirstPage = paging == null || paging.actions == null || paging.actions.previous;\r\n        var values = model.get('results');\r\n        //append enableEmailSaving flag to the collection\r\n        _.each(values, function (value){\r\n            value.enableEmailSaving = self.enableEmailSaving;\r\n        });\r\n\r\n        if (values.length === 0 && isFirstPage) {\r\n            if (self.pageNo === 1) {\r\n                self.renderMessage(lang.noWksp_search);\r\n            }\r\n        } else {\r\n            if (self.collection == null) {\r\n                self.collection = new Backbone.Collection(values);\r\n                self.render();\r\n            } else {\r\n                var origLength = self.collection.length; //original length before addition\r\n                self.collection.add((new Backbone.Collection(values)).toJSON());\r\n                self._addItems(self.collection.slice(origLength), origLength); //get latest added models\r\n            }\r\n        }\r\n\r\n        var nextButton = self.$('#moreSearchWksp');\r\n        if (paging && paging.links && paging.links.next && paging.links.next.href) {\r\n            nextButton.css(\"display\", \"block\");\r\n        } else {\r\n            nextButton.css(\"display\", \"none\");\r\n        }\r\n\r\n    },\r\n\r\n    _addItems: function (models, collIndex) {\r\n        var self = this,\r\n            ChildView;\r\n\r\n        _.each(models, function (model, index) {\r\n            ChildView = self.getChildView(model);\r\n            self._addChild(model, ChildView, collIndex + index);\r\n        });\r\n    },\r\n\r\n    _addChild: function (child, ChildView, index) {\r\n        return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(_.str.sformat(lang.error_retrieve_search, msg));\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;        \r\n\r\n        if (msg) {\r\n            //show message\r\n            self.ui.srchResultMessage.text(msg);\r\n            self.ui.srchResultMessage.css(\"display\", \"block\");\r\n            //hide search results div\r\n            self.ui.srchResultList.css(\"display\", \"none\");\r\n        } else {\r\n             self.ui.srchResultMessage.css(\"display\", \"none\");\r\n             //show search results div\r\n            self.ui.srchResultList.css(\"display\", \"block\");\r\n        }\r\n    }\r\n  });\r\n\r\n  return simpleSearchresultView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/searchwksps/impl/searchwksps',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"binf-panel-heading outlook-heading\\\" >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"sectionTitle\") || (depth0 != null ? lookupProperty(depth0,\"sectionTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"sectionTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":49},\"end\":{\"line\":2,\"column\":65}}}) : helper)))\n    + \" \\r\\n    <!--<img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"serverOrigin\") || (depth0 != null ? lookupProperty(depth0,\"serverOrigin\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"serverOrigin\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":18},\"end\":{\"line\":3,\"column\":34}}}) : helper)))\n    + \"/\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"supportFolder\") || (depth0 != null ? lookupProperty(depth0,\"supportFolder\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"supportFolder\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":35},\"end\":{\"line\":3,\"column\":52}}}) : helper)))\n    + \"/csui/themes/carbonfiber/image/icons/help_mo.svg\\\" class=\\\"wkspHelpIcon\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"helpTooltip\") || (depth0 != null ? lookupProperty(depth0,\"helpTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"helpTooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":130},\"end\":{\"line\":3,\"column\":145}}}) : helper)))\n    + \"\\\" />-->\\r\\n</div>\\r\\n<div class=\\\"wkspSearch\\\">\\r\\n    <div class=\\\"wkspSearchInputName\\\">\\r\\n        <table class=\\\"wkspNameBox\\\">\\r\\n            <tr>\\r\\n                <td class=\\\"wkspInputWithClear\\\">\\r\\n                    <input class=\\\"wkspInput wkspSearchInput wkspSearchName\\\" id=\\\"wkspName\\\" type=\\\"search\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"wkspNamePlaceholder\") || (depth0 != null ? lookupProperty(depth0,\"wkspNamePlaceholder\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"wkspNamePlaceholder\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":116},\"end\":{\"line\":10,\"column\":139}}}) : helper)))\n    + \"\\\" placeholder=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"wkspNamePlaceholder\") || (depth0 != null ? lookupProperty(depth0,\"wkspNamePlaceholder\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"wkspNamePlaceholder\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":154},\"end\":{\"line\":10,\"column\":177}}}) : helper)))\n    + \"\\\" />\\r\\n                    <span class=\\\"searchClear wkspIcon\\\" id=\\\"searchClearButton\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"searchClearTooltip\") || (depth0 != null ? lookupProperty(depth0,\"searchClearTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"searchClearTooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":11,\"column\":85},\"end\":{\"line\":11,\"column\":107}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n                </td>\\r\\n                <td class=\\\"wkspSearchButton\\\">\\r\\n                    <span id=\\\"wkspTypeButton\\\" class=\\\"wkspIcon searchTypeIcon\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"selectWkspType\") || (depth0 != null ? lookupProperty(depth0,\"selectWkspType\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"selectWkspType\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":85},\"end\":{\"line\":14,\"column\":103}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n                    <table class=\\\"wkspTypeDropdownTable\\\"><tr>\\r\\n                        <td>\\r\\n                            <div id=\\\"typeDropdown\\\" class=\\\"wkspTypeDropdown saveDisplayArea hiddenArea\\\"></div>\\r\\n                        </td>\\r\\n                    </tr></table>\\r\\n                </td>\\r\\n                <td class=\\\"wkspSearchButton\\\">\\r\\n                    <span id=\\\"searchButton\\\" class=\\\"wkspIcon searchIcon\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"searchTooltip\") || (depth0 != null ? lookupProperty(depth0,\"searchTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"searchTooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":22,\"column\":79},\"end\":{\"line\":22,\"column\":96}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n                </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td colspan=\\\"3\\\">\\r\\n                    <div id=\\\"wkspTypeMsg\\\" class=\\\"wkspTypeMsg hiddenArea\\\"></div>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"binf-panel-heading outlook-heading hiddenArea\\\" id=\\\"searchResultHeading\\\">\\r\\n    <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"searchResultBackButton\\\"></span>\\r\\n    <span >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"resultTitle\") || (depth0 != null ? lookupProperty(depth0,\"resultTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"resultTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":36,\"column\":11},\"end\":{\"line\":36,\"column\":26}}}) : helper)))\n    + \"</span>\\r\\n</div> \\r\\n<div id=\\\"search-result\\\"></div>\\r\\n\\r\\n<div class=\\\"wkspMessageArea\\\" id=\\\"searchMsgArea\\\"></div>\\r\\n\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_searchwksps_impl_searchwksps', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/searchwksps/searchwksps.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette',                             \r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/widgets/search.custom/search.custom.view',\r\n    'csui/utils/contexts/factories/search.query.factory',\r\n    'csui/utils/contexts/factories/next.node',\r\n\r\n    'conws/widgets/outlook/impl/searchwksps/impl/searchwksps.model.factory', \r\n    'conws/widgets/outlook/impl/searchwksps/searchresult.view',\r\n    'conws/widgets/outlook/impl/searchwksps/simplesearch.view',\r\n    'conws/widgets/outlook/impl/searchwksps/wksptypes.view',\r\n    'conws/widgets/outlook/impl/searchwksps/simplesearchresult.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/searchwksps',        // Template to render the HTML\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, PageContext, CustomViewSearch, SearchQueryModelFactory, NextNodeModelFactory, searchwkspsModelFactory, SearchResultView, SimpleSearchView, WkspTypesView, SimpleSearchResultView, WkspUtil, CSService, lang, template) {\r\n\r\n    window.wkspTypeSelected = function(wkspId, wkspName){\r\n        $(\"#typeDropdown\").addClass(\"hiddenArea\");\r\n        if (wkspId === -100){\r\n            $(\"#wkspTypeMsg\").addClass(\"hiddenArea\");\r\n            $(\"#wkspTypeMsg\").removeClass(\"wkspTypeMsgDisplay\");\r\n            $(\"#wkspTypeMsg\").html(\"\");\r\n        } else{\r\n            $(\"#wkspTypeMsg\").removeClass(\"hiddenArea\");\r\n            $(\"#wkspTypeMsg\").addClass(\"wkspTypeMsgDisplay\");\r\n            $(\"#wkspTypeMsg\").html(lang.search_selected_wksp_type + \": <span style='font-weight: bold' title='\" + wkspName + \"'>\" + wkspName + \"</span>\");\r\n        }\r\n        WkspUtil.SelectedWkspTypeId = wkspId;\r\n        if (WkspUtil.WkspSearchPerformed){\r\n            $(\"#searchButton\").trigger('click');\r\n        }\r\n    }\r\n\r\n    var searchwkspsView = Marionette.CompositeView.extend({\r\n\r\n    className: 'searchWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n    ui: {\r\n        wkspNameBox: '#wkspName',\r\n        searchButton: '#searchButton',\r\n        searchClearButton: '#searchClearButton',\r\n        searchFormDropdown: '#searchFormDropdown'\r\n    },\r\n\r\n    events: {\r\n        'click #searchButton': 'searchWksps',\r\n        'click #searchClearButton': 'clearSearch',\r\n        'click #searchResultBackButton': 'clearSearch',\r\n        'click #wkspTypeButton': 'openWkspTypeSelection',\r\n        'keyup' : 'processKey',\r\n        'focusin #searchButton': 'searchButtonFocused'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            serverOrigin: window.ServerOrigin,\r\n            supportFolder: window.ContentServerSupportPath,\r\n            sectionTitle: lang.sectionTitle_search,\r\n            helpTooltip: lang.help_button_tooltip,\r\n            searchTooltip: lang.search_button_tooltip,\r\n            searchClearTooltip: lang.search_clear_button_tooltip,\r\n            wkspNamePlaceholder: lang.search_wkspName_placeholder,\r\n            selectWkspType: lang.search_select_wksp_type,\r\n            resultTitle: lang.search_result_title\r\n        }\r\n    },\r\n\r\n    initialize: function(options) {\r\n        \r\n    },\r\n\r\n    constructor: function searchwkspsView(options) {\r\n        options.model = options.context.getModel(searchwkspsModelFactory);\r\n        this.pageSize = options.pageSize ? options.pageSize : WkspUtil.pageSize;\r\n        this.enableEmailSaving = options.enableEmailSaving;\r\n        this.showSearchForm = options.showSearchFormSelection ? options.showSearchFormSelection : false;\r\n        this.previousFormId = -1;\r\n        this.isEdit = (typeof options.context.isEdit !== 'undefined')? options.context.isEdit : false;\r\n\r\n        this.context = options.context;\r\n\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        this.listenTo(this.model, 'change', this.renderSearchForm);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#searchMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    renderSearchForm: function (model, response, options) {\r\n        var self = this;\r\n        var values = model.get('results');\r\n        self.render();\r\n\r\n        var wkspTypeSelection = \"\",\r\n            selectionFormat = \"<a href=\\\"javascript:wkspTypeSelected({0},'{1}');\\\" title='{1}' style='width:80vw; white-space:nowrap; overflow-x:hidden; text-overflow:ellipsis; display:flow-root list-item;'><div style='display:inline'>{1}</div></a>\";\r\n        for (var i = 0; i < values.length; i++){\r\n            var val = values[i];\r\n            var name = val.data.properties.wksp_type_name,\r\n                id = val.data.properties.wksp_type_id;\r\n            wkspTypeSelection += _.str.sformat(selectionFormat, id, name);\r\n        }\r\n        self.$('#typeDropdown').html(wkspTypeSelection);\r\n\r\n        var wkspNameTextbox = document.querySelector('#wkspName'),\r\n            timeoutFun = null;\r\n            \r\n            wkspNameTextbox.addEventListener('keyup', function(e){\r\n\r\n                clearTimeout(timeoutFun);\r\n\r\n                timeoutFun = setTimeout(function(){\r\n                    var wkspName = wkspNameTextbox.value;\r\n                    if (wkspName.length >= 3) {\r\n                        self.searchWksps(e);\r\n                    }\r\n                }, 1000);\r\n                \r\n            });\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(msg);\r\n    },\r\n\r\n    processKey: function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"wkspTypeButton\"){\r\n                this.openWkspTypeSelection(e);\r\n            } else if (e.target.id === \"searchButton\"){\r\n                this.searchWksps(e);\r\n            } else if (e.target.id === \"searchClearButton\" || e.target.id === \"searchResultBackButton\"){\r\n                this.clearSearch(e);\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    searchButtonFocused: function(e){\r\n        $(\"#typeDropdown\").addClass(\"hiddenArea\");\r\n    },\r\n\r\n    searchWksps: function(args) {\r\n        var self = this,\r\n            wkspName = self.$('#wkspName').val(),\r\n            wkspTypeId = WkspUtil.SelectedWkspTypeId,\r\n            searchClearButton = self.$('#searchClearButton'),\r\n            msg = '';\r\n\r\n        WkspUtil.uiShow(\"searchResultHeading\");\r\n        WkspUtil.uiHide(\"nonSearchSections\");\r\n\r\n        searchClearButton.css(\"display\", \"block\");\r\n        var resultRegion = new Marionette.Region({\r\n            el: '#search-result'\r\n        });\r\n\r\n        if (wkspTypeId === -100 && wkspName === \"\") {\r\n            msg = lang.search_noCondition;\r\n            resultRegion.$el.hide();\r\n        } else {\r\n            msg = '';\r\n            resultRegion.$el.show();\r\n            var typeAhead = args.target.id === \"wkspName\";\r\n            var resultView = new SearchResultView({\r\n                connector: this.model.connector,\r\n                wkspTypeId: wkspTypeId,\r\n                wkspName: wkspName,\r\n                typeAhead: typeAhead,\r\n                pageSize: this.pageSize,\r\n                pageNo: 1,\r\n                enableEmailSaving: this.enableEmailSaving,\r\n                isEdit: this.isEdit\r\n            });\r\n\r\n            WkspUtil.WkspSearchPerformed = true;\r\n            resultRegion.show(resultView);\r\n            // start the spinner\r\n            WkspUtil.startGlobalSpinner();\r\n        }\r\n        this.renderMessage(msg);\r\n    },\r\n\r\n    clearSearch: function(args) {\r\n        var self = this,\r\n            wkspName = self.$('#wkspName'),\r\n            searchClearButton = self.$('#searchClearButton'),\r\n            resultRegion = new Marionette.Region({\r\n                el: '#search-result'\r\n            });\r\n\r\n        wkspName.val('');\r\n        searchClearButton.css(\"display\", \"none\");\r\n        resultRegion.$el.hide();\r\n\r\n        WkspUtil.uiHide(\"searchResultHeading\");\r\n        WkspUtil.uiShow(\"nonSearchSections\");\r\n\r\n        WkspUtil.SelectedWkspTypeId = -100;\r\n        WkspUtil.WkspSearchPerformed = false;\r\n        WkspUtil.uiHide(\"wkspTypeMsg\");\r\n        $(\"#wkspTypeMsg\").removeClass(\"wkspTypeMsgDisplay\");\r\n        $(\"#wkspTypeMsg\").html(\"\");\r\n\r\n        this.renderMessage('');\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    searchWkspsTyping: function (args) {\r\n        var view = this,\r\n            wkspName = view.$('#wkspName').val();\r\n        if (wkspName.length >= 2) {\r\n            this.searchWksps(args);\r\n        }\r\n    },\r\n\r\n    openWkspTypeSelection: function() {\r\n        $(\"#typeDropdown\").toggleClass(\"hiddenArea\");\r\n    }\r\n\r\n  });\r\n\r\n  return searchwkspsView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/suggestedwksps/impl/suggestedwksps',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"binf-panel-heading outlook-heading\\\">\\r\\n    \\r\\n    <span class=\\\"headerIcon sectionToggleIcon\\\" id=\\\"suggestedToggleIcon\\\" tabindex=\\\"0\\\"></span>\\r\\n    <span >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"sectionTitle\") || (depth0 != null ? lookupProperty(depth0,\"sectionTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"sectionTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":11},\"end\":{\"line\":5,\"column\":27}}}) : helper)))\n    + \"</span> <span id=\\\"suggestedCount\\\"></span>\\r\\n    \\r\\n    <span >\\r\\n    <div id=\\\"suggestedWkspSpinner\\\" class=\\\"load-container binf-hidden\\\">\\r\\n        <div class=\\\"outer-border wksp-outer-border\\\">\\r\\n            <div class=\\\"loader wksp-loader\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    </span>    \\r\\n</div>\\r\\n<div id=\\\"suggestedSection\\\">\\r\\n    <div id=\\\"suggested-list\\\"></div>\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"suggestedWkspMsgArea\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_suggestedwksps_impl_suggestedwksps', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/suggestedwksps/suggestedwksps.view',[\r\n  'csui/lib/jquery',  \r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/lib/backbone',\r\n\r\n  'conws/widgets/outlook/impl/wksp/wksp.view',\r\n\r\n  'i18n!conws/widgets/outlook/impl/nls/lang',      \r\n   'hbs!conws/widgets/outlook/impl/suggestedwksps/impl/suggestedwksps',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n   'css!conws/widgets/outlook/impl/conwsoutlook'\r\n    \r\n], function ($, _, Marionette, Backbone, WkspView, lang, template, WkspUtil, CSService) {\r\n  var suggestedwkspsView = Marionette.CompositeView.extend({\r\n    className: 'suggestedWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#suggested-list',\r\n\r\n    templateHelpers: function() {\r\n        return {\r\n            sectionTitle: lang.sectionTitle_suggested\r\n        }\r\n    },\r\n\r\n    events: {\r\n        'click #suggestedToggleIcon': 'toggleIconClicked',\r\n        'keyup' : 'processKey'\r\n    },\r\n\r\n    constructor: function suggestedwkspsView(options) {\r\n        var self = this;\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        self.error = options.error;\r\n        self.config = options.config;\r\n        self.connector = options.context.connector;\r\n        self.isEdit = (typeof options.context.isEdit !== 'undefined')? options.context.isEdit : false;\r\n\r\n        setTimeout(function() {\r\n            WkspUtil.startLocalSpinner('suggestedWkspSpinner');\r\n            self.renderMessage(self, lang.info_retrieving);\r\n        });\r\n\r\n        if (options.error) {\r\n            setTimeout(function () {\r\n                WkspUtil.stopLocalSpinner('suggestedWkspSpinner');\r\n                self.renderError(options.error);\r\n            });\r\n        } else {\r\n            var emailItem = self.isEdit ? window.CurrentEditItem : window.CurrentEmailItem;\r\n            var promise = CSService.getSuggestedWksps(options.context.connector, emailItem, options.config);\r\n            promise.done(function (data) { self.renderWksps(data) });\r\n            promise.fail(function (error) { self.renderError(error) });        \r\n        }\r\n    },\r\n\r\n    renderWksps: function (data) {\r\n        WkspUtil.stopLocalSpinner('suggestedWkspSpinner');\r\n\r\n        var self = this;\r\n        \r\n        // Email viewing or editing scenario\r\n        for (var i=0; i<data.results.length; i++){\r\n            data.results[i].data.properties.isEdit = self.isEdit;\r\n        }\r\n        self.collection = new Backbone.Collection(data.results);\r\n        self.render();\r\n        var msg = \"\";\r\n        if (self.collection.length === 0) {\r\n            msg = lang.noWksp_suggested;\r\n\r\n            $(\"#suggestedToggleIcon\").trigger('click');\r\n        }\r\n\r\n        $(\"#suggestedCount\").html(\"(\" + self.collection.length + \")\");\r\n\r\n        if (data.errors != null && data.errors.length > 0) {\r\n            var errorMsg = data.errors.join(\"<br/>\");\r\n            errorMsg = _.str.sformat(lang.error_retrieve_suggested, errorMsg);\r\n            msg = msg === \"\" ? errorMsg : msg + \"<br/>\" + errorMsg;\r\n        }\r\n\r\n        if (msg !== \"\") {\r\n            self.renderMessage(self, msg);\r\n        }\r\n    },\r\n\r\n    refresh: function(){\r\n        var self = this;\r\n        if (self.error){\r\n            return;\r\n        }\r\n\r\n        WkspUtil.writeTrace(\"The suggested workspaces is being refreshed....\");\r\n        \r\n        setTimeout(function() {\r\n            WkspUtil.startLocalSpinner('suggestedWkspSpinner');\r\n            self.renderMessage(self, lang.info_retrieving);\r\n        });\r\n        var promise = CSService.getSuggestedWksps(self.connector, window.CurrentEmailItem, self.config);\r\n        promise.done(function (data) { self.renderWksps(data) });\r\n        promise.fail(function (error) { self.renderError(error) });        \r\n    },\r\n\r\n    renderError: function (error) {\r\n        WkspUtil.stopLocalSpinner('suggestedWkspSpinner');\r\n        var self = this;\r\n        var msg = error.responseJSON != null ? error.responseJSON.error : error;\r\n        \r\n        self.renderMessage(self, _.str.sformat(lang.error_retrieve_suggested, msg));\r\n    },\r\n\r\n    renderMessage: function (self, msg) {\r\n        var msgArea = self.$('#suggestedWkspMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    processKey: function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"suggestedToggleIcon\"){\r\n                this.toggleIconClicked(e);\r\n            } \r\n        }\r\n    },\r\n\r\n    toggleIconClicked: function(args){\r\n        WkspUtil.collapsibleClicked(\"suggested\");\r\n    }\r\n  });\r\n\r\n  return suggestedwkspsView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/searchwksps/impl/customsearch',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div id=\\\"customSearchFormArea\\\">\\r\\n    <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n        <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"customSearchBack\\\"></span>\\r\\n        <span >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"sectionTitle\") || (depth0 != null ? lookupProperty(depth0,\"sectionTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"sectionTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":15},\"end\":{\"line\":5,\"column\":31}}}) : helper)))\n    + \"</span>\\r\\n    </div>    \\r\\n    <div class=\\\"wkspSearch\\\">\\r\\n\\r\\n        <div class=\\\"wkspSearchForm\\\" id=\\\"searchFormListDiv\\\">\\r\\n            <label class=\\\"searchFormLabel\\\" for=\\\"searchFormDW\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"selectSearchForm\") || (depth0 != null ? lookupProperty(depth0,\"selectSearchForm\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"selectSearchForm\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":62},\"end\":{\"line\":10,\"column\":82}}}) : helper)))\n    + \"</label>\\r\\n            <select class=\\\"wkspInput wkspSearchInput wkspSearchSelect\\\" id=\\\"searchFormDW\\\" onmousedown=\\\"document.getElementById('searchFormDW').focus();\\\"></select>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"searchFormDiv\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"searchMsgArea\\\"></div>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"customSearchResultArea\\\" class=\\\"hiddenArea\\\">\\r\\n    <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n        <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"customSearchResultBack\\\"></span>\\r\\n        <span >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"resultTitle\") || (depth0 != null ? lookupProperty(depth0,\"resultTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"resultTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":22,\"column\":15},\"end\":{\"line\":22,\"column\":30}}}) : helper)))\n    + \"</span>\\r\\n    </div>    \\r\\n    <div id=\\\"customSearchResult\\\"></div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_searchwksps_impl_customsearch', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/searchwksps/customSearchSection.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette',                             \r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/widgets/search.custom/search.custom.view',\r\n    'csui/utils/contexts/factories/search.query.factory',\r\n    'csui/utils/contexts/factories/next.node',\r\n\r\n    'conws/widgets/outlook/impl/searchwksps/impl/searchwksps.model.factory', \r\n    'conws/widgets/outlook/impl/searchwksps/searchresult.view',\r\n    'conws/widgets/outlook/impl/searchwksps/simplesearch.view',\r\n    'conws/widgets/outlook/impl/searchwksps/wksptypes.view',\r\n    'conws/widgets/outlook/impl/searchwksps/simplesearchresult.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/customsearch',        // Template to render the HTML\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, PageContext, CustomViewSearch, SearchQueryModelFactory, NextNodeModelFactory, searchwkspsModelFactory, SearchResultView, SimpleSearchView, WkspTypesView, SimpleSearchResultView, WkspUtil, CSService, lang, template) {\r\n\r\n    var customSearchSectionView = Marionette.CompositeView.extend({\r\n\r\n    className: 'searchWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n\r\n    ui: {\r\n        searchFormDW: '#searchFormDW'\r\n    },\r\n\r\n    events: {\r\n        'change #searchFormDW': 'searchFormChange',\r\n        'click #customSearchResultBack': 'backToSearchForm',\r\n        'click #customSearchBack': 'backToStandard',\r\n        'keyup #customSearchBack, #customSearchResultBack': 'processKey'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            serverOrigin: window.ServerOrigin,\r\n            supportFolder: window.ContentServerSupportPath,\r\n            sectionTitle: lang.sectionTitle_customSearch,\r\n            selectSearchForm: lang.search_select_form,\r\n            resultTitle: lang.search_result_title\r\n        }\r\n    },\r\n\r\n    initialize: function(options) {\r\n        \r\n    },\r\n\r\n    constructor: function searchwkspsView(options) {\r\n        this.pageSize = options.pageSize ? options.pageSize : WkspUtil.pageSize;\r\n        this.enableEmailSaving = options.enableEmailSaving;\r\n        this.showSearchForm = options.showSearchFormSelection ? options.showSearchFormSelection : false;\r\n        this.previousFormId = -1;\r\n        this.queries = options.queries;\r\n\r\n        this.context = options.context;\r\n        this.isEdit = (typeof options.context.isEdit !== 'undefined')? options.context.isEdit : false;\r\n\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        var self = this;\r\n        setTimeout(function(){self.renderSearchForm();});\r\n\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#searchMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    renderSearchForm: function (model, response, options) {\r\n        var self = this;\r\n        self.render();\r\n\r\n        if (self.queries != null && self.queries.length !== 0) {\r\n            self.$('#searchFormListDiv').css(\"display\", \"block\");\r\n            var optionFormat = \"<option value='{0}'>{1}</option>\";\r\n            var formOptions = \"\"; // = _.str.sformat(optionFormat, -1, lang.search_wksp_typeName);\r\n            for (var i = 0; i < self.queries.length; i++) {\r\n                var query = self.queries[i];\r\n                formOptions = formOptions + _.str.sformat(optionFormat, query[1], query[0]);\r\n            }\r\n            self.$('#searchFormDW').html(formOptions);\r\n\r\n            var context = new PageContext({ factories: { connector: self.options.context.connector } });\r\n            context.connector = self.options.context.connector;\r\n            context.isEdit = self.isEdit;\r\n\r\n            var searchFormRegion = new Marionette.Region({\r\n                    el: '#searchFormDiv'\r\n            });\r\n            WkspUtil.writeTrace(\"Showing custom search view for ID: .\" + self.queries[0][1]);\r\n            var queryView = new SimpleSearchView({ context: context, savedSearchQueryId: self.queries[0][1] });\r\n            searchFormRegion.show(queryView);\r\n            self.refreshQueryModel(context);\r\n            context.fetch();\r\n        }\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(msg);\r\n    },\r\n\r\n    processKey: function(e){\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"customSearchBack\"){\r\n                this.backToStandard(e);\r\n            } else if(e.target.id === \"customSearchResultBack\"){\r\n                this.backToSearchForm(e);\r\n            }\r\n        }\r\n    },\r\n\r\n    searchFormChange: function (args) {\r\n        var self = this,\r\n            formId = self.$('#searchFormDW').val();\r\n\r\n        this.renderMessage('');\r\n        var resultRegion = new Marionette.Region({ el: '#customSearchResult' });\r\n        resultRegion.$el.empty();\r\n\r\n        // if token expired, the search is not properly rendered. But the search button is disabled.\r\n        var forceRender = $('#csui-custom-search-form-submit').hasClass('csui-search-form-submit-disabled');\r\n\r\n        if (formId === \"-1\") {\r\n            self.$('#searchFormWkspTypeName').css(\"display\", \"block\");\r\n            self.$('#searchFormDiv').css(\"display\", \"none\");\r\n        } else {\r\n            self.$('#searchFormWkspTypeName').css(\"display\", \"none\");\r\n            self.$('#searchFormDiv').css(\"display\", \"block\");\r\n            if (forceRender || self.previousFormId !== formId) {\r\n                WkspUtil.startGlobalSpinner();\r\n                self.previousFormId = formId;\r\n\r\n                var context = new PageContext({ factories: { connector: self.options.context.connector } });\r\n                context.connector = self.options.context.connector;\r\n\r\n                var searchFormRegion = new Marionette.Region({\r\n                        el: '#searchFormDiv'\r\n                });\r\n                WkspUtil.writeTrace(\"Showing custom search view for ID: .\" + formId);\r\n                var queryView = new SimpleSearchView({ context: context, savedSearchQueryId: formId });\r\n                searchFormRegion.show(queryView);\r\n                self.refreshQueryModel(context);\r\n                context.fetch();\r\n            }\r\n        }\r\n    },\r\n\r\n    refreshQueryModel: function (context) {\r\n        var self = this;\r\n        var queryModel = context.getModel(SearchQueryModelFactory);\r\n\r\n        // Office.js set history.pushState to null which breaks cs.ui functionality. In Outlook add-in, we don't really need to\r\n        // save the history state, so it's safe to set this function to empty. This won't affect cs.ui functions outside of Outlook add-in. \r\n        history.pushState = function() {};\r\n\r\n        queryModel.on('change', Function.createDelegate(this,  //The search button is clicked\r\n            function (event) {\r\n                var searchResultsRegion = new Marionette.Region({el: '#customSearchResult'});\r\n                var searchResultsView = new SimpleSearchResultView({\r\n                        context: context,\r\n                        pageSize: self.pageSize,\r\n                        pageNo: 1,\r\n                        isEdit: self.isEdit,\r\n                        enableEmailSaving: self.enableEmailSaving\r\n                    });\r\n                WkspUtil.startGlobalSpinner();\r\n                WkspUtil.uiHide(\"customSearchFormArea\");\r\n                WkspUtil.uiShow(\"customSearchResultArea\");\r\n                searchResultsRegion.show(searchResultsView);\r\n            }));\r\n\r\n        context.fetch();\r\n    },\r\n\r\n    backToSearchForm: function(args){\r\n        WkspUtil.uiShow(\"customSearchFormArea\");\r\n        WkspUtil.uiHide(\"customSearchResultArea\");\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    backToStandard: function(args){\r\n        WkspUtil.uiShow(\"standardSections\");\r\n        WkspUtil.uiShow(\"customSearchButton\");\r\n        WkspUtil.uiHide(\"customSearchSection\");\r\n\r\n        WkspUtil.PreSaveSection = \"standardSections\";\r\n        $(\"#conwsoutlook-body\").focus();\r\n    }\r\n\r\n  });\r\n\r\n  return customSearchSectionView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/conwsoutlook',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"outlook-container\\\" >\\r\\n\\r\\n    <div class=\\\"mainPageContent\\\" id=\\\"standardSections\\\">\\r\\n        <div class=\\\"outlook-col\\\" id=\\\"searchRegion\\\" ></div>\\r\\n        <div id=\\\"nonSearchSections\\\">\\r\\n            <div class=\\\"outlook-col\\\" id=\\\"suggestedRegion\\\" ></div>\\r\\n            <div class=\\\"outlook-col\\\" id=\\\"favoriteRegion\\\" ></div>\\r\\n            <div class=\\\"outlook-col\\\" id=\\\"recentRegion\\\" ></div>\\r\\n        </div>\\r\\n    </div>  \\r\\n\\r\\n    <div id=\\\"customSearchSection\\\" class=\\\"hiddenArea\\\"></div>\\r\\n    <div id=\\\"savePanel\\\" class=\\\"hiddenArea\\\"></div>\\r\\n\\r\\n    <div class=\\\"customSearchButton outlook-heading binf-panel-heading hiddenArea\\\" id=\\\"customSearchButton\\\">\\r\\n        <span class=\\\"headerIcon forwardIcon\\\" id=\\\"customerSearchButtonIcon\\\" tabindex=\\\"0\\\"></span>\\r\\n        <span >\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"customSearchLabel\") || (depth0 != null ? lookupProperty(depth0,\"customSearchLabel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"customSearchLabel\",\"hash\":{},\"loc\":{\"start\":{\"line\":17,\"column\":15},\"end\":{\"line\":17,\"column\":36}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n    \\r\\n    <div id=\\\"dialogRegion\\\"></div>\\r\\n\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_conwsoutlook', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/conwsoutlook.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/utils/contexts/factories/connector',\r\n    'csui/utils/authenticators/request.authenticator',\r\n    'csui/utils/url',\r\n    'csui/utils/nodesprites',\r\n    'conws/utils/icons/icons',\r\n    'conws/widgets/outlook/impl/recentwksps/recentwksps.view',\r\n    'conws/widgets/outlook/impl/favoritewksps/favoritewksps.view',\r\n    'conws/widgets/outlook/impl/searchwksps/searchwksps.view',\r\n    'conws/widgets/outlook/impl/suggestedwksps/suggestedwksps.view',\r\n    'conws/widgets/outlook/impl/searchwksps/customSearchSection.view',\r\n    'conws/widgets/outlook/impl/dialog/authenticator',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n\r\n    'conws/widgets/outlook/impl/metadata/metadata.forms.view',\r\n    'csui/utils/contexts/factories/node',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'hbs!conws/widgets/outlook/impl/conwsoutlook',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'\r\n], function ($, _, Marionette, Backbone, PageContext, ConnectorFactory, RequestAuthenticator, Url, NodeSprites, ConwsIcons, RecentWkspsView, FavoriteWkspsView, SearchWkspsView, SuggestedWkspsView, CustomSearchSectionView, Authenticator, WkspUtil, CSService, MetadataFormsView, NodeModelFactory, lang, template) {\r\n\r\n    var conwsoutlookView = Marionette.LayoutView.extend({\r\n\r\n    className: 'conwsoutlook ',\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n        searchRegion: '#searchRegion',\r\n        favoriteRegion: '#favoriteRegion',\r\n        recentRegion: '#recentRegion',\r\n        suggestedRegion: '#suggestedRegion',\r\n        customSearchRegion: \"#customSearchSection\",\r\n        customViewSearchResultRegion: \"#customViewSearchResultRegion\",\r\n        dialogRegion: '#dialogRegion'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            customSearchLabel: lang.search_custom_button_label\r\n        }\r\n    },\r\n\r\n    events: {\r\n        'click #customSearchButton': 'showCustomSearch',\r\n        'keyup': 'processKey'\r\n    },\r\n\r\n    initialize: function(options) {\r\n        this.context = this.options.context;\r\n\r\n        var requestAuthenticator = new RequestAuthenticator({}),\r\n            paras = { authenticator: requestAuthenticator };\r\n        this.connector = this.context.getObject(ConnectorFactory, paras);\r\n\r\n        // Ensure the request authenticator\r\n        if (typeof this.connector.authenticator.login === \"undefined\"){\r\n            requestAuthenticator.connection = this.connector.authenticator.connection;\r\n            this.connector.authenticator = requestAuthenticator;\r\n        }\r\n        WkspUtil.setConnector(this.connector);\r\n\r\n        var self = this,\r\n            urlObj = new Url(this.connector.connection.url);\r\n\r\n        this.connector.timeoutProcessed = false;\r\n\r\n        this.connector.authenticator.on(\"loggedOut\", function (args) {\r\n            WkspUtil.stopGlobalSpinner();\r\n            if (!self.connector.timeoutProcessed) {\r\n                WkspUtil.writeTrace(\"Session logged out.\");\r\n                WkspUtil.disableSimpleSearch();\r\n                self.connector.timeoutProcessed = true;\r\n                var authenticator = new Authenticator({ context: self.context, centerVertically: true });\r\n                authenticator.authenticate()\r\n                    .done(function(result){\r\n                        authenticator.beingAuthenticated = false;\r\n                    });\r\n            }\r\n        });\r\n\r\n        window.ServerOrigin = urlObj.getOrigin();\r\n        window.ServerCgiScript = urlObj.getCgiScript();\r\n\r\n        // Register CONWS icons\r\n        NodeSprites.add(ConwsIcons);\r\n\r\n        // extend a whenAll method\r\n        var rawWhen = $.when;\r\n        $.whenAll = function (promise) {\r\n            if ($.isArray(promise)) {\r\n                var dfd = new $.Deferred();\r\n                rawWhen.apply($, promise).done(function () {\r\n                    dfd.resolve(Array.prototype.slice.call(arguments));\r\n                }).fail(function () {\r\n                    dfd.reject(Array.prototype.slice.call(arguments));\r\n                });\r\n                return dfd.promise();\r\n            } else {\r\n                return rawWhen.apply($, arguments);\r\n            }\r\n        }\r\n    },\r\n\r\n    onBeforeShow: function (options) {\r\n        var self = this;\r\n\r\n        var authenticator = new Authenticator({ context: self.context, centerVertically: true });\r\n        WkspUtil.startGlobalSpinner();\r\n        authenticator.authenticate()\r\n            .done(function (result) {\r\n                WkspUtil.stopGlobalSpinner();\r\n                authenticator.beingAuthenticated = false;\r\n                if (result) {\r\n                    self.context.connector = WkspUtil.getConnector();\r\n                    var addinConfigPromise = CSService.getAddinConfig(self.context.connector);\r\n                    addinConfigPromise.done(function (config) {\r\n                        WkspUtil.setConfig(config, self.context.csUser);\r\n                        \r\n                        self.getRegion('recentRegion').show(new RecentWkspsView({ context: self.context }));\r\n                        self.getRegion('favoriteRegion').show(new FavoriteWkspsView({ context: self.context }));\r\n                        self.getRegion('searchRegion').show(new SearchWkspsView({ context: self.context, enableEmailSaving: true, showSearchFormSelection: WkspUtil.ShowSearchFormSelection }));\r\n\r\n                        var wkspConfigPromise = CSService.getSuggestedWkspConfig(self.context.connector);\r\n                        wkspConfigPromise.done(function (wkspConfig) {\r\n                            if (wkspConfig == null || wkspConfig.general == null) {\r\n                                WkspUtil.SuggestedWkspsView = new SuggestedWkspsView({ error: \"NoConfiguration\" });\r\n                                self.getRegion('suggestedRegion').show(WkspUtil.SuggestedWkspsView);\r\n                            } else if (wkspConfig.general.showSection) {\r\n                                WkspUtil.SuggestedWkspsView = new SuggestedWkspsView({ context: self.context, config: wkspConfig });\r\n                                self.getRegion('suggestedRegion').show(WkspUtil.SuggestedWkspsView);\r\n                            } else {\r\n                                self.getRegion('suggestedRegion').$el.css(\"display\", \"none\");\r\n                            }\r\n                        });\r\n                        wkspConfigPromise.fail(function(error) {\r\n                            WkspUtil.SuggestedWkspsView = new SuggestedWkspsView({ error: error });\r\n                            self.getRegion('suggestedRegion').show(WkspUtil.SuggestedWkspsView);\r\n                        });\r\n\r\n                        // Show the custom search button and custom search region\r\n                        if (config.searchForm.enabled){\r\n                            var queriesPromise = CSService.getSimpleSearchQueries(self.context.connector);\r\n                            queriesPromise.done(function (queries) {\r\n                                if (queries != null && queries.length !== 0) {\r\n                                    WkspUtil.uiShow('customSearchButton');\r\n                                    var top = 'calc(100vh - ' + (WkspUtil.SearchButtonHeight + WkspUtil.TraceAreaHeight) + 'px)';\r\n                                    $('#customSearchButton').css('top', top);\r\n                                    self.getRegion('customSearchRegion').show(new CustomSearchSectionView({ context: self.context, queries: queries }));\r\n\r\n                                    // override the hide method to resume the search button position and searc form height after clicking trace hide button\r\n                                    if (WkspUtil.TraceAreaHeight > 0){\r\n                                        var frames = document.querySelectorAll('iframe[id^=\"log4javascript_\"]');\r\n                                        if (frames.length > 0){\r\n                                            var hideFunc = frames[0].contentWindow.hide;\r\n\r\n                                            if (typeof hideFunc === \"function\"){\r\n                                                frames[0].contentWindow.hide = function(){\r\n                                                    $('#customSearchButton').css('top', 'calc(100vh - ' + WkspUtil.SearchButtonHeight + 'px)');\r\n                                                    $(\".tile-content\").css('height', 'calc(100vh - ' + WkspUtil.SearchFormBottomPadding +'px)');\r\n                                                    $('#saveDisplayArea').css('height', 'calc(100vh - 32px');\r\n                                                    WkspUtil.TraceAreaHeight = 0;\r\n                                                    hideFunc();\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                            queriesPromise.fail(function (error) {\r\n                                $('#topMessage').html(WkspUtil.getErrorMessage(error));\r\n                            });\r\n                        }\r\n                        \r\n                        self.context.fetch();\r\n                    });\r\n                    addinConfigPromise.fail(function(errMsg) {\r\n                        $('#topMessage').html(errMsg);\r\n                    });\r\n                }\r\n            });\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    constructor: function conwsoutlookView(options) {\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    processKey: function(e){\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"customerSearchButtonIcon\"){\r\n                this.showCustomSearch(e);\r\n            } \r\n        }\r\n    },\r\n\r\n    showCustomSearch: function(){\r\n        WkspUtil.uiHide(\"standardSections\");\r\n        WkspUtil.uiHide(\"customSearchButton\");\r\n        WkspUtil.uiShow(\"customSearchSection\");\r\n\r\n        WkspUtil.PreSaveSection = \"customSearchSection\";\r\n        $(\"#conwsoutlook-body\").focus();\r\n    }\r\n\r\n  });\r\n\r\n  return conwsoutlookView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/configurationvolume/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/configurationvolume/impl/nls/root/lang',{\r\n  emptyResultsText: 'There are no items to display.'\r\n});\r\n\n","\ncsui.define('css!conws/widgets/configurationvolume/impl/configurationvolume',[],function(){});\n","// Shows the Shortcuts widget of specific nodes\r\ncsui.define('conws/widgets/configurationvolume/configurationvolume.view',[\r\n  \"csui/lib/underscore\",\r\n  \"csui/lib/jquery\",\r\n  \"csui/lib/backbone\",\r\n  \"csui/lib/marionette\",\r\n  \"csui/widgets/shortcuts/shortcuts.view\",\r\n  \"csui/controls/tile/behaviors/perfect.scrolling.behavior\",\r\n  \"csui/behaviors/keyboard.navigation/tabable.region.behavior\",\r\n  \"conws/models/configurationvolume/configurationvolume.factory\",\r\n  \"i18n!conws/widgets/configurationvolume/impl/nls/lang\",\r\n  \"css!conws/widgets/configurationvolume/impl/configurationvolume\"\r\n], function (_,\r\n    $,\r\n    Backbone,\r\n    Marionette,\r\n    ShortcutsView,\r\n    PerfectScrollingBehavior,\r\n    TabableRegionBehavior,\r\n    ConfigurationVolumeFactory,\r\n    lang) {\r\n\r\n  var EmptyVolumeView = Marionette.View.extend({\r\n    className: \"conws-empty-configurevolume-container\",\r\n    onShow: function() {\r\n      this.$el.text(lang.emptyResultsText);\r\n    }\r\n  });\r\n\r\n  var THEME_SUFFIX = [\"shade1\", \"shade2\", \"shade3\", \"shade4\"];\r\n\r\n  var ConfigurationVolumeView = ShortcutsView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-volumeshortcut-container csui-shortcut-container tile',\r\n\r\n    attributes: {\r\n      role: 'menu'\r\n    },\r\n\r\n    constructor: function ConfigurationVolumeView(options) {\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n      options.perspectiveMode = false;\r\n      options.model = options.context.getModel(ConfigurationVolumeFactory, {});\r\n      ShortcutsView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    emptyView: EmptyVolumeView,\r\n\r\n    buildChildView: function (child, ChildViewClass, childViewOptions) {\r\n      if (ChildViewClass === EmptyVolumeView) {\r\n        return Marionette.CollectionView.prototype.buildChildView.call(this, child, ChildViewClass,\r\n          childViewOptions);\r\n      }\r\n      return ShortcutsView.prototype.buildChildView.apply(this, arguments);\r\n    },\r\n\r\n    modelEvents: {\r\n      change: 'modelChange'\r\n    },\r\n\r\n    childEvents: _.extend(ShortcutsView.prototype.childEvents, {\r\n      'render': 'onChildViewRender'\r\n    }),\r\n\r\n    onChildViewRender: function(childView) {\r\n      childView.$el.addClass('csui-configurationvolume-container');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      var currentItem = this.children.findByIndex(this._currentShortcutIndex);\r\n      return currentItem && currentItem.$el;\r\n    },\r\n\r\n    modelChange: function () {\r\n      this.collection.set(this.model.get('shortcutItems'));\r\n      this._currentShortcutIndex = 0;\r\n    },\r\n\r\n    _getShortcutTheme: function (itemIndex, numberOfItems) {\r\n      var theme = this.options.data.shortcutTheme ? this.options.data.shortcutTheme :\r\n                  \"csui-shortcut-theme-grey\";\r\n      if (numberOfItems > 1) {\r\n        var numOfShades = THEME_SUFFIX.length;\r\n        //Getting the theme shades indexes from right to left\r\n        theme += \"-\" + THEME_SUFFIX[(numOfShades - 1) - (itemIndex % numOfShades)];\r\n      }\r\n\r\n      return theme;\r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      },\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    }\r\n  })\r\n\r\n  return ConfigurationVolumeView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/metadata/general.fields/workspacetype/impl/nls/lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n  });\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('conws/widgets/metadata/general.fields/workspacetype/impl/nls/root/lang',{\r\n  WorkspacetypeName: 'Workspace Type'\r\n});\n","\n","csui.define('conws/widgets/metadata/general.fields/workspacetype/metadata.general.form.field.controller',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette','csui/utils/url',\r\n  'csui/controls/form/form.view',\r\n  'i18n!conws/widgets/metadata/general.fields/workspacetype/impl/nls/lang'\r\n], function (_, $, Backbone, Marionette, Url, FormView, lang) {\r\n\r\n  var MetadataWorkspacetypeGeneralFormFieldController = Marionette.Controller.extend({\r\n\r\n    constructor: function MetadataWorkspacetypeGeneralFormFieldController(options) {\r\n      Marionette.Controller.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    getGeneralFormFields: function () {\r\n\r\n      var node = this.options.model || this.options.node;\r\n\r\n      if (node.get(\"type\") !== 848) {\r\n        return null;\r\n      }\r\n\r\n      var deferred = $.Deferred();\r\n\r\n      var formModel = new Backbone.Model({\r\n        data: {\r\n\t\t\t\t\t  wksp_type_name: node.get(\"wksp_type_name\")\r\n        },\r\n        schema: {\r\n          properties: {\r\n            wksp_type_name: {\r\n              \"readonly\": true,\r\n              \"required\": false,\r\n              \"title\": \"\",\r\n              \"type\": \"string\",\r\n              \"hidden\": false\r\n            }\r\n          }\r\n        },\r\n        options: {\r\n          fields: {\r\n            wksp_type_name:{\r\n              \"label\": lang.WorkspacetypeName,\r\n              \"hidden\": false,\r\n              \"readonly\": true,\r\n              \"hideInitValidationError\": false,\r\n              \"type\": \"text\"\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      deferred.resolve([{\r\n        formModel: formModel,\r\n        formView: FormView,\r\n      }]);\r\n\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return MetadataWorkspacetypeGeneralFormFieldController;\r\n\r\n});\n","csui.define('conws/widgets/metadata/metadata.general.form.fields',[\r\n  'conws/widgets/metadata/general.fields/workspacetype/metadata.general.form.field.controller'\r\n],\r\n\r\nfunction (MetadataWorkspacetypeGeneralFormFieldController) {\r\n\r\n  return [\r\n    {\r\n      //sequence: 100,\r\n      controller: MetadataWorkspacetypeGeneralFormFieldController\r\n    }\r\n  ];\r\n\r\n});\r\n\n","\ncsui.define('json!conws/widgets/relatedworkspaces/relatedworkspaces.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"required\": [\"workspaceTypeId\", \"relationType\"],\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{tileTitle}}\",\r\n        \"description\": \"{{tileDescription}}\"\r\n      },\r\n      \"workspaceTypeId\": {\r\n        \"type\": \"integer\",\r\n        \"title\": \"{{workspacetypeTitle}}\",\r\n        \"description\": \"{{workspacetypeDescription}}\"\r\n      },\r\n      \"relationType\": {\r\n        \"type\": \"string\",\r\n        \"enum\": [ \"child\", \"parent\" ],\r\n        \"title\": \"{{relationTypeTitle}}\",\r\n        \"description\": \"{{relationTypeDescription}}\"\r\n      },\r\n      \"collapsedView\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{collapsedViewTitle}}\",\r\n        \"description\": \"{{collapsedViewDescription}}\",\r\n        \"properties\": {\r\n          \"noResultsPlaceholder\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{noResultsPlaceholderTitle}}\",\r\n            \"description\": \"{{noResultsPlaceholderDescription}}\"\r\n          },\r\n          \"preview\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{previewPaneTitle}}\",\r\n            \"description\": \"{{previewPaneDescription}}\",\r\n            \"properties\": {\r\n              \"typeName\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{previewTitle}}\",\r\n                \"description\": \"{{previewDescription}}\"\r\n              },\r\n              \"noMetadataMessage\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{noMetadataMessageTitle}}\",\r\n                \"description\": \"{{noMetadataMessageDescription}}\"\r\n              },\r\n              \"roleId\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{roleTitle}}\",\r\n                \"description\": \"{{roleDescription}}\"\r\n              },\r\n              \"noRoleMembersMessage\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{noRoleMembersMessageTitle}}\",\r\n                \"description\": \"{{noRoleMembersMessageDesc}}\"\r\n              },\r\n              \"metadata\": {\r\n                \"type\": \"array\",\r\n                \"title\": \"{{metadataTitle}}\",\r\n                \"description\": \"{{metadataDescription}}\",\r\n                \"items\": {\r\n                  \"type\": \"object\",\r\n                  \"title\": \"{{CategoryOrAttributeTitle}}\",\r\n                  \"description\": \"{{CategoryOrAttributeDesc}}\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"orderBy\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{orderTitle}}\",\r\n            \"description\": \"{{orderDescription}}\",\r\n            \"properties\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{sortColumnTitle}}\",\r\n                \"description\": \"{{sortColumnDescription}}\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"string\",\r\n                \"enum\": [ \"asc\", \"desc\" ],\r\n                \"title\": \"{{sortOrderTitle}}\",\r\n                \"description\": \"{{sortOrderDescription}}\"\r\n              }\r\n            }\r\n          },\r\n          \"title\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{relatedWorkspaceTitle}}\",\r\n            \"description\": \"{{relatedWorkspaceDesc}}\",\r\n            \"properties\": {\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{valueTitle}}\",\r\n                \"description\": \"{{valueDescription}}\"\r\n              }\r\n            }\r\n          },\r\n          \"description\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{descriptionSectionTitle}}\",\r\n            \"description\": \"{{descriptionSectionDesc}}\",\r\n            \"properties\": {\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{descriptionValueTitle}}\",\r\n                \"description\": \"{{descriptionFieldValue}}\"\r\n              }\r\n            }\r\n          },\r\n          \"topRight\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{topRightSectionTitle}}\",\r\n            \"description\": \"{{topRightSectionDescription}}\",\r\n            \"properties\": {\r\n              \"label\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{topRightLabel}}\",\r\n                \"description\": \"{{topRightLabelDesc}}\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{topRightValue}}\",\r\n                \"description\": \"{{topRightValueDesc}}\"\r\n              }\r\n            }\r\n          },\r\n          \"bottomLeft\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{bottomLeftTitle}}\",\r\n            \"description\": \"{{bottomLeftTitleDesc}}\",\r\n            \"properties\": {\r\n              \"label\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{bottomLeftLabelTitle}}\",\r\n                \"description\": \"{{bottomLeftLabelDesc}}\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{bottomLeftValue}}\",\r\n                \"description\": \"{{bottomLeftValueDesc}}\"\r\n              }\r\n            }\r\n          },\r\n          \"bottomRight\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{bottomRightTitle}}\",\r\n            \"description\": \"{{bottomRightTitleDesc}}\",\r\n            \"properties\": {\r\n              \"label\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{bottomRightLabel}}\",\r\n                \"description\": \"{{bottomRightLabelDesc}}\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{bottomRightValue}}\",\r\n                \"description\": \"{{bottomRightValueDesc}}\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"expandedView\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{expandedViewSectionTitle}}\",\r\n        \"description\": \"{{expandedViewSectionDesc}}\",\r\n        \"properties\": {\r\n          \"orderBy\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{expandedViewOrderByTitle}}\",\r\n            \"description\": \"{{expandedViewOrderByDesc}}\",\r\n            \"properties\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{expandedViewSortColumnTitle}}\",\r\n                \"description\": \"{{expandedViewSortColumnDesc}}\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"string\",\r\n                \"enum\": [ \"asc\", \"desc\" ],\r\n                \"title\": \"Sort order\",\r\n                \"description\": \"{{expandedViewSortOrderDesc}}\"\r\n              }\r\n            }\r\n          },\r\n          \"customColumns\": {\r\n            \"type\": \"array\",\r\n            \"title\": \"{{customColumnsSectionTitle}}\",\r\n            \"description\": \"{{customColumnsSectionDesc}}\",\r\n            \"items\": {\r\n              \"type\": \"object\",\r\n              \"title\": \"{{customColumnsItemsTitle}}\",\r\n              \"description\": \"{{customColumnsItemsDesc}}\",\r\n              \"properties\": {\r\n                \"key\": {\r\n                  \"type\": \"string\",\r\n                  \"title\": \"{{customColumnsPropertiesTitle}}\",\r\n                  \"description\": \"{{customColumnsPropertiesDesc}}\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      },\r\n      \"workspaceTypeId\": {\r\n        \"type\": \"otconws_workspacetype_id\"\r\n      },\r\n      \"relationType\": {\r\n        \"type\": \"select\",\r\n        \"optionLabels\": [\r\n          \"{{relationTypeOptionLabelChild}}\",\r\n          \"{{relationTypeOptionLabelParent}}\"\r\n        ]\r\n      },\r\n      \"collapsedView\": {\r\n        \"fields\": {\r\n          \"noResultsPlaceholder\": {\r\n            \"type\": \"otcs_multilingual_string\"\r\n          },\r\n          \"preview\": {\r\n            \"fields\": {\r\n              \"typeName\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"noMetadataMessage\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"noRoleMembersMessage\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"metadata\": {\r\n                \"fields\": {\r\n                  \"item\": {\r\n                    \"type\": \"otconws_metadata\"\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"orderBy\": {\r\n            \"fields\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"select\",\r\n                \"optionLabels\": [\r\n                  \"{{sortOrderOptionLabelAsc}}\",\r\n                  \"{{sortOrderOptionLabelDesc}}\"\r\n                ]\r\n              }\r\n            }\r\n          },\r\n          \"title\": {\r\n            \"fields\": {\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          },\r\n          \"description\": {\r\n            \"fields\": {\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          },\r\n          \"topRight\": {\r\n            \"fields\": {\r\n              \"label\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          },\r\n          \"bottomLeft\": {\r\n            \"fields\": {\r\n              \"label\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          },\r\n          \"bottomRight\": {\r\n            \"fields\": {\r\n              \"label\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"expandedView\": {\r\n        \"fields\": {\r\n          \"orderBy\": {\r\n            \"fields\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"select\",\r\n                \"optionLabels\": [\r\n                  \"{{sortOrderOptionLabelAsc}}\",\r\n                  \"{{sortOrderOptionLabelDesc}}\"\r\n                ]\r\n              }\r\n            }\r\n          },\r\n          \"customColumns\": {\r\n            \"items\": {\r\n              \"fields\": {\r\n                \"key\": {\r\n                  \"type\": \"otconws_customcolumn\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!conws/widgets/header/header.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{tileTitle}}\",\r\n  \"description\": \"{{tileDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"workspace\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{workspaceTitle}}\",\r\n        \"description\": \"{{workspaceDescription}}\",\r\n        \"properties\": {\r\n          \"properties\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"Properties\",\r\n            \"description\": \"{{workspacePropertiesDesc}}\",\r\n            \"properties\": {\r\n              \"title\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{businessworkspaceTitle}}\",\r\n                \"default\": \"{name}\",\r\n                \"description\": \"{{businessworkspaceDesc}}\"\r\n              },\r\n              \"type\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{workspaceTypeTitle}}\",\r\n                \"default\": \"{business_properties.workspace_type_name}\",\r\n                \"description\": \"{{workspaceTypeDesc}}\"\r\n              },\r\n              \"description\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{descriptionSectionTitle}}\",\r\n                \"default\": \"{description}\",\r\n                \"description\": \"{{descriptionSection}}\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"widget\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{widgetTitle}}\",\r\n        \"description\": \"{{widgetDescription}}\",\r\n        \"properties\": {\r\n          \"type\": {\r\n            \"type\": \"string\",\r\n            \"enum\": [\r\n              \"none\",\r\n              \"activityfeed\"\r\n            ],\r\n            \"title\": \"{{embedWidgetSectionTitle}}\",\r\n            \"description\": \"{{embedWidgetSectionDesc}}\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"workspace\": {\r\n        \"fields\": {\r\n          \"properties\": {\r\n            \"fields\": {\r\n              \"title\": {\r\n                \"type\": \"otconws_metadata_string\"\r\n              },\r\n              \"type\": {\r\n                \"type\": \"otconws_metadata_string\"\r\n              },\r\n              \"description\": {\r\n                \"type\": \"otconws_metadata_string\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"widget\": {\r\n        \"fields\": {\r\n          \"type\": {\r\n            \"type\": \"select\",\r\n            \"optionLabels\": [\r\n              \"{{embedWidgetOptionLabelNone}}\",\r\n              \"{{embedWidgetOptionLabelActivityFeed}}\"\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!conws/widgets/team/team.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{tileTitle}}\",\r\n        \"description\": \"{{tileDescription}}\"\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!conws/widgets/myworkspaces/myworkspaces.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{tileTitle}}\",\r\n  \"description\": \"{{tileDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"required\": [ \"workspaceTypeId\" ],\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{titleSection}}\",\r\n        \"description\": \"{{titleDescription}}\"\r\n      },\r\n      \"workspaceTypeId\": {\r\n        \"type\": \"integer\",\r\n        \"title\": \"{{WorkspaceTypeTitle}}\",\r\n        \"description\": \"{{WorkspaceTypeDesc}}\"\r\n      },\r\n      \"collapsedView\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{collapsedViewTitle}}\",\r\n        \"description\": \"{{collapsedViewDesc}}\",\r\n        \"properties\": {\r\n          \"noResultsPlaceholder\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{noResultsPlaceholderTitle}}\",\r\n            \"description\": \"{{noResultsPlaceholderDesc}}\"\r\n          }\r\n        }\r\n      },\r\n      \"expandedView\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{expandedViewTitle}}\",\r\n        \"description\": \"{{expandedViewDesc}}\",\r\n        \"properties\": {\r\n          \"customColumns\": {\r\n            \"type\": \"array\",\r\n            \"title\": \"{{customColumnsTitle}}\",\r\n            \"description\": \"{{customColumnsDesc}}\",\r\n            \"items\": {\r\n              \"type\": \"object\",\r\n              \"description\": \"{{itemsSectionDesc}}\",\r\n              \"properties\": {\r\n                \"key\": {\r\n                  \"type\": \"string\",\r\n                  \"description\": \"{{keyDescription}}\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"orderBy\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{orderBySectionTitle}}\",\r\n            \"description\": \"{{orderBySectionDesc}}\",\r\n            \"properties\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"string\",\r\n                \"description\": \"{{sortColumnSectionDesc}}\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"string\",\r\n                \"default\": \"asc\",\r\n                \"enum\": [ \"asc\", \"desc\" ],\r\n                \"title\": \"{{sortOrderSectionTitle}}\",\r\n                \"description\": \"{{sortOrderSectionDesc}}\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      },\r\n      \"workspaceTypeId\": {\r\n        \"type\": \"otconws_workspacetype_id\"\r\n      },\r\n      \"collapsedView\": {\r\n        \"fields\": {\r\n          \"noResultsPlaceholder\": {\r\n            \"type\": \"otcs_multilingual_string\"\r\n          }\r\n        }\r\n      },\r\n      \"expandedView\": {\r\n        \"fields\": {\r\n          \"customColumns\": {\r\n            \"items\": {\r\n              \"fields\": {\r\n                \"key\": {\r\n                  \"type\": \"otconws_customcolumn\",\r\n                  \"type_control\": {\r\n                    \"parameters\": {\r\n                      \"dialogTitle\": \"{{customColumnPickerTitle}}\"\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"orderBy\": {\r\n            \"fields\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"otconws_customcolumn\",\r\n                \"type_control\": {\r\n                  \"parameters\": {\r\n                    \"dialogTitle\": \"{{customColumnPickerTitle}}\"\r\n                  }\r\n                }\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"select\",\r\n                \"optionLabels\": [\r\n                  \"{{sortOrderOptionLabelAsc}}\",\r\n                  \"{{sortOrderOptionLabelDesc}}\"\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!conws/widgets/metadata/metadata.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"type\": \"object\",\r\n        \"title\":  \"{{tileTitle}}\",\r\n        \"description\": \"{{tiledescription}}\"\r\n      },\r\n      \"hideEmptyFields\": {\r\n        \"type\": \"boolean\",\r\n        \"enum\": [true, false],\r\n        \"default\": false,\r\n        \"title\": \"{{hideEmptyFieldsTitle}}\",\r\n        \"description\": \"{{hideEmptyFieldsDescription}}\"\r\n      },\r\n      \"relatedWorkspaces\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{relatedWSSectionTitle}}\",\r\n        \"description\": \"{{relatedWSSectionDescription}}\",\r\n        \"properties\":{\r\n          \"relatedGroupName\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{relatedGroupNameTitle}}\",\r\n            \"description\": \"{{relatedGroupNameDescription}}\"\r\n          },\r\n          \"workspaceTypes\": {\r\n            \"type\": \"array\",\r\n            \"title\": \"{{metadataTitle}}\",\r\n            \"description\": \"{{metadataDescription}}\",\r\n            \"items\": {\r\n              \"type\": \"object\",\r\n              \"properties\": {\r\n                \"workspaceTypeId\": {\r\n                  \"title\": \"{{workspacetypeTitle}}\",\r\n                  \"description\": \"{{workspacetypeTitleDescription}}\",\r\n                  \"type\": \"integer\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"metadata\": {\r\n        \"type\": \"array\",\r\n        \"title\": \"{{metadataSectionTitle}}\",\r\n        \"description\": \"{{metadataSectionDescription}}\",\r\n        \"items\": {\r\n          \"type\": \"object\",\r\n          \"title\": \"{{categoryOrAttributeTitle}}\",\r\n          \"description\": \"{{categoryOrAttributeDescription}}\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      },\r\n      \"relatedWorkspaces\":{\r\n        \"fields\":{\r\n          \"relatedGroupName\": {\r\n            \"type\": \"otcs_multilingual_string\"\r\n          },\r\n          \"workspaceTypes\": {\r\n            \"items\": {\r\n              \"fields\": {\r\n                \"workspaceTypeId\":{\r\n                  \"type\": \"otconws_workspacetype_id\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"metadata\": {\r\n        \"fields\": {\r\n          \"item\": {\r\n            \"type\": \"otconws_metadata\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!conws/widgets/configurationvolume/configurationvolume.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"kind\": \"tile\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"shortcutTheme\": {\r\n        \"title\": \"{{shortcutThemeTitle}}\",\r\n        \"description\": \"{{shortcutThemeDescription}}\",\r\n        \"type\": \"string\",\r\n        \"enum\": [\r\n          \"csui-shortcut-theme-stone1\",\r\n          \"csui-shortcut-theme-stone2\",\r\n          \"csui-shortcut-theme-teal1\",\r\n          \"csui-shortcut-theme-teal2\",\r\n          \"csui-shortcut-theme-pink1\",\r\n          \"csui-shortcut-theme-pink2\",\r\n          \"csui-shortcut-theme-indigo1\",\r\n          \"csui-shortcut-theme-indigo2\"\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"shortcutTheme\": {\r\n        \"type\": \"select\",\r\n        \"optionLabels\": [\r\n          \"{{shortcutThemeStone1}}\",\r\n          \"{{shortcutThemeStone2}}\",\r\n          \"{{shortcutThemeTeal1}}\",\r\n          \"{{shortcutThemeTeal2}}\",\r\n          \"{{shortcutThemePink1}}\",\r\n          \"{{shortcutThemePink2}}\",\r\n          \"{{shortcutThemeIndigo1}}\",\r\n          \"{{shortcutThemeIndigo2}}\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n});\n\n","csui.define('conws/widgets/configurationvolume/impl/nls/configurationvolume.manifest',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/configurationvolume/impl/nls/root/configurationvolume.manifest',{\r\n  \"widgetTitle\": \"Configuration Volume\",\r\n  \"widgetDescription\": \"Tile representing hyperlinks to volumes; it navigates to its page when\" +\r\n                       \" clicked\",\r\n  \"shortcutThemeTitle\": \"Theme\",\r\n  \"shortcutThemeDescription\": \"Styling of the volumes\",\r\n  \"shortcutThemeStone1\": \"Stone Group 1\",\r\n  \"shortcutThemeStone2\": \"Stone Group 2\",\r\n  \"shortcutThemeTeal1\": \"Teal Group 1\",\r\n  \"shortcutThemeTeal2\": \"Teal Group 2\",\r\n  \"shortcutThemePink1\": \"Pink Group 1\",\r\n  \"shortcutThemePink2\": \"Pink Group 2\",\r\n  \"shortcutThemeIndigo1\": \"Indigo Group 1\",\r\n  \"shortcutThemeIndigo2\": \"Indigo Group 2\"\r\n});\r\n\n","\n","csui.define('conws/widgets/team/impl/nls/team.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('conws/widgets/team/impl/nls/root/team.manifest',{\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tileDescription\": \"Title in collapsed view\",\r\n\t\"widgetTitle\": \"Team\",\r\n\t\"widgetDescription\": \"Shows the team members of a business workspace\"\r\n});\n","\n","csui.define('conws/widgets/metadata/impl/nls/metadata.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('conws/widgets/metadata/impl/nls/root/metadata.manifest',{\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tiledescription\": \"Title of the Metadata widget\",\r\n\t\"widgetTitle\": \"Metadata\",\r\n\t\"widgetDescription\": \"Shows metadata for a business workspace\",\r\n\t\"hideEmptyFieldsTitle\": \"Hide empty fields\",\r\n\t\"hideEmptyFieldsDescription\": \"Display only fields with values\",\r\n\t\"metadataSectionTitle\" : \"Metadata\",\r\n\t\"metadataSectionDescription\": \"Metadata displayed in Metadata widget\",\r\n\t\"categoryOrAttributeTitle\": \"Category or attribute\",\r\n\t\"categoryOrAttributeDescription\": \"Category or attribute with metadata\",\r\n\t\"relatedWSSectionTitle\": \"Related Workspaces\",\r\n\t\"relatedWSSectionDescription\": \"Links to parent business workspaces\",\r\n\t\"workspacetypeTitle\": \"Workspace type\",\r\n\t\"workspacetypeTitleDescription\": \"A single related workspace of this workspace type will be displayed in the widget\",\r\n\t\"relatedGroupNameTitle\": \"Group Name\",\r\n\t\"relatedGroupNameDescription\": \"Entering a name will create a group with that name. Workspace types will be added to the group. Clearing the field causes Workspace types to be added normally.\",\r\n\t\"metadataTitle\": \"Workspace types\",\r\n\t\"metadataDescription\": \"Workspace type list to show one related workspace of every configured workspace type in this widget\"\r\n});\n","\n","csui.define('conws/widgets/relatedworkspaces/impl/nls/relatedworkspaces.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/impl/nls/root/relatedworkspaces.manifest',{\r\n\t\"widgetTitle\": \"Related Workspaces\",\r\n\t\"widgetDescription\": \"Shows the related business workspaces for a business workspace\",\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tileDescription\": \"Title of the Related Workspaces widget\",\r\n\t\"workspacetypeTitle\": \"Workspace type\",\r\n\t\"workspacetypeDescription\": \"Workspace type displayed in this widget\",\r\n\t\"relationTypeTitle\": \"Relation type\",\r\n\t\"relationTypeDescription\": \"Relation type of the related workspaces\",\r\n\t\"relationTypeOptionLabelChild\": \"Child\",\r\n\t\"relationTypeOptionLabelParent\": \"Parent\",\r\n\t\"collapsedViewTitle\": \"Collapsed view\",\r\n\t\"collapsedViewDescription\": \"Options for the collapsed view of this widget\",\r\n\t\"noResultsPlaceholderTitle\": \"Message for empty result\",\r\n\t\"noResultsPlaceholderDescription\": \"Message if there are no related business workspaces to display\",\r\n\t\"previewPaneTitle\": \"Preview pane\",\r\n\t\"previewPaneDescription\": \"Options for the preview pane\",\r\n\t\"previewTitle\": \"Preview title\",\r\n\t\"previewDescription\": \"Title of the preview pane\",\r\n\t\"noMetadataMessageTitle\": \"Message for empty metadata\",\r\n\t\"noMetadataMessageDescription\": \"Message if there is no metadata to display\",\r\n\t\"roleTitle\": \"Name of role\",\r\n\t\"roleDescription\": \"The members of the specified role are displayed in the preview\",\r\n\t\"noRoleMembersMessageTitle\": \"Message for empty role\",\r\n\t\"noRoleMembersMessageDesc\": \"Message if there are no role members assigned to the specified role\",\r\n\t\"metadataTitle\": \"Metadata in preview pane\",\r\n\t\"metadataDescription\": \"Metadata displayed in preview pane\",\r\n\t\"CategoryOrAttributeTitle\": \"Category or attribute\",\r\n\t\"CategoryOrAttributeDesc\": \"Category or attribute with metadata\",\r\n\t\"orderTitle\": \"Order by\",\r\n\t\"orderDescription\": \"Sort order of the displayed business workspaces\",\r\n\t\"sortColumnTitle\": \"Column\",\r\n\t\"sortColumnDescription\": \"Column to order by\",\r\n\t\"sortOrderTitle\": \"Sort order\",\r\n\t\"sortOrderDescription\": \"Sort order to be used\",\r\n\t\"sortOrderOptionLabelAsc\": \"Ascending\",\r\n\t\"sortOrderOptionLabelDesc\": \"Descending\",\r\n\t\"relatedWorkspaceTitle\": \"Related workspace title\",\r\n\t\"relatedWorkspaceDesc\": \"Title of the related workspace in collapsed view\",\r\n\t\"valueTitle\": \"Title\",\r\n\t\"valueDescription\": \"Value for the Title field\",\r\n\t\"descriptionSectionTitle\": \"Related workspace description\",\r\n\t\"descriptionSectionDesc\": \"Description of the related workspace in collapsed view\",\r\n\t\"descriptionValueTitle\": \"Description\",\r\n\t\"descriptionFieldValue\": \"Value for the description field\",\r\n\t\"topRightSectionTitle\": \"Top right metadata field\",\r\n\t\"topRightSectionDescription\": \"Metadata displayed in top right  metadata field in collapsed view\",\r\n\t\"topRightLabel\": \"Label\",\r\n\t\"topRightLabelDesc\": \"Label for the metadata field\",\r\n\t\"topRightValue\": \"Value\",\r\n\t\"topRightValueDesc\": \"Value for the top right metadata field\",\r\n\t\"bottomLeftTitle\": \"Bottom left  metadata field\",\r\n\t\"bottomLeftTitleDesc\": \"Metadata displayed in bottom left  metadata field in collapsed view\",\r\n\t\"bottomLeftLabelTitle\": \"Label\",\r\n\t\"bottomLeftLabelDesc\": \"Label for the metadata field\",\r\n\t\"bottomLeftValue\": \"Value\",\r\n\t\"bottomLeftValueDesc\": \"Value for the bottom left metadata  metadata field\",\r\n\t\"bottomRightTitle\": \"Bottom right  metadata field\",\r\n\t\"bottomRightTitleDesc\": \"Metadata displayed in bottom right  metadata field in collapsed view\",\r\n\t\"bottomRightLabel\": \"Label\",\r\n\t\"bottomRightLabelDesc\": \"Label for the metadata field\",\r\n\t\"bottomRightValue\": \"Value\",\r\n\t\"bottomRightValueDesc\": \"Value for the bottom right metadata  metadata field\",\r\n\t\"expandedViewSectionTitle\": \"Expanded view\",\r\n\t\"expandedViewSectionDesc\": \"Options for the expanded view of this widget\",\r\n\t\"expandedViewOrderByTitle\": \"Order by\",\r\n\t\"expandedViewOrderByDesc\": \"Sort order of the displayed business workspaces\",\r\n\t\"expandedViewSortColumnTitle\": \"Column\",\r\n\t\"expandedViewSortColumnDesc\": \"Column to order by\",\r\n\t\"expandedViewSortOrderTitle\": \"Sort order\",\r\n\t\"expandedViewSortOrderDesc\": \"Sort order to be used\",\r\n\t\"customColumnsSectionTitle\": \"Custom columns\",\r\n\t\"customColumnsSectionDesc\": \"Columns displayed in expanded view\",\r\n\t\"customColumnsItemsTitle\": \"Column description\",\r\n\t\"customColumnsItemsDesc\": \"Column displayed in expanded view\",\r\n\t\"customColumnsPropertiesTitle\": \"Column\",\r\n\t\"customColumnsPropertiesDesc\": \"Name of the custom column\"\r\n\t\r\n});\n","\n","csui.define('conws/widgets/header/impl/nls/header.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('conws/widgets/header/impl/nls/root/header.manifest',{\r\n\t\"tileTitle\": \"Header\",\r\n\t\"tileDescription\": \"Header widget for business workspaces\",\r\n\t\"workspaceTitle\": \"Workspace\",\r\n\t\"workspaceDescription\": \"Workspace specific options\",\r\n\t\"workspacePropertiesTitle\": \"Properties\",\r\n\t\"workspacePropertiesDesc\": \"Configuration properties\",\r\n\t\"businessworkspaceTitle\": \"Title\",\r\n\t\"businessworkspaceDesc\": \"Name of the business workspace\",\r\n\t\"workspaceTypeTitle\": \"Type\",\r\n\t\"workspaceTypeDesc\": \"Name of the workspace type\",\r\n\t\"descriptionSectionTitle\": \"Description\",\r\n\t\"descriptionSection\": \"Description of the business workspace\",\r\n\t\"widgetTitle\": \"Widget\",\r\n\t\"widgetDescription\": \"Additional widget that can be embedded in the header widget\",\r\n\t\"embedWidgetSectionTitle\": \"Embed widget\",\r\n\t\"embedWidgetSectionDesc\": \"Widget to be embedded in the header widget\",\r\n\t\"embedWidgetOptionLabelNone\": \"None\",\r\n\t\"embedWidgetOptionLabelActivityFeed\": \"Activity Feed\"\r\n});\n","\n","csui.define('conws/widgets/myworkspaces/impl/nls/myworkspaces.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('conws/widgets/myworkspaces/impl/nls/root/myworkspaces.manifest',{\r\n\t\"tileTitle\": \"Workspaces\",\r\n\t\"tileDescription\": \"Shows business workspaces that are relevant in this perspective and role\",\r\n\t\"titleSection\": \"Title\",\r\n\t\"titleDescription\": \"Title of the Workspaces widget\",\r\n\t\"WorkspaceTypeTitle\": \"Workspace type\",\r\n\t\"WorkspaceTypeDesc\": \"Workspace type displayed in this widget\",\r\n\t\"collapsedViewTitle\": \"Collapsed view\",\r\n\t\"collapsedViewDesc\": \"Options for the collapsed view of the widget\",\r\n\t\"noResultsPlaceholderTitle\": \"Message for empty result\",\r\n\t\"noResultsPlaceholderDesc\": \"Message if there are no business workspaces to display\",\r\n\t\"expandedViewTitle\": \"Expanded view\",\r\n\t\"expandedViewDesc\": \"Options for the expanded view of this widget\",\r\n\t\"orderBySectionTitle\": \"Sort by\",\r\n\t\"orderBySectionDesc\": \"Sort order of the displayed business workspaces\",\r\n\t\"sortColumnSectionDesc\": \"Column to order by\",\r\n\t\"sortOrderSectionTitle\": \"Direction\",\r\n\t\"sortOrderSectionDesc\": \"Sort order to be used\",\r\n\t\"sortOrderOptionLabelAsc\": \"Ascending\",\r\n\t\"sortOrderOptionLabelDesc\": \"Descending\",\r\n\t\"customColumnsTitle\": \"Custom columns\",\r\n\t\"customColumnsDesc\": \"Columns displayed in expanded view\",\r\n\t\"customColumnPickerTitle\": \"Column\",\r\n\t\"itemsSectionDesc\": \"Column displayed in expanded view\",\r\n\t\"keyDescription\": \"Name of the custom column\"\r\n});\n","// Lists explicit locale mappings and fallbacks\r\ncsui.define('conws/utils/usersettings/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\r\n\n","csui.define('conws/utils/usersettings/impl/nls/root/lang',{\r\n    navModeLabel: 'Navigation tree',\r\n    navModeText: 'When on, a navigation tree lets you browse a business workspace. When off, a simple up-navigation is available.',\r\n    navHeader:'Business Workspace',\r\n    navInvalidAttribute: 'Attribute {0} is invalid.'\r\n});\n","\n","csui.define('conws/utils/usersettings/impl/usersettings.model',['module',\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/backbone',\r\n    'csui/utils/url',\r\n    'csui/utils/log',\r\n    'csui/models/mixins/connectable/connectable.mixin',\r\n    'csui/models/mixins/uploadable/uploadable.mixin',\r\n    'i18n!conws/utils/usersettings/impl/nls/lang'\r\n  ],\r\n  function (module, $, _, Backbone, Url, Log, ConnectableMixin, UploadableMixin, lang) {\r\n    \"use strict\";\r\n\r\n    var log = new Log( module.id );\r\n\r\n    var UserSettingsModel = Backbone.Model.extend({\r\n\r\n      constructor: function (options) {\r\n        Backbone.Model.prototype.constructor.apply(this, arguments);\r\n        this.set({id: options.userid},{silent: true}); // set some .id so the model not considered new anymore. PUT will be used for saving\r\n        this.makeConnectable(options);\r\n        this.makeUploadable(options);\r\n      },\r\n\r\n      validate: function () {\r\n        if (!(this.get('conwsNavigationTreeView') === true || this.get('conwsNavigationTreeView') === false)) {\r\n          var errMsgNav = _.str.sformat(lang.navInvalidAttribute, \"conwsNavigationTreeView\");\r\n          log.debug(errMsgNav);\r\n          return errMsgNav;\r\n        }\r\n      },\r\n\r\n      url: function () {\r\n        var url = Url.combine(this.connector.getConnectionUrl().getApiBase('v2'), 'members/preferences');\r\n        url = Url.appendQuery(url, \"metadata=true&config_name=SmartUI\"); // query part will be trimmed for PUT calls\r\n        return url;\r\n      },\r\n\r\n      parse: function(response, options) {\r\n        if (Array.isArray(response.results)) {\r\n          // GET\r\n          var data = response.results[0].data;\r\n          var conwsNavigationTreeView = false;\r\n          if (data && data.config_name === 'SmartUI') {\r\n            conwsNavigationTreeView = data.preferences.conwsNavigationTreeView;\r\n          }  else {\r\n            log.debug(\"could not read conwsNavigationTreeView in response, defaulting to 'false'\");\r\n          }\r\n          return {'conwsNavigationTreeView':conwsNavigationTreeView};\r\n        } else {\r\n          // PUT\r\n          var self = response.links.data.self;\r\n          if (self.method !== 'PUT' || self.body.length!==0) {\r\n            // error response, what to do here\r\n            log.debug('incomprehensible response of PUT');\r\n          } else {\r\n            return {};\r\n          }\r\n        }\r\n      },\r\n\r\n      // message for upload to the server\r\n      prepare: function (data, options) {\r\n        return {\"SmartUI\":{\"conwsNavigationTreeView\":data.conwsNavigationTreeView}};\r\n      }\r\n\r\n    });\r\n\r\n    ConnectableMixin.mixin(UserSettingsModel.prototype);\r\n    UploadableMixin.mixin(UserSettingsModel.prototype);\r\n\r\n    return UserSettingsModel;\r\n\r\n  });\n","csui.define('conws/utils/usersettings/usersettings.tabs/navigation.field.view',['csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/models/form',\r\n  'csui/models/forms',\r\n  'csui/controls/form/form.view',\r\n  'csui/utils/contexts/page/page.context',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/utils/base',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'conws/utils/usersettings/impl/usersettings.model',\r\n  'i18n!conws/utils/usersettings/impl/nls/lang'\r\n], function ($, _, Marionette, FormModel, FormCollection, FormView, PageContext, BlockingView, base, ModalAlert,\r\n    UserSettingsModel, lang) {\r\n  \"use strict\";\r\n\r\n  var NavigationFieldView = Marionette.ItemView.extend({\r\n\r\n    constructor: function (options) {\r\n      this.model = new UserSettingsModel(options);\r\n      Marionette.ItemView.prototype.constructor.apply(this);\r\n      this.settingsModeChanged = this.model.get('settingsModeChanged') || false;\r\n      BlockingView.imbue(this);\r\n      this.model.fetch();\r\n      this.listenTo(this.model, \"sync\", this.onRender)\r\n          .listenTo(this.model, \"error\", function (model,request,options) {\r\n            this.unblockActions.apply(this, arguments);\r\n            if (request) {\r\n              ModalAlert.showError((new base.Error(request)).message);\r\n            }\r\n          });\r\n    },\r\n\r\n    tagName: 'div',\r\n    template: false,\r\n\r\n    getRawFormsData: function (state) {\r\n      return {\r\n        \"forms\": [{\r\n          \"data\": {\r\n            \"conwsNavigationTreeView\": state\r\n          },\r\n          \"options\": {\r\n            \"fields\": {\r\n              \"conwsNavigationTreeView\": {\r\n                \"hidden\": false,\r\n                \"label\": lang.navModeLabel,\r\n                \"type\": \"checkbox\",\r\n                \"helper\": lang.navModeText\r\n              }\r\n            }\r\n          },\r\n          \"schema\": {\r\n            \"properties\": {\r\n              \"conwsNavigationTreeView\": {\r\n                \"readonly\": false,\r\n                \"required\": false,\r\n                \"type\": \"boolean\"\r\n              }\r\n            },\r\n            \"title\": lang.navHeader,\r\n            \"type\": \"object\"\r\n          }\r\n        }\r\n        ]\r\n      };\r\n    },\r\n\r\n    onRender: function () {\r\n      var navModeCheckedState = this.model.get('conwsNavigationTreeView'),\r\n          formModels = new FormCollection();\r\n      formModels.reset(formModels.parse(this.getRawFormsData(navModeCheckedState)));\r\n      var singleModel = new FormModel(formModels.models[0].attributes.forms[0]),\r\n          contentRegion = new Marionette.Region({\r\n            el: this.el\r\n          }),\r\n          formView = new FormView({\r\n            context: new PageContext(),\r\n            model: singleModel,\r\n            mode: \"create\"\r\n          });\r\n\r\n      this.listenTo(formView, \"change:field\", function (event) {\r\n        this.settingsModeChanged = !this.settingsModeChanged;\r\n        this.model.set({\r\n          'settingsModeChanged': this.settingsModeChanged,\r\n          'conwsNavigationTreeView': event.value\r\n        });\r\n        this.model.save();\r\n      }, this);\r\n      this.listenTo(formView, \"render:form\", function (event) {\r\n        this.trigger(\"childview:rendered\");\r\n      }, this);\r\n\r\n      contentRegion.show(formView);\r\n    }\r\n  });\r\n\r\n  return NavigationFieldView;\r\n});\n","csui.define('conws/utils/usersettings/usersettings.tabs/core.usersettings.tabs',['conws/utils/usersettings/usersettings.tabs/navigation.field.view'],\r\n function (NavigationFieldView) {\r\n    return {\r\n        sequence: 101,\r\n        viewClass: NavigationFieldView,\r\n    };\r\n});\n","// Placeholder for the build target file; the name must be the same,\r\n// include public modules from this component\r\n\r\ncsui.define('bundles/conws-app',[\r\n  // Icons for additional subtypes\r\n  'conws/utils/icons/icons',\r\n  'conws/utils/icons/conws.icons.v2',\r\n\r\n  // Public controls\r\n  'conws/controls/inlineforms/conwstemplate/conws.inlineform.schemas',\r\n  'conws/controls/form/fields/alpaca/referencefield',\r\n  'conws/controls/form/fields/alpaca/alpcustomcolumnpickerfield',\r\n  'conws/controls/form/fields/alpaca/alpworkspacetypefield',\r\n  'conws/controls/form/fields/alpaca/alpworkspacefield',\r\n  'conws/controls/form/fields/customcolumnpickerfield.view',\r\n  'conws/controls/form/fields/reference.view',\r\n  'conws/controls/form/fields/workspacefield.view',\r\n  'conws/controls/description/description.view',\r\n  'conws/controls/lazyactions/lazyToolbar.view',\r\n  'conws/controls/selectedmetadataform/selectedmetadataform.view',\r\n  'conws/controls/table/cells/role/role.view',\r\n  'conws/controls/table/cells/permission/role.permission.level.view',\r\n  'conws/controls/userpicker/role.view',\r\n  'conws/controls/userpicker/conws.roles',\r\n\r\n  // Dialogs\r\n  'conws/dialogs/addoreditrole/addoreditrole.wizard',\r\n  'conws/dialogs/applyrolepermissions/apply.role.permissions.view',\r\n  'conws/dialogs/regen.reference/regen.reference.view',\r\n  'conws/dialogs/applyrolepermissions/impl/header/apply.role.permissions.header.view',\r\n\r\n  // Node picker start locations\r\n  'conws/dialogs/node.picker/start.locations/facets.volume/facets.volume.factory',\r\n\r\n  // Toolbar extensions\r\n  'conws/utils/commands/tabletoolbar.extension',\r\n  'conws/utils/commands/navigate/toolbaritems',\r\n  'conws/utils/commands/permissions/permissions.dropdown.menu.items.extension',\r\n  'conws/utils/commands/permissions/permissions.list.toolbaritems.extension',\r\n  'conws/controls/treebrowse/workspace.navigation.tree.plugin',\r\n\r\n  // Navigation header extension\r\n  'conws/controls/navigation.header/conws.add.navigation.header.controls',\r\n  'conws/widgets/navigation.header/controls/create.workspace/create.workspace.view',\r\n  'conws/controls/breadcrumbspanel/breadcrumbspanel.extension',\r\n  'conws/utils/context.help/context.help.ids',\r\n\r\n  // Tool items mask\r\n  'conws/widgets/header/impl/headertoolbaritems.masks',\r\n\r\n  // Public commands\r\n  'conws/utils/commands/addconws',\r\n  'conws/utils/commands/addbwsfromsidepanel',\r\n  'conws/utils/commands/addconwstemplate',\r\n  'conws/utils/commands/navigate/navigateup',\r\n  'conws/utils/commands/move',\r\n  'conws/utils/commands/delete',\r\n  'conws/utils/commands/permissions/addoreditrole',\r\n  'conws/utils/commands/addrelateditem',\r\n  'conws/utils/commands/deleterelateditem',\r\n  'conws/utils/commands/permissions/deleterole',\r\n  'conws/utils/commands/permissions/edit.role.permissions',\r\n  'conws/utils/commands/permissions/edit.role.permission.helper',\r\n  'conws/utils/dragndrop/dragndrop.subtypes',\r\n\r\n  // Classes needed public, to be dynamically loaded.\r\n  'conws/widgets/relatedworkspaces/addrelatedworkspaces.search',\r\n\r\n  // Public widgets\r\n  'conws/widgets/relatedworkspaces/relatedworkspaces.view',\r\n  'conws/widgets/header/header.view',\r\n  'conws/widgets/team/team.view',\r\n  'conws/widgets/myworkspaces/myworkspaces.view',\r\n  'conws/widgets/metadata/metadata.view',\r\n  'conws/widgets/outlook/conwsoutlook.view',\r\n  'conws/widgets/configurationvolume/configurationvolume.view',\r\n  'conws/widgets/metadata/metadata.general.form.fields',\r\n\r\n  // Application widgets manifests\r\n  'json!conws/widgets/relatedworkspaces/relatedworkspaces.manifest.json',\r\n  'json!conws/widgets/header/header.manifest.json',\r\n  'json!conws/widgets/team/team.manifest.json',\r\n  'json!conws/widgets/myworkspaces/myworkspaces.manifest.json',\r\n  'json!conws/widgets/metadata/metadata.manifest.json',\r\n  'json!conws/widgets/configurationvolume/configurationvolume.manifest.json',\r\n  // workspace reference, moved to xecmpf\r\n\r\n  // Public library for Outlook integration email service\r\n  'conws/widgets/outlook/impl/utils/emailservice',\r\n  'conws/widgets/outlook/impl/utils/utility',\r\n\r\n  // TODO : Why we need to add these here\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'i18n!conws/utils/previewpane/impl/nls/previewpane.lang',\r\n  'i18n!conws/widgets/outlook/impl/nls/lang',\r\n  'i18n!conws/widgets/configurationvolume/impl/nls/lang',\r\n  'i18n!conws/widgets/configurationvolume/impl/nls/configurationvolume.manifest',\r\n  'i18n!conws/widgets/team/impl/nls/team.manifest',\r\n  'i18n!conws/widgets/metadata/impl/nls/metadata.manifest',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/relatedworkspaces.manifest',\r\n  'i18n!conws/widgets/header/impl/nls/header.manifest',\r\n  'i18n!conws/widgets/myworkspaces/impl/nls/myworkspaces.manifest',\r\n\r\n  //User settings\r\n  'conws/utils/usersettings/usersettings.tabs/core.usersettings.tabs'\r\n\r\n], {});\r\n\r\ncsui.require(['require', 'css'], function (require, css) {\r\n\r\n  css.styleLoad(require, 'conws/bundles/conws-app', true);\r\n\r\n});\r\n\n"]}