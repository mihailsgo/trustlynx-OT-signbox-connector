{"version":3,"sources":["../../src/controls/icons.v2.js","../../src/controls/icon/icon.view.js","../../src/utils/contexts/factories/next.node.js","../../src/utils/contexts/factories/search.query.factory.js","../../src/utils/contexts/factories/search.formquery.factory.js","../../src/controls/tile/behaviors/impl/perfect.scrolling!css","../../src/controls/tile/behaviors/perfect.scrolling.behavior.js","../../src/behaviors/keyboard.navigation/tabables.behavior.js","../../src/behaviors/keyboard.navigation/tabable.region.behavior.js","../../src/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang.js","../../src/controls/globalmessage/impl/progresspanel/impl/nls/root/progresspanel.lang.js","../../src/controls/globalmessage/impl/progresspanel/impl/progressbar!hbs","../../src/controls/globalmessage/impl/progresspanel/impl/progresspanel!css","../../src/controls/globalmessage/globalmessage_icons!css","../../src/controls/globalmessage/impl/progresspanel/progressbar.view.js","../../src/controls/globalmessage/impl/progresspanel/impl/progresspanel!hbs","../../src/controls/globalmessage/impl/progresspanel/progresspanel.view.js","../../src/controls/globalmessage/impl/progressbar.ext!hbs","../../src/controls/globalmessage/progressbar.view.ext.js","../../src/controls/globalmessage/impl/progresspanel.ext!hbs","../../src/controls/globalmessage/progresspanel.view.ext.js","../../src/controls/globalmessage/impl/nls/globalmessage.lang.js","../../src/controls/globalmessage/impl/nls/root/globalmessage.lang.js","../../src/controls/globalmessage/impl/messagedialog!hbs","../../src/controls/globalmessage/impl/messagedialog!css","../../src/controls/globalmessage/impl/messagedialog.view.js","../../src/controls/globalmessage/impl/custom.wrapper.view.js","../../src/controls/globalmessage/impl/loaderpanel/impl/nls/lang.js","../../src/controls/globalmessage/impl/loaderpanel/impl/nls/root/lang.js","../../src/controls/globalmessage/impl/loaderpanel/impl/loaderpanel!hbs","../../src/controls/globalmessage/impl/loaderpanel/impl/loaderpanel!css","../../src/controls/globalmessage/impl/loaderpanel/loaderpanel.view.js","../../src/behaviors/keyboard.navigation/tabkey.behavior.js","../../src/dialogs/modal.alert/modal.alert.js","../../src/controls/globalmessage/globalmessage.js","../../src/behaviors/default.action/impl/command.js","../../src/behaviors/default.action/impl/defaultaction.js","../../src/behaviors/default.action/default.action.behavior.js","../../src/behaviors/dropdown.menu/dropdown.menu.behavior.js","../../src/behaviors/keyboard.navigation/retainfocus.behavior.js","../../src/controls/error/error.view.js","../../src/widgets/error/error.view.js","../../src/behaviors/widget.container/impl/nls/lang.js","../../src/behaviors/widget.container/impl/nls/root/lang.js","../../src/behaviors/widget.container/widget.container.behavior.js","../../src/controls/mixins/view.events.propagation/view.events.propagation.mixin.js","../../src/controls/grid/grid.view.js","../../src/controls/doc.preview/active.plugin.js","../../src/controls/doc.preview/impl/doc.preview!css","../../src/controls/doc.preview/doc.preview.view.js","../../src/utils/commands/open.plugins/impl/brava.plugin.js","../../src/controls/doc.preview/preview.plugins/preview.plugins.js","../../src/controls/node-type.icon/impl/nls/lang.js","../../src/controls/node-type.icon/impl/nls/root/lang.js","hbs!csui/controls/node-type.icon/node-type.icon","css!csui/controls/node-type.icon/impl/node-type.icon.view","../../src/controls/node-type.icon/node-type.icon.view.js","../../src/controls/progressblocker/blocker.js","../../src/controls/perspective.panel/perspective.animator.js","../../src/controls/perspective.panel/perspective.factory.js","../../src/utils/contexts/factories/user.js","../../src/utils/contexts/factories/application.scope.factory.js","../../src/utils/contexts/factories/node.js","../../src/utils/contexts/factories/ancestors.js","../../src/controls/breadcrumbs/breadcrumbs.view.js","../../src/controls/breadcrumbspanel/impl/breadcrumbspanel!hbs","../../src/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang.js","../../src/controls/breadcrumbs/impl/breadcrumb/impl/nls/root/lang.js","../../src/controls/breadcrumbspanel/impl/breadcrumbspanel!css","../../src/controls/breadcrumbspanel/breadcrumbspanel.view.js","../../src/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin.js","../../src/controls/perspective.panel/impl/perspective.with.breadcrumb!hbs","../../src/controls/perspective.panel/impl/perspective.with.breadcrumb.view.js","../../src/controls/perspective.panel/perspective.with.breadcrumb.factory.js","../../src/controls/perspective.panel/impl/perspective.panel!css","../../src/controls/perspective.panel/perspective.panel.view.js","../../src/controls/breadcrumbs/impl/breadcrumb/impl/breadcrumb!hbs","../../src/controls/breadcrumbs/breadcrumb.view.js","../../src/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view.js","../../src/controls/form/pub.sub.js","../../src/controls/mixins/keyboard.navigation/modal.keyboard.navigation.mixin.js","../../src/controls/tab.panel/impl/tab.links!hbs","../../src/controls/tab.panel/impl/tab.link!hbs","../../src/utils/handlebars/l10n.js","../../src/controls/tab.panel/impl/tab.link.view.js","../../src/controls/tab.panel/behaviors/common.keyboard.behavior.mixin.js","../../src/controls/tab.panel/behaviors/tab.links.keyboard.behavior.js","../../src/controls/tab.panel/impl/tab.links.view.js","../../src/controls/tab.panel/impl/tab.content.view.js","../../src/controls/tab.panel/behaviors/tab.contents.keyboard.behavior.js","../../src/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior.js","../../src/controls/tab.panel/impl/tab.contents.view.js","../../src/controls/tab.panel/behaviors/tab.panel.keyboard.behavior.js","../../src/utils/non-emptying.region/non-emptying.region.js","../../src/controls/tab.panel/tab.panel.view.js","../../src/controls/tab.panel/impl/tab.link.dropdown!hbs","../../src/controls/tab.panel/impl/tab.link.dropdown.view.js","../../src/controls/tab.panel/impl/tab.links.dropdown!hbs","../../src/controls/tab.panel/behaviors/tab.links.dropdown.keyboard.behavior.js","../../src/controls/tab.panel/impl/nls/lang.js","../../src/controls/tab.panel/impl/nls/root/lang.js","../../src/controls/tab.panel/impl/tab.links.dropdown!css","../../src/controls/tab.panel/tab.links.dropdown.view.js","../../src/controls/tab.panel/tab.links.ext.scroll.mixin.js","../../src/controls/tab.panel/impl/tab.links.ext!hbs","../../src/controls/tab.panel/impl/tab.link.ext!hbs","../../src/controls/tab.panel/impl/tab.link.ext.view.js","../../src/controls/tab.panel/tab.links.ext.view.js","../../src/controls/perspective.header/impl/perspective.header!hbs","../../src/controls/perspective.header/impl/nls/lang.js","../../src/controls/perspective.header/impl/nls/root/lang.js","../../src/controls/perspective.header/impl/perspective.header!css","../../src/controls/perspective.header/perspective.header.view.js","../../src/controls/mixins/global.alert/global.alert.mixin.js","../../src/utils/contexts/factories/metadata.factory.js","../../src/controls/mixins/view.state/metadata.view.state.mixin.js","../../src/controls/mixins/view.state/node.view.state.mixin.js","../../src/controls/mixins/view.state/toolitems.state.mixin.js","../../src/controls/mixins/view.state/multi.node.fetch.mixin.js","../../src/controls/mixins/view.state/node.selection.restore.mixin.js","../../src/controls/tile/behaviors/blocking.behavior.js","../../src/controls/tile/behaviors/infinite.scrolling.behavior.js","../../src/controls/tile/behaviors/parent.scrollbar.updating.behavior.js","../../src/controls/tile/behaviors/impl/searching.behavior!hbs","../../src/controls/tile/behaviors/searching.behavior.js","../../src/behaviors/drag.drop/dnd.item.behaviour.js","../../src/behaviors/drag.drop/dnd.container.behaviour.js","../../src/perspectives/impl/nls/lang.js","../../src/perspectives/impl/nls/root/lang.js","../../src/perspectives/impl/nls/lang!i18n","../../src/perspectives/mixins/perspective.edit.mixin.js","../../src/perspectives/flow/impl/nls/lang.js","../../src/perspectives/flow/impl/nls/root/lang.js","../../src/perspectives/impl/perspective!css","../../src/perspectives/flow/impl/flow.perspective!css","../../src/perspectives/flow/flow.perspective.view.js","../../src/perspectives/grid/grid.perspective.view.js","../../src/perspectives/zone/impl/zone.perspective!css","../../src/perspectives/zone/zone.perspective.view.js","../../src/perspectives/left-center-right/left-center-right.perspective.view.js","../../src/perspective.manage/impl/nls/lang.js","../../src/perspective.manage/impl/nls/root/lang.js","css!csui/perspectives/banner-content-sidebar/impl/banner-content-sidebar","../../src/perspectives/banner-content-sidebar/banner-content-sidebar.perspective.view.js","hbs!csui/perspectives/sidepanel-left/impl/sidepanel-left","../../src/perspectives/sidepanel-left/sidepanel-left.perspective.view.js","hbs!csui/perspectives/sidepanel-right/impl/sidepanel-right","../../src/perspectives/sidepanel-right/sidepanel-right.perspective.view.js","../../src/perspectives/single/single.perspective.view.js","../../src/utils/contexts/factories/active.tab.factory.js","../../src/perspectives/tabbed/behaviors/tab.extensions.behavior.js","../../src/perspectives/tabbed/tab.index/tab.index.preferences!csui-ext","../../src/perspectives/tabbed/tab.index/tab.index.preferences.js","../../src/perspectives/tabbed/impl/tabbed.perspective!hbs","../../src/perspectives/tabbed/impl/tabbed.perspective!css","../../src/perspectives/tabbed/tabbed.perspective.view.js","hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links","hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link","../../src/perspectives/tabbed-flow/impl/nls/lang.js","../../src/perspectives/tabbed-flow/impl/nls/root/lang.js","css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link","../../src/perspectives/tabbed-flow/impl/edit.perspective/tab.link.view.js","css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links","../../src/perspectives/tabbed-flow/impl/edit.perspective/tab.links.view.js","../../src/perspectives/tabbed-flow/tabbed-flow.perspective.view.js","../../src/pages/start/impl/location.js","../../src/pages/start/perspective.router.js","../../src/pages/start/multi.perspective.routing.js","../../src/pages/start/perspective.routing.js","../../src/pages/start/nls/lang.js","../../src/pages/start/nls/root/lang.js","../../src/pages/start/nls/lang!i18n","../../src/pages/start/impl/nls/lang.js","../../src/pages/start/impl/nls/root/lang.js","../../src/pages/start/impl/nls/lang!i18n","../../src/pages/start/impl/landing.perspective.router.js","../../src/pages/start/impl/node.perspective.router.js","../../src/models/server.adaptors/objecttypes.mixin.js","../../src/models/objecttypesmodel.js","../../src/utils/contexts/factories/objecttypes.factory.js","../../src/pages/start/impl/search.perspective.router.js","../../src/pages/start/impl/metadata.perspective.router.js","../../src/pages/start/impl/root.perspective.router.js","../../src/utils/contexts/factories/next.version.js","../../src/pages/start/impl/version.perspective.router.js","../../src/utils/classic.nodes/impl/core.classic.nodes.js","../../src/utils/content.helper.js","../../src/utils/impl/core.defaultactionitems.js","../../src/utils/non-attaching.region/non-attaching.region.js","../../src/utils/script-executing.region/script-executing.region.js","../../src/utils/node.links/impl/core.node.links.js","../../src/utils/open.authenticated.page.js","../../src/utils/smart.nodes/impl/core.smart.nodes.js","../../src/utils/taskqueue.js","../../src/models/node/node.addable.type.factory.js","../../src/utils/contexts/perspective/plugins/node/utils/merge.extra.data.js","../../src/utils/contexts/perspective/plugins/node/utils/implement.extra.data.js","../../src/utils/contexts/perspective/plugins/node/main.node.extra.data!csui-ext","../../src/utils/contexts/perspective/plugins/node/main.node.extra.data.js","../../src/utils/contexts/perspective/plugins/node/node.extra.data!csui-ext","../../src/utils/contexts/perspective/plugins/node/node.extra.data.js","../../src/utils/contexts/impl/node.opening.context.js","../../src/utils/contexts/factories/previous.node.js","../../src/utils/contexts/impl/delayed.actions.for.node.js","../../src/utils/contexts/browsing/browsing.context!csui-ext","../../src/utils/contexts/browsing/browsing.context.js","../../src/utils/contexts/impl/csui.context.plugin.js","../../src/utils/contexts/portal/portal.context!csui-ext","../../src/utils/contexts/portal/portal.context.js","../../src/utils/contexts/perspective/perspective.context.plugin.js","../../src/utils/contexts/perspective/landing.perspectives!csui-ext","../../src/utils/contexts/perspective/landing.perspectives.js","../../src/utils/contexts/perspective/impl/landing.perspective.context.plugin.js","../../src/utils/contexts/perspective/node.perspectives!csui-ext","../../src/utils/contexts/perspective/node.perspectives.js","../../src/utils/contexts/perspective/plugins/node/node.perspective.context.plugin.js","../../src/utils/contexts/perspective/search.perspectives!csui-ext","../../src/utils/contexts/perspective/search.perspectives.js","../../src/utils/contexts/perspective/plugins/search.perspective.context.plugin.js","../../src/utils/contexts/perspective/impl/search.perspective.context.plugin.js","../../src/utils/contexts/perspective/impl/metadata.perspective.context.plugin.js","../../src/utils/contexts/perspective/impl/root.perspective.context.plugin.js","../../src/utils/contexts/factories/version.js","../../src/utils/contexts/perspective/impl/version.perspective.context.plugin.js","../../src/utils/contexts/perspective/plugins/node/impl/csui.node.extra.data.js","../../src/utils/contexts/perspective/plugins/node/impl/csui.main.node.extra.data.js","../../src/utils/contexts/factories/global.error.js","../../src/utils/contexts/perspective/perspective.guide.js","../../src/utils/contexts/perspective/perspective.context!csui-ext","../../src/utils/contexts/perspective/perspective.context.js","../../src/utils/contexts/factories/appcontainer.js","../../src/utils/contexts/factories/children.js","../../src/utils/contexts/factories/children2.js","../../src/utils/contexts/factories/columns.js","../../src/utils/contexts/factories/columns2.js","../../src/utils/contexts/factories/usernodepermission.js","../../src/utils/contexts/factories/volume.js","../../src/models/widget/nls/lang.js","../../src/models/widget/nls/root/lang.js","../../src/models/widget/nls/lang!i18n","../../src/models/widget/favorites.model.js","../../src/utils/contexts/factories/favorites.js","../../src/utils/contexts/factories/favoritescolumns.js","../../src/utils/contexts/factories/favorites2.js","../../src/utils/contexts/factories/favorite2groups.js","../../src/utils/contexts/factories/favorite2columns.js","../../src/models/widget/myassignments.model.js","../../src/utils/contexts/factories/myassignments.js","../../src/utils/contexts/factories/myassignmentscolumns.js","../../src/models/widget/recentlyaccessed/server.adaptor.mixin.js","../../src/models/widget/recentlyaccessed.model.js","../../src/utils/contexts/factories/recentlyaccessed.js","../../src/utils/contexts/factories/recentlyaccessedcolumns.js","../../src/utils/contexts/factories/search.results.table.columns.js","../../src/models/widget/search.results.tile/search.response.mixin.js","../../src/models/widget/search.results.tile/server.adaptor.mixin.js","../../src/models/widget/search.results.tile/search.results.tile.collection.js","../../src/utils/contexts/factories/search.results.table.factory.js","../../src/utils/contexts/factories/member.js","../../src/models/widget/search.box/server.adaptor.mixin.js","../../src/models/widget/search.box.model.js","../../src/utils/contexts/factories/search.box.factory.js","../../src/models/widget/search.results/search.metadata/search.metadata.mixin.js","../../src/models/widget/search.results/search.metadata/server.adaptor.mixin.js","../../src/models/widget/search.results/search.metadata/search.metadata.model.js","../../src/utils/contexts/factories/search.metadata.factory.js","../../src/utils/contexts/factories/task.queue.factory.js","../../src/models/server.info.js","../../src/utils/contexts/factories/server.info.js","../../src/models/widget/search.results/search.settings/server.adaptor.mixin.js","../../src/models/widget/search.results/search.settings/search.settings.model.js","../../src/utils/contexts/factories/search.settings.factory.js","../../src/utils/contexts/factories/compound.document.reorganize.factory.js","../../src/models/server.adaptors/largefilesettings.mixin.js","../../src/models/largefilesettingsmodel.js","../../src/utils/contexts/factories/largefilesettings.factory.js","../../src/utils/contexts/perspective/impl/perspectives/document.overview.json!json","../../src/utils/contexts/perspective/impl/perspectives/version.overview.json!json","../../src/utils/contexts/perspective/impl/perspectives/favorites2.table.json!json","../../src/utils/contexts/perspective/impl/perspectives/container.json!json","../../src/utils/contexts/perspective/impl/perspectives/metadata.json!json","../../src/utils/contexts/perspective/impl/perspectives/metadata.navigation.json!json","../../src/utils/contexts/perspective/impl/perspectives/myassignmentstable.json!json","../../src/utils/contexts/perspective/impl/perspectives/recentlyaccessedtable.json!json","../../src/utils/contexts/perspective/impl/perspectives/search.json!json","../../src/utils/contexts/perspective/impl/perspectives/saved.query.json!json","../../src/utils/contexts/perspective/impl/perspectives/user.json!json","../../src/utils/contexts/perspective/impl/perspectives/searchresults.table.json!json","../../src/temporary/activeviews/icons/icons.js","../../src/temporary/appearances/icons/icons.js","../../src/temporary/cop/icons/icons!css","../../src/temporary/cop/icons/icons.js","csui-data.js","../../src/pages/start/impl/perspective.factory.js","../../src/pages/start/impl/perspective.router.js","../../src/pages/start/impl/perspective.panel/perspective.animator.js","../../src/pages/start/impl/perspective.panel/perspective.panel.view.js"],"names":["csui","define","_","SmartIconsV2","otherIcons","isArray","i","length","iconsMap","registerIcons","SmartIconView","module","$","Backbone","ModelFactory","ConnectorFactory","NodeModel","commands","prefetch","exec","location","search","initialResourceFetched","extend","propertyPrefix","constructor","context","options","prototype","apply","this","arguments","nextNode","config","initialResponse","Model","fields","properties","versions.element(0)","expands","mapObject","val","key","union","expand","connector","getObject","creationOptions","stateEnabled","getAllSignatures","attributes","property","isFetchable","fetch","promise","SearchQueryModel","__super__","toJSON","searchQuery","models","Marionette","base","Accessibility","getOption","source","value","isFunction","call","view","defaults","usePerfectScrollbar","isAccessibleMode","defaultPluginOptions","minScrollbarLength","stopPropagationOnClick","PerfectScrollingRegion","Region","_swapping","listenTo","_requestScrollbarUpdate","_parent","trigger","PerfectScrollingBehavior","Behavior","contentParent","_applyClasses","_useScrollbar","_usePerfectScrollbar","updateOnWindowResize","_renderState","listenToOnce","$el","on","cid","bind","_updateScrollbarFromPropagation","window","_updateScrollbar","off","_ensureScrollbar","_destroyScrollbar","_refreshScrollbar","CollectionView","collection","_resetTriggered","classes","_contentParent","_getContentParent","suppressScrollX","suppressScrollY","addClass","Error","Object","getPrototypeOf","name","_perfectScrollbar","perfectScrollbar","reduce","result","_setClickEventFocus","yRail","find","xRail","isChrome","_setClickEventRailFocus","yScrollBar","xScrollBar","_setClickEventBarFocus","xyBar","xyRail","self","e","addXYFocus","removeClass","blur","event","stopPropagation","insertAfter","isElement","isTouchBrowser","isIE11","log","id","TabablesBehavior","_pushTabableHandler","tabableRegions","mustSortTabableRegions","_registerEventHandlers","_popTabableHandler","setFocusInActiveTabableRegion","setTimeout","keyCode","_maintainTabFocus","_setFocusToNextRegion","switchViewDialog","registerTabableRegion","tabableRegion","contains","el","unregisterTabableRegionBehavior","push","debug","console","last","reject","trb","tabablesHandlers","topTabablesHandler","each","_unregisterEventHandlers","_clearTabIndexes","tabableHandlerToPop","stopListening","pop","topTabableHandler","setInitialTabIndex","_setFocusInActiveTabableRegion","_sortTabableRegions","sortedTabableRegions","index","_getNextActiveRegion","shiftTab","recursiveNavigate","regions","filter","region","hasClass","lastIndex","activeIndex","_getActiveIndex","elToFocus","getCurrentlyFocusedElementFromView","isTabable","isVisibleInWindowViewport","currentlyActiveTabableRegion","currentlyActive","_deactivateCurrentActiveTabableRegion","activeIdx","undefined","activeView","accDeactivateTabableRegion","ignoreFocusEvents","_setTabableRegionActive","accActivateTabableRegion","document","body","setFocus","preferredRegion","tabableRegionsByWeight","sortBy","initialActivationWeight","reverse","some","notSetFocus","activeElement","tagName","focusables","focusablesSelector","addBack","prop","shiftKey","activeRegion","onLastTabElement","nextActiveRegion","clearTabIndexes","tabablesBehavior","setTabableRegionActive","unregisterTabableRegion","popTabableHandler","tabablesBehaviorRemove","TabableRegionBehavior","tabableRegionBehavior","_eventsRegistered","isRegistered","moveTabIndex","currentlyFocusedElement","focusEl","isString","focus","accessibilityActiveElementClass","warn","message","newlyFocusedElement","accessibilityRegionClass","accessibilityActiveRegionClass","accessibilityFocusableClass","root","en-us","en","BytesOfSize","UploadingItems","UploadingOneItem","UploadingSomeItems","UploadOneItemSuccessMessage","UploadManyItemsSuccessMessage","UploadOneItemFailMessage","MultiUploadOneItemFailMessage","UploadSomeItemsFailMessage","UploadManyItemsFailMessage","UploadSomeItemsFailMessage2","UploadManyItemsFailMessage2","UploadingSingleItem","FinalizingSingleItem","UploadingOneItemStopped","UploadingAllItemsStopped","UploadSomeItemsStopped","State_pending","State_processing","State_resolved","State_rejected","State_aborted","State_stopped","State_stopping","State_finalizing","StateAction_pending","StateAction_processing","StateAction_resolved","StateAction_rejected","StateAction_aborted","Cancel","CancelAria","StateAction_all_pending","StateAction_all_processing","StateAction_all_resolved","StateAction_all_rejected","StateAction_all_aborted","Expand","ExpandAria","Collapse","CollapseAria","Close","CloseAria","minimize","minimizeAria","UploadingLocation","UploadedLocation","Retry","RetryAll","GotoLocationLinkLabel","ErrorIconAria","SuccessIconAria","DetailsListAria","hbs","Handlebars","t","template","1","container","depth0","helpers","partials","data","stack1","helper","lookupProperty","parent","propertyName","hasOwnProperty","nullContext","hash","fn","program","inverse","noop","loc","start","line","column","end","escapeExpression","hooks","helperMissing","2","4","6","7","8","10","12","14","compiler","main","registerPartial","NodeSprites","lang","barTemplate","panelRefreshThrottle","BarStateValues","ItemView","model","node","get","set","type","mime_type","silent","throttle","_updateItem","info","computeProgress","elem","parentView","updateProgressArea","count","total","state","percentage","Math","floor","not","is","ui","itemRow","errorMessage","label","str","sformat","oneFilePending","getItemLabel","className","templateHelpers","singleItem","cancelAria","targetLocation","hideGotoLocationMultiSet","enableCancel","type_icon_class","findClassByNode","forEach","cancel","collapse","close","retry","gotoLocation","gotoLocationLinkLabel","targetLocationUrl","url","enableRetry","errorIconAria","successIconAria","onRender","pendingAction","processingAction","error","retryContainer","retryButton","gotoLocationElem","cancelButton","events","click @ui.pendingAction","click @ui.processingAction","keydown @ui.pendingAction","keydown @ui.processingAction","click @ui.retryButton","keydown @ui.retryButton","click @ui.gotoLocationElem","keydown","button","removeFocus","doCancel","abort","handleKeydownOnCancel","processRetry","showGotoLocationElem","showRetryElem","handleKeydownEvent","hanldleClickGotoLocation","preventDefault","handleProgressComplete","3","5","9","i18n","Base","ProgressBarView","panelTemplate","getContainerName","uploadContainer","isMultiContainer","currentModel","nextmodel","CompositeView","focusChildIndex","currentFocusIndex","loadingCount","oneFileSuccess","multiFileSuccess","oneFileFinalizing","multiFilePending","multiFileOneFailure","oneFileFailure","multiFileFailure","someFileSuccess","UploadSomeItemsSuccessMessage","someFilePending","someFileFailure","oneItemStopped","allItemsStopped","someItemsStopped","locationLabelPending","locationLabelCompleted","isLoadTimeAvailable","stoppingLabel","panelStateValues","nextNodeModelFactory","_nextNode","getModel","_updateHeader","setLocationName","originatingView","errorElem","dynamic","progressBar","messageHelper","switchField","bytesOfSize","getReadableFileSizeString","text","attr","css","itemsProcessing","onDestroy","focusingOnList","allFailures","children","invoke","autoHideSuccessBanner","hasLinks","isUndefined","enablePermanentHeaderMessages","hideGotoLocationSingleSet","closePanel","doClose","behaviors","PerfectScrolling","behaviorClass","TabableRegion","isProgressFailed","inArray","isProgressCompleted","unset","isProgressFinalizing","getLocalizedLocation","langForStatus","bundleNumber","currentLocation","bundleDivider","reset","updateProgressPanel","failedCount","notificationIcon","closeAction","header","_isRendered","sort","showretryAll","actionType","showretryAllElem","retryAll","showProgressBar","show","loadingDots","_getFormatString","isMultiFileOneFailure","failed","headerWrapper","expandIcon","allowMultipleInstances","minimizeButton","stateExpandCollapse","arrow","doExpand","doCollapse","isempty","str1","str2","formattedString","fileName","allDone","processing","allAborted","stopped","finalizing","aborted","itemsPending","item","sequence","childView","childViewContainer","childEvents","click:gotolocation","keydown:item","childViewOptions","reorderOnSort","closeAria","detailsListAria","progressTitleId","uniqueId","enableMinimiseButton","comparator","nextModel","collapseAction","expandAction","childContainer","click @ui.closeAction","keydown @ui.closeAction","click @ui.collapseAction","click @ui.expandAction","keydown @ui.expandAction","click @ui.minimizeButton","keydown @ui.minimizeButton","keydown @ui.gotoLocationElem","click @ui.retryAll","keydown @ui.retryAll","positionChange","newWidth","parentWidth","width","translateX","settings","rtl","transform","animated","items","collapsePanel","collapsedWidth","expandPanel","expandedWidth","one","transitionEnd","findByIndex","handleKeydownOnExpand","handleKeydownOnCollapse","onKeyInViewMinimize","_doProcessbarMinimize","onKeyInParentView","focusChanged","allFocusableElements","_getAllFocusableElements","currentlyFocusedElem","has","target","nextFocus","onChildViewKeydown","childview","nextFocusIndex","doShow","relatedView","showPanel","isDestroyed","doResize","toArray","unshift","panel","csuiAfterHide","destroy","fadeoutPanel","handleKeydownOnClose","classList","sizeToParentContainer","minWidth","parseInt","uncompressedMinWidth","handleGotoLocationClick","navigateToLocation","chidlView","processRetryAll","11","13","15","17","18","ProgressBarViewImpl","enhancePanel","notEnhancedPanel","isEnhancedPanel","getElementsByClassName","add","remove","ProgressPanelViewImpl","expandAria","collapseAria","fileUpload","currentstate","Boolean","FewerDetails","MoreDetails","CloseDialog","closeDialogAria","messageClassMap","success","success_with_link","warning","none","stateIconClassMap","closeIconClassMap","stateIcon","closeIcon","messageLink","click @ui.messageLink","click @ui.gotoLocation","focusout @ui.closeIcon","_clearTimeout","details","detailsText","existingDialogs","existingDialogCount","top","margin","currentDialogDetailsWrapper","margin-right","margin-left","csuiAfterShow","_setTimeout","doAutoClose","timeout","clearTimeout","headerId","detailsId","header_text","details_text","action_moredetails","action_fewerdetails","closeDialog","link_url","targetFolder","message_with_link","link_label","onClickLink","onClickGotoLocation","stateClass","closeClass","replaceDummyBackImg","contentView","View","empty","Lang","click @ui.cancel","cancelAndHide","xhr","updateXHRReference","TabKeyBehavior","SmartModelAlert","ModalAlertView","recursiveNavigation","afterModalAlertShown","tabShift","tabElements","_getStartIndex","$tabElem","startIndex","_show","MessageHelper","ProgressPanelView","MessageView","CustomWrapperView","LoaderPanelView","ModalAlert","hasDefaultRegion","globals","setMessageRegionView","messageRegionView","_cleanupPreviousMessageRegion","useClass","classNames","enableMinimiseButtonOnProgressPanel","fileUploadCollection","progressPanel","_makeProgressPanel","setFileUploadCollection","hideFileUploadProgress","showFileUploadProgress","showProgressPanel","relativeView","isActionInProgress","title","inProgress","showError","showPermissionApplyingProgress","permissionAppliedCollection","__makePermissionProgressPanel","commandName","showLoader","loaderPanel","_makeLoaderPanel","args","always","resp","changeLoaderMessage","showMessage","_showMessageView","showCustomView","customView","_ensureMessageRegion","messageView","activatePanel","createPanel","_addEventHandlers","resizeHandler","resizePanel","once","modalContainer","binf_modal","getDefaultContainer","messageContainer","class","style","appendTo","GlobalMessage","CommandHelper","CommandController","executeAction","action","status","signature","command","findWhere","promises","execute","when","fail","showOfflineMessage","NodeCollection","defaultActionItems","DefaultActionController","actionItems","shortcut","fakedActions","original","_fakeActions","getAction","nodes","_resetFakedActions","enabled","actionItem","hasAction","actions","map","getAllCommandSignatures","version","Url","NextNodeModelFactory","SearchQueryModelFactory","SearchFormModelFactory","nodeLinks","_searchQuery","_searchForm","defaultActionController","onExecuteDefaultAction","can","JSON","stringify","pick","getDefaultActionNodeUrl","getUrl","lastIndexOf","substr","dropdownMenu","show.binf.dropdown","keyup","refilterOnShow","dropdownMenuBehavior","onDomRefresh","$dropdown","dropdownSelector","$dropdownToggle","onShowDropdownRefilterMenuItems","refilter","onKeyUpMenuView","isFirefox","_closeMenu","onKeyInMenuView","binf_dropdown","control","mousedown @ui.control","focusout @ui.control","keydown @ui.control","_isFocused","_isRendering","isRendered","controlEl","_reApplyFocus","_isActive","_startActive","_stopActive","SmartErrorView","ErrorControlView","cvclass","suggestion","loadingWidgetFailedMessage","loadingWidgetFailedSuggestion","require","ErrorView","WidgetContainerBehavior","widgetsResolved","_resolveWidgets","enumerateWidgets","widget","then","resolveWidget","whenAll","getErrorWidget","originalWidget","_loadWidget","Widget","getStackTrace","Deferred","resolve","path","deferred","lastSlash","substring","propagateEventsToViews","views","Array","slice","_eventsToPropagateToViews","_propagateEventToViews","cancelEventsToViewsPropagation","_cancelEventToViewsPropagation","_isShown","_isAttached","isNodeAttached","parameters","triggerMethodOn","ViewEventsPropagationMixin","ColumnView","_addSizeClasses","_addOffsetClasses","_addPullClasses","_addPushClasses","_addHeightClasses","unique","join","tmpAttributes","widgetType","data-csui-widget_type","data-csui-cell_address","cellAddress","cellBehaviours","_init","_createRows","_registerModelEvents","_createCell","cell","rows","_updateWidget","_updateSizes","newWidget","attrs","render","_renderContent","cellConstructionFailed","grid","onBeforeDestroy","_destroyContent","sizes","xs","sm","md","lg","xl","xxl","offset","pulls","pushes","heights","RowsView","CellView","_getCellView","cellViewOptions","_getCellViewOptions","fullOptions","cellView","RowView","child","rowBehaviours","columns","GridRowView","_convertCollection","Collection","_convertRows","addressPrefix","row","rowIndex","_convertColumns","colIndex","getActivePluginView","viewerView","dfd","plugins","plugin","findByNode","viewerModule","widgetView","Viewer","viewerOptions","widgetViewOptions","viewer","response","errorCode","ActivePlugin","responseObject","defaultOptions","skipDestroyUponCollectionRequest","_getNodeModel","isSupported","_setSelectedNodes","selectedNodes","_doCleanUp","commandController","eventArgs","commandSignature","_renderViewerView","_expandPanel","_collapsePanel","allSelectedNodes","selectedItems","layoutState","viewerOpts","resizableWrapperClass","resizableEle","closest","removeAttr","VersionModel","BravaPlugin","requirejs","s","contexts","isBravaViewerAvailable","supportedBravaViewerMimeTypes","bravaView","getUrlQuery","query","func","nodeid","vernum","needsAuthentication","mimeType","indexOf","toLowerCase","decides","shortcutTypeLabel","nodeTypeUnknown","colorTheme","size","iconName","blockParams","depths","lambda","useDepths","Log","nodeSpriteCollection","iconRegistry","setImgUrl","imageElement","imageUrl","setSrc","imgUrl","objUrl","logurl","useAjax","connectionUrl","getConnectionUrl","isAbsolute","getCgiScript","combine","getOrigin","getImageOptions","dataType","connection","makeAjaxCall","statusText","jqxhr","URL","createObjectURL","excludedShortcutTypes","concat","values","NodeTypeIconModel","_useIconwithColorSchema","_getAttributes","_updateModelFromNode","mimeTypeFromNodeSprite","exactNodeSprite","nodeSprite","exactClassName","withColorSchemaIconName","exactIconName","mainClassName","mainIconName","displayThumbnail","displayThumbnailIcon","overlayClassNames","overlayIconNames","originalNodeSprite","imageAttribute","selectable","dummySrc","clear","cssClass","getClassForSize","aria-label","iconElement","NodeTypeIconView","ownModel","attachElContent","_updateTitle","done","revokeObjectURL","SmartBlocker","delay","disableDelay","globalOnly","setModuleConfigs","PerspectiveAnimator","perspectivePanelView","effect","startAnimation","perspectiveView","redraw","triggerMethod","append","swapPerspective","currentPerspectiveView","upcomingPerspectiveView","_insertPerspective","_transitionEnd","showPerspective","finishAnimation","transition","transitions","WebkitTransition","MozTransition","OTransition","element","createElement","PerspectiveFactory","createPerspective","_loadPerspective","PerspectiveView","AuthenticatedUserModel","user","authentication","authenticator","setUserId","ApplicationScopeModel","applicationScope","CloneAndFetchMixin","NodeModelFactory","makeCloneAndFetch","mixin","CollectionFactory","NodeAncestorCollection","ancestors","autoreset","SmartBreadcrumbsView","updateCollection","onClickAncestor","nodeId","viewStateModel","viewState","omit","completeCollection","hrefSrc","subcrumbTooltip","subcrumbAria","breadcrumbAria","AncestorCollectionFactory","ApplicationScopeModelFactory","BreadcrumbsView","BreadcrumbsPanelTemplate","extns","LayoutView","tileBreadcrumb","breadcrumbsWrap","breadcrumbsInner","_showOrHideBreadcrumbs","getCollection","breadcrumbs","refresh","CONSTANTS","START_ID","updateStopIdFromViewState","BREADCRUMB","blockId","viewStateBreadcrumbs","opts","flatten","extn","hideBreadcrumbs","previousBreadcrumbVisibility","hiddenByExtension","hideToggleButton","_breadcrumbsVisible","_breadcrumbsAvailable","fetchOnCollectionUpdate","theme","synchronizeCollections","updateStopId","hideSubCrumbs","hide","showBreadcrumbs","SmartLayoutViewEventsPropagationMixin","NamedSessionStorage","UserModelFactory","BreadcrumbsPanelView","LayoutViewEventsPropagationMixin","PerspectiveWithBreadcrumbView","breadcrumbRegion","perspectiveRegion","propagateEventsToRegions","_supportMaximizeWidget","_supportMaximizeWidgetOnDisplay","serializePerspective","perspectiveModel","swapLayout","perspectiveMarginClass","perspectiveType","perspective","updateUserPreferences","breadcrumbsAvailable","breadcrumbsPanel","userId","userPreferences","prefVisible","_setBreadcrumbsVisibility","args1","args2","breadcrumbsVisible","visible","PerspectiveWithBreadcrumbFactory","supportMaximizeWidget","BlockingView","progressWheel","waitForData","perspectiveShowDelay","limitTimeToWaitForData","maximumTimeToWaitForData","detachableBlockingView","pageUnloading","perspectiveFactory","perspectiveAnimator","imbue","blockingView","showloadingWheel","makeGlobal","_addMaximizedWidget","_removeMaximizedWidget","onChangePerspective","onEnterEditPerspective","onExitEditPerspective","onSerializePerspective","fetchTimeout","_startPerspectiveLoading","_finishPerspectiveLoading","onRendered","_maximizedWidgets","_currentPespectiveStack","_currentPerspectiveSignature","actionsBlocked","blockActions","unblockActions","perspectiveToEdit","isSwitchingEditMode","doChangePerspective","_showModalError","targetPerspective","sourceModel","res","enableMaximizeButton","_setSupportMaximizeWidget","_swapPerspective","splice","_showError","_isInPerspectiveEditMode","perspectiveMode","_triggerDomRefreshOnCurrentPerspective","_setShowingMaximizedWidget","showingMaximizedWidget","ev","currentPerspective","_getCurrentPerspectiveSignature","maximizedWidgetInfo","perspectiveSignature","getCellAddress","_maximizeWidgetView","_restoreWidgetViewSize","_getPerspectiveViewEl","cellSignatures","address","_resetWidgetMaximization","showTimeout","perspectiveShown","_showPerspective","fetchData","mobile","statusCode","href","scopeId","eventName","_showPerspectiveForEditMode","finishShowingPerspective","scrollTop","perViewIndex","oldPerspectiveView","newPerspectiveView","modelEvents","change","click a.csui-breadcrumb","isControlClick","_getModel","subCrumbs","isLastChild","getAncestorUrl","crumb","getDisplayName","displayName","name_formatted","inactive","hasSubCrumbs","subcrumbs","BreadcrumbItemView","Events","_rebuildFocusableElements","focusableElements","findFocusables","_focusHolder","refreshFocusEngage","modalElement","currentIndex","focusableCount","cancelEvent","first","disengage","engageModalKeyboardFocusOnOpen","_allyHandles","disengageModalKeyboardFocusOnClose","hasEngagedModalKeyboardFocus","registerHelper","getClosestLocalizedString","tabLinkTemplate","_isOptionActiveTab","data-csui-tab","role","linkId","selected","show.binf.tab > a","shown.binf.tab > a","link","clickActivatingSemaphore","active","activeTabIndex","activeTab","max","at","activate","binf_tab","isActive","onShowingTab","enter","_index","onShownTab","tabIndex","exit","_findNextFocusableElementIndex","reverseDirection","tabElemId","elemsLength","keyboardBehavior","tabableElements","$currentElem","closestTabable","_findNextValidFocusableElementIndex","_setFirstAndLastFocusable","currentlyFocusedElementInternal","elementCursor","tabPanel","activatingTab","curPos","currentTabPosition","$elem","_autoScrollUntilElemIsVisible","_accSetFocusToPreviousOrNextElement","previous","newTabbedElement","refreshTabableElements","containTargetElement","contain","pos","parents","isSameNode","numberOfTabableElements","tabable","KeyboardBehaviorMixin","lastElemIndex","$tabLink","tabID","_isTablinkVisibleInParents","_findTabIndexByID","skipAutoScroll","csuiPromise","animationOff","_autoScrollTabTo","onKeyInView","ret","keyboardActionDeleteTabPosition","_focusOnTabContent","hrefElem","$hrefElem","focusEvent","Event","tabId","leftScroll","deleteEvent","tabLinksTemplate","TabLinkView","TabLinksKeyboardBehavior","createClickActivatingSemaphore","_clickActivatingSemaphore","mode","overlappingTabActivation","tab_type","tabType","_updateActiveTab","onChildviewActivateTab","$link","linkView","levels","percentX","percentY","isElementVisibleInParents","deleteTabById","TabContentView","contentRegion","delayTabContent","_createContent","_ensureContent","uTabId","aria-labelledby","_ensureViewIsIntact","ensureContent","content","tabContent","tabPane","tabLink","ContentView","_getContentView","contentViewOptions","_getContentViewOptions","containerCollection","alreadyRefreshedTabableElements","keyboardAction","refreshTabableElementsAndSetFocus","focusPos","foundFocusable","activeTabContent","alpaca","urlelem","click","searchTabContentForTabableElements","tabContentAccSelectors","currentTabPos","updateCurrentTabPosition","childTabPanelView","childTabPanel","activeTabLink","TabContentKeyboardBehavior","TabContentProxyKeyboardBehavior","TabContentCollectionView","implementTabContentsDefaultKeyboardHandling","reactToChildEvent","_setLastTabCssClass","targetSelector","binf_scrollspy","onReorder","onAddChild","onRemoveChild","lastChildView","getLastVisibleChild","lastModel","findByModel","getTabContentFirstFocusableELement","charAt","uniqueTabId","elems","tabLinkHref","tabLinks","tabLinksIndex","tabContents","tabContentIndex","_focusOnElement","_checkAndRefreshTabableElements","$focusElem","_moveTo","$focusingElem","isMSBrowser","srcElement","test","tabContentHeaderIndex","tabContentHeader","SmartNonEmptyingRegion","TabLinkCollectionView","TabPanelKeyboardBehavior","NonEmptyingRegion","PubSub","TabPanelView","_generateUniqueTabId","initialPanel","initialTabIndex","findIndex","initialPanelModel","selectedTab","linksRegion","_setModelUniqueTabId","_scrollToActiveTab","extraTopOffset","hrefElems","tabPosTop","offsetTop","scrollspy","animate","newTabHeaderText","html","pubsubPostFix","objPubSubId","_bindingToEvents","TabLinkCollectionViewClass","TabContentCollectionViewClass","tabs","tab","itemTemplate","_linkClicked","deleteTooltip","deleteTabAria","gotoNextTooltip","gotoPreviousTooltip","requiredTooltip","dropdownButtonTitle","dropdownButtonAria","TabLinkDropDownView","collectionTemplate","TabLinksDropdownKeyboardBehavior","DropdownMenuBehavior","single_item","btnId","toggle","menuButton","selectedLabel","selectedTabTitle","_setSelection","matchIndex","_getModelIndexByPropertyValue","_refreshSelection","_updateSelectionLabels","propertty","indexToReturn","selectedId","menuItems","onChildviewClickLink","onChildviewClearActiveTab","activateDropdownTab","_initializeToolbars","tabsSelector","tablinksToolbar","tooltip","leftToolbar","gotoPreviousPage","_gotoPreviousTabClick","_hideLeftToolbar","rightToolbar","gotoNextPage","_gotoNextTabClick","_listenToTabEvent","_listenToTabIdEvent","iTabs","scrollspyActivatingTab","scrollspyActivatingTabId","_beginTabHidden","tabHidden","tabVisible","_trailingTabHidden","_firstVisibleTabIndex","_lastVisibleTabIndex","_showLeftToolbar","_hideTabLinkByRequiredSwitch","$tab","_hideTab","tabDeleteIcon","_showTabLinkByRequiredSwitch","removeable","_showTab","_showLastTab","_enableToolbarState","_gotoPreviousTab","visibleIndex","nextIndex","_gotoNextTab","visibleTabIndex","lastTabIndex","defBeingHandled","$tab2","j","$tab1","duration","recurse","autoScrollingLastTab","_autoScrollLastTab","_autoScrollFirstTabAsync","$tab0","iteration","iDeferred","iter","_autoScrollFirstTab","scrollOptions","firstVisibleIndex","lastVisibleIndex","_autoScrolling","iActive","tabLinkExtTemplate","_getTitle","required_tooltip","delete_icon","delete_tooltip","tabTitle","focus .cs-delete-icon","blur .cs-delete-icon","click .cs-tablink-delete","deleteIcon","deleteIconParent","_setRemoveable","isObject","defaultValue","loadableLocales","locale","onFocusDeleteIcon","onBlurDeleteIcon","onDelete","deleteCurrentTab","TabLinkViewExt","TabLinkCollectionViewExt","toolbar","click .left-toolbar","click .right-toolbar","onToolbarClicked","backTitle","headerTemplate","headerControl","click .cs-back-button-container","icon","onBackButton","restoreLastRouter","prepareForGlobalAlert","handleAlertInProgress","handleAlertComplete","disableCurrentFocusElementHandler","originalCurrentlyFocusedElement","MetadataModel","MetadataModelPrefix","metadataModel","MetadataModelFactory","getViewStateDropdown","getViewState","getDefaultViewStateDropdown","getDefaultViewState","setViewStateDropdown","default","setDefaultViewState","setViewState","setViewStateId","metadataInfo","clone","getViewStateId","isMetadataNavigation","navigator","getThumbnailViewState","isThumbnailView","getViewStateSelectedProperty","selectedProperty","isShowPermissionView","showPermissionView","initOptionsFromMetadataInfo","navigationView","targetView","showCloseIcon","showBackIcon","getViewStatePage","_parsePageInfo","getDefaultViewStatePage","page","split","skip","setViewStatePage","getViewStateOrderBy","uiState","orderBy","order_by","_formatOrderBy","replace","getDefaultViewStateOrderBy","setViewStateOrderBy","stateOrderBy","getViewStateFilter","setViewStateFilter","filterObject","isEmpty","encode","getViewStateTabIndex","setViewStateTabIndex","getDefaultViewStateTabIndex","_restoreCollectionOptionsFromViewState","pageInfo","pageSize","pageNumber","viewStateOrder","viewStateFilter","parse","_hasIcon","_iconName","_icon","_calculateIconName","_stateIsOn","renderIconAndText","renderTextOnly","saveState","isRenderedTextOnly","saveRenderState","makeFocusable","_handleClick","isKeyEvent","closeDropdown","toolItem","isSeparator","_getNodesFromCollection","ids","nodesNotInCollection","nodesInCollection","_fetchNodes","deferreds","initSelectionMixin","getCollectionWithSpecificModelId","getAllSelectedNodes","getContext","getKey","setSelectionKey","newkey","getConnector","removeItemToAllSelectedItems","addItemToAllSelectedItems","resetAllSelectedItems","_multiItemOperationEnded","_saveSelectedNodesInSessionViewState","_restoreSelectedNodesFromSessionViewSate","addTableViewSelectionEvents","tableView","addNodesToSelection","removeNodesFromSelection","MultiSelectCollection","modelId","allSelectedCollection","onRemoveItemFromAllSelectedItems","onAddItemToAllSelectedItems","selectedNode","onResetAllSelectedItems","restoringSelection","getSessionViewState","setSessionViewState","keys","_restoreSelectedNodesPending","_removeSelectedFetchedNodesIds","_afterFetchingAllSelectedNodes","sessionState","_resetSelectedNodeCollections","isTableViewInTheDom","selectedChildren","thumbnailView","thumbnail","where","csuiIsSelected","updateSelectAllCheckbox","querySelector","setupTableSelection","targetModel","onTableViewCollectionSync","enableViewState","clearAllSelectedNodes","selectedModels","blockingParentView","delegate","fetchMoreItemsThreshold","bindEvent","unbindEvent","_bindScrollingEvents","_unbindScrollingEvents","__contentParent","_checkScrollPosition","_content","contentHeight","outerHeight","sum","scrollablePercentage","parentHeight","height","_checkScrollPositionFetch","totalCount","fetching","skipCount","setSkip","merge","triggerScrollbarUpdate","ParentScrollbarUpdatingRegion","searchPlaceholder","headerTitle","searchButton","searchBox","searchInput","clearer","triggers","click .icon-search","_renderSearchButton","_toggleSearching","searchButtonSelector","iconTitle","searchIconTitle","iconAria","searchIconAria","_bindUIElements","direction","DragAndDropItemBehaviour","_registerListeners","_initDnD","DRAGGABLE_CLASSNAME","DRAGGABLE_DATA_ATTR","DnDItemBehaviour","placeholder","handle","draggableItem","disableDraggable","over","receive","_initSorting","_getPlaceholder","currentItem","nodeName","sortable","update","_onSortStart","stop","_onSortStop","out","dragItemId","modelIndex","updatedIndex","invalidWidgetOptions","invalidWidget","widgetsMigrated","widgetValidationFailed","WidgetModel","PerspectiveUtil","CONSTANT_FIELD_TYPES","PerspectiveEditMixin","prepareForEditMode","isValid","_notifyAboutWidgetMigrations","widgets","resolveDeprecates","widgetModel","useInstead","migratedView","migrateData","uniqueWidgets","chain","pluck","allWidgets","w","_resolveWidget","resolvedWidgets","foundDeprecatedWidgets","byId","finalWidget","supressError","_errorHandler","_successHandler","manifest","_isPersonalizeMode","deprecated","userInstead","serializeWidget","constantsDataSeed","getExtraWidgetKeys","___pman_opencallout","removeNullsInObject","widgetManifest","constantsData","collectionConstantData","constants","seed","MODE_PERSONALIZE","executeCallbacks","perspectiveWidgets","loadCallbacks","widgetsWithCallback","widgetWithCallback","initializeWidget","groupBy","deferredEach","widgetCallback","callback","compact","results","priority","overrideType","scope","containerType","perspectiveParentId","overrideObjId","assetContainerId","previousPerspectiveWidgets","getPreviousWidgets","previousWidgets","callbackPromise","getHiddenWidgetOptions","responseParameters","deferredOptions","deferredContainer","widgetPromises","errors","ensureContainerPromise","useOverrideContainer","ensureContainer","ac","promiseBefore","defineWidgetOptionsCommon","commonOptions","newOptions","defineWidgetOptionsEach","errorMsg","now","random","toString","isNaN","perspectiveAssetsVolume","collectOptions","parent_id","responseJSON","getEmptyPlaceholderWidget","getEmptyPlaceholderWidgetType","__isPlacehoder","isEmptyPlaceholder","validateAndGenerateWidgetId","hasWidgetId","KEY_WIDGET_ID","generateWidgetId","widgetIds","uniq","every","obj","_checkAndRemove","isNull","tileLabel","headerLabel","fullpageLabel","Radio","WidgetCollection","GridView","ContextFragment","DnDContainerBehaviour","commonLang","defaultWidgetKind","widgetSizes","fullpage","widths","widetile","tile","FlowPerspectiveView","parentClassName","cellOptions","widgetContainer","errorWidget","_preInitialize","_postInitialize","_prepareOptionsForEditMode","isHiddenWidget","extWidgets","_wrapped","filterUnSupportedWidgets","MODE_EDIT_PERSPECTIVE","_createCollection","widgetCollection","_registerEditEvents","addCell","widgetConfig","newCell","_prepareGridCell","firstHiddenIdx","PerspectiveWidgetConfig","contextFragment","_createDnDPlaceholderWidget","_getDnDPlaceholder","popoverTarget","binf_popover","placeholderWidget","removeData","resolvedWidget","sender","position","preloadedWidgetView","isEligibleForLiveWidget","kind","pespectiveWidgetView","___pman_isdropped","_ensurePlaceholder","cells","placeholderCell","idealIndex","_getPlaceholderIdealIndex","currentPlaceIndex","dndPlaceholderCell","dragEl","widgetInfo","channel","_replaceWidget","currentWidget","widgetToReplace","getPManPlaceholderWidget","widgetUpdates","firstRow","_createColumns","columnIndex","supportedKinds","getSupportedWidgetSizes","suppKind","widgetModels","constant_data","perspectiveResult","constant_extraction_mode","getPerspective","WidgetContainer","filterRows","filterColumns","supportedWidgets","_enumerateWidgetRow","ZonePerspectiveView","zoneNames","unSupportedWidgets","layoutName","_getLayoutName","zoneLayouts","zoneLayout","zoneOrder","zone","zoneConfig","zoneSizes","zoneContent","serializeOptions","layout","center","left","right","left-center","center-right","left-right","left-center-right","_prepareForEditMode","layoutTabTitle","widgetTabTitle","expandTab","collapseTab","noTitle","goBackTooltip","templateMessage","changePageLayoutConfirmatonText","proceedButton","changeLayoutCancelButton","FlowLayoutTitle","LcrLayoutTitle","perspectiveSaveSuccess","personalizationSaveSuccess","saveConfirmMsg","saveConfirmTitle","addWidget","save","saveAriaLabel","cancelAriaLabel","resetAriaLabel","resetConfirmMsg","configNotSupported","disableTitle","resetSuccessful","heroTileLabel","RSPLayoutTitle","LSPLayoutTitle","FlowPerspective","supportedItem","BannerContentSidebarView","scrollableParent","bannerRegion","sidebarRegion","banner","headerView","allowHTMLTilesOnly","addRowBehaviours","heroTile","sidebarView","sidebar","half","quarter","waitFor","clasName","hidden","contentViewWidgetsList","sidebarViewwWidgetsList","setZoneName","a","b","bannerModels","contentModels","sidebarModels","unsetZoneName","perspectiveTemplate","SidepanelLeftPerspectiveView","showBanner","sidebarLeft","sidebarRight","SidepanelRightPerspectiveView","ActiveTabModel","renderExtension","destroyExtension","refreshTab","tabRightExtensionIndex","tabBarLeftExtensionViewClass","tabBarLeftExtensionViewOptions","tabBarRightExtensionViewClass","tabBarRightExtensionViewOptions","tabBarLeftExtensionsRegion","showExtension","tabBarRightExtensionsRegion","viewClass","viewOptions","viewRegion","tabBarExtensionView","customClass","extensions","TabIndexPreferenceModel","getPreferredTabIndex","TabIndexPreferenceCollection","extension","tabIndexPreferences","ActiveTabModelFactory","TabLinksScrollMixin","TabExtensionsBehavior","NodeViewStateMixin","AllowTabIndexBeSet","isFirstRoute","routeFromUrl","isFromHistory","GridRowWidgetContainerView","TabWidgetContainerView","col","_onWindowResize","TabbedPerspectiveView","headerRegion","addUrlParameters","_initActiveTabFromViewState","associatedRouter","ALLOW_WIDGET_URL_PARAMS","onViewStateChanged","tabPanelTab","navigationHeader","_createWidget","tabBarLeftExtensionView","tabBarRightExtensionView","disableExtensionOnFirstTab","disableExtensionOnOtherTabs","_updateToggleHeaderState","_onBeforePopulateTab","_onPopulateTab","_onActivateTab","_notifyHeader","isCollapsed","onBeforeRender","method","newTabIndex","forceActivation","isTabContentCreated","tabPanels","querySelectorAll","activateTabWhenReady","defaultTabIndex","_setFirstTabPanelVisibility","visibility","deleteConfirmTitle","deleteConfirmMsg","removeTab","newTabTitle","newTabInput","click @ui.link","dblclick @ui.tabLink","keydown @ui.editInput","keyup @ui.editInput","focusout @ui.editInput","click @ui.tabRemove","editInput","tabRemove","_onShowTab","_onTabRemove","alertDialog","confirmQuestion","yes","_doRemoveTab","_onTabClick","_editTab","_setEdit","isEdit","_onInputFocusOut","_onInputKeydown","which","_onInputKeyup","_setTabTitle","newTitle","onShow","addNewTab","before:edit","click @ui.addNewTab","remove:tab","enable:addTab","disable:addTab","_onRemoveTab","tabView","isDeletingActive","tabToActivate","_onAddNewTab","newTab","enableAddTab","disableAddTab","onBeforeEditTab","EditPerspectiveTabLinks","_initEditMode","perspectiveSelector","placeholderW","TabbedFlowPerspectiveView","_prepareCell","tabBarExtensionViewClass","tabBarExtensionViewOptions","enableExtensionOnFirstTab","HeaderView","PerspectiveWidgetConfigBehaviour","_handleReplaceWidget","_ensureRegion","headerContainer","getPManWidgetConfig","_onBeforeActivateTab","headerWidget","activeRouter","previousRouter","noViewStateRest","Router","_routeWithSlashes","routeWithSlashes","onOtherRoute","_session","_restoreUrlParamsFromViewState","urlParams","URL_PARAMS","getUrlParametersList","urlParameters","_clearViewStateModelKeys","modified","_resetViewStateModel","STATE","DEFAULT_STATE","SESSION_STATE","QUERY_STRING_PARAMS","getActiveRouter","getPreviousRouter","getInitialViewState","setDefault","restoring","_activeRouterChanged","isViewStateModelSupported","_saveViewState","_initializeViewState","saved_viewState","newViewState","_syncDefaultStateToViewState","defaultState","viewStateKeys","buildUrlParams","defaultViewState","paramsArray","initialUrlParams","entry","param","toUpperCase","_addToParamsArray","CURRENT_ROUTER","queryStringParams","object","found","restore","routerInfo","fragment","urlParam","navigate","history","back","initSessionViewState","initDefaultViewState","getUrlParamsNotInFragment","notInFragment","inUrl","allRoutersUrlParams","initViewStateFromUrlParams","query_string","query_string_params","parseParams","params","originalFragment","excludeUrlParams","urlParamsNotInfragment","appendQuery","mergeUrlParams","ViewStateConstants","CURRENT_ROUTER_FRAGMENT","onNavigationStarted","router","back_to_title","getBackToTitle","navigateOptions","BACK_TO_TITLE","CURRENT_ROUTER_NAVIGATE_OPTIONS","CURRENT_ROUTER_SCOPE_ID","routing","extraRouters","MultiPerspectiveRouting","DefaultRouters","Routers","isDefault","routesWithSlashes","_routers","_informOthers","_context","_originalHistoryLength","started","handlerUrlPathSuffix","rootUrlPath","backboneHistoryStarted","historyOptions","pushState","pathname","getPath","decodeFragment","ensureStart","hasRouted","added","restoreRouter","lastRouterInfo","getRouter","routerToFind","History","instance","PerspectiveRouting","getInstance","inst","ProductName","LandingPageBackTo","UserTitle","NodeTitle","VersionTitle","MetadataTitle","MetadataBackTo","PermissionsTitle","PermissionsBackTo","SearchTitle","SearchBackTo","FavoritesTitle","FavoritesBackTo","MyAssignmentsTitle","MyAssignmentsBackTo","RecentlyAccessedTitle","RecentlyAccessedBackTo","SearchResultsTitle","SearchResultsBackTo","UserLoadingTitle","NodeLoadingTitle","Home","invalidObjectName","mainNavigationAria","profileMenuTitle","profileMenuAria","profileImageAlt","PerspectiveRouter","publicLang","routes","*other","_updateHomeUrl","_updatePageTitle","openLandingPerspective","formatMemberName","nodes/:id","nodes/:id(?*query_string)","_updateNodeUrl","lastNodeId","openNodePerspective","navigateFromUrl","usesIntegerId","rejectPerspective","setId","_updateNodeUrlImmediately","resetQueryStringParams","waitForPerspectiveChange","nextNodeId","uri","encodeURIComponent","_updateSessionState","currentId","newSessionState","_updateBackToTitle","makeServerAdaptor","getApiBase","objecttypes","objects","ConnectableMixin","FetchableMixin","ServerAdaptorMixin","ObjectTypesModel","makeConnectable","makeFetchable","objectTypes","autofetch","SearchFormQueryModelFactory","ObjectTypesFactory","showTitle","enableObjectTypes","search/*path","search/*path(?*query_string)","_updateSearchUrl","searchForm","_updateSearchFormUrl","objectTypesModel","permanent","ensureFetched","openSearchPerspective","decodeURIComponent","trim","_updateSearchQueryPageTitle","_updateSearchFormQueryPageTitle","routerURL","viewStateChanged","lastRouter","LAST_ROUTER","_extractParameters","route","MetadataFactory","nodes/:node_id/metadata","nodes/:node_id/metadata(?*query_string)","nodes/:node_id/metadata/navigator","nodes/:node_id/metadata/navigator(?*query_string)","nodes/:node_id/permissions","nodes/:node_id/permissions(?*query_string)","nodes/:node_id/permissions/navigator","nodes/:node_id/permissions/navigator(?*query_string)","_updateUrl","openPermissions","_updateMetadataInfo","_open","openPermissionsNavigator","openMetadata","openMetadataNavigator","metadata_info","dropdown","newMetadataInfo","newMergedMetadataInfo","dropdownTitle","modelTitle","applicationScopes","myassignments","recentlyaccessed","favorites","searchresults","applicationScopesBackToTitle","myassignments(?*query_string)","recentlyaccessed(?*query_string)","favorites(?*query_string)","searchresults/:id","searchresults/:id(?*query_string)","openRecentlyAccessedPerspective","openApplicationScope","openMyAssignmentsPerspective","openFavoritesPerspective","openSearchResultsPerspective","query_id","VersionCommands","nextVersion","NextVersionModelFactory","nodes/:node_id/versions/:version_number","_updateVersionUrl","_updateVersionPageTitle","openVersionPerspective","versionNumber","version_number","equals","forced","urlQuery","objAction","objId","nexturl","order","summaries","RS_FUNCTION","RSID","getContentPageUrl","cgiUrl","download","combineQueryString","classicNodes","smartNodes","isForced","attachHtml","Connector","openAuthenticatedPage1","completeTargetUrl","getAuthenticationURL","apiUrl","contentWindow","openInNewTab","open","authenticated","xhrFields","withCredentials","authenticationUrl","request","XMLHttpRequest","onreadystatechange","readyState","setRequestHeader","session","ticket","send","openAuthenticatedPage2","createField","field","contentDocument","setAttribute","form","appendChild","submit","newClassicAuth","TaskQueue","parallelism","Infinity","pending","TaskCollection","Task","dequeue","task","shift","NodeAddableTypeCollection","addableTypes","mergeArrays","l","mergeExtraData","merged","extraNodeData","getModelFields","nodeData","getModelExpand","implementExtraData","Context","mainNodeExtraData","nodeExtraData","nodeOptions","includeResources","detached","nodeOpeningOptions","delayRestCommands","defaultActionCommands","_getNodeOptions","onNextNodeChanged","_isFetchable","factory","openNodePage","delayCommands","resetCommands","resetDefaultActionCommands","setCommands","setDefaultActionCommands","setEnabledDelayRestCommands","relayActionEvents","delayedActions","relayRequestNodeActions","relaySyncNodeActions","relayErrorNodeActions","relayUpdateNodeActions","relayActionRetrievedFlag","resumeRelayingActionEvents","relayingActionEvents","_fetchStarted","_fetchSucceeded","_fetchFailed","updateNodeActions","suppressRelayingActionEvents","NodeOpeningContext","PreviousNodeModelFactory","contextPlugins","_changeNode","previousNode","browseNodeOptions","Plugins","_plugins","Plugin","all","enterContainer","openNewNodePage","_enteringContainer","continueFetching","ContextPlugin","ViewStateModel","propagateRequestEventToViewState","onContextFetch","clearViewState","onCreate","onApply","onClear","onRefresh","RulesMatchingMixin","extraPerspectives","UserPerspectiveModel","important","makeRulesMatching","UserPerspectiveCollection","findByUser","matchRules","userPerspectives","PerspectiveContextPlugin","landingPerspectives","PersonalizationModel","suppressFetchResult","onApplicationScopeChanged","userFactory","getFactory","onUserFetchSuccess","onUserFetchFailure","loadPersonalization","_changePerspective","personalization","perspectiveModule","overridePerspective","applyPerspective","NodePerspectiveModel","NodePerspectiveCollection","nodePerspectives","persist","createNodeModel","markFetched","sendOriginParams","nextNodeFactory","_clearModels","recreateNode","clearCurrentNode","delayChangeEvents","hasCollection","updated","triggerAllChanges","headers","X-OriginParams","onNodeFetchSuccess","onNodeFetchFailure","classicUrl","emptySource","oldNonContainer","enableNewPerspectiveNodes","importantPerspective","perspectiveCollection","SearchPerspectiveModel","SearchPerspectiveCollection","findByQuery","searchPerspectives","allowAlphaNumericsInQueryId","onSearchQueryChanged","enableSearchForm","forcePerspectiveChange","_factories","searchTemplate","searchQueryId","loadPerspective","SearchPerspectiveContextPlugin","onMetadataChanged","_prepareContext","lastMetadataInfo","perspectiveName","supportedPerspectives","loadingPerspective","VersionModelFactory","createVersionModel","nextVersionFactory","onVersionChanged","onRetainPerspective","_setAncestortAttrs","recreateVersion","clearCurrentVersion","onVersionFetchSuccess","onVersionFetchFailure","GlobalError","globalError","PerspectiveGuide","sortKeys","isNew","oldPerspective","newPerspective","attributeA","attributeB","isEqual","GlobalErrorModelFactory","CsuiContextPlugin","LandingPerspectiveContextPlugin","online","perspectiveGuide","_applicationScope","_user","corePlugins","allPlugins","fetchPerspective","_destroyNonPermanentFactories","forceChange","wrapperModel","getObjectName","_interceptApplyPerspective","_continueApplyingPerspective","suppressFetch","_destroyTemporaryFactories","informFailure","_informFailure","errorDetails","aggregateResult","errorHandled","offlineErrorHandler","Factory","AppContainerMixin","NodeAncestorsFactory","adaptAddableType","ancestor","type_name","relayEvent","AppContainerFactory","ancestorFactory","makeAppContainer","queryparams","getResourceFieldsUrlQuery","getBrowsableUrlQuery","without","baseUrl","appUrl","prefetchedModels","textStatus","addableTypesPromise","prefetchOptions","contents","props","massageResponse","childrenPromise","links","ancestorsPromise","addMenu","add_menu","addable_node_types","errorThrown","NodeChildrenCollection","allCommands","ChildrenCollectionFactory","NodeChildren2Collection","Children2CollectionFactory","children2","useSpecialPaging","NodeChildrenFactory","NodeColumn2Collection","completeDefinitions","definitions","definitionMap","definition","column_key","default_action","contextual_menu","editable","filter_key","initialSortingDescending","sort_key","markDisplayableColumn","columnKey","formattedIndex","definitions_order","areDifferent","expected","columnProperties","actual","Column2CollectionFactory","columns2","_resetColumns","AuthenticatedUserNodePermissionModel","userNodePermission","volume","setExpand","searchResults","ra_access_date_last","ra_parent_id","ra_name","ra_modify_date","ra_reserved","ra_size","ra_type","ra_favorite","ma_type","ma_name","ma_location_name","ma_location_id","ma_date_due","ma_priority","ma_status","ma_from_user_name","fav_parent_id","fav_favorite_name","fav_size","owner","created","createdBy","owner_user_id","originalParent","filed","failedAria","AdditionalResourcesV2Mixin","FieldsV2Mixin","ExpandableV2Mixin","CommandableV2Mixin","ClientSideBrowsableMixin","BrowsableV2ResponseMixin","NodeChildrenColumnModel","NodeChildrenColumnCollection","FavoriteColumnModel","FavoriteColumnCollection","getColumnModels","columnKeys","FavoriteModel","fav","fav_version","versions","short_name","container_size","file_size","FavoriteCollection","makeAdditionalResourcesV2Mixin","makeFieldsV2","makeExpandableV2","makeCommandableV2","makeClientSideBrowsable","makeBrowsableV2Response","actualSkipCount","filteredCount","getAdditionalResourcesUrlQuery","getExpandableResourcesUrlQuery","getRequestedCommandsUrlQuery","parseBrowsedState","resetColumnsV2","parseBrowsedItems","getResourceScope","deepClone","_additionalResources","setResourceScope","excludeResources","resetFields","setFields","resetExpand","FavoritesCollection","FavoritesCollectionFactory","getDefaultResourceScope","FavoriteCollectionFactory","Favorites2Collection","Favorite2CollectionFactory","getLimitedResourceScope","getDefaultsOnlyResourceScope","Favorite2GroupsCollection","Favorite2GroupsCollectionFactory","favoriteGroups","StateRequestorMixin","MyAssignmentColumnModel","MyAssignmentColumnCollection","getV2Columns","metadata","assignments","location_id_expand","from_user_id_expand","location_name","from_user_name","MyAssignmentModel","first_name","last_name","MyAssignmentCollection","makeStateRequestor","getStateEnablingUrlQuery","originalCompareValues","_compareValues","MyAssignmentCollectionFactory","fetched","MyAssignmentsCollectionFactory","_getSubtypesUrlQuery","where_types","recentlyAccessedSubtypes","DelayedCommandableV2Mixin","RecentlyAccessedColumnModel","RecentlyAccessedColumnCollection","access_date_last","modify_date","parent_name","RecentlyAccessedModel","ra","ra_version","ra_propertiesUser","ra_parentIdExpanded","properties_user","parent_id_expand","parent_id_expanded","RecentlyAccessedCollection","makeDelayedCommandableV2","_prepareModel","promotedActionCommands","nonPromotedActionCommands","topCount","filters","includeActions","includeCommands","RecentlyAccessedCollectionFactory","recentlyAccessed","includeMoreOptions","SearchResultsColumnsCollectionFactory","AncestorModel","isAccessibleTable","makeSearchResponse","parseSearchResponse","sorting","previousOrderBy","jsonResponse","nickname","version_id","reserved_user_id_expand","reserved_user_id","breadcrumbsObj","ancestorIds","breadcrumbIdx","ancestorModel","breadcrumbIndex","breadcrumbItem","currentObject","volume_id","showAsLink","search_result_metadata","originalSync","sync","filterQueryParameterName","cacheId","queryData","limit","getBrowsableParams","prevTopCount","activePageNumber","isTileView","pagination","cache_id","contentType","traditional","addRegionsToPromotedList","featured","searching","sortedColumns","regionMetadata","regions_metadata","metadataOrder","regions_order","columnDefinitions","column_name","completeName","titleAttr","nodesWithVersion","current_version","version_type","sortColumn","trimSortOptionName","featuredList","featuredObject","OTMIMEType","OTName","OTLocation","OTObjectDate","create_date","OTModifyDate","OTObjectSize","size_formatted","BrowsableMixin","BrowsableV1RequestMixin","SearchResponseMixin","SearchResultCollection","makeBrowsable","makeBrowsableV1Request","setDefaultPageNum","setPreviousOrder","skipSort","searchOptions","factoryUID","_onSearchResultsFetched","_onSearchResultsFailed","RequestErrorMessage","MemberModel","member","sliceLabels","slices","returnData","search_forms","sliceIdx","sliceId","sliceDisplayName","recent_search_forms","createSearchFormsList","personal_search_forms","system_search_forms","search_bar_settings","list","listIdx","SearchBoxModel","makeSearchMetadataResponse","parseSearchMetadataResponse","SearchMetadataMixin","SearchMetadataItemModel","idAttribute","SearchMetadataItemsCollection","getColumnKeys","SearchMetadataModel","taskQueue","ServerInfoModel","serverInfoModel","queryString","templateId","RegionsModel","RegionsModelCollection","SearchSettingsModel","displayRegions","display","SearchSettingsCollection","searchSettings","ReorganizeCollection","reorganize","largeFileSettings","is_enabled","max_size","min_size","LargeFileSettingsModel","LareFileSettingsModel","color","bgcolor","shortcutItems","shortcutTheme","styleLoad","PerspectivePanelView"],"mappings":"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IA23D,UAAA5jE,OAAA,MACA0B,YAAA,qCACAuK,WAAA,KAIA23D,UAAA5jE,OAAA,QACA0B,YAAA,qBACAuK,WAAA,KAIA23D,UAAA5jE,OAAA,QACA0B,YAAA,2BACAuK,WAAA,KAIA23D,UAAA5jE,OAAA,QACA0B,YAAA,uBACAuK,WAAA,KAIA23D,UAAA5jE,OAAA,QACA0B,YAAA,sCACAuK,WAAA,KAIA23D,UAAA5jE,OAAA,KACA0B,YAAA,uBACAuK,WAAA,KAIA23D,UAAA5jE,OAAA,MACA0B,YAAA,sBACAuK,WAAA,KAIA23D,UAAA5jE,OAAA,MACA0B,YAAA,2BACAuK,WAAA,KAIA23D,UAAA5jE,OAAA,SACA0B,YAAA,2BACAuK,WAAA,OAMAliB,KAAAC,OAAA,qBC5EA,yBACA,+BAGA,wDAEA,mDACA,sDACA,0DACA,qDACA,4DAGA,iCACA,4CACA,sDACA,+BACA,6CACA,0CACA,4DACA,mDACA,wCACA,oEACA,kEACA,qDACA,mDACA,+DACA,uDACA,yDACA,uDACA,6CACA,4CACA,4DACA,6BACA,2EACA,yCACA,kDACA,qDACA,6CACA,iDACA,iDACA,mEACA,mEACA,yEACA,yEACA,gEACA,gEACA,2DAEA,6CAEA,8CAEA,6CAGA,yFACA,6EACA,uDACA,4DACA,wDACA,wDACA,yDACA,+DAGA,iDACA,2DACA,kEACA,0DACA,kDAGA,uCAGA,+CACA,+CACA,yEACA,mFACA,mEACA,qEACA,mDACA,mDACA,6DACA,+CACA,kDAGA,2DAGA,sCACA,uCACA,6CACA,mDACA,gDACA,kDACA,oDACA,gDACA,mDACA,sCAGA,mDACA,4BACA,6BACA,0CACA,uDACA,qDACA,6DACA,6CACA,qCACA,+CACA,uBACA,uDACA,6DAGA,6CACA,sDACA,gDACA,+CACA,4CACA,0EACA,+EACA,yEACA,4EACA,2EACA,uEACA,0EACA,oEACA,+DACA,yEACA,8EACA,0EACA,sEACA,uDACA,oDACA,sDACA,oDACA,6DACA,sDACA,0CACA,6CACA,yCACA,0CACA,wCACA,yCACA,6CACA,qCACA,0CACA,8CACA,wCACA,6CACA,qCACA,mDACA,uCACA,0DACA,iDACA,gDACA,0CACA,2CACA,iDACA,qDACA,8CACA,wDACA,iDACA,6DACA,6DACA,uCACA,mDACA,yDACA,wDACA,qDACA,iDACA,mDACA,4CACA,wDACA,qEACA,0DACA,oDAGA,iCAGA,gFACA,+EACA,+EACA,wEACA,uEACA,kFACA,iFACA,oFACA,qEACA,0EACA,mEACA,kFAGA,gCACA,4CAIA,yCACA,yCACA,iCAIA,mCACA,uCAEA;+8SAGAD,KAAAm1B,SAAA,UAAA,OAAA,SAAAA,EAAApX,GACAA,EAAA2+E,UAAAvnE,EAAA,0BAAA,KAGAn1B,KAAAC,OAAA,6CC/NA,uDACA,SAAAwkC,GACA,YAIA,OAFAv6B,SAAA8E,KAAA,mGAEAy1B,IAEAzkC,KAAAC,OAAA,4CCRA,sBACA,SAAAmvE,GACA,YAIA,SAAA2D,MAIA,MAFAA,GAAArD,kBAAAN,EAAAM,kBAEAqD,IAGA/yE,KAAAC,OAAA,gECbA,wDACA,SAAAkjC,GACA,YAIA,OAFAj5B,SAAA8E,KAAA,oGAEAm0B,IAEAnjC,KAAAC,OAAA,kECRA,0DACA,SAAA08F,GACA,YAIA,OAFAzyF,SAAA8E,KAAA,sGAEA2tF","file":"csui-data.js","sourcesContent":["/**\r\n * This class has to be remove once SVF-1020 got resolved.\r\n */\r\n\r\ncsui.define('csui/controls/icons.v2',[\r\n  'nuc/lib/underscore',\r\n  'smart/controls/icons.v2/icons.v2',\r\n  'csui-ext!csui/controls/icons.v2'\r\n], function (_, SmartIconsV2, otherIcons) {\r\n\r\n  if (otherIcons) {\r\n    // otherIcons has array of objects with key for each extension\r\n    if (_.isArray(otherIcons)) {\r\n      for (var i = 0; i < otherIcons.length; i++) {\r\n        var iconsMap = otherIcons[i];\r\n        SmartIconsV2.registerIcons(iconsMap);\r\n      }\r\n    } else {\r\n      SmartIconsV2.registerIcons(otherIcons);\r\n    }\r\n  }\r\n\r\n  return SmartIconsV2;\r\n});\r\n\n","/**\r\n * This class will be removed as soon as SVF-1020 got resolved.\r\n */\r\n\r\ncsui.define('csui/controls/icon/icon.view',['smart/controls/icon/icon.view'\r\n], function (SmartIconView) {\r\n  'use strict';\r\n\r\n  return SmartIconView;\r\n});\n","csui.define('csui/utils/contexts/factories/next.node',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/node/node.model',\r\n  'csui/utils/commands'\r\n], function (module, _, $, Backbone, ModelFactory, ConnectorFactory,\r\n    NodeModel, commands) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var NextNodeModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'nextNode',\r\n\r\n    constructor: function NextNodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var nextNode = this.options.nextNode || {},\r\n          config   = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = nextNode.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(nextNode instanceof Backbone.Model)) {\r\n        var fields  = {\r\n              properties: [],\r\n              'versions.element(0)': ['owner_id']\r\n            },\r\n            expands = {\r\n              properties: ['original_id', 'locked_user_id']\r\n            };\r\n        if (nextNode.options) {\r\n          // merge 'fields'\r\n          _.mapObject(nextNode.options.fields, function (val, key) {\r\n            fields[key] = _.union(fields[key], val);\r\n          });\r\n          // merge 'expand'\r\n          _.mapObject(nextNode.options.expand, function (val, key) {\r\n            expands[key] = _.union(expands[key], val);\r\n          });\r\n        }\r\n\r\n        var connector       = context.getObject(ConnectorFactory, options),\r\n            creationOptions = $.extend(true, {\r\n              connector: connector,\r\n              // Do not waste server resources; it returns all it can by default\r\n              fields: fields,\r\n              // Command enabling for shortcuts needs the original node info\r\n              expand: expands,\r\n              // Make sure, that the metadata token is returned for nodes\r\n              // requesated via this factory, because they are supposed to\r\n              // be shared and may be the subject of changes.\r\n              stateEnabled: true,\r\n              // Command enabling needs permitted actions\r\n              commands: commands.getAllSignatures()\r\n            }, config.options, nextNode.options);\r\n        // Next node can be fetched just like node; keep their defaults in sync\r\n        nextNode = new NodeModel(nextNode.attributes || config.attributes,\r\n            creationOptions);\r\n      }\r\n      this.property = nextNode;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return NextNodeModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/search.query.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var SearchQueryModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchQueryModel(attributes, options) {\r\n      SearchQueryModel.__super__.constructor.apply(this, arguments);\r\n    },\r\n\r\n    toJSON: function () {\r\n      return SearchQueryModel.__super__.toJSON.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var SearchQueryModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'searchQuery',\r\n\r\n    constructor: function SearchQueryModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchQuery = this.options.searchQuery || {};\r\n      if (!(searchQuery instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        searchQuery = new SearchQueryModel(searchQuery.models, _.extend({},\r\n            searchQuery.options, config.options));\r\n      }\r\n      this.property = searchQuery;\r\n    }\r\n\r\n  });\r\n\r\n  return SearchQueryModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/search.formquery.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var SearchQueryModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchQueryModel(attributes, options) {\r\n      SearchQueryModel.__super__.constructor.apply(this, arguments);\r\n    },\r\n\r\n    toJSON: function () {\r\n      return SearchQueryModel.__super__.toJSON.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var SearchQueryModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'searchTemplate',\r\n\r\n    constructor: function SearchQueryModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchQuery = this.options.searchQuery || {};\r\n      if (!(searchQuery instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        searchQuery = new SearchQueryModel(searchQuery.models, _.extend({},\r\n            searchQuery.options, config.options));\r\n      }\r\n      this.property = searchQuery;\r\n    }\r\n\r\n  });\r\n\r\n  return SearchQueryModelFactory;\r\n\r\n});\r\n\n","\ncsui.define('css!csui/controls/tile/behaviors/impl/perfect.scrolling',[],function(){});\n","csui.define('csui/controls/tile/behaviors/perfect.scrolling.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/base', 'csui/utils/accessibility',\r\n  'csui/lib/perfect-scrollbar',\r\n  'css!csui/controls/tile/behaviors/impl/perfect.scrolling'\r\n], function (module, _, $, Marionette, base, Accessibility) {\r\n  'use strict';\r\n\r\n  // Default static options for the behaviour object\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    usePerfectScrollbar: false\r\n  });\r\n  if (Accessibility.isAccessibleMode()) {\r\n    config.usePerfectScrollbar = false;\r\n  }\r\n\r\n  // Default options for the perfect scrollbar plugin to be created with\r\n  var defaultPluginOptions = {\r\n    minScrollbarLength: 32,\r\n    stopPropagationOnClick: false\r\n  };\r\n\r\n  var PerfectScrollingRegion = Marionette.Region.extend({\r\n    constructor: function PerfectScrollingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n      // Set when before:swapOut is triggered and reset when its finishing\r\n      // counterpart is triggered to optimize the event handlers for view\r\n      // swapping in the region\r\n      this._swapping = false;\r\n\r\n      // Support scrollbar updates on populating and emptying regions\r\n      this\r\n          .listenTo(this, 'before:swapOut', function () {\r\n            this._swapping = true;\r\n          })\r\n          .listenTo(this, 'swapOut', function () {\r\n            this._swapping = false;\r\n          })\r\n          .listenTo(this, 'show', function () {\r\n            this._requestScrollbarUpdate();\r\n          })\r\n          .listenTo(this, 'empty', function () {\r\n            if (!this._swapping) {\r\n              this._requestScrollbarUpdate();\r\n            }\r\n          });\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // {this.region}.{owning region manager}.{owning layout view}\r\n      this._parent._parent.trigger('update:scrollbar');\r\n    }\r\n  });\r\n\r\n  var PerfectScrollingBehavior = Marionette.Behavior.extend({\r\n    defaults: {\r\n      contentParent: null\r\n    },\r\n\r\n    constructor: function PerfectScrollingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      this.listenTo(view, 'render', this._applyClasses);\r\n\r\n      if (this._useScrollbar() && this._usePerfectScrollbar()) {\r\n        var updateOnWindowResize = getOption.call(this, 'updateOnWindowResize');\r\n        // Increase when before:render and before:render:collection events\r\n        // are triggered and decrease, when their finishing counterparts are\r\n        // triggered to optimize the event handlers for single view adding\r\n        // or removal\r\n        this._renderState = 0;\r\n\r\n        this\r\n        // Bubbling from a child view with ParentScrollbarUpdatingBehavior\r\n        // and window resizing (if the view resizes itself by CSS only)\r\n            .listenToOnce(view, 'render', function () {\r\n              this.view.$el.on('csui:update:scrollbar.' + view.cid,\r\n                  _.bind(this._updateScrollbarFromPropagation, this));\r\n              if (updateOnWindowResize !== false) {\r\n                $(window).on('resize.' + view.cid, _.bind(this._updateScrollbar, this));\r\n              }\r\n            })\r\n            .listenToOnce(view, 'before:destroy', function () {\r\n              this.view.$el.off('csui:update:scrollbar.' + view.cid);\r\n              if (updateOnWindowResize !== false) {\r\n                $(window).off('resize.' + view.cid);\r\n              }\r\n            })\r\n            // Maintain the rendering state for the events triggered between\r\n            // before:render and render\r\n            .listenTo(view, 'before:render', function () {\r\n              this._renderState = 1;\r\n              // console.log('Perfect scrollbar expects render event',\r\n              //     Object.getPrototypeOf(this.view).constructor.name);\r\n            })\r\n            .listenTo(view, 'render', function () {\r\n              this._renderState = 0;\r\n            })\r\n            // Create and destroy the perfect scrollbar plugin\r\n            .listenTo(view, 'dom:refresh', this._ensureScrollbar)\r\n            .listenTo(view, 'ensure:scrollbar', this._ensureScrollbar)\r\n            .listenTo(view, 'before:render', this._destroyScrollbar)\r\n            .listenTo(view, 'before:destroy', this._destroyScrollbar)\r\n            // Listen to requests for an explicit scrollbar update\r\n            .listenTo(view, 'update:scrollbar', this._refreshScrollbar)\r\n            // Delay listening to the collection events; the collection may\r\n            // not be present in the view or its options yet\r\n            .listenToOnce(view, 'before:render', function () {\r\n              // Support optimized adding and removing child views\r\n              // in CollectionView, which does not call render\r\n              if (view instanceof Marionette.CollectionView && view.collection) {\r\n                this\r\n                    .listenTo(view.collection, 'reset', function () {\r\n                      this._resetTriggered = true;\r\n                      // console.log('Perfect scrollbar expects reset event processed',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                    })\r\n                    .listenTo(view, 'before:render:collection', function () {\r\n                      ++this._renderState;\r\n                      // console.log('Perfect scrollbar expects render:collection event',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                    })\r\n                    .listenTo(view, 'render:collection', function () {\r\n                      this._resetTriggered = false;\r\n                      --this._renderState;\r\n                      // console.log('Perfect scrollbar received render:collection event',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, single child view updates were skipped\r\n                      if (!this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from children reset');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'render:empty', function () {\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, no child view updates were performed\r\n                      if (this._resetTriggered || !this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from children emptied');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'add:child', function () {\r\n                      // If a child view was added alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from child add');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'remove:child', function () {\r\n                      // If a child view was removed alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._resetTriggered && !this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from child remove');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    });\r\n              }\r\n            });\r\n      }\r\n    },\r\n\r\n    _applyClasses: function () {\r\n      // console.log('Perfect scrollbar got render in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      var classes;\r\n      this._contentParent = this._getContentParent();\r\n      if (this._useScrollbar()) {\r\n        if (this._usePerfectScrollbar()) {\r\n          classes = 'csui-perfect-scrolling';\r\n        } else {\r\n          var suppressScrollX = getOption.call(this, 'suppressScrollX'),\r\n              suppressScrollY = getOption.call(this, 'suppressScrollY');\r\n          classes = 'csui-normal-scrolling';\r\n          if (suppressScrollX) {\r\n            classes += ' csui-no-scroll-x';\r\n          }\r\n          if (suppressScrollY) {\r\n            classes += ' csui-no-scroll-y';\r\n          }\r\n        }\r\n      } else {\r\n        classes = 'csui-no-scrolling';\r\n      }\r\n      this._contentParent.addClass(classes);\r\n    },\r\n\r\n    _ensureScrollbar: function () {\r\n      // obtain content parent from options if it is available.\r\n      this._contentParent = !!this._contentParent ? this._contentParent : this._getContentParent();\r\n      // console.log('Perfect scrollbar got dom:refresh in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (!this._contentParent) {\r\n        throw new Error('The \"dom:refresh\"\" event was triggered earlier ' +\r\n                        'than the \"render\" event in view ' + this.view.cid +\r\n                        '(' + Object.getPrototypeOf(this.view).constructor.name + ')');\r\n      }\r\n      if (this._perfectScrollbar) {\r\n        //if (!this._contentParent.data('perfect-scrollbar')) { // 'ps-id' for 0.6.7\r\n        //  throw new Error('Uninitialized perfect-scrollbar in view ' + this.view.cid +\r\n        //                  '(' + Object.getPrototypeOf(this.view).constructor.name + ')');\r\n        //}\r\n        this._contentParent.perfectScrollbar('update');\r\n      } else {\r\n        var options = _.reduce(['suppressScrollX', 'suppressScrollY', 'scrollXMarginOffset',\r\n          'scrollYMarginOffset', 'maxScrollbarLength', 'minScrollbarLength', 'includePadding'\r\n        ], function (result, property) {\r\n          var value = getOption.call(this, property);\r\n          value && (result[property] = value);\r\n          return result;\r\n        }, {}, this);\r\n        _.defaults(options, defaultPluginOptions);\r\n        this._contentParent.perfectScrollbar(options);\r\n        this._perfectScrollbar = true;\r\n\r\n        //Keep focus on scroll rail if focus was removed due to an inline click event.\r\n        this._setClickEventFocus();\r\n      }\r\n    },\r\n\r\n    _setClickEventFocus: function () {\r\n      var yRail = this._contentParent.find('.ps-scrollbar-y-rail');\r\n      var xRail = this._contentParent.find('.ps-scrollbar-x-rail');\r\n\r\n      //For chrome only, when you click within a rail to scroll, a mouseleave event is\r\n      //triggered removing focus and hover from the rail. To maintain hover status, a\r\n      //class is added to the scroll rail\r\n      if (base.isChrome()) {\r\n        this._setClickEventRailFocus(yRail);\r\n        this._setClickEventRailFocus(xRail);\r\n      }\r\n      //For FF and IE, when you click to drag a scrollbar, a mouseleave event is\r\n      //triggered removing focus and hover from the rail. To maintain hover status, a\r\n      //class is added to the scroll rail\r\n      else {\r\n        var yScrollBar = this._contentParent.find('.ps-scrollbar-y');\r\n        var xScrollBar = this._contentParent.find('.ps-scrollbar-x');\r\n        this._setClickEventBarFocus(yScrollBar, yRail);\r\n        this._setClickEventBarFocus(xScrollBar, xRail);\r\n      }\r\n    },\r\n\r\n    _setClickEventBarFocus: function (xyBar, xyRail) {\r\n      var self = this;\r\n      xyBar.on('mousedown', function (e) {\r\n        self.addXYFocus = true;\r\n        xyRail.addClass('binf-focus');\r\n      });\r\n      xyRail.on('mouseout', function (e) {\r\n        if (!self.addXYFocus) {\r\n          xyRail.removeClass('binf-focus');\r\n          xyRail.blur();\r\n        }\r\n        self.addXYFocus = false;\r\n      });\r\n    },\r\n\r\n    _setClickEventRailFocus: function (xyRail) {\r\n      var self = this;\r\n      if (xyRail.length > 0) {\r\n        xyRail.on('mouseup', function (e) {\r\n          $(this).addClass('binf-focus');\r\n          self.addXYFocus = true;\r\n        });\r\n        xyRail.on('mouseleave', function (e) {\r\n          if (!self.addXYFocus) {\r\n            $(this).removeClass('binf-focus');\r\n          }\r\n          self.addXYFocus = false;\r\n        });\r\n      }\r\n    },\r\n\r\n    _refreshScrollbar: function () {\r\n      // console.log('Perfect scrollbar was refreshed in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._contentParent && this._perfectScrollbar) {\r\n        // Workaround for broken views, which re-render their content\r\n        // but do not trigger the render event, like table view.\r\n        if (!(this._contentParent.find('.ps-scrollbar-y-rail').length ||\r\n            this._contentParent.find('.ps-scrollbar-x-rail').length)) {\r\n          this._destroyScrollbar();\r\n          this._ensureScrollbar();\r\n        } else {\r\n          this._updateScrollbar();\r\n        }\r\n      }\r\n    },\r\n\r\n    _updateScrollbar: function () {\r\n      // console.log('Perfect scrollbar got update in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._perfectScrollbar) {\r\n        this._contentParent.perfectScrollbar('update');\r\n      }\r\n    },\r\n\r\n    _updateScrollbarFromPropagation: function (event) {\r\n      // console.log('Perfect scrollbar got update from a child in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      event.stopPropagation();\r\n      this._updateScrollbar();\r\n    },\r\n\r\n    _destroyScrollbar: function () {\r\n      // console.log('Perfect scrollbar got destroy or re-render in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._perfectScrollbar) {\r\n        this._contentParent.perfectScrollbar('destroy');\r\n        this._contentParent.find('.ps-scrollbar-y-rail').off();\r\n        this._contentParent.find('.ps-scrollbar-x-rail').off();\r\n        this._perfectScrollbar = false;\r\n      }\r\n    },\r\n\r\n    _getContentParent: function () {\r\n      var contentParent = getOption.call(this, 'contentParent');\r\n      if (contentParent) {\r\n        if (contentParent.insertAfter) { // check for a jQuery object\r\n          return contentParent;\r\n        }\r\n        if (_.isElement(contentParent)) { // check for a HTML element\r\n          return $(contentParent);\r\n        }\r\n        return this.view.$(contentParent); // DOM selector\r\n      }\r\n      return this.view.$el; // use the view root element by default\r\n    },\r\n\r\n    _useScrollbar: function () {\r\n      var scrollingDisabled = getOption.call(this, 'scrollingDisabled') ||\r\n                              getOption.call(this, 'scrollingDisabled', this.view.options);\r\n      return !scrollingDisabled;\r\n    },\r\n\r\n    _usePerfectScrollbar: function () {\r\n      return PerfectScrollingBehavior.usePerfectScrollbar();\r\n    }\r\n  }, {\r\n    // Support showing and emptying regions in LayoutView,\r\n    // which does not call render\r\n    Region: PerfectScrollingRegion,\r\n\r\n    usePerfectScrollbar: function () {\r\n      return config.usePerfectScrollbar &&\r\n             !(base.isTouchBrowser() || base.isIE11());\r\n      //return false;\r\n    }\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, source) {\r\n    var options = source || this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return PerfectScrollingBehavior;\r\n});\r\n\n","csui.define('csui/behaviors/keyboard.navigation/tabables.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/log', 'csui/utils/base'\r\n], function (module, _, $, Marionette, log, base) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  // Default static options for the behaviour object\r\n  var config = module.config();\r\n\r\n  var accessibilityRegionClass = 'csui-acc-tab-region';\r\n  var accessibilityActiveRegionClass = 'csui-acc-tab-region-active';\r\n\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n\r\n  // This behavior implements a controller for one or more views with the tabable.region.behavior\r\n  // applied.\r\n  var TabablesBehavior = Marionette.Behavior.extend({\r\n\r\n        constructor: function TabablesBehavior(options, view) {\r\n          Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n          var self = this;\r\n\r\n          this.view = view;\r\n          this._pushTabableHandler();\r\n\r\n          this.tabableRegions = [];\r\n          this.mustSortTabableRegions = false;\r\n\r\n          // Backbone/Marionette events (are removed in destroy)\r\n          this.listenTo(view, 'render', this._registerEventHandlers);\r\n          this.listenTo(view, 'destroy', this._popTabableHandler);\r\n          this.listenTo(view, 'dom:refresh', this.setFocusInActiveTabableRegion);\r\n\r\n          //In order to prevent tab from going outside a contained area (i.e. dialog),\r\n          //keydown is monitored on the behavioral view. The event listener will only prevent\r\n          //tab outside the behavior view if parameter \"containTabFocus' is set to true.\r\n          // LPAD-54770, Make sure that keydown event is registered only once after view creation\r\n          setTimeout(function () {\r\n            view.$el.on('keydown.csui-tabables', function (event) {\r\n              if (event.keyCode === 9 && getOption.call(self, 'containTabFocus')) {\r\n                return self._maintainTabFocus(event);\r\n              }\r\n            });\r\n          });\r\n\r\n          //Used for cases where focus should be removed from the active behavior region\r\n          //and placed in the text focusable region. For example when 'escape' is used to\r\n          //to move focus outside of a textbox area to the next tabable region.\r\n          this.listenTo(view, 'changed:focus', this._setFocusToNextRegion);\r\n          this.listenTo(view, 'switch:view', function () {\r\n            TabablesBehavior.switchViewDialog();\r\n          });\r\n        }, // constructor\r\n\r\n        registerTabableRegion: function (tabableRegion) {\r\n          if ($.contains(this.view.el, tabableRegion.view.el)) {\r\n            this.unregisterTabableRegionBehavior(tabableRegion);\r\n            this.tabableRegions.push(tabableRegion);\r\n            this.mustSortTabableRegions = true;\r\n            return true;\r\n          } else {\r\n            log.debug('registerTabableRegion: not registering non descendant view ' +\r\n                      tabableRegion.view.constructor.name) &&\r\n            console.log(log.last);\r\n            return false;\r\n          }\r\n        },\r\n\r\n        unregisterTabableRegionBehavior: function (tabableRegion) {\r\n          if (tabableRegion) {\r\n            if (_.contains(this.tabableRegions, tabableRegion)) {\r\n              // remove that tabableRegionBehavior from the tabableRegions array\r\n              log.debug('unregisterTabableRegion for view' + tabableRegion.view.constructor.name) &&\r\n              console.log(log.last);\r\n\r\n              this.tabableRegions = _.reject(this.tabableRegions,\r\n                  function (trb) { return trb === tabableRegion; });\r\n\r\n              // log.debug(\"Unsorted tabable regions:\") && console.log(log.last);\r\n              // _.each(this.tabableRegions, function (tabableRegionBehavior) {\r\n              //   log.debug(\" \" + tabableRegionBehavior.view.constructor.name) &&\r\n              //   console.log(log.last);\r\n              // });\r\n\r\n            }\r\n          }\r\n        },\r\n\r\n        _pushTabableHandler: function () {\r\n          log.debug('_pushTabableHandler in view ' + this.view.constructor.name) &&\r\n          console.log(log.last);\r\n          if (TabablesBehavior.tabablesHandlers.length > 0) {\r\n            var topTabablesHandler = _.last(TabablesBehavior.tabablesHandlers);\r\n\r\n            /*\r\n                        var activeIdx = this._getActiveIndex();\r\n                        if (activeIdx !== undefined) {\r\n                          this.activeTabableRegionIndexBeforePush = activeIdx;\r\n                          var activeTabableRegion = this.tabableRegions[activeIdx];\r\n                          this.focusedElementBeforePush = activeTabableRegion.getCurrentlyFocusedElementFromView();\r\n                        } else {\r\n                          delete this.focusedElementBeforePush;\r\n                          delete this.activeTabableRegionIndexBeforePush;\r\n                        }\r\n            */\r\n\r\n            // invalidate all tabindexes in the current tabable regions before adding the new\r\n            // \"layer\" of tabable regions at the top of the stack.\r\n            // This prevents navigating by tab to any of this tabable regions.\r\n            _.each(topTabablesHandler.tabableRegions, function (tabableRegion) {\r\n              tabableRegion._unregisterEventHandlers.call(tabableRegion);\r\n              topTabablesHandler._clearTabIndexes.call(topTabablesHandler, tabableRegion.view);\r\n            }, this);\r\n\r\n          }\r\n          TabablesBehavior.tabablesHandlers.push(this);\r\n\r\n          // log.debug(\"Tabables after Push:\");\r\n          // _.each(TabablesBehavior.tabablesHandlers, function (tabableHandler) {\r\n          //   log.debug(\"    TabablesBehavior of view \" + tabableHandler.view.constructor.name);\r\n          // });\r\n        },\r\n\r\n        _popTabableHandler: function () {\r\n          if (TabablesBehavior.tabablesHandlers.length > 0) {\r\n\r\n            var tabableHandlerToPop = _.last(TabablesBehavior.tabablesHandlers);\r\n\r\n            log.debug('_popTabableHandler in view ' + tabableHandlerToPop.view.constructor.name) &&\r\n            console.log(log.last);\r\n\r\n            _.each(tabableHandlerToPop.tabableRegions, function (tabableRegion) {\r\n              tabableRegion._unregisterEventHandlers.call(tabableRegion);\r\n            });\r\n\r\n            // LPAD-54770. Remove keydown listener\r\n            tabableHandlerToPop.view.$el.off('keydown.csui-tabables');\r\n\r\n            tabableHandlerToPop.stopListening(tabableHandlerToPop.view);\r\n            TabablesBehavior.tabablesHandlers.pop();\r\n\r\n            // after removing the tabables handler from the stack let the tabable regions, that\r\n            // are now on top of the stack re-set its tabindex values to make it keyboard\r\n            // navigable again\r\n            if (TabablesBehavior.tabablesHandlers.length > 0) {\r\n              var topTabableHandler = _.last(TabablesBehavior.tabablesHandlers);\r\n              _.each(topTabableHandler.tabableRegions, function (tabableRegion) {\r\n                tabableRegion.setInitialTabIndex.call(tabableRegion);\r\n                tabableRegion._registerEventHandlers.call(tabableRegion);\r\n              });\r\n\r\n              topTabableHandler._setFocusInActiveTabableRegion();\r\n            }\r\n          }\r\n          // log.debug(\"Tabables after Pop:\") && console.log(log.last);\r\n          // _.each(TabablesBehavior.tabablesHandlers, function (tabableHandler) {\r\n          //   log.debug(\"    TabablesBehavior of view \" + tabableHandler.view.constructor.name) &&\r\n          //   console.log(log.last);\r\n          // });\r\n        },\r\n\r\n        _sortTabableRegions: function () {\r\n          var tabableRegions = this.tabableRegions;\r\n          var sortedTabableRegions = [];\r\n          var tabableRegionElements = this.view.$el.find('.' + accessibilityRegionClass);\r\n          tabableRegionElements.each(function (index, el) {\r\n            var trb = _.find(tabableRegions, function (tabableRegion) {\r\n              return tabableRegion.view.el === el;\r\n            });\r\n            if (trb) {\r\n              sortedTabableRegions.push(trb);\r\n            }\r\n          });\r\n          this.tabableRegions = sortedTabableRegions;\r\n          this.mustSortTabableRegions = false;\r\n\r\n          // log.debug(\"Sorted tabable regions:\") && console.log(log.last);\r\n          // _.each(this.tabableRegions, function (tabableRegion) {\r\n          //   log.debug(\"    \" + tabableRegion.view.constructor.name) && console.log(log.last);\r\n          // });\r\n        },\r\n\r\n        //Get the next tabable region with an accessible focusable element.\r\n        _getNextActiveRegion: function (shiftTab, recursiveNavigate) {\r\n          var regions = this.tabableRegions, i, tabableRegion;\r\n\r\n          // don't select regions for tabable which are hidden.\r\n          regions = _.filter(regions, function (region) {\r\n            return !region.$el.hasClass('binf-hidden');\r\n          });\r\n\r\n          var lastIndex   = regions.length - 1,\r\n              activeIndex = this._getActiveIndex(regions);\r\n\r\n          if (recursiveNavigate) {\r\n            i = shiftTab ? (activeIndex === 0 ? lastIndex : activeIndex - 1) :\r\n                (activeIndex === lastIndex ? 0 : activeIndex + 1);\r\n          } else {\r\n            i = shiftTab ? (activeIndex === 0 ? 0 : activeIndex - 1) :\r\n                (activeIndex === lastIndex ? lastIndex : activeIndex + 1);\r\n          }\r\n\r\n          // return tabableRegion if it has only one tabable element.\r\n          if (regions.length === 1) {\r\n            tabableRegion = regions[0];\r\n            return tabableRegion;\r\n          }\r\n\r\n          while (i != activeIndex) {\r\n            tabableRegion = regions[i];\r\n            var elToFocus = tabableRegion.getCurrentlyFocusedElementFromView(shiftTab);\r\n            if (tabableRegion.view.isTabable() && elToFocus &&\r\n                base.isVisibleInWindowViewport(elToFocus)) {\r\n              // Do not focus elements out of the visible viewport rectangle;\r\n              // it brings them to the visible screen, ignoring the absolute\r\n              // positioning or transforms, if they were applied earlier\r\n              return tabableRegion;\r\n            }\r\n\r\n            if (shiftTab) {\r\n              if (i === 0) {\r\n                i = recursiveNavigate ? lastIndex : activeIndex;\r\n              }\r\n              else if (i > 0) {\r\n                --i;\r\n              }\r\n            }\r\n            else {\r\n              if (i === lastIndex) {\r\n                i = recursiveNavigate ? 0 : activeIndex;\r\n              }\r\n              else if (i < lastIndex) {\r\n                ++i;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        //Due to cases (like the target browser where regions are added and removed throughout a dialog\r\n        //display) where regions may be placed out of order due to views being dynamically added and removed\r\n        //throughout the life cycle of the parent container, sort order is reset on every index request.\r\n        _getActiveIndex: function (regions) {\r\n          if (this.currentlyActiveTabableRegion) {\r\n            this._sortTabableRegions();\r\n            var currentlyActive = this.currentlyActiveTabableRegion,\r\n              tabableRegions  = this.tabableRegions;\r\n            if (!!regions) {\r\n              tabableRegions = regions;\r\n            }\r\n            for (var i = 0; i < tabableRegions.length; i++) {\r\n              if (currentlyActive.view.cid === tabableRegions[i].view.cid) {\r\n                return i;\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        _deactivateCurrentActiveTabableRegion: function () {\r\n          var activeIdx = this._getActiveIndex();\r\n\r\n          if (activeIdx !== undefined && !!this.tabableRegions[activeIdx]) {\r\n            var activeView = this.tabableRegions[activeIdx].view;\r\n            var tabRegionEl = activeView.$el;\r\n\r\n            tabRegionEl.removeClass(accessibilityActiveRegionClass);\r\n            delete this.currentlyActiveTabableRegion;\r\n            if (activeView.accDeactivateTabableRegion) {\r\n              log.debug('deactivating tabable region ' + activeView.constructor.name) &&\r\n              console.log(log.last);\r\n\r\n              this.tabableRegions[activeIdx].ignoreFocusEvents = true;\r\n              activeView.accDeactivateTabableRegion.call(activeView);\r\n              this.tabableRegions[activeIdx].ignoreFocusEvents = false;\r\n            }\r\n          }\r\n          return activeIdx;\r\n        },\r\n\r\n        _setTabableRegionActive: function (tabableRegion, shiftTab) {\r\n          log.debug('activating ' + tabableRegion.view.constructor.name + ' as active tabable' +\r\n                    ' region') && console.log(log.last);\r\n\r\n          this._deactivateCurrentActiveTabableRegion();\r\n          tabableRegion.view.$el.addClass(accessibilityActiveRegionClass);\r\n          this.currentlyActiveTabableRegion = tabableRegion;\r\n          if (tabableRegion.view.accActivateTabableRegion) {\r\n            tabableRegion.ignoreFocusEvents = true;\r\n            tabableRegion.view.accActivateTabableRegion.call(tabableRegion.view, shiftTab);\r\n            tabableRegion.ignoreFocusEvents = false;\r\n          }\r\n        },\r\n\r\n        _setFocusInActiveTabableRegion: function (shiftTab) {\r\n          if (this.currentlyActiveTabableRegion && \r\n                document.body.contains(this.currentlyActiveTabableRegion.el)) {\r\n            // this._setTabableRegionActive(this.currentlyActiveTabableRegion);\r\n            this.currentlyActiveTabableRegion.setFocus(shiftTab);\r\n          } else {\r\n            // try to focus on a preferred region if no one is known as the active region, but\r\n            // don't store it as the currently active one. This must be actively done by a\r\n            // tabable region.\r\n            var tabableRegionsByWeight = _.sortBy(this.tabableRegions, function (tabableRegion) {\r\n              return tabableRegion.view.options.initialActivationWeight;\r\n            });\r\n            //var preferredRegion = _.last(tabableRegionsByWeight);\r\n\r\n            var preferredRegion;\r\n            tabableRegionsByWeight.reverse().some(function(region) {\r\n              if (!region.options.notSetFocus) {\r\n                preferredRegion = region;\r\n                return true;\r\n              }\r\n            });\r\n\r\n            if (preferredRegion && preferredRegion.view.options.initialActivationWeight > 0) {\r\n              log.debug(\"setFocus: \" + preferredRegion.view.constructor.name) && console.log(log.last);\r\n              var didFocus = preferredRegion.setFocus(shiftTab);\r\n\r\n              if (didFocus && document.activeElement) {\r\n                if (document.activeElement.tagName === 'BODY') {\r\n                  log.debug(\"setFocus Failed: \" + preferredRegion.view.constructor.name) && console.log(log.last);\r\n                }\r\n                log.debug(\"document.activeElement: \" + document.activeElement.tagName) && console.log(log.last);\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        _clearTabIndexes: function (view) {\r\n          // log.debug('_clearTabIndexes in view ' + view.constructor.name) && console.log(log.last);\r\n          // find tabable/focusable elements including the view.$el element\r\n          var focusables = view.$el.find(TabablesBehavior.focusablesSelector).addBack(\r\n              TabablesBehavior.focusablesSelector);\r\n          if (focusables.length) {\r\n            // log.debug('set tabindex=-1 on ' + focusables.length + ' elements') && console.log(log.last);\r\n            focusables.prop('tabindex', -1);\r\n          } else {\r\n            log.debug('_clearTabIndexes: no focusables found in ' + view.constructor.name) &&\r\n            console.log(log.last);\r\n          }\r\n        },\r\n\r\n        _maintainTabFocus: function (event) {\r\n          var shiftTab    = event.shiftKey,\r\n              activeIndex = this._getActiveIndex();\r\n          //If an activeIndex is not available it is because regional focus has not\r\n          //been set yet and this is the first tab request.\r\n          if (activeIndex !== undefined) {\r\n            var activeRegion = this.tabableRegions[activeIndex];\r\n            var recursiveNavigate = getOption.call(this, 'recursiveNavigation');\r\n            if (!!activeRegion && activeRegion.onLastTabElement(shiftTab, event)) {\r\n              var nextActiveRegion = this._getNextActiveRegion(shiftTab, false);\r\n              if (!nextActiveRegion) {\r\n                nextActiveRegion = this._getNextActiveRegion(shiftTab, recursiveNavigate);\r\n\r\n              }\r\n              if (nextActiveRegion) {\r\n                this._setTabableRegionActive(nextActiveRegion, shiftTab);\r\n                this._setFocusInActiveTabableRegion(shiftTab);\r\n              }\r\n              return false;\r\n            }\r\n          }\r\n          return true;\r\n        },\r\n\r\n        _setFocusToNextRegion: function setFocusToNextRegion(shiftTab) {\r\n          var recursiveNavigate = getOption.call(this, 'recursiveNavigation');\r\n          var nextActiveRegion = this._getNextActiveRegion(shiftTab, recursiveNavigate);\r\n          if (nextActiveRegion) {\r\n            this._setTabableRegionActive(nextActiveRegion);\r\n            this._setFocusInActiveTabableRegion();\r\n          }\r\n        }\r\n      },\r\n      {\r\n        // array with all TabablesBehavior instances\r\n        tabablesHandlers: [],\r\n\r\n        focusablesSelector: 'a[href], area[href], input, select, textarea, button,' +\r\n                            ' iframe, object, embed, *[tabindex], *[contenteditable]',\r\n\r\n        clearTabIndexes: function (view) {\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior && $.contains(tabablesBehavior.view.el, view.el)) {\r\n            tabablesBehavior._clearTabIndexes.call(tabablesBehavior, view);\r\n          }\r\n        },\r\n\r\n        setTabableRegionActive: function (tabableRegion) {\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior && $.contains(tabablesBehavior.view.el, tabableRegion.view.el)) {\r\n            tabablesBehavior._setTabableRegionActive.call(tabablesBehavior, tabableRegion);\r\n          }\r\n        },\r\n\r\n        registerTabableRegion: function (tabableRegion) {\r\n          log.debug('registerTabableRegion for view ' + tabableRegion.view.constructor.name) &&\r\n          console.log(log.last);\r\n\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior) {\r\n            return tabablesBehavior.registerTabableRegion.call(tabablesBehavior, tabableRegion);\r\n          }\r\n        },\r\n\r\n        unregisterTabableRegion: function (tabableRegion) {\r\n          if (tabableRegion) {\r\n            // make it simple: don't search for the tabables behavior instance. Just remove it\r\n            // from everyone.\r\n            _.each(TabablesBehavior.tabablesHandlers, function (tabablesBehavior) {\r\n              tabablesBehavior.unregisterTabableRegionBehavior.call(tabablesBehavior,\r\n                  tabableRegion);\r\n            });\r\n          }\r\n        },\r\n\r\n        // Activate (set focus) of the region that has the highest weight value in the tabable\r\n        // region behavior options.\r\n        //  This should be called when regions are actually shown in the dom.\r\n        //  If a region is already active, skip initial activation.\r\n\r\n        setFocusInActiveTabableRegion: function activateInitialTabableRegion() {\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior) {\r\n            tabablesBehavior._setFocusInActiveTabableRegion.call(tabablesBehavior);\r\n          }\r\n        },\r\n\r\n        popTabableHandler: function () {\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior) {\r\n            tabablesBehavior._popTabableHandler();\r\n          }\r\n        },\r\n        switchViewDialog: function(){\r\n        \r\n\r\n        var self = this;\r\n        var tabablesBehaviorRemove = \r\n        self.tabablesHandlers[TabablesBehavior.tabablesHandlers.length-1];\r\n       \r\n        \r\n        tabablesBehaviorRemove.view.$el.off('keydown.csui-tabables');\r\n\r\n        tabablesBehaviorRemove.stopListening(tabablesBehaviorRemove.view);\r\n\r\n        if(TabablesBehavior.tabablesHandlers.length>1){ // to avoid the removal of parent of dialog\r\n          TabablesBehavior.tabablesHandlers.pop();\r\n        }\r\n\r\n\r\n\r\n          // re-register\r\n          var tabablesBehavior = \r\n          this.tabablesHandlers[this.tabablesHandlers.length-1];\r\n\r\n         tabablesBehavior._setFocusInActiveTabableRegion.call(tabablesBehavior);\r\n          _.each(tabablesBehavior.tabableRegions, function (tabableRegion) {\r\n           \r\n            tabableRegion.setInitialTabIndex.call(tabableRegion);\r\n            tabableRegion._registerEventHandlers.call(tabableRegion);\r\n            setTimeout(function () {\r\n              tabableRegion.view.$el.on('keydown.csui-tabables', function (event) {\r\n                if (event.keyCode === 9 && getOption.call(tabablesBehavior, 'containTabFocus')) {\r\n                  return tabablesBehavior._maintainTabFocus(event);\r\n                }\r\n              });\r\n            });\r\n          });\r\n         \r\n        }\r\n\r\n      });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, source) {\r\n    var options = source || this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return TabablesBehavior;\r\n});\r\n\n","csui.define('csui/behaviors/keyboard.navigation/tabable.region.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/log', 'csui/utils/base',\r\n  'csui/behaviors/keyboard.navigation/tabables.behavior'\r\n], function (module, _, $, Marionette, log, base, TabablesBehavior) {\r\n  'use strict';\r\n\r\n\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n\r\n  var TabableRegionBehavior = Marionette.Behavior.extend({\r\n\r\n      defaults: {\r\n        initialActivationWeight: 0\r\n      },\r\n\r\n      constructor: function TabableRegionBehavior(options, view) {\r\n        Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n        this.view = view;\r\n        view.tabableRegionBehavior = this;\r\n\r\n        // merge behavior defaults into view\r\n        _.extend(view, this.defaults);\r\n\r\n        // add default implementation to view if it does not have one\r\n        _.defaults(view, {\r\n            // TODO remove use of isTabable because there is no code that gets called when the user\r\n            // presses the tab key\r\n            isTabable: function () {\r\n              return true;  // default: this view can be reached by tab\r\n            },\r\n            onLastTabElement: function () {\r\n              return true;  //most regions will only have one tab, with further navigation handled through arrow keys\r\n            }\r\n          }\r\n        );\r\n\r\n        if (view.options && !view.options.initialActivationWeight) {\r\n          view.options.initialActivationWeight = this.options.initialActivationWeight;\r\n        }\r\n\r\n        this._registerEventHandlers();\r\n\r\n      },\r\n\r\n      _registerEventHandlers: function () {\r\n        if (!this._eventsRegistered) {\r\n          var view = this.view;\r\n          var self = this;\r\n\r\n          // log.debug('_registerEventHandlers ' + view.constructor.name) && console.log(log.last);\r\n\r\n          this.listenTo(view, 'render', this._applyClasses);\r\n          this.listenTo(view, 'dom:refresh', function () {\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            if (TabablesBehavior.registerTabableRegion(this)) {\r\n              self.isRegistered = true;\r\n              this.setInitialTabIndex();\r\n              TabablesBehavior.setFocusInActiveTabableRegion();\r\n            }\r\n          });\r\n          this.listenTo(view, 'refresh:tabindexes', function () {\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            if (self.isRegistered) {\r\n              this.setInitialTabIndex();\r\n              TabablesBehavior.setFocusInActiveTabableRegion();\r\n            }\r\n          });\r\n\r\n          this.listenTo(view, 'destroy', function () {\r\n            TabablesBehavior.unregisterTabableRegion(this);\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            self.isRegistered = false;\r\n          });\r\n          this.listenTo(view, 'tabable', function () {\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            if (TabablesBehavior.registerTabableRegion(this)) {\r\n              this.setInitialTabIndex();\r\n              TabablesBehavior.setFocusInActiveTabableRegion();\r\n            }\r\n          });\r\n          this.listenTo(view, 'tabable:not', function () {\r\n            TabablesBehavior.unregisterTabableRegion(this);\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            this.isRegistered = false;\r\n          });\r\n\r\n          this.listenTo(view, 'changed:focus', function () {\r\n            if (self.isRegistered) {\r\n              this.moveTabIndex();\r\n            }\r\n          });\r\n\r\n          this.listenTo(view, 'escaped:focus', function () {\r\n            TabablesBehavior.setFocusInActiveTabableRegion();\r\n          });\r\n          this._eventsRegistered = true;\r\n        }\r\n      },\r\n\r\n      _unregisterEventHandlers: function () {\r\n        var view = this.view;\r\n        // log.debug('_unregisterEventHandlers ' + view.constructor.name) && console.log(log.last);\r\n\r\n        this.stopListening(view);\r\n        this._eventsRegistered = false;\r\n      },\r\n\r\n      getCurrentlyFocusedElementFromView: function (shiftTab) {\r\n        if (_.isFunction(this.view.currentlyFocusedElement)) {\r\n          var focusEl = this.view.currentlyFocusedElement({shiftKey: shiftTab});\r\n          return (focusEl instanceof $ ? focusEl : $(focusEl));\r\n        } else {\r\n          if (_.isString(this.view.currentlyFocusedElement)) {\r\n            return this.view.$(this.view.currentlyFocusedElement);\r\n          } else {\r\n            log.debug('setInitialTabIndex: ' + this.view.constructor.name + ' does not have' +\r\n              ' currentlyFocusedElement -> not setting tabindex in that view ') &&\r\n            console.log(log.last);\r\n            return $();\r\n          }\r\n        }\r\n      },\r\n\r\n      onLastTabElement: function (shiftTab, event) {\r\n        return this.view.onLastTabElement(shiftTab, event);\r\n      },\r\n\r\n      setFocus: function (shiftTab) {\r\n        // Not set focus if the view is requested so that the behavior is not stealing the focus.\r\n        // After rendering, the view is setting focus on element at same location by itself.\r\n        if (this.options.notSetFocus) {\r\n          return;\r\n        }\r\n\r\n        var elToFocus = this.getCurrentlyFocusedElementFromView(shiftTab);\r\n        // Do not focus elements out of the visible viewport rectangle;\r\n        // it brings them to the visible screen, ignoring the absolute\r\n        // positioning or transforms, if they were applied earlier\r\n        if (elToFocus && base.isVisibleInWindowViewport(elToFocus)) {\r\n          this.ignoreFocusEvents = true;\r\n          elToFocus[0].focus();\r\n          this.ignoreFocusEvents = false;\r\n          return true;\r\n        }\r\n      },\r\n\r\n      setInitialTabIndex: function () {\r\n        // TabablesBehavior.clearTabIndexes(this.view);\r\n        if (this.currentlyFocusedElement) {\r\n          this.currentlyFocusedElement.off('focus.' + this.view.cid);\r\n        }\r\n        if (this.view.isTabable()) {\r\n          try {\r\n            this.currentlyFocusedElement = this.getCurrentlyFocusedElementFromView();\r\n            if (this.currentlyFocusedElement && this.currentlyFocusedElement.length > 0) {\r\n              var self = this;\r\n              this.currentlyFocusedElement.prop('tabindex', 0);\r\n              this.currentlyFocusedElement.addClass(\r\n                TabableRegionBehavior.accessibilityActiveElementClass);\r\n              this.currentlyFocusedElement.on('focus.' + this.view.cid, function () {\r\n                if (!self.ignoreFocusEvents) {\r\n                  TabablesBehavior.setTabableRegionActive(self);\r\n                }\r\n              });\r\n            }\r\n          } catch (e) {\r\n            console.warn('Could not set as active element: ', this.view.cid, e.message);\r\n          }\r\n\r\n        } else {\r\n          this.currentlyFocusedElement = $();\r\n        }\r\n      },\r\n\r\n      moveTabIndex: function () {\r\n        var self = this;\r\n        if (this.currentlyFocusedElement) {\r\n          this.currentlyFocusedElement.off('focus.' + this.view.cid);\r\n          this.currentlyFocusedElement.prop('tabindex', -1);\r\n          this.currentlyFocusedElement.removeClass(\r\n            TabableRegionBehavior.accessibilityActiveElementClass);\r\n          this.currentlyFocusedElement = $();\r\n\r\n        }\r\n        var newlyFocusedElement = this.getCurrentlyFocusedElementFromView();\r\n        newlyFocusedElement.prop('tabindex', 0);\r\n        this.currentlyFocusedElement = newlyFocusedElement;\r\n        this.currentlyFocusedElement.addClass(TabableRegionBehavior.accessibilityActiveElementClass);\r\n        this.currentlyFocusedElement.on('focus.' + this.view.cid, function () {\r\n          if (!self.ignoreFocusEvents) {\r\n            TabablesBehavior.setTabableRegionActive(self);\r\n          }\r\n        });\r\n      },\r\n\r\n      _applyClasses: function () {\r\n        this.$el.addClass(TabableRegionBehavior.accessibilityRegionClass);\r\n      }\r\n    },\r\n    {\r\n      accessibilityRegionClass: 'csui-acc-tab-region',\r\n      accessibilityActiveRegionClass: 'csui-acc-tab-region-active',\r\n      accessibilityFocusableClass: 'csui-acc-focusable',\r\n      accessibilityActiveElementClass: 'csui-acc-focusable-active'\r\n    }\r\n  );\r\n\r\n  return TabableRegionBehavior;\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/progresspanel/impl/nls/root/progresspanel.lang',{\r\n  // Upload\r\n  BytesOfSize: '{0} of {1}',\r\n  UploadingItems: 'Uploading {0} items',\r\n  UploadingOneItem: 'Uploading item',\r\n  UploadingSomeItems: 'Uploading {0} items',\r\n  UploadOneItemSuccessMessage: '\"{0}\" uploaded',\r\n  UploadManyItemsSuccessMessage: \"Uploaded {0} items\",\r\n  UploadOneItemFailMessage: '\"{0}\" failed to upload',\r\n  MultiUploadOneItemFailMessage: \"1 item failed to upload\",\r\n  UploadSomeItemsFailMessage: \"{0} items failed to upload\",\r\n  UploadManyItemsFailMessage: \"{0} items failed to upload\",\r\n  UploadSomeItemsFailMessage2: \"{2} items failed to upload\",   // {2} !!\r\n  UploadManyItemsFailMessage2: \"{2} items failed to upload\",   // {2} !!\r\n  UploadingSingleItem: 'Uploading \"{0}\"',\r\n  FinalizingSingleItem: 'Finalizing \"{0}\"',\r\n  UploadingOneItemStopped: '\"{0}\" stopped',\r\n  UploadingAllItemsStopped: \"{0} items stopped\",\r\n  UploadSomeItemsStopped: \"Upload completed\",\r\n\r\n  // states\r\n  State_pending: 'Waiting',\r\n  State_processing: 'Processing',\r\n  State_resolved: 'Done',\r\n  State_rejected: 'Failed',\r\n  State_aborted: 'Cancelled',\r\n  State_stopped: 'Stopped',\r\n  State_stopping: 'Stopping',\r\n  State_finalizing: 'Finalizing',\r\n  StateAction_pending: 'Waiting',\r\n  StateAction_processing: 'Stop',\r\n  StateAction_resolved: 'Done',\r\n  StateAction_rejected: 'Done',\r\n  StateAction_aborted: 'Done',\r\n  Cancel: 'Cancel',\r\n  CancelAria: 'Cancel upload of {0} item',\r\n  StateAction_all_pending: 'Waiting for upload of all items',\r\n  StateAction_all_processing: 'Stop upload of all items',\r\n  StateAction_all_resolved: 'All items uploaded',\r\n  StateAction_all_rejected: 'All items rejected to upload',\r\n  StateAction_all_aborted: 'All items aborted to upload',\r\n  Expand: 'Expand details',\r\n  ExpandAria: 'Expand list of details',\r\n  Collapse: 'Collapse details',\r\n  CollapseAria: 'Collapse list of details',\r\n  Close: 'Close',\r\n  CloseAria: 'Close the progress panel',\r\n  minimize: 'Hide message banner ',\r\n  minimizeAria: 'Hide message banner',\r\n  UploadingLocation: 'Uploading to \"{0}\"',\r\n  UploadedLocation: 'Uploaded to \"{0}\"',\r\n  Retry: 'Retry',\r\n  RetryAll: 'Retry all',\r\n  GotoLocationLinkLabel: \"Go to location\",\r\n  ErrorIconAria: 'Error',\r\n  SuccessIconAria: 'Success',\r\n  DetailsListAria: 'List of detailed results'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/progresspanel/impl/progressbar',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-progressbar csui-progressrow\\\" style=\\\"height:48px;\\\">\\r\\n  <div class=\\\"csui-name-status\\\" role=\\\"listitem\\\" tabindex=\\\"-1\\\">\\r\\n    <div class=\\\"csui-names-progress \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":5,\"column\":36},\"end\":{\"line\":5,\"column\":72}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n      <div class=\\\"csui-names csui-progresscell\\\">\\r\\n        <div class=\\\"csui-name csui-progresscell\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":56},\"end\":{\"line\":7,\"column\":64}}}) : helper)))\n    + \"\\\">\\r\\n          \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":10},\"end\":{\"line\":8,\"column\":18}}}) : helper)))\n    + \"\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-states-actions\\\">\\r\\n        <div class=\\\"csui-stateaction csui-progresscell \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":12,\"column\":55},\"end\":{\"line\":12,\"column\":91}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableCancel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":13,\"column\":10},\"end\":{\"line\":18,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"          <div\\r\\n               class=\\\"csui-stateaction-resolved binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-success\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"successIconAria\") || (depth0 != null ? lookupProperty(depth0,\"successIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"successIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":20,\"column\":138},\"end\":{\"line\":20,\"column\":157}}}) : helper)))\n    + \"\\\"></div>\\r\\n          <div\\r\\n               class=\\\"csui-stateaction-rejected binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-error\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"errorIconAria\") || (depth0 != null ? lookupProperty(depth0,\"errorIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"errorIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":22,\"column\":136},\"end\":{\"line\":22,\"column\":153}}}) : helper)))\n    + \"\\\"></div>\\r\\n          <div class=\\\"csui-stateaction-aborted binf-hidden\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"binf-hidden\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"          <button type=\\\"button\\\" class=\\\"csui-stateaction-pending binf-btn binf-btn-default icon csui-icon\\r\\n                                       circle_delete\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":61},\"end\":{\"line\":15,\"column\":71}}}) : helper)))\n    + \"\\\"></button>\\r\\n          <button type=\\\"button\\\" class=\\\"csui-stateaction-processing binf-hidden binf-btn binf-btn-default icon\\r\\n                                       csui-icon circle_delete\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancelAria\") || (depth0 != null ? lookupProperty(depth0,\"cancelAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancelAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":17,\"column\":76},\"end\":{\"line\":17,\"column\":90}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":17,\"column\":99},\"end\":{\"line\":17,\"column\":109}}}) : helper)))\n    + \"\\\"></button>\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"bundleDivider\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":30,\"column\":0},\"end\":{\"line\":35,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div class=\\\"csui-name-status\\\" role=\\\"listitem\\\" tabindex=\\\"-1\\\">\\r\\n  <div class=\\\"csui-names-progress \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":37,\"column\":34},\"end\":{\"line\":37,\"column\":70}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n    <div class=\\\"csui-names csui-progresscell\\\">\\r\\n      <div class=\\\"csui-type \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"type_icon_class\") || (depth0 != null ? lookupProperty(depth0,\"type_icon_class\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"type_icon_class\",\"hash\":{},\"loc\":{\"start\":{\"line\":39,\"column\":28},\"end\":{\"line\":39,\"column\":47}}}) : helper)))\n    + \"\\\">\\r\\n      </div>\\r\\n      <div class=\\\"csui-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":41,\"column\":36},\"end\":{\"line\":41,\"column\":44}}}) : helper)))\n    + \"\\\">\\r\\n        \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":42,\"column\":8},\"end\":{\"line\":42,\"column\":16}}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"csui-states-actions\\\">\\r\\n    <div class=\\\"csui-stateaction csui-progresscell \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":47,\"column\":51},\"end\":{\"line\":47,\"column\":87}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n      <div class=\\\"csui-stateaction-resolved binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-success\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"successIconAria\") || (depth0 != null ? lookupProperty(depth0,\"successIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"successIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":48,\"column\":134},\"end\":{\"line\":48,\"column\":153}}}) : helper)))\n    + \"\\\"></div>\\r\\n      <div class=\\\"csui-stateaction-rejected binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-error\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"errorIconAria\") || (depth0 != null ? lookupProperty(depth0,\"errorIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"errorIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":49,\"column\":132},\"end\":{\"line\":49,\"column\":149}}}) : helper)))\n    + \"\\\"></div>\\r\\n      <div class=\\\"csui-stateaction-aborted binf-hidden\\\" ></div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-progress csui-progresscell\\\">\\r\\n      <div class=\\\"csui-progress-dynamic binf-hidden\\\" aria-hidden=\\\"true\\\">\\r\\n        <div class=\\\"csui-loading-parent-wrapper binf-disabled csui-disabled\\\">\\r\\n          <span class=\\\"csui-loading-dots-wrapper\\\">\\r\\n            <span class=\\\"csui-loading-dot\\\">\\r\\n            </span>\\r\\n            <span class=\\\"csui-loading-dot\\\">\\r\\n            </span>\\r\\n            <span class=\\\"csui-loading-dot\\\">\\r\\n            </span>\\r\\n          </span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-progress-static\\\">\\r\\n        <div class=\\\"csui-progress-textbar\\\">\\r\\n          <div class=\\\"csui-progress-static-pending\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_pending\") || (depth0 != null ? lookupProperty(depth0,\"state_pending\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_pending\",\"hash\":{},\"loc\":{\"start\":{\"line\":67,\"column\":71},\"end\":{\"line\":67,\"column\":88}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-processing binf-hidden\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_processing\") || (depth0 != null ? lookupProperty(depth0,\"state_processing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_processing\",\"hash\":{},\"loc\":{\"start\":{\"line\":69,\"column\":86},\"end\":{\"line\":69,\"column\":106}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-resolved binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_resolved\") || (depth0 != null ? lookupProperty(depth0,\"state_resolved\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_resolved\",\"hash\":{},\"loc\":{\"start\":{\"line\":71,\"column\":65},\"end\":{\"line\":71,\"column\":83}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-rejected binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"errorMessage\") || (depth0 != null ? lookupProperty(depth0,\"errorMessage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"errorMessage\",\"hash\":{},\"loc\":{\"start\":{\"line\":73,\"column\":65},\"end\":{\"line\":73,\"column\":81}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-aborted binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_aborted\") || (depth0 != null ? lookupProperty(depth0,\"state_aborted\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_aborted\",\"hash\":{},\"loc\":{\"start\":{\"line\":75,\"column\":64},\"end\":{\"line\":75,\"column\":81}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-stopped binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_stopped\") || (depth0 != null ? lookupProperty(depth0,\"state_stopped\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_stopped\",\"hash\":{},\"loc\":{\"start\":{\"line\":77,\"column\":64},\"end\":{\"line\":77,\"column\":81}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-stopping binf-hidden\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_stopping\") || (depth0 != null ? lookupProperty(depth0,\"state_stopping\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_stopping\",\"hash\":{},\"loc\":{\"start\":{\"line\":79,\"column\":84},\"end\":{\"line\":79,\"column\":102}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-finalizing binf-hidden\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_finalizing\") || (depth0 != null ? lookupProperty(depth0,\"state_finalizing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_finalizing\",\"hash\":{},\"loc\":{\"start\":{\"line\":81,\"column\":86},\"end\":{\"line\":81,\"column\":106}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-percent\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"Error-message binf-hidden\\\">\\r\\n      <div class=\\\"csui-error\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"error\") || (depth0 != null ? lookupProperty(depth0,\"error\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"error\",\"hash\":{},\"loc\":{\"start\":{\"line\":89,\"column\":37},\"end\":{\"line\":89,\"column\":46}}}) : helper)))\n    + \"\\\">\\r\\n        \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"error\") || (depth0 != null ? lookupProperty(depth0,\"error\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"error\",\"hash\":{},\"loc\":{\"start\":{\"line\":90,\"column\":8},\"end\":{\"line\":90,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-stateaction csui-progress-cancel\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableCancel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":94,\"column\":6},\"end\":{\"line\":100,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableRetry\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":102,\"column\":4},\"end\":{\"line\":106,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-progresspanel-divider\\\">\\r\\n  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"location\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":32,\"column\":2},\"end\":{\"line\":32,\"column\":123}}})) != null ? stack1 : \"\")\n    + \"\\r\\n  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":33,\"column\":2},\"end\":{\"line\":33,\"column\":158}}})) != null ? stack1 : \"\")\n    + \" \\r\\n</div>\\r\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <span class=\\\"csui-progresspanel-location binf-pull-left\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"location\") || (depth0 != null ? lookupProperty(depth0,\"location\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"location\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":83},\"end\":{\"line\":32,\"column\":95}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"location\") || (depth0 != null ? lookupProperty(depth0,\"location\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"location\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":97},\"end\":{\"line\":32,\"column\":109}}}) : helper)))\n    + \"</span>\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a class=\\\"csui-gotolocation-url binf-hidden binf-pull-right\\\" href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"targetLocationUrl\") || (depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"targetLocationUrl\",\"hash\":{},\"loc\":{\"start\":{\"line\":33,\"column\":94},\"end\":{\"line\":33,\"column\":115}}}) : helper)))\n    + \"\\\" role=\\\"button\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"gotoLocation\") || (depth0 != null ? lookupProperty(depth0,\"gotoLocation\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"gotoLocation\",\"hash\":{},\"loc\":{\"start\":{\"line\":33,\"column\":131},\"end\":{\"line\":33,\"column\":147}}}) : helper)))\n    + \"</a>\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <button type=\\\"button\\\" class=\\\"csui-stateaction-pending binf-btn binf-btn-default icon csui-icon\\r\\n                                   circle_delete\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancelAria\") || (depth0 != null ? lookupProperty(depth0,\"cancelAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancelAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":96,\"column\":62},\"end\":{\"line\":96,\"column\":76}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":96,\"column\":85},\"end\":{\"line\":96,\"column\":95}}}) : helper)))\n    + \"\\\" tabindex=\\\"-1\\\"></button>\\r\\n      <button type=\\\"button\\\" class=\\\"csui-stateaction-processing binf-hidden binf-btn binf-btn-default icon\\r\\n                                   csui-icon circle_delete\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancelAria\") || (depth0 != null ? lookupProperty(depth0,\"cancelAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancelAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":98,\"column\":72},\"end\":{\"line\":98,\"column\":86}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":98,\"column\":95},\"end\":{\"line\":98,\"column\":105}}}) : helper)))\n    + \"\\\" tabindex=\\\"-1\\\"></button>\\r\\n      <div class=\\\"csui-stateaction-stopped binf-hidden\\\"></div>\\r\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <div class=\\\"csui-show-retry binf-hidden\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-showRetry\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"retry\") || (depth0 != null ? lookupProperty(depth0,\"retry\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"retry\",\"hash\":{},\"loc\":{\"start\":{\"line\":104,\"column\":60},\"end\":{\"line\":104,\"column\":69}}}) : helper)))\n    + \"\\\" tabindex='-1'>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"retry\") || (depth0 != null ? lookupProperty(depth0,\"retry\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"retry\",\"hash\":{},\"loc\":{\"start\":{\"line\":104,\"column\":85},\"end\":{\"line\":104,\"column\":94}}}) : helper)))\n    + \"</button>\\r\\n      </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"commandName\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(6, data, 0),\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":110,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_progresspanel_impl_progressbar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',[],function(){});\n","\ncsui.define('css!csui/controls/globalmessage/globalmessage_icons',[],function(){});\n","csui.define('csui/controls/globalmessage/impl/progresspanel/progressbar.view',[\r\n    'csui/lib/underscore',                             // Cross-browser utility belt\r\n    'csui/lib/jquery',\r\n    'csui/lib/marionette',                             // MVC application support\r\n    'csui/utils/nodesprites',\r\n    'module',\r\n    'i18n!csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',  // Use localizable texts\r\n    'hbs!csui/controls/globalmessage/impl/progresspanel/impl/progressbar',       // Template to render the HTML\r\n    'css!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',            // Stylesheet needed for this view\r\n    'css!csui/controls/globalmessage/globalmessage_icons'\r\n  ],  function (_, $, Marionette, NodeSprites, module, lang, barTemplate) {\r\n    'use strict';\r\n\r\n    var config = _.defaults(module.config().csui,{\r\n      panelRefreshThrottle : 400 // This delay is calculated considering slide-in animation delay of progress panel list view\r\n    });\r\n\r\n    var BarStateValues = [\"pending\", \"processing\", \"rejected\", \"resolved\", \"aborted\", \"stopped\", \"stopping\", \"finalizing\"];\r\n\r\n    var ProgressBarView = Marionette.ItemView.extend({\r\n\r\n        // Constructor gives an explicit name to the object in the debugger and\r\n        // can update the options for the parent view, which `initialize` cannot\r\n        constructor: function ProgressBarView(options) {\r\n    \r\n          // Models and collections passed via options to the parent constructor\r\n          // are wired to\r\n          Marionette.ItemView.prototype.constructor.call(this, options);\r\n    \r\n          // TODO: Make the progressbar a reusable component; do not\r\n          // misuse the file-upload-progressbar for other scenarios.\r\n          // For upload, the model has the MIME type set from the file\r\n          // object available. For copy, delete and move commnds\r\n          // the model does not have it set and the node is complete\r\n          // by fetching it from the server.\r\n          var model = this.model;\r\n          if (!!model.node && model.node.get('mime_type') === undefined) {\r\n            model.node.set({\r\n              container: false,\r\n              // obtain type from model, which contains the actual type from /validations REST API response\r\n              // and keep the hardcoded existence sub-type (ie., 144)) in it's abscense to maintain backward compatibility.\r\n              // type can be '0' in some cases so checking for undefined\r\n              type: model.node.get('type') !== undefined ?\r\n                model.node.get('type') : model.get('type') !== undefined ?\r\n                  model.get('type') : 144,\r\n              mime_type: model.get('mime_type') || model.get('type')\r\n            }, {silent: true});\r\n          }\r\n    \r\n          // Whenever properties of the model change, re-render the view with throttle of 1 Sec\r\n          this.listenTo(this.model, 'change',  _.throttle(this._updateItem, config.panelRefreshThrottle));\r\n          this.listenTo(this.model, 'change:state', this._updateItem); //Update immediatly when state is changed\r\n        },\r\n\r\n        _updateItem: function () {\r\n          var info = this.computeProgress(),\r\n              elem = this.$el;\r\n          this.options.parentView.updateProgressArea(elem, info);\r\n          if (this.model.get(\"state\") === 'processing') {\r\n            this.$el.find(\".csui-stateaction-pending\").addClass('binf-hidden');\r\n            this.$el.find(\".csui-stateaction-processing\").addClass('binf-hidden');\r\n          }\r\n        },\r\n\r\n        computeProgress: function () {\r\n            var count      = this.model.get('count'),\r\n                total      = this.model.get('total'),\r\n                state      = this.model.get(\"state\"),\r\n                percentage = (total > 0 && count >= 0) ? Math.floor(count / total * 100) : 0;\r\n            // 100% will be reached, when the file gets uploaded, but then\r\n            // the server will start saving the document.  Do not show the\r\n            // end-user 100%, when they still need to wait.\r\n            if (percentage === 100 && state === 'processing') {\r\n              state = 'finalizing';\r\n              this.model.set({state : state});\r\n              if (this.$el.find('.csui-name-status button').not(\".binf-hidden\").is(':focus')) {\r\n                this.ui.itemRow.trigger('focus');\r\n              }\r\n              this.$el.find(\".csui-stateaction-processing\").addClass('binf-hidden');\r\n            }\r\n            return {\r\n              count: count,\r\n              total: total,\r\n              percentage: percentage,\r\n              state: this.model.get('errorMessage') ? \"rejected\" : state,\r\n              errorMessage: this.model.get(\"errorMessage\"),\r\n              label: _.str.sformat(\"{0} {1}\", this.options.oneFilePending, this.getItemLabel())\r\n            };\r\n          },\r\n\r\n        className: \"csui-progressbar csui-progressrow\",\r\n\r\n        template : barTemplate,\r\n\r\n        getItemLabel: function () {\r\n          return this.model.get('newName') || this.model.get('name');\r\n        },\r\n\r\n        templateHelpers: function () {\r\n            var info        = this.computeProgress(),\r\n                model       = this.model,\r\n                singleItem  = this.collection.length === 1,\r\n                name        = this.getItemLabel(),\r\n                cancelAria  = _.str.sformat(lang.CancelAria, name),\r\n                commandName = !!model.get('commandName') || model.get('commandName'),\r\n                targetLocation = !this.options.hideGotoLocationMultiSet &&\r\n                                  !!model.get('location') ? model.get('targetLocation') : undefined;\r\n            info.name = name;\r\n            info.enableCancel = this.options.enableCancel;\r\n            info.type_icon_class = this.model.node ? NodeSprites.findClassByNode(this.model.node) : \"\";\r\n            BarStateValues.forEach(function (value) {\r\n              info[\"state_\" + value] = lang[\"State_\" + value];\r\n            });\r\n            info.cancel = lang.Cancel;\r\n            info.cancelAria = cancelAria;\r\n            info.expand = lang.Expand;\r\n            info.collapse = lang.Collapse;\r\n            info.close = lang.Close;\r\n            info.singleItem = singleItem;\r\n            info.minimize = lang.minimize;\r\n            info.minimizeAria = lang.minimizeAria;\r\n            info.retry = lang.Retry;\r\n            info.gotoLocation = this.options.parentView.options.gotoLocationLinkLabel;\r\n            info.targetLocationUrl = targetLocation ? targetLocation.url : undefined;\r\n            info.enableRetry = config.enableRetry;\r\n            info.errorIconAria = lang.ErrorIconAria;\r\n            info.successIconAria = lang.SuccessIconAria;\r\n            return info;\r\n        },\r\n\r\n        onRender: function () {\r\n          this._updateItem();\r\n        },\r\n\r\n        ui: {\r\n          pendingAction: '.csui-stateaction-pending',\r\n          processingAction: '.csui-stateaction-processing',\r\n          error: '.csui-error',\r\n          retryContainer: '.csui-show-retry',\r\n          retryButton: '.csui-showRetry',\r\n          gotoLocationElem: '.csui-gotolocation-url',\r\n          cancelButton : '.csui-name-status button',\r\n          itemRow : '.csui-name-status'\r\n        },\r\n\r\n        events: {\r\n          'click @ui.pendingAction': 'doCancel',\r\n          'click @ui.processingAction': 'doCancel',\r\n          'keydown @ui.pendingAction': 'handleKeydownOnCancel',\r\n          'keydown @ui.processingAction': 'handleKeydownOnCancel',\r\n          'click @ui.retryButton': 'processRetry',\r\n          'keydown @ui.retryButton': 'processRetry',\r\n          'click @ui.gotoLocationElem' : 'hanldleClickGotoLocation',\r\n          'keydown' : 'handleKeydownEvent'\r\n        },\r\n\r\n        setFocus: function () {\r\n          this.$el.addClass('focused-row');\r\n          var button = this.$el.find('button').not(\".binf-hidden\");\r\n          if (button.length !== 0) {\r\n            button.trigger('focus');\r\n            return button;\r\n          } else {\r\n            this.ui.itemRow.trigger('focus');\r\n            return this.ui.itemRow;\r\n          }\r\n        },\r\n\r\n        removeFocus: function () {\r\n          this.$el.removeClass('focused-row');\r\n        },\r\n\r\n        doCancel: function () {\r\n          this.model.abort();\r\n        },\r\n\r\n        handleKeydownOnCancel: function (event) {\r\n          if ((event.keyCode === 32 || event.keyCode === 13) && this.ui.cancelButton.not(\".binf-hidden\").is(':focus')) {\r\n            this.ui.itemRow.trigger('focus');\r\n            this.doCancel();\r\n          }\r\n        },\r\n\r\n        processRetry: function (event) {\r\n          if ((event.type === 'keydown' && (event.keyCode === 32 || event.keyCode === 13)) || (event.type === 'click')) {\r\n           this.model.trigger(\"try:again\");\r\n          }\r\n        },\r\n\r\n        showGotoLocationElem: function () {\r\n          this.ui.gotoLocationElem && this.ui.gotoLocationElem.removeClass(\"binf-hidden\");\r\n        },\r\n\r\n        showRetryElem: function () {\r\n          if (config.enableRetry && !!this.model.get('serverFailure')) {\r\n            this.ui.retryContainer.removeClass(\"binf-hidden\");\r\n          }\r\n        },\r\n\r\n        handleKeydownEvent: function (event) {\r\n          if (event.keyCode === 38 || event.keyCode === 40) {\r\n            this.trigger(\"keydown:item\", event);\r\n          }\r\n        },\r\n\r\n        hanldleClickGotoLocation: function(event) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.trigger(\"click:gotolocation\");\r\n        },\r\n\r\n        handleProgressComplete : function () {\r\n          this.showGotoLocationElem();\r\n          this.showRetryElem();\r\n        }\r\n    \r\n      });\r\n\r\n      return ProgressBarView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <div class=\\\"csui-stateaction csui-progresscell\\\">\\r\\n        <button type=\\\"button\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"stateaction_all_pending\") || (depth0 != null ? lookupProperty(depth0,\"stateaction_all_pending\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"stateaction_all_pending\",\"hash\":{},\"loc\":{\"start\":{\"line\":44,\"column\":42},\"end\":{\"line\":44,\"column\":69}}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"csui-stateaction-pending\\r\\n        csui-icon-like-btn binf-btn binf-btn-default\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"stateaction_pending\") || (depth0 != null ? lookupProperty(depth0,\"stateaction_pending\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"stateaction_pending\",\"hash\":{},\"loc\":{\"start\":{\"line\":46,\"column\":54},\"end\":{\"line\":46,\"column\":77}}}) : helper)))\n    + \"</button>\\r\\n        <button type=\\\"button\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"stateaction_all_processing\") || (depth0 != null ? lookupProperty(depth0,\"stateaction_all_processing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"stateaction_all_processing\",\"hash\":{},\"loc\":{\"start\":{\"line\":47,\"column\":42},\"end\":{\"line\":47,\"column\":72}}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"csui-stateaction-processing csui-icon-like-binf-btn binf-hidden binf-btn binf-btn-default\\\">\\r\\n            \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"stateaction_processing\") || (depth0 != null ? lookupProperty(depth0,\"stateaction_processing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"stateaction_processing\",\"hash\":{},\"loc\":{\"start\":{\"line\":49,\"column\":12},\"end\":{\"line\":49,\"column\":38}}}) : helper)))\n    + \"</button>\\r\\n      </div>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <div class=\\\"csui-show-retryAll binf-hidden\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"csui-retry-all\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"retryAll\") || (depth0 != null ? lookupProperty(depth0,\"retryAll\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"retryAll\",\"hash\":{},\"loc\":{\"start\":{\"line\":54,\"column\":62},\"end\":{\"line\":54,\"column\":74}}}) : helper)))\n    + \"\\\" tabindex='0'>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"retryAll\") || (depth0 != null ? lookupProperty(depth0,\"retryAll\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"retryAll\",\"hash\":{},\"loc\":{\"start\":{\"line\":54,\"column\":89},\"end\":{\"line\":54,\"column\":101}}}) : helper)))\n    + \"</button>\\r\\n        </div>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"binf-hidden\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <div class=\\\"csui-minimize csui-minimizecell\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"icon-progresspanel-minimize binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"minimizeAria\") || (depth0 != null ? lookupProperty(depth0,\"minimizeAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"minimizeAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":73,\"column\":28},\"end\":{\"line\":73,\"column\":44}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"minimize\") || (depth0 != null ? lookupProperty(depth0,\"minimize\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"minimize\",\"hash\":{},\"loc\":{\"start\":{\"line\":73,\"column\":53},\"end\":{\"line\":73,\"column\":65}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></button>\\r\\n      </div>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <a class=\\\"csui-gotolocation-url binf-hidden\\\" href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"targetLocationUrl\") || (depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"targetLocationUrl\",\"hash\":{},\"loc\":{\"start\":{\"line\":79,\"column\":53},\"end\":{\"line\":79,\"column\":74}}}) : helper)))\n    + \"\\\" role=\\\"button\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"gotoLocation\") || (depth0 != null ? lookupProperty(depth0,\"gotoLocation\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"gotoLocation\",\"hash\":{},\"loc\":{\"start\":{\"line\":79,\"column\":90},\"end\":{\"line\":79,\"column\":106}}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-header\\\">\\r\\n  <div class=\\\"csui-progressrow csui-height-target\\\">\\r\\n    <div class=\\\"csui-names-progress\\\">\\r\\n      <div class=\\\"csui-names csui-progresscell\\\">\\r\\n        <div class=\\\"csui-header-icon csui-icon binf-hidden\\\"></div>\\r\\n        <div class=\\\"csui-title\\\" id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"progressTitleId\") || (depth0 != null ? lookupProperty(depth0,\"progressTitleId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"progressTitleId\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":36},\"end\":{\"line\":6,\"column\":55}}}) : helper)))\n    + \"\\\">\\r\\n          \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":10},\"end\":{\"line\":7,\"column\":19}}}) : helper)))\n    + \"\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-progress csui-progresscell\\\">\\r\\n        <div class=\\\"csui-progress-dynamic binf-hidden\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"binf-progress\\\">\\r\\n              <div class=\\\"binf-progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"percentage\") || (depth0 != null ? lookupProperty(depth0,\"percentage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"percentage\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":79},\"end\":{\"line\":14,\"column\":93}}}) : helper)))\n    + \"\\\"\\r\\n                   aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width:\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"percentage\") || (depth0 != null ? lookupProperty(depth0,\"percentage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"percentage\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":70},\"end\":{\"line\":15,\"column\":84}}}) : helper)))\n    + \"%\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"loading-dots\\\">\\r\\n                <div class=\\\"csui-loading-parent-wrapper binf-disabled csui-disabled\\\">\\r\\n                    <span class=\\\"csui-loading-dots-wrapper\\\">\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-progress-static\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"csui-progress-static-pending\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_pending\") || (depth0 != null ? lookupProperty(depth0,\"state_pending\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_pending\",\"hash\":{},\"loc\":{\"start\":{\"line\":31,\"column\":73},\"end\":{\"line\":31,\"column\":90}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-processing binf-hidden\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_processing\") || (depth0 != null ? lookupProperty(depth0,\"state_processing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_processing\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":88},\"end\":{\"line\":32,\"column\":108}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-resolved binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_resolved\") || (depth0 != null ? lookupProperty(depth0,\"state_resolved\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_resolved\",\"hash\":{},\"loc\":{\"start\":{\"line\":33,\"column\":67},\"end\":{\"line\":33,\"column\":85}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-rejected binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_rejected\") || (depth0 != null ? lookupProperty(depth0,\"state_rejected\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_rejected\",\"hash\":{},\"loc\":{\"start\":{\"line\":34,\"column\":67},\"end\":{\"line\":34,\"column\":85}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-aborted binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_aborted\") || (depth0 != null ? lookupProperty(depth0,\"state_aborted\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_aborted\",\"hash\":{},\"loc\":{\"start\":{\"line\":35,\"column\":66},\"end\":{\"line\":35,\"column\":83}}}) : helper)))\n    + \"</div>\\r\\n          </div>\\r\\n          <div class=\\\"csui-percent\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-states-actions\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableCancel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":42,\"column\":6},\"end\":{\"line\":51,\"column\":13}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableRetry\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":52,\"column\":6},\"end\":{\"line\":56,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"      <div class=\\\"csui-expand csui-progresscell \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":57,\"column\":48},\"end\":{\"line\":57,\"column\":84}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-expand-down binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"expand\") || (depth0 != null ? lookupProperty(depth0,\"expand\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"expand\",\"hash\":{},\"loc\":{\"start\":{\"line\":59,\"column\":28},\"end\":{\"line\":59,\"column\":38}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"expand\") || (depth0 != null ? lookupProperty(depth0,\"expand\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"expand\",\"hash\":{},\"loc\":{\"start\":{\"line\":59,\"column\":47},\"end\":{\"line\":59,\"column\":57}}}) : helper)))\n    + \"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n          <span class=\\\"icon csui-icon icon-expandArrowDown\\\"></span></button>\\r\\n          <button type=\\\"button\\\" class=\\\"csui-expand-up binf-hidden binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"collapse\") || (depth0 != null ? lookupProperty(depth0,\"collapse\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"collapse\",\"hash\":{},\"loc\":{\"start\":{\"line\":62,\"column\":28},\"end\":{\"line\":62,\"column\":40}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"collapse\") || (depth0 != null ? lookupProperty(depth0,\"collapse\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"collapse\",\"hash\":{},\"loc\":{\"start\":{\"line\":62,\"column\":49},\"end\":{\"line\":62,\"column\":61}}}) : helper)))\n    + \"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">\\r\\n            <span class=\\\"icon csui-icon icon-expandArrowUp\\\"></span></button>\\r\\n      </div>\\r\\n      <div class=\\\"csui-close csui-progresscell binf-hidden\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"closeAria\") || (depth0 != null ? lookupProperty(depth0,\"closeAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"closeAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":67,\"column\":28},\"end\":{\"line\":67,\"column\":41}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"close\") || (depth0 != null ? lookupProperty(depth0,\"close\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"close\",\"hash\":{},\"loc\":{\"start\":{\"line\":67,\"column\":50},\"end\":{\"line\":67,\"column\":59}}}) : helper)))\n    + \"\\\" >\\r\\n          <span class=\\\"csui-action-close csui-icon\\\"></span></button>\\r\\n      </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableMinimiseButton\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":70,\"column\":6},\"end\":{\"line\":75,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n  </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":78,\"column\":2},\"end\":{\"line\":80,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n<div class=\\\"csui-items-wrapper\\\">\\r\\n  <div class=\\\"csui-items\\\" role=\\\"list\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"detailsListAria\") || (depth0 != null ? lookupProperty(depth0,\"detailsListAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"detailsListAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":83,\"column\":50},\"end\":{\"line\":83,\"column\":69}}}) : helper)))\n    + \"\\\">\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_progresspanel_impl_progresspanel', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('csui/controls/globalmessage/impl/progresspanel/progresspanel.view',[\r\n  'csui/lib/underscore',                             // Cross-browser utility belt\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',                             // MVC application support\r\n  'i18n',\r\n  'module',\r\n  'csui/utils/base',\r\n  'csui/utils/accessibility',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/globalmessage/impl/progresspanel/progressbar.view',\r\n  'i18n!csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',  // Use localizable texts\r\n  'hbs!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',     // Template to render the HTML\r\n  'css!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',            // Stylesheet needed for this view\r\n  'css!csui/controls/globalmessage/globalmessage_icons'\r\n],  function (_, $, Marionette, i18n, module, Base, Accessibility, PerfectScrollingBehavior, TabableRegionBehavior,\r\n  ProgressBarView, lang, panelTemplate) {\r\n  'use strict';\r\n\r\n  var config = _.defaults(module.config().csui,{\r\n    panelRefreshThrottle : 400 // This delay is calculated considering slide-in animation delay of progress panel list view\r\n  });\r\n\r\n  var BarStateValues = [\"pending\", \"processing\", \"rejected\", \"resolved\", \"aborted\", \"stopped\", \"stopping\", \"finalizing\"];\r\n\r\n  var getContainerName = function (model) {\r\n    var container = model.uploadContainer || model.container;\r\n    return container && container.get('name');\r\n  };\r\n\r\n  // Returns true if the action (upload/copy/move/etc,.) performed on models have different container\r\n  var isMultiContainer = function (models) {\r\n    var firstFolder = getContainerName(models[0]),\r\n    lastFolder = getContainerName(models.reduce(function(currentModel, nextmodel) {\r\n      return (getContainerName(currentModel) === getContainerName(nextmodel)) ? currentModel : !nextmodel;\r\n    }));\r\n    return firstFolder !== lastFolder;\r\n  };\r\n\r\n  var ProgressPanelView = Marionette.CompositeView.extend({\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function ProgressPanelView(options) {\r\n      options || (options = {});\r\n      this.focusChildIndex = -1;\r\n      this.currentFocusIndex = 0;\r\n      this.loadingCount = 0;\r\n      _.defaults(options, {\r\n        oneFileSuccess: lang.UploadOneItemSuccessMessage,\r\n        multiFileSuccess: lang.UploadManyItemsSuccessMessage,\r\n        oneFilePending: lang.UploadingSingleItem,\r\n        oneFileFinalizing: lang.FinalizingSingleItem,\r\n        multiFilePending: lang.UploadingItems,\r\n        multiFileOneFailure: lang.MultiUploadOneItemFailMessage,\r\n        oneFileFailure: lang.UploadOneItemFailMessage,\r\n        multiFileFailure: lang.UploadManyItemsFailMessage,\r\n        someFileSuccess: lang.UploadSomeItemsSuccessMessage,\r\n        someFilePending: lang.UploadingSomeItems,\r\n        someFileFailure: lang.UploadSomeItemsFailMessage2,\r\n        oneItemStopped: lang.UploadingOneItemStopped,\r\n        allItemsStopped: lang.UploadingAllItemsStopped,\r\n        someItemsStopped: lang.UploadSomeItemsStopped,\r\n        locationLabelPending : lang.UploadingLocation,\r\n        locationLabelCompleted: lang.UploadedLocation,\r\n        gotoLocationLinkLabel: lang.GotoLocationLinkLabel,\r\n        enableCancel: true,\r\n        isLoadTimeAvailable: false,\r\n        stoppingLabel : lang.State_stopping\r\n      });\r\n      if (options.enableCancel) {\r\n        this.panelStateValues = [\"resolved\", \"rejected\", \"aborted\", \"processing\"];\r\n      }\r\n      else {\r\n        this.panelStateValues = [\"resolved\", \"rejected\", \"aborted\"];\r\n      }\r\n\r\n      // Models and collections passed via options to the parent constructor\r\n      // are wired to\r\n      Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n      if (options.context && options.nextNodeModelFactory) {\r\n        this._nextNode = options.context.getModel(options.nextNodeModelFactory);\r\n      }\r\n\r\n      // Whenever properties of the model change, re-render the view\r\n      this.listenTo(this.collection, 'change',  this._updateHeader);\r\n      this.listenTo(this.collection, 'sort', this.setLocationName);\r\n      this.originatingView = options.originatingView;\r\n      if (!!this.originatingView) {\r\n        this.originatingView.trigger('global.alert.inprogress');\r\n      }\r\n      this.isMultiContainer = isMultiContainer(this.collection.models);\r\n      this.setLocationName();\r\n    },\r\n\r\n    updateProgressArea: function (elem, info) {\r\n      var errorElem = elem.find(\".csui-progress-static-rejected\");\r\n      // update progress indicator\r\n      if (info.dynamic === undefined ? info.state === \"processing\" : info.dynamic) {\r\n        var progressBar = elem.find(\".binf-progress-bar\");\r\n        this.options.messageHelper.switchField(elem, \".csui-progress\", \"dynamic\",\r\n            [\"static\", \"dynamic\"]);\r\n        // update progressbar\r\n        var bytesOfSize = _.str.sformat(lang.BytesOfSize,\r\n            Base.getReadableFileSizeString(info.count),\r\n            Base.getReadableFileSizeString(info.total));\r\n        elem.find(\".csui-progress-text\").text(bytesOfSize);\r\n        progressBar.attr(\"aria-valuenow\", info.percentage);\r\n        progressBar.css(\"width\", _.str.sformat(\"{0}%\", info.percentage));\r\n\r\n        // update percent field\r\n        elem.find(\".csui-progress-dynamic .csui-percent\").text( _.str.sformat(\"{0}%\", info.percentage));\r\n        // elem.find('.csui-title').attr('aria-label', _.str.sformat(\"{0} {1}%\", info.label, info.percentage));\r\n\r\n      } else {\r\n        this.options.messageHelper.switchField(elem, \".csui-progress\", \"static\", [\"static\", \"dynamic\"]);\r\n        // update state field\r\n        this.options.messageHelper.switchField(elem, \".csui-progress-static\", info.state, BarStateValues);\r\n/*\r\n        var stateAriaLabel = _.str.sformat(\"{0} lala {1}\", info.label,\r\n            lang[\"State_\" + info.state]);\r\n        elem.find('.csui-title').attr('aria-label', stateAriaLabel);\r\n*/\r\n      }\r\n\r\n      errorElem.text(info.errorMessage);\r\n      errorElem.attr(\"title\", info.errorMessage);\r\n      if (info.errorMessage) {\r\n        elem.addClass('csui-error');\r\n      }\r\n\r\n      // update action field\r\n      this.options.messageHelper.switchField(elem, \".csui-stateaction\", info.state,\r\n          BarStateValues);\r\n      if (this.itemsProcessing && this.itemsProcessing > 0) {\r\n        this.$el.find('.csui-header .csui-stateaction-processing').removeClass('binf-hidden');\r\n        this.$el.find('.csui-header .csui-stateaction-pending').addClass('binf-hidden');\r\n      } else {\r\n        this.$el.find('.csui-header .csui-stateaction-processing').addClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n      this.handleProgressComplete();\r\n      this.focusChildIndex = -1;\r\n      this.focusingOnList = false;\r\n      this.currentFocusIndex = 0;\r\n      this.trigger('tabable:not');\r\n    },\r\n\r\n    handleProgressComplete: function (allFailures) {\r\n      this.originatingView && this.originatingView.trigger('global.alert.completed');\r\n      this.parentView && this.parentView.trigger('processing:completed');\r\n      if (!allFailures) {\r\n        //For single set, Gotolocation element is shown on parent view\r\n        this.ui.gotoLocationElem && this.ui.gotoLocationElem.removeClass('binf-hidden');\r\n        //For multiple sets, Gotolocation elemnt is shown for each set seperatly on child view\r\n        this.children.invoke('showGotoLocationElem');\r\n      }\r\n      this.children.invoke('handleProgressComplete');\r\n      setTimeout(_.bind(function () {\r\n         $(this.$el).trigger('focus');\r\n      }, this), 10);\r\n\r\n    },\r\n\r\n    // Auto hide success banner after 5 secs, \r\n    // if the accessibility mode is off and no link is displayed in header or inside the list.\r\n    // TODO this should not depend on the accessibility mode: LPAD-91131\r\n    autoHideSuccessBanner: function() {\r\n      var self = this,\r\n      hasLinks = _.find(this.collection.models, function (model) {\r\n        return !_.isUndefined(model.get(\"targetLocation\"));\r\n      });\r\n      if (!this.options.enablePermanentHeaderMessages &&\r\n        !Accessibility.isAccessibleMode() &&\r\n        (this.options.hideGotoLocationSingleSet ||\r\n          this.options.hideGotoLocationMultiSet ||\r\n          !hasLinks)) {\r\n        setTimeout(function () {\r\n          if (Base.isIE11()) {\r\n            self.closePanel = true;\r\n          }\r\n          self.doClose();\r\n        }, 5000);\r\n      }\r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '> .csui-items-wrapper',\r\n        suppressScrollX: true\r\n      },\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    isProgressFailed: function () {\r\n      return $.inArray(this.state, ['rejected']) !== -1;\r\n    },\r\n\r\n    isProgressCompleted: function () {\r\n      var state = $.inArray(this.state, ['resolved', 'rejected', 'aborted', 'stopped', 'stopping']) !== -1;\r\n      if(state && this.originatingView && this.originatingView.container && this.originatingView.container.get('type')===136){\r\n        this.originatingView.container.unset(\"fileOrder\"); //unsetting fileOrder to fetch order_next attribute for next upload\r\n      }\r\n      return state;\r\n    },\r\n\r\n    isProgressFinalizing: function () {\r\n      return $.inArray(this.state, ['stopping']) !== -1;\r\n    },\r\n\r\n    getLocalizedLocation: function(model) {\r\n      var langForStatus = this.isProgressCompleted() ? this.options.locationLabelCompleted : this.options.locationLabelPending;\r\n      return _.str.sformat(langForStatus, getContainerName(model));\r\n    },\r\n\r\n    setLocationName: function() {\r\n      var bundleNumber, location, currentLocation,\r\n      self = this;\r\n      this.collection.forEach(function(model) {\r\n        if (model.get('bundleNumber') === bundleNumber) {\r\n          model.unset('location');\r\n          model.unset('bundleDivider');\r\n        } else {\r\n          model.set({bundleDivider : true},{silent: true}); // Show seperation between every bundle\r\n          bundleNumber = model.get('bundleNumber');\r\n          currentLocation = getContainerName(model);\r\n          if (currentLocation === location) {\r\n            model.unset('location');\r\n          } else {\r\n            self.isMultiContainer && model.set({location : self.getLocalizedLocation(model)}, {silent: true}); //Location is shown only when upload is happening from multiple folder\r\n            location = currentLocation;\r\n          }\r\n        }\r\n      });\r\n      this.collection.reset(this.collection.models);\r\n    },\r\n\r\n    updateProgressPanel: function (failedCount) {\r\n      var notificationIcon, allFailures;      \r\n      if (this.isProgressFailed()) {\r\n        this.parentView && this.parentView.trigger('processing:error');\r\n        notificationIcon = 'csui-global-error';\r\n        allFailures = failedCount === this.collection.length;\r\n      } else {\r\n        notificationIcon = 'csui-global-success';\r\n        this.autoHideSuccessBanner();\r\n      }\r\n      this.ui.processingAction.addClass('binf-hidden');\r\n      this.ui.closeAction.parent('.csui-close').removeClass('binf-hidden');\r\n      this.ui.header.find('.csui-minimize').addClass('binf-hidden');\r\n      this.ui.header.find('.csui-progress').addClass('binf-hidden');\r\n      this._isRendered && this.collection.sort();\r\n      this.handleProgressComplete(allFailures);\r\n      this.showretryAll();\r\n      this.currentlyFocusedElement().trigger('focus');\r\n      if(this.options.actionType && this.options.actionType === \"ADD_VERSION\"){\r\n        return;\r\n      }\r\n      this.$el.addClass(notificationIcon);\r\n    },\r\n\r\n    showretryAll: function () {\r\n      if (config.enableRetry && this.showretryAllElem) {\r\n        this.ui.retryAll.removeClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    showProgressBar: function (show) {\r\n      // switch between progress bar / loading dots\r\n      if(show) {\r\n        this.ui.progressBar && this.ui.progressBar.removeClass('binf-hidden');\r\n        this.ui.loadingDots && this.ui.loadingDots.addClass('binf-hidden');\r\n      } else {\r\n        this.ui.progressBar.addClass('binf-hidden');\r\n        this.ui.loadingDots.removeClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    _updateHeader: function () {\r\n      var info = this.computeProgress(),\r\n      options = this.options;\r\n      this.state = info.state;\r\n      this.showProgressBar(info.isLoadTimeAvailable);\r\n      // update title based on state\r\n      switch (info.state) {\r\n        case 'pending': \r\n        case 'processing':\r\n          info.label = this._getFormatString(options.oneFilePending, options.multiFilePending, this.collection.length);\r\n          break;\r\n        case 'resolved':\r\n          if(options.actionType && options.actionType === \"ADD_VERSION\"){\r\n            break; //don't need to show uploaded message while adding version\r\n          }\r\n          info.label = this._getFormatString(options.oneFileSuccess, options.multiFileSuccess, this.collection.length);\r\n          break;\r\n        case 'stopping':\r\n          info.label = options.stoppingLabel;\r\n          break;\r\n        case 'stopped':\r\n          info.label = this._getFormatString(options.oneItemStopped, options.someItemsStopped, this.collection.length);\r\n          break;\r\n        case 'aborted':\r\n          info.label = this._getFormatString(options.oneItemStopped, options.allItemsStopped, this.collection.length);\r\n          break;\r\n        case 'finalizing':\r\n          info.label = this._getFormatString(options.oneFileFinalizing, options.multiFilePending, this.collection.length);\r\n          break;\r\n        default:\r\n          var isMultiFileOneFailure = this.collection.length > 1 && info.failed === 1;\r\n          info.label = isMultiFileOneFailure ? options.multiFileOneFailure :\r\n                       this._getFormatString(options.oneFileFailure, options.multiFileFailure, info.failed);\r\n      }\r\n      /*\r\n      if (info.dynamic === undefined ? info.state === \"processing\" : info.dynamic) {\r\n        if (info.state === \"processing\") {\r\n         this.$el.attr('aria-label', _.str.sformat(\"{0} {1}%\", info.label, info.percentage));\r\n        } else {\r\n          this.$el.attr('aria-label', info.label);\r\n        }\r\n      } else {\r\n        var stateAriaLabel = _.str.sformat(\"{0} {1}\", info.label,\r\n        lang[\"State_\" + info.state]);\r\n        this.$el.attr('aria-label', stateAriaLabel);\r\n      }\r\n      */\r\n      this.ui.header.find(\".csui-title\").text(info.label);\r\n      !this.isProgressFinalizing() && this.isProgressCompleted() && this.updateProgressPanel(info.failed); // Apply styles for progressPanel progress completion\r\n      this.updateProgressArea(this.ui.header, info);\r\n\r\n\r\n      // update headerWrapper with ProgressBar status\r\n      this.ui.headerWrapper = this.$el;\r\n      (this.options && this.options.actionType === 'UPLOAD') ? this.ui.headerWrapper.addClass('progressBar-active')\r\n          : this.ui.headerWrapper.removeClass('progressBar-active');\r\n\r\n      if(this.collection.length === 1 && info.state === \"rejected\") {\r\n        this.ui.expandIcon.removeClass('binf-hidden');\r\n      } else {\r\n        this.$el.find(\".csui-items-wrapper .csui-names-progress\").removeClass('binf-hidden');\r\n      }\r\n    \r\n      if (!this.options.allowMultipleInstances) {\r\n        this.ui.minimizeButton.parent(\".csui-minimize\").addClass('binf-hidden');\r\n      } else {\r\n        if(this.parentView) {\r\n          this.parentView.trigger('processbar:update', info.percentage);\r\n        }\r\n        if (info.state === 'processing') {\r\n          this.ui.minimizeButton.parent(\".csui-minimize\").removeClass('binf-hidden');\r\n        }\r\n      }\r\n      \r\n      // update collapse/expand\r\n      if (!this.stateExpandCollapse) {\r\n        // only on initial rendering collapse/expand and take state from template\r\n        var arrow = this.ui.header.find(\".csui-expand\").find(\":not(.binf-hidden)\");\r\n        if (arrow.hasClass(\"csui-expand-up\")) {\r\n          this.doExpand(false);\r\n        } else if (arrow.hasClass(\"csui-expand-down\")) {\r\n          this.doCollapse(false);\r\n        }\r\n      }\r\n\r\n      // and for better layout possibilities, mark empty panel\r\n      var isempty = !this.collection || this.collection.length === 0;\r\n      if (this.$el.hasClass(\"csui-empty\")) {\r\n        if (!isempty) {\r\n          this.$el.removeClass(\"csui-empty\");\r\n        }\r\n      } else {\r\n        if (isempty) {\r\n          this.$el.addClass(\"csui-empty\");\r\n        }\r\n      }\r\n    },\r\n\r\n    _getFormatString: function (str1, str2, count) {\r\n      var formattedString, fileName;\r\n      if (count === 1) {\r\n        fileName = this.collection.models[0].get('newName') || this.collection.models[0].get('name');\r\n        formattedString = _.str.sformat(str1, fileName);\r\n      } else {\r\n        formattedString = _.str.sformat(str2, count);\r\n      }\r\n      return formattedString;\r\n    },\r\n\r\n    computeProgress: function () {\r\n      var allDone    = true,\r\n          processing = false,\r\n          allAborted = true,\r\n          stopped    = false,\r\n          finalizing = false,\r\n          failed     = 0,\r\n          aborted    = 0,\r\n          count      = 0,\r\n          total      = 0;\r\n          this.itemsPending = 0;\r\n          this.itemsProcessing = 0;\r\n      var self = this;\r\n      this.collection.forEach(function (item) {\r\n        count += item.get('count');\r\n        total += item.get('total');\r\n\r\n        if (self._isRendered && item.get('errorMessage') && item.get(\"state\") === \"pending\") {\r\n          item.set(\"state\", \"rejected\", {silent: true});\r\n       }\r\n        if (item.get(\"state\") === \"stopped\") {\r\n          stopped = true;\r\n        }\r\n        if (item.get(\"state\") === \"aborted\") {\r\n          ++aborted;\r\n        }\r\n        if (item.get(\"state\") === \"processing\") {\r\n          self.loadingCount += item.get('count');\r\n          (self.itemsProcessing)++;\r\n        }\r\n        if (item.get(\"state\") === \"pending\" || item.get(\"state\") === \"processing\" || item.get(\"state\") === \"finalizing\" || item.get(\"state\") === \"stopping\") {\r\n          allDone = false;\r\n        }\r\n        if (item.get(\"state\") !== \"pending\") {\r\n          processing = true;\r\n        }\r\n        if (item.get(\"state\") === \"pending\") {\r\n          if (self.itemsProcessing === 0) {\r\n            self.itemsProcessing = 1;\r\n          }\r\n          (self.itemsPending)++;\r\n        }\r\n        if (item.get(\"state\") === \"rejected\") {\r\n          ++failed;\r\n          item.set({sequence : 2}, {silent: true});\r\n          self.showretryAllElem = !!item.get('serverFailure');\r\n        }\r\n        if (item.get(\"state\") === \"resolved\" || item.get(\"state\") === \"rejected\") {\r\n          allAborted = false;\r\n        }\r\n      });\r\n     \r\n      var percentage = (total > 0) ? Math.floor(count / total * 100) : 0;\r\n      // 100% will be reached, when the file gets uploaded, but then\r\n      // the server will start saving the document.  Do not show the\r\n      // end-user 100%, when they still need to wait.\r\n      if (percentage === 100 && !allDone) {\r\n        percentage = 99;\r\n        finalizing = true;\r\n      }\r\n      if (allDone || finalizing) {\r\n        this.itemsProcessing = 0;\r\n      }\r\n      var state   = allDone ? failed ? \"rejected\" : stopped || aborted ? allAborted ? \"aborted\" : \"stopped\" : \"resolved\" :\r\n                    stopped ? \"stopping\" : finalizing ? \"finalizing\" : processing ? \"processing\" : \"pending\",\r\n          dynamic = state !== \"pending\";\r\n      return {\r\n        count: count,\r\n        total: total,\r\n        failed: failed,\r\n        percentage: percentage,\r\n        state: state,\r\n        dynamic: dynamic,\r\n        isLoadTimeAvailable : this.loadingCount > 0\r\n      };\r\n    },\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'csui-progresspanel',\r\n\r\n    childView: ProgressBarView,\r\n    childViewContainer: \".csui-items\",\r\n    childEvents: {\r\n      'click:gotolocation': 'navigateToLocation',\r\n      'keydown:item': 'onChildViewKeydown'\r\n    },\r\n    childViewOptions: function () {\r\n      return _.extend(this.options, {\r\n        enableCancel: this.options.enableCancel,\r\n        messageHelper: this.options.messageHelper,\r\n        reorderOnSort : true,\r\n        parentView: this\r\n      });\r\n    },\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: panelTemplate,\r\n\r\n    templateHelpers: function () {\r\n      var targetLocation, \r\n      targetLocationUrl,\r\n      info = this.computeProgress(),\r\n      singleItem = this.collection.length === 1;\r\n      if (!this.options.hideGotoLocationSingleSet && !this.isMultiContainer) {\r\n        targetLocation = this.collection.models[0].get('targetLocation');\r\n        targetLocationUrl = targetLocation && targetLocation.url;\r\n      }\r\n      BarStateValues.forEach(function (value) {\r\n        info[\"state_\" + value] = lang[\"State_\" + value];\r\n      });\r\n      this.panelStateValues.forEach(function (value) {\r\n        info[\"stateaction_\" + value] = lang[\"StateAction_\" + value];\r\n        info[\"stateaction_all_\" + value] = lang[\"StateAction_all_\" + value];\r\n      });\r\n      info.cancel = lang.Cancel;\r\n      info.enableCancel = this.options.enableCancel;\r\n      info.expand = lang.Expand;\r\n      info.collapse = lang.Collapse;\r\n      info.close = lang.Close;\r\n      info.closeAria = lang.CloseAria;\r\n      info.detailsListAria = lang.DetailsListAria;\r\n      info.processing = (info.state === \"processing\") ? true : false;\r\n      info.progressTitleId = _.uniqueId(\"progressTitle\");\r\n      this.progressTitleId = info.progressTitleId;\r\n      info.singleItem = singleItem;\r\n      info.enableMinimiseButton = this.options.enableMinimiseButton;\r\n      info.minimize = lang.minimize;\r\n      info.minimizeAria = lang.minimizeAria;\r\n      info.gotoLocation = this.options.gotoLocationLinkLabel;\r\n      info.retryAll = lang.RetryAll;\r\n      info.enableRetry = config.enableRetry;\r\n      return _.extend(info, {\r\n        targetLocationUrl: targetLocationUrl\r\n      });\r\n    },\r\n\r\n    onRender: function () {\r\n      this.$el.attr('tabindex','0');\r\n      this.$el.attr('role', 'dialog');\r\n      this.$el.attr('aria-labelledby', this.progressTitleId);\r\n      this.currentlyFocusedElement();\r\n      this._updateHeader();\r\n      this.collection.comparator = function (currentModel , nextModel) {\r\n        if(currentModel.get('bundleNumber') === nextModel.get('bundleNumber')) {\r\n          return nextModel.get('sequence') - currentModel.get('sequence');\r\n        }\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      header: '.csui-header',\r\n      progressBar : '.csui-header .binf-progress',\r\n      loadingDots : '.csui-header .loading-dots',\r\n      pendingAction: '.csui-header .csui-stateaction-pending',\r\n      processingAction: '.csui-header .csui-stateaction-processing',\r\n      closeAction: '.csui-header .csui-close button',\r\n      collapseAction: '.csui-header .csui-expand-up',\r\n      expandAction: '.csui-header .csui-expand-down',\r\n      minimizeButton: '.csui-header .csui-minimize .icon-progresspanel-minimize',\r\n      expandIcon: '.csui-header .csui-expand',\r\n      gotoLocationElem : '.csui-gotolocation-url',\r\n      retryAll: '.csui-show-retryAll',\r\n      childContainer: '.csui-items'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.pendingAction': 'doCancel',\r\n      'click @ui.processingAction': 'doCancel',\r\n      'click @ui.closeAction': 'doClose',\r\n      'keydown @ui.closeAction': 'handleKeydownOnClose',\r\n      'click @ui.collapseAction': 'doCollapse',\r\n      'click @ui.expandAction': 'doExpand',\r\n      'keydown @ui.expandAction': 'handleKeydownOnExpand',\r\n      'click @ui.minimizeButton': '_doProcessbarMinimize',\r\n      'keydown @ui.minimizeButton': 'onKeyInViewMinimize',  \r\n      'click @ui.gotoLocationElem': 'handleGotoLocationClick',\r\n      'keydown @ui.gotoLocationElem': 'handleGotoLocationClick',\r\n      'click @ui.retryAll': 'processRetryAll',\r\n      'keydown @ui.retryAll': 'processRetryAll',\r\n      'keydown': 'onKeyInParentView'\r\n    },\r\n\r\n    doCancel: function () {\r\n      //Set state to 'stopped' when aborted progress using stop button\r\n      this.collection.abort('stopped');\r\n      this.ui.processingAction.addClass('binf-hidden');\r\n    },\r\n\r\n    positionChange: function (newWidth) {\r\n      if (newWidth !== undefined) {\r\n        var parentWidth = this.$el.parent().width();\r\n        var translateX = (parentWidth - newWidth) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({ 'transform': translateX });\r\n      }\r\n    },\r\n\r\n    doCollapse: function (animated) {\r\n      this.$el.removeClass('csui-expanded');\r\n      animated = (animated === false) ? false : true;\r\n      var items = this.$el.find(\".csui-items\");\r\n      items.find('.focused-row').removeClass('focused-row');\r\n      this.options.messageHelper.switchField(this.$el.find(\".csui-header\"),\r\n        \".csui-expand\", \"down\",\r\n        [\"up\", \"down\"]);\r\n      this.options.messageHelper.collapsePanel(this, items, items, animated);\r\n      this.stateExpandCollapse = \"collapsed\";\r\n      this.$el.find('.csui-expand-down').trigger('focus');\r\n      this.focusChildIndex = -1;\r\n      this.focusingOnList = false;\r\n      setTimeout(_.bind(function () {\r\n        //adjusting postion of progress panel on collapse incase width was modified when panel was expanded.\r\n        this.positionChange(this.collapsedWidth);\r\n        this.$el.removeClass('csui-expanded-panel');\r\n      }, this), 280);\r\n    },\r\n\r\n    doExpand: function (animated) {\r\n      var items = this.$el.find(\".csui-items\"),\r\n        event = animated,\r\n        self = this;\r\n      animated = (animated === false) ? false : true;\r\n      // need to check $el.width() and set the collapsedWidth as existing element width.\r\n      if(this.$el.width()){\r\n        this.collapsedWidth= this.$el.width();\r\n      }\r\n      this.options.messageHelper.switchField(this.$el.find(\".csui-header\"),\r\n        \".csui-expand\", \"up\",\r\n        [\"up\", \"down\"]);\r\n      this.options.messageHelper.expandPanel(this, items, items, animated);\r\n      //this.options.messageHelper.expandPanel expands the panel, so this width might change so we\r\n      // need to check again and reset the expanded width.\r\n      if(this.$el.width()) {\r\n        this.expandedWidth= this.$el.width();\r\n      }\r\n      this.positionChange(this.expandedWidth);\r\n      this.stateExpandCollapse = \"expanded\";\r\n      this.$el.one(this.options.messageHelper.transitionEnd(), function () {\r\n        // TODO: DOM refresh will remove focusable of progress element by setting tabindex -1\r\n        // self.trigger('dom:refresh');\r\n        // event to ensure perfect scrollbar after 'dom:refresh' event is commented out above\r\n        self.trigger('ensure:scrollbar');\r\n        self.$el.addClass('csui-expanded');\r\n        self.$el.addClass('csui-expanded-panel');\r\n      });\r\n      if (event.type === 'keydown' && (event.keyCode === 32 || event.keyCode === 13)) {\r\n        items.find('.focused-row').removeClass('focused-row');\r\n        setTimeout(function() {\r\n          self.children.findByIndex(0).setFocus();\r\n        });\r\n        this.focusChildIndex = 0;\r\n        this.focusingOnList = true;\r\n      } else {\r\n        this.ui.collapseAction.trigger('focus');\r\n      }\r\n    },\r\n\r\n    handleKeydownOnExpand: function (event) {\r\n      if(event.type === \"keydown\" && (event.keyCode === 13 || event.keyCode === 32)) {\r\n        this.doExpand(event);\r\n      }\r\n    },\r\n\r\n    handleKeydownOnCollapse: function (event) {\r\n      if(event.type === \"keydown\" && (event.keyCode === 13 || event.keyCode === 32)) {\r\n        this.doCollapse(event);\r\n      }\r\n    },\r\n\r\n    onKeyInViewMinimize: function (event) {\r\n      if (event.keyCode === 13 || event.keyCode === 32) {\r\n        // enter key(13) or space(32)\r\n        this._doProcessbarMinimize();\r\n      }\r\n    },\r\n\r\n    onKeyInParentView: function(event) {\r\n      var focusChanged = false;\r\n      switch(event.keyCode) {\r\n        case 9: // TAB\r\n        var allFocusableElements = this._getAllFocusableElements(),\r\n        activeElement = this.currentlyFocusedElem.length > 0 ? this.currentlyFocusedElem : document.activeElement;\r\n        if(activeElement === allFocusableElements[0][0]) {\r\n          this.currentFocusIndex = 0;\r\n        }\r\n        if (this.ui.childContainer.has(event.target).length) {\r\n          if (event.shiftKey) {\r\n            this.currentFocusIndex = allFocusableElements.length - 1;\r\n            this.focusingOnList = false;\r\n            focusChanged = true;\r\n          }\r\n        } else {\r\n          var nextFocus = this.currentFocusIndex;\r\n          if (event.shiftKey) {\r\n            nextFocus -- ;\r\n          } else {\r\n            nextFocus ++ ;\r\n          }\r\n          if (nextFocus >= 0 && nextFocus < allFocusableElements.length) {\r\n            this.currentFocusIndex = nextFocus;\r\n            focusChanged = true;\r\n          } else if (nextFocus === allFocusableElements.length && this.focusChildIndex >= 0) {\r\n            focusChanged = true;\r\n            this.focusingOnList = true;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n\r\n      if (focusChanged) {\r\n        this.trigger('changed:focus', this);\r\n        this.currentlyFocusedElement();\r\n        $(this.currentlyFocusedElem)[0].focus();\r\n        this.$el.find('.focused-row') && this.$el.find('.focused-row').removeClass('focused-row');\r\n        return false;\r\n      }\r\n    },\r\n\r\n    onChildViewKeydown: function (childview, event) {\r\n      var nextFocusIndex = this.focusChildIndex;\r\n      switch (event.keyCode) {\r\n        case 40: //arrow down\r\n        nextFocusIndex < (this.children.length - 1) && ++nextFocusIndex;\r\n          break;\r\n        case 38: //arrow up\r\n          nextFocusIndex > 0 && --nextFocusIndex;          \r\n          break;\r\n      }\r\n      if (nextFocusIndex < 0 || nextFocusIndex >= this.children.length) {\r\n        return;\r\n      }\r\n      if (this.focusChildIndex >= 0 ){\r\n        this.children.findByIndex(this.focusChildIndex).removeFocus();\r\n      }\r\n      this.focusChildIndex = nextFocusIndex;\r\n      this.children.findByIndex(this.focusChildIndex).setFocus();\r\n      this.trigger('changed:focus', this);\r\n      return false;\r\n    },\r\n\r\n    _doProcessbarMinimize: function () {\r\n      this.$el.addClass('binf-hidden');\r\n      this.parentView.trigger('processbar:minimize');\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      this.parentView = parentView;\r\n      this.parentView.trigger('processbar:finished');\r\n      this.listenTo(this.parentView, 'processbar:maximize', function () {\r\n        if (!this.isDestroyed) {\r\n          this.$el.removeClass('binf-hidden');\r\n          this.ui.minimizeButton.trigger(\"focus\");\r\n          this.doResize();\r\n        }\r\n      });\r\n      this.doResize();\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      this.trigger('dom:refresh');\r\n      this.$el[0].focus();\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n        if(this.isDestroyed){\r\n          return $();\r\n        }\r\n        if (this.focusingOnList && this.focusChildIndex >= 0) {\r\n          this.currentlyFocusedElem = this.children.findByIndex(this.focusChildIndex).setFocus();\r\n        } else  {\r\n          var allFocusableElements = this._getAllFocusableElements();\r\n          this.currentlyFocusedElem = $(allFocusableElements[this.currentFocusIndex]);\r\n        } \r\n        return this.currentlyFocusedElem;\r\n      },\r\n\r\n    _getAllFocusableElements: function() {\r\n      var allFocusableElements = this.ui.header.find(\"*[tabindex]:visible\").toArray();\r\n       allFocusableElements.unshift(this.$el);\r\n       return allFocusableElements;\r\n    },\r\n\r\n    doClose: function () {\r\n      var self = this, panel = _.extend({\r\n        csuiAfterHide: function () {\r\n          self.destroy();\r\n          // Set focus back to origin view only when progress failed.\r\n          // Otherwise, Success message will be showing and it will take care of preserving focus.\r\n          if (self.isProgressFailed()) {\r\n            // Set focus back to Origin element which trigger the alert\r\n            self.trigger('escaped:focus');\r\n          }\r\n          this.parentView.trigger('processbar:finished');\r\n        }\r\n      }, this);\r\n      this.options.messageHelper.fadeoutPanel(panel);\r\n      // In IE11, 'transitionEnd' function is not called on hidden items.\r\n      // Call 'csuiAfterHide' function to close the panel\r\n      if (this.closePanel) {\r\n        this.closePanel = false;\r\n        panel.csuiAfterHide();\r\n      }\r\n    },\r\n\r\n    handleKeydownOnClose: function () {\r\n      if(event.type === \"keydown\" && (event.keyCode === 13 || event.keyCode === 32)) {\r\n        this.doClose(event);\r\n      }\r\n    },\r\n\r\n    doResize: function () {\r\n      if (this.el && !this.el.classList.contains('binf-hidden') && this.options.sizeToParentContainer) {\r\n        var minWidth = parseInt(this.$el.css('min-width'), 10);\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        this.uncompressedMinWidth || (this.uncompressedMinWidth = minWidth);\r\n        if (this.uncompressedMinWidth > parentWidth) {\r\n          this.$el.addClass('compressed');\r\n        }\r\n        else {\r\n          this.$el.removeClass('compressed');\r\n        }\r\n        var newWidth = this.$el.width();\r\n        var translateX = (parentWidth - newWidth) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    },\r\n\r\n    handleGotoLocationClick: function(event) {\r\n      if ((event.type === 'keydown' && (event.keyCode === 32 || event.keyCode === 13)) || (event.type === 'click')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.navigateToLocation();\r\n      }\r\n    },\r\n\r\n    navigateToLocation: function (chidlView) {\r\n      var model = chidlView ? chidlView.model : this.collection.models[0];\r\n      var targetLocation = model.get('targetLocation');\r\n      if (targetLocation && this._nextNode) {\r\n        this._nextNode.set('id', targetLocation.id);\r\n      }\r\n      this.doCollapse();\r\n    },\r\n    processRetryAll: function (event) {\r\n      if ((event.type === 'keydown' && (event.keyCode === 32 || event.keyCode === 13)) || (event.type === 'click')) {\r\n        this.trigger('retry:all');\r\n      }\r\n    }\r\n  });\r\n  return ProgressPanelView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/progressbar.ext',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-progressbar csui-progressrow\\\">\\r\\n  <div class=\\\"csui-name-status\\\" role=\\\"listitem\\\" tabindex=\\\"-1\\\">\\r\\n    <div class=\\\"csui-names-progress \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":4,\"column\":36},\"end\":{\"line\":4,\"column\":72}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n      <div class=\\\"csui-names csui-progresscell\\\">\\r\\n        <div class=\\\"csui-name csui-progresscell\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":56},\"end\":{\"line\":6,\"column\":64}}}) : helper)))\n    + \"\\\">\\r\\n          \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":10},\"end\":{\"line\":7,\"column\":18}}}) : helper)))\n    + \"\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-states-actions\\\">\\r\\n      <div class=\\\"csui-stateaction csui-progresscell \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":12,\"column\":53},\"end\":{\"line\":12,\"column\":89}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableCancel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":13,\"column\":8},\"end\":{\"line\":18,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"        <div\\r\\n          class=\\\"csui-stateaction-resolved binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-success\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"successIconAria\") || (depth0 != null ? lookupProperty(depth0,\"successIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"successIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":20,\"column\":133},\"end\":{\"line\":20,\"column\":152}}}) : helper)))\n    + \"\\\"></div>\\r\\n        <div\\r\\n          class=\\\"csui-stateaction-rejected binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-error\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"errorIconAria\") || (depth0 != null ? lookupProperty(depth0,\"errorIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"errorIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":22,\"column\":131},\"end\":{\"line\":22,\"column\":148}}}) : helper)))\n    + \"\\\"></div>\\r\\n        <div class=\\\"csui-stateaction-aborted binf-hidden\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"binf-hidden\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <button type=\\\"button\\\" class=\\\"csui-stateaction-pending binf-btn binf-btn-default icon csui-icon\\r\\n                                      circle_delete\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":60},\"end\":{\"line\":15,\"column\":70}}}) : helper)))\n    + \"\\\"></button>\\r\\n        <button type=\\\"button\\\" class=\\\"csui-stateaction-processing binf-hidden binf-btn binf-btn-default icon\\r\\n                                      csui-icon circle_delete\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancelAria\") || (depth0 != null ? lookupProperty(depth0,\"cancelAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancelAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":17,\"column\":75},\"end\":{\"line\":17,\"column\":89}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":17,\"column\":98},\"end\":{\"line\":17,\"column\":108}}}) : helper)))\n    + \"\\\"></button>\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"bundleDivider\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":29,\"column\":0},\"end\":{\"line\":38,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div class=\\\"csui-name-status\\\" role=\\\"listitem\\\" tabindex=\\\"-1\\\">\\r\\n  <div class=\\\"csui-names-progress \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":40,\"column\":34},\"end\":{\"line\":40,\"column\":70}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n    <div class=\\\"csui-names csui-progresscell\\\">\\r\\n      <div class=\\\"csui-type \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"type_icon_class\") || (depth0 != null ? lookupProperty(depth0,\"type_icon_class\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"type_icon_class\",\"hash\":{},\"loc\":{\"start\":{\"line\":42,\"column\":28},\"end\":{\"line\":42,\"column\":47}}}) : helper)))\n    + \"\\\">\\r\\n      </div>\\r\\n      <div class=\\\"csui-name\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":44,\"column\":36},\"end\":{\"line\":44,\"column\":44}}}) : helper)))\n    + \"\\\">\\r\\n        \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":45,\"column\":8},\"end\":{\"line\":45,\"column\":16}}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"csui-states-actions\\\">\\r\\n    <div class=\\\"csui-stateaction csui-progresscell \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":50,\"column\":51},\"end\":{\"line\":50,\"column\":87}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n      <div\\r\\n        class=\\\"csui-stateaction-resolved binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-success\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"successIconAria\") || (depth0 != null ? lookupProperty(depth0,\"successIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"successIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":52,\"column\":131},\"end\":{\"line\":52,\"column\":150}}}) : helper)))\n    + \"\\\"></div>\\r\\n      <div\\r\\n        class=\\\"csui-stateaction-rejected binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-error\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"errorIconAria\") || (depth0 != null ? lookupProperty(depth0,\"errorIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"errorIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":54,\"column\":129},\"end\":{\"line\":54,\"column\":146}}}) : helper)))\n    + \"\\\"></div>\\r\\n      <div class=\\\"csui-stateaction-aborted binf-hidden\\\" ></div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-progress csui-progresscell\\\">\\r\\n      <div class=\\\"csui-progress-dynamic binf-hidden\\\" aria-hidden=\\\"true\\\">\\r\\n        <div class=\\\"csui-progress-textbar\\\">\\r\\n          <div class=\\\"binf-progress\\\">\\r\\n            <div class=\\\"binf-progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"percentage\") || (depth0 != null ? lookupProperty(depth0,\"percentage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"percentage\",\"hash\":{},\"loc\":{\"start\":{\"line\":61,\"column\":77},\"end\":{\"line\":61,\"column\":91}}}) : helper)))\n    + \"\\\" aria-valuemin=\\\"0\\\"\\r\\n              aria-valuemax=\\\"100\\\" style=\\\"width:\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"percentage\") || (depth0 != null ? lookupProperty(depth0,\"percentage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"percentage\",\"hash\":{},\"loc\":{\"start\":{\"line\":62,\"column\":47},\"end\":{\"line\":62,\"column\":61}}}) : helper)))\n    + \"%\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"loading-dots\\\">\\r\\n            <div class=\\\"csui-loading-parent-wrapper binf-disabled csui-disabled\\\">\\r\\n              <span class=\\\"csui-loading-dots-wrapper\\\">\\r\\n                <span class=\\\"csui-loading-dot\\\">\\r\\n                </span>\\r\\n                <span class=\\\"csui-loading-dot\\\">\\r\\n                </span>\\r\\n                <span class=\\\"csui-loading-dot\\\">\\r\\n                </span>\\r\\n              </span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-progress-static\\\">\\r\\n        <div class=\\\"csui-progress-textbar\\\">\\r\\n          <div class=\\\"csui-progress-static-pending\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_pending\") || (depth0 != null ? lookupProperty(depth0,\"state_pending\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_pending\",\"hash\":{},\"loc\":{\"start\":{\"line\":81,\"column\":71},\"end\":{\"line\":81,\"column\":88}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-processing binf-hidden\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_processing\") || (depth0 != null ? lookupProperty(depth0,\"state_processing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_processing\",\"hash\":{},\"loc\":{\"start\":{\"line\":83,\"column\":86},\"end\":{\"line\":83,\"column\":106}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-resolved binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_resolved\") || (depth0 != null ? lookupProperty(depth0,\"state_resolved\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_resolved\",\"hash\":{},\"loc\":{\"start\":{\"line\":85,\"column\":65},\"end\":{\"line\":85,\"column\":83}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-rejected binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"errorMessage\") || (depth0 != null ? lookupProperty(depth0,\"errorMessage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"errorMessage\",\"hash\":{},\"loc\":{\"start\":{\"line\":87,\"column\":65},\"end\":{\"line\":87,\"column\":81}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-aborted binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_aborted\") || (depth0 != null ? lookupProperty(depth0,\"state_aborted\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_aborted\",\"hash\":{},\"loc\":{\"start\":{\"line\":89,\"column\":64},\"end\":{\"line\":89,\"column\":81}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-stopped binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_stopped\") || (depth0 != null ? lookupProperty(depth0,\"state_stopped\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_stopped\",\"hash\":{},\"loc\":{\"start\":{\"line\":91,\"column\":64},\"end\":{\"line\":91,\"column\":81}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-stopping binf-hidden\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_stopping\") || (depth0 != null ? lookupProperty(depth0,\"state_stopping\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_stopping\",\"hash\":{},\"loc\":{\"start\":{\"line\":93,\"column\":84},\"end\":{\"line\":93,\"column\":102}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-finalizing binf-hidden\\\">\\r\\n            \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_finalizing\") || (depth0 != null ? lookupProperty(depth0,\"state_finalizing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_finalizing\",\"hash\":{},\"loc\":{\"start\":{\"line\":96,\"column\":12},\"end\":{\"line\":96,\"column\":32}}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-percent\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"Error-message binf-hidden\\\">\\r\\n      <div class=\\\"csui-error\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"error\") || (depth0 != null ? lookupProperty(depth0,\"error\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"error\",\"hash\":{},\"loc\":{\"start\":{\"line\":104,\"column\":37},\"end\":{\"line\":104,\"column\":46}}}) : helper)))\n    + \"\\\">\\r\\n        \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"error\") || (depth0 != null ? lookupProperty(depth0,\"error\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"error\",\"hash\":{},\"loc\":{\"start\":{\"line\":105,\"column\":8},\"end\":{\"line\":105,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-stateaction csui-progress-cancel\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableCancel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":109,\"column\":6},\"end\":{\"line\":116,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableRetry\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":118,\"column\":4},\"end\":{\"line\":123,\"column\":11}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isEnhancedPanel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(17, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":124,\"column\":4},\"end\":{\"line\":128,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-progresspanel-divider\\\">\\r\\n  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"location\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":31,\"column\":2},\"end\":{\"line\":32,\"column\":51}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"notEnhancedPanel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":33,\"column\":2},\"end\":{\"line\":36,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <span class=\\\"csui-progresspanel-location binf-pull-left\\\"\\r\\n    title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"location\") || (depth0 != null ? lookupProperty(depth0,\"location\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"location\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":11},\"end\":{\"line\":32,\"column\":23}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"location\") || (depth0 != null ? lookupProperty(depth0,\"location\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"location\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":25},\"end\":{\"line\":32,\"column\":37}}}) : helper)))\n    + \"</span>\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":34,\"column\":2},\"end\":{\"line\":35,\"column\":45}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a class=\\\"csui-gotolocation-url binf-hidden binf-pull-right\\\" href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"targetLocationUrl\") || (depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"targetLocationUrl\",\"hash\":{},\"loc\":{\"start\":{\"line\":34,\"column\":94},\"end\":{\"line\":34,\"column\":115}}}) : helper)))\n    + \"\\\"\\r\\n    role=\\\"button\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"gotoLocation\") || (depth0 != null ? lookupProperty(depth0,\"gotoLocation\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"gotoLocation\",\"hash\":{},\"loc\":{\"start\":{\"line\":35,\"column\":18},\"end\":{\"line\":35,\"column\":34}}}) : helper)))\n    + \"</a>\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <button type=\\\"button\\\" class=\\\"csui-stateaction-pending binf-btn binf-btn-default icon csui-icon\\r\\n                                   circle_delete\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancelAria\") || (depth0 != null ? lookupProperty(depth0,\"cancelAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancelAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":111,\"column\":62},\"end\":{\"line\":111,\"column\":76}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":111,\"column\":85},\"end\":{\"line\":111,\"column\":95}}}) : helper)))\n    + \"\\\" tabindex=\\\"-1\\\"></button>\\r\\n      <button type=\\\"button\\\" class=\\\"csui-stateaction-processing binf-hidden binf-btn binf-btn-default icon\\r\\n                                   csui-icon circle_delete\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancelAria\") || (depth0 != null ? lookupProperty(depth0,\"cancelAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancelAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":113,\"column\":72},\"end\":{\"line\":113,\"column\":86}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":113,\"column\":95},\"end\":{\"line\":113,\"column\":105}}}) : helper)))\n    + \"\\\"\\r\\n        tabindex=\\\"-1\\\"></button>\\r\\n      <div class=\\\"csui-stateaction-stopped binf-hidden\\\"></div>\\r\\n\";\n},\"15\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"csui-show-retry binf-hidden\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"csui-showRetry\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"retry\") || (depth0 != null ? lookupProperty(depth0,\"retry\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"retry\",\"hash\":{},\"loc\":{\"start\":{\"line\":120,\"column\":58},\"end\":{\"line\":120,\"column\":67}}}) : helper)))\n    + \"\\\"\\r\\n        tabindex='-1'>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"retry\") || (depth0 != null ? lookupProperty(depth0,\"retry\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"retry\",\"hash\":{},\"loc\":{\"start\":{\"line\":121,\"column\":22},\"end\":{\"line\":121,\"column\":31}}}) : helper)))\n    + \"</button>\\r\\n    </div>\\r\\n\";\n},\"17\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(18, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":125,\"column\":4},\"end\":{\"line\":127,\"column\":11}}})) != null ? stack1 : \"\");\n},\"18\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <a class=\\\"csui-gotolocation-url binf-hidden\\\" href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"targetLocationUrl\") || (depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"targetLocationUrl\",\"hash\":{},\"loc\":{\"start\":{\"line\":126,\"column\":55},\"end\":{\"line\":126,\"column\":76}}}) : helper)))\n    + \"\\\" role=\\\"button\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"gotoLocation\") || (depth0 != null ? lookupProperty(depth0,\"gotoLocation\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"gotoLocation\",\"hash\":{},\"loc\":{\"start\":{\"line\":126,\"column\":92},\"end\":{\"line\":126,\"column\":108}}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"commandName\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(6, data, 0),\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":132,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_progressbar.ext', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/globalmessage/progressbar.view.ext',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/nodesprites',\r\n  'csui/controls/globalmessage/impl/progresspanel/progressbar.view',\r\n  'module',\r\n  'i18n!csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',\r\n  'hbs!csui/controls/globalmessage/impl/progressbar.ext'\r\n], function (_, $, Marionette, NodeSprites, ProgressBarViewImpl, module, lang, barTemplate) {\r\n  'use strict';\r\n\r\n  // Public: Progress bar View Class\r\n  //\r\n  // This class is a clean and easy-to-read wrapper to expose as a public interface.\r\n  // See the implementation impl/progressbar.view.js for more available public methods.\r\n  var config = _.defaults(module.config().csui, {\r\n    // To enable 4th & 5th points (i.e., showing gotoLocation & progress bar for each item)\r\n    // of LPAD-84852, make 'enhance panel' true.\r\n    enhancePanel: false\r\n  });\r\n\r\n  var BarStateValues = [\"pending\", \"processing\", \"rejected\", \"resolved\", \"aborted\", \"stopped\", \"stopping\", \"finalizing\"];\r\n\r\n  var ProgressBarView = ProgressBarViewImpl.extend({\r\n\r\n    constructor: function ProgressBarView(options) {\r\n      this.ui = _.extend({}, this.ui, ProgressBarViewImpl.prototype.ui);\r\n      ProgressBarViewImpl.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    template: barTemplate,\r\n\r\n    templateHelpers: function () {\r\n      var info = this.computeProgress(),\r\n        model = this.model,\r\n        singleItem = this.collection.length === 1,\r\n        name = this.getItemLabel(),\r\n        cancelAria = _.str.sformat(lang.CancelAria, name),\r\n        commandName = !!model.get('commandName') || model.get('commandName'),\r\n        location = model.get('targetLocation'),\r\n        enhancePanel = config.enhancePanel,\r\n        targetLocation = enhancePanel ? location : !this.options.hideGotoLocationMultiSet &&\r\n          location ? location : undefined;\r\n      if (this.model.get('state') !== \"resolved\") {\r\n        targetLocation = undefined;\r\n      }\r\n      if (enhancePanel) {\r\n        info.loadingCount = info.count ? info.count : undefined;\r\n        info.isLoadTimeAvailable = info.loadingCount > 0;\r\n      }\r\n      info.name = name;\r\n      info.enableCancel = this.options.enableCancel;\r\n      info.type_icon_class = this.model.node ? NodeSprites.findClassByNode(this.model.node) : \"\";\r\n      BarStateValues.forEach(function (value) {\r\n        info[\"state_\" + value] = lang[\"State_\" + value];\r\n      });\r\n      info.cancel = lang.Cancel;\r\n      info.cancelAria = cancelAria;\r\n      info.expand = lang.Expand;\r\n      info.collapse = lang.Collapse;\r\n      info.close = lang.Close;\r\n      info.singleItem = singleItem;\r\n      info.minimize = lang.minimize;\r\n      info.minimizeAria = lang.minimizeAria;\r\n      info.retry = lang.Retry;\r\n      info.gotoLocation = this.options.parentView.options.gotoLocationLinkLabel;\r\n      info.targetLocationUrl = targetLocation ? targetLocation.url : undefined;\r\n      info.enableRetry = config.enableRetry;\r\n      info.notEnhancedPanel = !enhancePanel && !!this.options.parentView.isMultiContainer;\r\n      info.isEnhancedPanel = enhancePanel; // To show GoToLocation for individual set passing !enhancePanel\r\n      info.errorIconAria = lang.ErrorIconAria;\r\n      info.successIconAria = lang.SuccessIconAria;\r\n      return info;\r\n    },\r\n\r\n    ui: {\r\n      loadingDots : '.loading-dots',\r\n      progressBar : '.binf-progress'\r\n    },\r\n\r\n    hanldleClickGotoLocation: function (event) {\r\n      return ProgressBarViewImpl.prototype.hanldleClickGotoLocation.apply(this, arguments);\r\n    },\r\n\r\n    _updateItem: function () {\r\n      var info = this.computeProgress(),\r\n        elem = this.$el;\r\n      if (config.enhancePanel) {\r\n        info.loadingCount = info.count ? info.count : undefined;\r\n        info.isLoadTimeAvailable = info.loadingCount > 0;\r\n      }\r\n      this.showProgressBar(info.isLoadTimeAvailable);\r\n      this.options.parentView.updateProgressArea(elem, info);\r\n       if (config.enhancePanel &&  this.model.get(\"state\") === 'processing') {\r\n        elem[0] && elem[0].getElementsByClassName(\"csui-stateaction-pending\")[0].classList.add('binf-hidden');\r\n        elem[0] && elem[0].getElementsByClassName(\"csui-stateaction-processing\")[0].classList.add('binf-hidden');\r\n      } \r\n    },\r\n\r\n    showProgressBar: function (show) {\r\n      // switch between progress bar / loading dots\r\n      var elem = this.$el;\r\n      if (show) {\r\n        this.ui.progressBar[0] && this.ui.progressBar[0].classList && this.ui.progressBar[0].classList.remove('binf-hidden');\r\n        this.ui.loadingDots[0] && this.ui.loadingDots[0].classList && this.ui.loadingDots[0].classList.add('binf-hidden');\r\n      } else {\r\n        this.ui.progressBar[0] && this.ui.progressBar[0].classList && this.ui.progressBar[0].classList.add('binf-hidden');\r\n        this.ui.loadingDots[0] && this.ui.loadingDots[0].classList && this.ui.loadingDots[0].classList.remove('binf-hidden');\r\n      }\r\n    },\r\n\r\n    computeProgress: function () {\r\n      return ProgressBarViewImpl.prototype.computeProgress.apply(this, arguments);\r\n    },\r\n\r\n  });\r\n\r\n  return ProgressBarView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/progresspanel.ext',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <div class=\\\"csui-stateaction csui-progresscell\\\">\\r\\n        <button type=\\\"button\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"stateaction_all_pending\") || (depth0 != null ? lookupProperty(depth0,\"stateaction_all_pending\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"stateaction_all_pending\",\"hash\":{},\"loc\":{\"start\":{\"line\":44,\"column\":42},\"end\":{\"line\":44,\"column\":69}}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"csui-stateaction-pending\\r\\n        csui-icon-like-btn binf-btn binf-btn-default\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"stateaction_pending\") || (depth0 != null ? lookupProperty(depth0,\"stateaction_pending\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"stateaction_pending\",\"hash\":{},\"loc\":{\"start\":{\"line\":46,\"column\":54},\"end\":{\"line\":46,\"column\":77}}}) : helper)))\n    + \"</button>\\r\\n        <button type=\\\"button\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"stateaction_all_processing\") || (depth0 != null ? lookupProperty(depth0,\"stateaction_all_processing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"stateaction_all_processing\",\"hash\":{},\"loc\":{\"start\":{\"line\":47,\"column\":42},\"end\":{\"line\":47,\"column\":72}}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"csui-stateaction-processing csui-icon-like-binf-btn binf-hidden binf-btn binf-btn-default\\\">\\r\\n            \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"stateaction_processing\") || (depth0 != null ? lookupProperty(depth0,\"stateaction_processing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"stateaction_processing\",\"hash\":{},\"loc\":{\"start\":{\"line\":49,\"column\":12},\"end\":{\"line\":49,\"column\":38}}}) : helper)))\n    + \"</button>\\r\\n      </div>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <div class=\\\"csui-show-retryAll binf-hidden\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"csui-retry-all\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"retryAll\") || (depth0 != null ? lookupProperty(depth0,\"retryAll\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"retryAll\",\"hash\":{},\"loc\":{\"start\":{\"line\":54,\"column\":62},\"end\":{\"line\":54,\"column\":74}}}) : helper)))\n    + \"\\\" tabindex='0'>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"retryAll\") || (depth0 != null ? lookupProperty(depth0,\"retryAll\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"retryAll\",\"hash\":{},\"loc\":{\"start\":{\"line\":54,\"column\":89},\"end\":{\"line\":54,\"column\":101}}}) : helper)))\n    + \"</button>\\r\\n        </div>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"binf-hidden\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <div class=\\\"csui-minimize csui-minimizecell\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"icon-progresspanel-minimize binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"minimizeAria\") || (depth0 != null ? lookupProperty(depth0,\"minimizeAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"minimizeAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":73,\"column\":28},\"end\":{\"line\":73,\"column\":44}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"minimize\") || (depth0 != null ? lookupProperty(depth0,\"minimize\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"minimize\",\"hash\":{},\"loc\":{\"start\":{\"line\":73,\"column\":53},\"end\":{\"line\":73,\"column\":65}}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></button>\\r\\n      </div>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":79,\"column\":2},\"end\":{\"line\":81,\"column\":9}}})) != null ? stack1 : \"\");\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <a class=\\\"csui-gotolocation-url binf-hidden\\\" href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"targetLocationUrl\") || (depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"targetLocationUrl\",\"hash\":{},\"loc\":{\"start\":{\"line\":80,\"column\":53},\"end\":{\"line\":80,\"column\":74}}}) : helper)))\n    + \"\\\" role=\\\"button\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"gotoLocation\") || (depth0 != null ? lookupProperty(depth0,\"gotoLocation\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"gotoLocation\",\"hash\":{},\"loc\":{\"start\":{\"line\":80,\"column\":90},\"end\":{\"line\":80,\"column\":106}}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-header\\\">\\r\\n  <div class=\\\"csui-progressrow csui-height-target\\\">\\r\\n    <div class=\\\"csui-names-progress\\\">\\r\\n      <div class=\\\"csui-names csui-progresscell\\\">\\r\\n        <div class=\\\"csui-header-icon csui-icon binf-hidden\\\"></div>\\r\\n        <h2 class=\\\"csui-title\\\" id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"progressTitleId\") || (depth0 != null ? lookupProperty(depth0,\"progressTitleId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"progressTitleId\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":35},\"end\":{\"line\":6,\"column\":54}}}) : helper)))\n    + \"\\\">\\r\\n          \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":10},\"end\":{\"line\":7,\"column\":19}}}) : helper)))\n    + \"\\r\\n        </h2>\\r\\n      </div>\\r\\n      <div class=\\\"csui-progress csui-progresscell\\\">\\r\\n        <div class=\\\"csui-progress-dynamic binf-hidden\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"binf-progress\\\">\\r\\n              <div class=\\\"binf-progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"percentage\") || (depth0 != null ? lookupProperty(depth0,\"percentage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"percentage\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":79},\"end\":{\"line\":14,\"column\":93}}}) : helper)))\n    + \"\\\"\\r\\n                   aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width:\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"percentage\") || (depth0 != null ? lookupProperty(depth0,\"percentage\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"percentage\",\"hash\":{},\"loc\":{\"start\":{\"line\":15,\"column\":70},\"end\":{\"line\":15,\"column\":84}}}) : helper)))\n    + \"%\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"loading-dots\\\">\\r\\n                <div class=\\\"csui-loading-parent-wrapper binf-disabled csui-disabled\\\">\\r\\n                    <span class=\\\"csui-loading-dots-wrapper\\\">\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-progress-static\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"csui-progress-static-pending\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_pending\") || (depth0 != null ? lookupProperty(depth0,\"state_pending\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_pending\",\"hash\":{},\"loc\":{\"start\":{\"line\":31,\"column\":73},\"end\":{\"line\":31,\"column\":90}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-processing binf-hidden\\\" aria-hidden=\\\"true\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_processing\") || (depth0 != null ? lookupProperty(depth0,\"state_processing\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_processing\",\"hash\":{},\"loc\":{\"start\":{\"line\":32,\"column\":88},\"end\":{\"line\":32,\"column\":108}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-resolved binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_resolved\") || (depth0 != null ? lookupProperty(depth0,\"state_resolved\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_resolved\",\"hash\":{},\"loc\":{\"start\":{\"line\":33,\"column\":67},\"end\":{\"line\":33,\"column\":85}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-rejected binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_rejected\") || (depth0 != null ? lookupProperty(depth0,\"state_rejected\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_rejected\",\"hash\":{},\"loc\":{\"start\":{\"line\":34,\"column\":67},\"end\":{\"line\":34,\"column\":85}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-aborted binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"state_aborted\") || (depth0 != null ? lookupProperty(depth0,\"state_aborted\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"state_aborted\",\"hash\":{},\"loc\":{\"start\":{\"line\":35,\"column\":66},\"end\":{\"line\":35,\"column\":83}}}) : helper)))\n    + \"</div>\\r\\n          </div>\\r\\n          <div class=\\\"csui-percent\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-states-actions\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableCancel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":42,\"column\":6},\"end\":{\"line\":51,\"column\":13}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableRetry\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":52,\"column\":6},\"end\":{\"line\":56,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"      <div class=\\\"csui-expand csui-progresscell \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"singleItem\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":57,\"column\":48},\"end\":{\"line\":57,\"column\":84}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-expand-down binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"expandAria\") || (depth0 != null ? lookupProperty(depth0,\"expandAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"expandAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":59,\"column\":28},\"end\":{\"line\":59,\"column\":42}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"expand\") || (depth0 != null ? lookupProperty(depth0,\"expand\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"expand\",\"hash\":{},\"loc\":{\"start\":{\"line\":59,\"column\":51},\"end\":{\"line\":59,\"column\":61}}}) : helper)))\n    + \"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n          <span class=\\\"icon csui-icon icon-expandArrowDown\\\"></span></button>\\r\\n          <button type=\\\"button\\\" class=\\\"csui-expand-up binf-hidden binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"collapseAria\") || (depth0 != null ? lookupProperty(depth0,\"collapseAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"collapseAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":62,\"column\":28},\"end\":{\"line\":62,\"column\":44}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"collapse\") || (depth0 != null ? lookupProperty(depth0,\"collapse\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"collapse\",\"hash\":{},\"loc\":{\"start\":{\"line\":62,\"column\":53},\"end\":{\"line\":62,\"column\":65}}}) : helper)))\n    + \"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">\\r\\n            <span class=\\\"icon csui-icon icon-expandArrowUp\\\"></span></button>\\r\\n      </div>\\r\\n      <div class=\\\"csui-close csui-progresscell binf-hidden\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"closeAria\") || (depth0 != null ? lookupProperty(depth0,\"closeAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"closeAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":67,\"column\":28},\"end\":{\"line\":67,\"column\":41}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"close\") || (depth0 != null ? lookupProperty(depth0,\"close\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"close\",\"hash\":{},\"loc\":{\"start\":{\"line\":67,\"column\":50},\"end\":{\"line\":67,\"column\":59}}}) : helper)))\n    + \"\\\" >\\r\\n          <span class=\\\"csui-action-close csui-icon\\\"></span></button>\\r\\n      </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enableMinimiseButton\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":70,\"column\":6},\"end\":{\"line\":75,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n  </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enhancePanel\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":78,\"column\":2},\"end\":{\"line\":82,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n<div class=\\\"csui-items-wrapper\\\">\\r\\n  <div class=\\\"csui-items\\\" role=\\\"list\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"detailsListAria\") || (depth0 != null ? lookupProperty(depth0,\"detailsListAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"detailsListAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":85,\"column\":50},\"end\":{\"line\":85,\"column\":69}}}) : helper)))\n    + \"\\\">\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_progresspanel.ext', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/globalmessage/progresspanel.view.ext',[\r\n'module', 'csui/lib/underscore', \r\n'csui/lib/marionette', 'csui/controls/globalmessage/impl/progresspanel/progresspanel.view',\r\n'csui/controls/globalmessage/progressbar.view.ext',\r\n'csui/utils/base',\r\n'i18n!csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',\r\n'hbs!csui/controls/globalmessage/impl/progresspanel.ext'\r\n], function (module, _, Marionette, ProgressPanelViewImpl, ProgressBarView, Base, lang, panelTemplate) {\r\n\r\n  // Public: Progress Panel View Class\r\n  //\r\n  // This class is a clean and easy-to-read wrapper to expose as a public interface.\r\n  // See the implementation impl/progresspanel.view.js for more available public methods.\r\n  var config = _.defaults(module.config().csui,{\r\n    // To enable 4th & 5th points (i.e., showing gotoLocation & progress bar for each item)\r\n    // of LPAD-84852, make 'enhance panel' true.\r\n    enhancePanel: false\r\n  });\r\n  var BarStateValues = [\"pending\", \"processing\", \"rejected\", \"resolved\", \"aborted\", \"stopped\", \"stopping\", \"finalizing\"];\r\n  \r\n\r\n  var ProgressPanelView = ProgressPanelViewImpl.extend({\r\n\r\n    constructor: function ProgressPanelView(options) {\r\n      ProgressPanelViewImpl.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    template: panelTemplate,\r\n\r\n    childView: ProgressBarView,\r\n\r\n    childViewOptions: function () {\r\n      return _.extend(this.options, {\r\n        enableCancel: this.options.enableCancel,\r\n        messageHelper: this.options.messageHelper,\r\n        reorderOnSort : true,\r\n        parentView: this\r\n      });\r\n    },\r\n    updateProgressArea: function (elem, info) {\r\n      var errorElem = elem.find(\".csui-progress-static-rejected\");\r\n      // update progress indicator\r\n      if (info.dynamic === undefined ? info.state === \"processing\" : info.dynamic) {\r\n        var progressBar = elem.find(\".binf-progress-bar\");\r\n        this.options.messageHelper.switchField(elem, \".csui-progress\", \"dynamic\",\r\n            [\"static\", \"dynamic\"]);\r\n        // update progressbar\r\n        var bytesOfSize = _.str.sformat(lang.BytesOfSize,\r\n            Base.getReadableFileSizeString(info.count),\r\n            Base.getReadableFileSizeString(info.total));\r\n        elem.find(\".csui-progress-text\").text(bytesOfSize);\r\n        progressBar.attr(\"aria-valuenow\", info.percentage);\r\n        progressBar.css(\"width\", _.str.sformat(\"{0}%\", info.percentage));\r\n\r\n        // update percent field\r\n        elem.find(\".csui-progress-dynamic .csui-percent\").text( _.str.sformat(\"{0}%\", info.percentage));\r\n        // elem.find('.csui-title').attr('aria-label', _.str.sformat(\"{0} {1}%\", info.label, info.percentage));\r\n\r\n      } else {\r\n        this.options.messageHelper.switchField(elem, \".csui-progress\", \"static\", [\"static\", \"dynamic\"]);\r\n        // update state field\r\n        this.options.messageHelper.switchField(elem, \".csui-progress-static\", info.state, BarStateValues);\r\n\r\n      }\r\n\r\n      errorElem.text(info.errorMessage);\r\n      errorElem.attr(\"title\", info.errorMessage);\r\n      if (info.errorMessage) {\r\n        elem.addClass('csui-error');\r\n      }\r\n\r\n      // update action field\r\n      this.options.messageHelper.switchField(elem, \".csui-stateaction\", info.state,\r\n          BarStateValues);\r\n      var isCustomisedExpression =     config.enhancePanel ? !!(this.itemsPending && this.itemsPending > 0) : \r\n      !!(this.itemsProcessing && this.itemsProcessing > 0);\r\n      if (isCustomisedExpression) {\r\n        this.$el.find('.csui-header .csui-stateaction-processing').removeClass('binf-hidden');\r\n        this.$el.find('.csui-header .csui-stateaction-pending').addClass('binf-hidden');\r\n      } else {\r\n        this.$el.find('.csui-header .csui-stateaction-processing').addClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var targetLocation, \r\n      targetLocationUrl,\r\n      info = this.computeProgress(),\r\n      singleItem = this.collection.length === 1;\r\n      if (!this.options.hideGotoLocationSingleSet && !this.isMultiContainer) {\r\n        targetLocation = this.collection.models[0].get('targetLocation');\r\n        targetLocationUrl = targetLocation && targetLocation.url;\r\n      }\r\n      BarStateValues.forEach(function (value) {\r\n        info[\"state_\" + value] = lang[\"State_\" + value];\r\n      });\r\n      this.panelStateValues.forEach(function (value) {\r\n        info[\"stateaction_\" + value] = lang[\"StateAction_\" + value];\r\n        info[\"stateaction_all_\" + value] = lang[\"StateAction_all_\" + value];\r\n      });\r\n      info.cancel = lang.Cancel;\r\n      info.detailsListAria = lang.DetailsListAria;\r\n      info.enableCancel = this.options.enableCancel;\r\n      info.expand = lang.Expand;\r\n      info.expandAria = lang.ExpandAria;\r\n      info.collapse = lang.Collapse;\r\n      info.collapseAria = lang.CollapseAria;\r\n      info.close = lang.Close;\r\n      info.closeAria = lang.CloseAria;\r\n      info.processing = (info.state === \"processing\") ? true : false;\r\n      info.progressTitleId = _.uniqueId(\"progressTitle\");\r\n      this.progressTitleId = info.progressTitleId;\r\n      info.singleItem = singleItem;\r\n      info.enableMinimiseButton = this.options.enableMinimiseButton;\r\n      info.minimize = lang.minimize;\r\n      info.minimizeAria = lang.minimizeAria;\r\n      info.gotoLocation = this.options.gotoLocationLinkLabel;\r\n      info.retryAll = lang.RetryAll;\r\n      info.enableRetry = config.enableRetry;\r\n      info.enhancePanel = !config.enhancePanel;\r\n      return _.extend(info, {\r\n        targetLocationUrl: targetLocationUrl\r\n      });\r\n    },\r\n\r\n    computeProgress: function () {\r\n      return ProgressPanelViewImpl.prototype.computeProgress.apply(this, arguments);\r\n    },\r\n    doCancel: function () {\r\n      //Set state to 'stopped' when aborted progress using stop button\r\n      this.collection.forEach(function (fileUpload) {\r\n        var currentstate = fileUpload.get('state');\r\n        var isCustomisedCondition = config.enhancePanel ? (Boolean(currentstate === 'pending')) : (Boolean(currentstate === 'pending' || currentstate === 'processing'));\r\n        if (isCustomisedCondition) {\r\n          fileUpload.set('abortState', true);\r\n        }\r\n      });\r\n     \r\n      this.collection.abort('stopped');\r\n      this.ui.processingAction.addClass('binf-hidden');\r\n    },\r\n  \r\n\r\n  });\r\n\r\n  return ProgressPanelView;\r\n\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('csui/controls/globalmessage/impl/nls/globalmessage.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/nls/root/globalmessage.lang',{\r\n  FewerDetails: \"Fewer details\",\r\n  MoreDetails: \"More details...\",\r\n  GotoLocationLinkLabel: \"Go to location\",\r\n  CloseDialog: \"Close\",\r\n  closeDialogAria: \"Close message dialog\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/messagedialog',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div class=\\\"csui-gotolocation-label\\\">\\r\\n    <a class=\\\"csui-gotolocation-url\\\" href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"targetLocationUrl\") || (depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"targetLocationUrl\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":43},\"end\":{\"line\":14,\"column\":64}}}) : helper)))\n    + \"\\\" role=\\\"button\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"gotoLocation\") || (depth0 != null ? lookupProperty(depth0,\"gotoLocation\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"gotoLocation\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":80},\"end\":{\"line\":14,\"column\":96}}}) : helper)))\n    + \"</a>\\r\\n  </div>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-message-link-div\\\">\\r\\n  <a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"link_url\") || (depth0 != null ? lookupProperty(depth0,\"link_url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"link_url\",\"hash\":{},\"loc\":{\"start\":{\"line\":21,\"column\":11},\"end\":{\"line\":21,\"column\":23}}}) : helper)))\n    + \"\\\" class=\\\"csui-message-link\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"link_label\") || (depth0 != null ? lookupProperty(depth0,\"link_label\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"link_label\",\"hash\":{},\"loc\":{\"start\":{\"line\":21,\"column\":51},\"end\":{\"line\":21,\"column\":65}}}) : helper)))\n    + \"</a>\\r\\n</div>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-details-wrapper\\\">\\r\\n  <div id=\\\"csui-message-details\\\" class=\\\"csui-details csui-minheight\\\">\\r\\n    <div class=\\\"csui-text binf-hidden\\\" id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"detailsId\") || (depth0 != null ? lookupProperty(depth0,\"detailsId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"detailsId\",\"hash\":{},\"loc\":{\"start\":{\"line\":28,\"column\":43},\"end\":{\"line\":28,\"column\":56}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"details_text\") || (depth0 != null ? lookupProperty(depth0,\"details_text\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"details_text\",\"hash\":{},\"loc\":{\"start\":{\"line\":28,\"column\":58},\"end\":{\"line\":28,\"column\":74}}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"csui-action csui-message-details-heightsource\\\">\\r\\n      <a href=\\\"javascript:void(0);\\\" class=\\\"csui-action-moredetails\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"action_moredetails\") || (depth0 != null ? lookupProperty(depth0,\"action_moredetails\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"action_moredetails\",\"hash\":{},\"loc\":{\"start\":{\"line\":30,\"column\":68},\"end\":{\"line\":30,\"column\":90}}}) : helper)))\n    + \"</a>\\r\\n      <a href=\\\"javascript:void(0);\\\" class=\\\"csui-action-fewerdetails binf-hidden\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"action_fewerdetails\") || (depth0 != null ? lookupProperty(depth0,\"action_fewerdetails\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"action_fewerdetails\",\"hash\":{},\"loc\":{\"start\":{\"line\":31,\"column\":81},\"end\":{\"line\":31,\"column\":104}}}) : helper)))\n    + \"</a>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-header csui-height-target\\\">\\r\\n  <div class=\\\"csui-header-top\\\">\\r\\n    <div class=\\\"csui-state\\\">\\r\\n      <span class=\\\"csui-state-icon csui-icon\\\"></span>\\r\\n    </div>\\r\\n    <div class=\\\"csui-text\\\" id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"headerId\") || (depth0 != null ? lookupProperty(depth0,\"headerId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"headerId\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":31},\"end\":{\"line\":6,\"column\":43}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"header_text\") || (depth0 != null ? lookupProperty(depth0,\"header_text\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"header_text\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":52},\"end\":{\"line\":6,\"column\":67}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"header_text\") || (depth0 != null ? lookupProperty(depth0,\"header_text\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"header_text\",\"hash\":{},\"loc\":{\"start\":{\"line\":6,\"column\":69},\"end\":{\"line\":6,\"column\":84}}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"csui-action\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"csui-action-close binf-btn binf-btn-default csui-icon\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"closeDialog\") || (depth0 != null ? lookupProperty(depth0,\"closeDialog\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"closeDialog\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":97},\"end\":{\"line\":8,\"column\":112}}}) : helper)))\n    + \"\\\"\\r\\n        aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"closeDialogAria\") || (depth0 != null ? lookupProperty(depth0,\"closeDialogAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"closeDialogAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":20},\"end\":{\"line\":9,\"column\":39}}}) : helper)))\n    + \"\\\"></button>\\r\\n    </div>\\r\\n  </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"targetLocationUrl\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":12,\"column\":2},\"end\":{\"line\":16,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"message_with_link\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":19,\"column\":0},\"end\":{\"line\":23,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"details_text\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":25,\"column\":0},\"end\":{\"line\":35,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_messagedialog', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/messagedialog',[],function(){});\n","csui.define('csui/controls/globalmessage/impl/messagedialog.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'i18n',\r\n  'i18n!csui/controls/globalmessage/impl/nls/globalmessage.lang',\r\n  'hbs!csui/controls/globalmessage/impl/messagedialog',\r\n  'css!csui/controls/globalmessage/impl/messagedialog',\r\n  'css!csui/controls/globalmessage/globalmessage_icons'\r\n], function (_, $, Marionette, i18n, lang, template, css) {\r\n  'use strict';\r\n\r\n  var messageClassMap = {\r\n    info: \"csui-info\",\r\n    success: \"csui-success\",\r\n    success_with_link: \"csui-success-with-link\",\r\n    warning: \"csui-warning\",\r\n    error: \"csui-error\",\r\n    processing: \"csui-processing\",\r\n    none: \"csui-none\"\r\n  };\r\n\r\n  var stateIconClassMap = {\r\n    info: \"csui-icon-notification-information-white\",\r\n    success: \"csui-icon-notification-success-white\",\r\n    success_with_link: \"csui-icon-notification-success-white\",\r\n    warning: \"csui-icon-notification-warning-white\",\r\n    error: \"csui-icon-notification-error-white\",\r\n    processing: null,\r\n    none: null\r\n  };\r\n\r\n  var closeIconClassMap = {\r\n    info: \"csui-icon-dismiss-white\",\r\n    success: \"csui-icon-dismiss-white\",\r\n    success_with_link: \"csui-icon-dismiss-white\",\r\n    warning: \"csui-icon-dismiss-white\",\r\n    error: \"csui-icon-dismiss-white\",\r\n    processing: null,\r\n    none: \"csui-icon-dismiss\"\r\n  };\r\n\r\n  var className = \"csui-messagepanel\";\r\n\r\n  var View = Marionette.ItemView.extend({\r\n\r\n    constructor: function MessageDialog(options) {\r\n      this.css = css;\r\n      options.info || (options.info = \"info\");\r\n      this.className = className + \" \" + messageClassMap[options.info];\r\n\r\n      if (options.context && options.nextNodeModelFactory) {\r\n        this._nextNode = options.context.getModel(options.nextNodeModelFactory);\r\n      }\r\n\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    className: className + \" \" + messageClassMap[\"info\"],\r\n    template: template,\r\n\r\n    ui: {\r\n      closeAction: '.csui-header .csui-action-close',\r\n      collapseAction: '.csui-details .csui-action-fewerdetails',\r\n      expandAction: '.csui-details .csui-action-moredetails',\r\n      stateIcon: '.csui-state-icon',\r\n      closeIcon: '.csui-action-close',\r\n      messageLink: '.csui-message-link',\r\n      gotoLocation: '.csui-gotolocation-url'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.closeAction': 'doClose',\r\n      'click @ui.collapseAction': 'doCollapse',\r\n      'click @ui.expandAction': 'doExpand',\r\n      'click @ui.messageLink': 'onClickLink',\r\n      'click @ui.gotoLocation': 'onClickGotoLocation',\r\n      'focusout @ui.closeIcon': 'replaceDummyBackImg'\r\n    },\r\n\r\n    doResize: function () {\r\n      var header = this.$el.find(\".csui-header\");\r\n      var details = this.$el.find(\".csui-details\");\r\n      details.width(header.width());\r\n      if (this.options.sizeToParentContainer) {\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        var translateX = (parentWidth - width) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    },\r\n\r\n    doCollapse: function (animated) {\r\n      this._clearTimeout();\r\n      animated = (animated === false) ? false : true;\r\n      var details = this.$el.find(\".csui-details\");\r\n      var detailsText = details.find(\".csui-text\");\r\n      this.options.messageHelper.switchField(details, \".csui-action\", \"moredetails\",\r\n          [\"moredetails\", \"fewerdetails\"]);\r\n      var panel = _.extend({csuiAfterHide: function () { details.css(\"width\", \"\"); }},\r\n          this);\r\n      this.options.messageHelper.collapsePanel(panel, details, detailsText, animated);\r\n      this.stateExpandCollapse = \"collapsed\";\r\n      this.ui.expandAction.focus();\r\n    },\r\n\r\n    doExpand: function (animated) {\r\n      this._clearTimeout();\r\n      animated = (animated === false) ? false : true;\r\n      var details = this.$el.find(\".csui-details\");\r\n      var detailsText = details.find(\".csui-text\");\r\n      this.options.messageHelper.switchField(details, \".csui-action\", \"fewerdetails\",\r\n          [\"moredetails\", \"fewerdetails\"]);\r\n      details.css(\"width\", this.$el.find(\".csui-header\").width());\r\n      this.options.messageHelper.expandPanel(this, details, detailsText, animated);\r\n      this.stateExpandCollapse = \"expanded\";\r\n      this.ui.collapseAction.focus();\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      var existingDialogs = parentView.$el.find('.csui-global-message.position-show');\r\n      if (existingDialogs.length) {\r\n        var latestDialog        = existingDialogs.last().find('.csui-header'),\r\n            existingDialogCount = existingDialogs.length,\r\n            currentDialogHeader = this.$el.find('.csui-header');\r\n        currentDialogHeader.css({\r\n          'top': 4 * existingDialogCount + 'px',\r\n          'margin': '0 ' + (-8 * existingDialogCount) + 'px'\r\n        });\r\n        var currentDialogDetailsWrapper = this.$el.find('.csui-details-wrapper');\r\n        if (currentDialogDetailsWrapper.length) {\r\n          currentDialogDetailsWrapper.css({\r\n            'margin-right': (-8 * existingDialogCount) + (-5) + 'px',\r\n            'margin-left': (-8 * existingDialogCount) + (-5) + 'px'\r\n          });\r\n        }\r\n      }\r\n      if (this.options.info === \"success\") {\r\n        var self = this;\r\n        var panel = _.extend({\r\n          csuiAfterShow: function () {\r\n            self.doResize();\r\n            self._setTimeout();\r\n          }\r\n        }, this);\r\n        this.options.messageHelper.showPanel(panel, relatedView, parentView);\r\n      } else {\r\n        this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      }\r\n      this.doResize();\r\n\r\n      // Fire message show to make this message dialog tabbale\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      this.$el.find('.csui-action-close').trigger('focus');\r\n    },\r\n\r\n    doClose: function () {\r\n      this._clearTimeout();\r\n      var self = this, panel = _.extend({\r\n        csuiAfterHide: function () {\r\n          self.destroy();\r\n          // Set focus back to Origin element which trigger the alert\r\n          self.trigger('escaped:focus');\r\n        }\r\n      }, this);\r\n      this.options.messageHelper.fadeoutPanel(panel);\r\n    },\r\n\r\n    _setTimeout: function () {\r\n      var self = this;\r\n      if (!this.options.enablePermanentHeaderMessages) {\r\n        if (!this.options.doAutoClose) {\r\n          // at least the fixed timeout can be deactivated, to comply with BITV 2.2.1a, configurable time limits\r\n          this.options.timeout = window.setTimeout(function () {\r\n            self.doClose();\r\n          }, 5000);\r\n        }\r\n      }\r\n    },\r\n\r\n    _clearTimeout: function () {\r\n      if (this.options.timeout) {\r\n        window.clearTimeout(this.options.timeout);\r\n        this.options.timeout = undefined;\r\n      }\r\n    },\r\n\r\n    headerId: undefined,\r\n    detailsId: undefined,\r\n\r\n    templateHelpers: function () {\r\n      var closeAria = lang.closeDialogAria;\r\n      if (!this.headerId) {\r\n        this.headerId = _.uniqueId('header');\r\n      }\r\n      if (!this.detailsId) {\r\n        this.detailsId = this.options.details ? _.uniqueId('details') : undefined;\r\n      }\r\n\r\n      var info = {\r\n        header_text: this.options.message,\r\n        headerId: this.headerId,\r\n        details_text: this.options.details,\r\n        detailsId: this.detailsId,\r\n        action_moredetails: lang.MoreDetails,\r\n        action_fewerdetails: lang.FewerDetails,\r\n        closeDialog: lang.CloseDialog,\r\n        closeDialogAria: closeAria,\r\n        gotoLocation: this.options.gotoLocation,\r\n        targetLocationUrl: this.options.targetLocationUrl\r\n      };\r\n\r\n      if (this.options.link_url && this.options.targetFolder) {\r\n        info = _.extend(info, {\r\n          message_with_link: true,\r\n          link_label: this.options.link_label || lang.GotoLocationLinkLabel,\r\n          link_url: this.options.link_url\r\n        });\r\n      }\r\n\r\n      return info;\r\n    },\r\n\r\n    onClickLink: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.doClose();\r\n      if (this.options.targetFolder && this._nextNode) {\r\n        this._nextNode.set('id', this.options.targetFolder.get('id'));\r\n      }\r\n    },\r\n\r\n    onClickGotoLocation: function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      this.doClose();\r\n      var targetLocation = this.options.targetLocation;\r\n      if (targetLocation && this._nextNode) {\r\n        this._nextNode.set('id', targetLocation.id);\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      // Set proper role and related fields\r\n      this.$el.attr('role', 'alertdialog');\r\n      this.$el.attr('aria-labelledby', this.headerId);\r\n      if (this.detailsId) {\r\n        this.$el.attr('aria-describedby', this.detailsId);\r\n      }\r\n\r\n      // Apply the right state icon\r\n      var stateClass = stateIconClassMap[this.options.info];\r\n      if (stateClass) {\r\n        this.ui.stateIcon.addClass(stateClass);\r\n      } else {\r\n        this.$el.addClass('csui-no-icon');\r\n      }\r\n\r\n      // Apply the right close icon\r\n      var closeClass = closeIconClassMap[this.options.info];\r\n      if (closeClass) {\r\n        this.ui.closeIcon.addClass(closeClass);\r\n      }\r\n\r\n      // Update collapse/expand\r\n      if (!this.stateExpandCollapse) {\r\n        // only on initial rendering collapse/expand and take state from template\r\n        var arrow = this.$el.find(\".csui-details .csui-action\").find(\r\n            \":not(.binf-hidden)\");\r\n        if (arrow.hasClass(\"csui-action-fewerdetails\")) {\r\n          this.doExpand(false);\r\n        } else if (arrow.hasClass(\"csui-action-moredetails\")) {\r\n          this.doCollapse(false);\r\n        }\r\n      }\r\n    },\r\n\r\n    replaceDummyBackImg: function(){\r\n      this.ui.closeIcon.addClass('csui-action-close-replace-dummy');\r\n    }\r\n\r\n  });\r\n\r\n  return View;\r\n\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/custom.wrapper.view',[\r\n  'csui/lib/backbone', 'csui/lib/marionette',\r\n  'css!csui/controls/globalmessage/impl/messagedialog',\r\n], function (Backbone, Marionette) {\r\n  'use strict';\r\n\r\n  var CustomWrapperView = Marionette.ItemView.extend({\r\n\r\n    constructor: function CustomWrapperView(options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n\r\n      var contentView = this.getOption('contentView');\r\n      if (!(contentView instanceof Backbone.View)) {\r\n        contentView = contentView.call(this);\r\n      }\r\n      this.view = contentView;\r\n\r\n      this.listenTo(contentView, 'destroy', this.destroy);\r\n      this.region = new Marionette.Region({el: this.el});\r\n    },\r\n\r\n    className: 'csui-messagepanel',\r\n\r\n    template: false,\r\n\r\n    onRender: function () {\r\n      this.region.show(this.view);\r\n    },\r\n\r\n    onDestroy: function () {\r\n      this.region.empty();\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n    }\r\n\r\n  });\r\n\r\n  return CustomWrapperView;\r\n\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('csui/controls/globalmessage/impl/loaderpanel/impl/nls/lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n  });\n","csui.define('csui/controls/globalmessage/impl/loaderpanel/impl/nls/root/lang',{\r\n    cancel: 'Cancel'    \r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"csui-loaderpanel\\\">\\r\\n  <div class=\\\"binf-row\\\">\\r\\n    <div class=\\\"binf-col-sm-6\\\" id=\\\"csui-zipanddownload-stage\\\">\\r\\n      \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"label\") || (depth0 != null ? lookupProperty(depth0,\"label\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"label\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":6},\"end\":{\"line\":4,\"column\":15}}}) : helper)))\n    + \"\\r\\n    </div>\\r\\n    <div class=\\\"binf-col-sm-4\\\">\\r\\n      <div class=\\\"csui-loaderpanel-inner\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"binf-col-sm-2 bin-pull-right\\\">\\r\\n      <a class=\\\"binf-pull-right csui-loader-cancel\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"cancel\") || (depth0 != null ? lookupProperty(depth0,\"cancel\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"cancel\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":52},\"end\":{\"line\":10,\"column\":62}}}) : helper)))\n    + \"</a>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_loaderpanel_impl_loaderpanel', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',[],function(){});\n","csui.define('csui/controls/globalmessage/impl/loaderpanel/loaderpanel.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette', 'i18n',\r\n  'i18n!csui/controls/globalmessage/impl/loaderpanel/impl/nls/lang',\r\n  'hbs!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',\r\n  'css!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel'\r\n], function (_, $, Backbone, Marionette, i18n, Lang, template) {\r\n  var LoaderPanelView = Marionette.ItemView.extend({\r\n    template: template,\r\n    templateHelpers: function () {\r\n      return {label: this.options.label,\r\n      cancel: Lang.cancel};\r\n    },\r\n\r\n    ui: {\r\n      cancel: '.csui-loader-cancel'\r\n    },  \r\n\r\n    events: {\r\n      'click @ui.cancel': 'cancelAndHide'\r\n    },\r\n\r\n    constructor: function LoaderPanelView(options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    cancelAndHide: function(event) {\r\n      // view will be destroyed in xhr.always callback of globalmessage's showLoader\r\n      if (this.options.xhr && this.options.xhr.abort) {\r\n        this.options.xhr.abort();   \r\n      }      \r\n      this.destroy(false);\r\n    },\r\n\r\n    doShow: function (relatedView, parentView, xhr) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      this.doResize();\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      // Set focus to close button if visible. Otherwise, first focusable element\r\n      this.ui.cancel.trigger('focus');\r\n      this.updateXHRReference(xhr);\r\n    },\r\n\r\n    updateXHRReference: function(xhr) {\r\n      if (xhr) {        \r\n        this.options.xhr && this.options.xhr.abort();\r\n        this.options.xhr = xhr;\r\n      }\r\n    },\r\n\r\n    doResize: function () {\r\n      if (this.options.sizeToParentContainer) {\r\n        var minWidth = parseInt(this.$el.css('min-width'), 10);\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        this.uncompressedMinWidth || (this.uncompressedMinWidth = minWidth);\r\n        if (this.uncompressedMinWidth > parentWidth) {\r\n          this.$el.addClass('compressed');\r\n        }\r\n        else {\r\n          this.$el.removeClass('compressed');\r\n        }\r\n        var newWidth = this.$el.width();\r\n        var translateX = (parentWidth - newWidth) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    }\r\n  });\r\n  return LoaderPanelView;\r\n});\n","csui.define('csui/behaviors/keyboard.navigation/tabkey.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabables.behavior'\r\n], function (module, _, $,\r\n    log,\r\n    Marionette,\r\n    TabablesBehavior) {\r\n  'use strict';\r\n\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n\r\n  var TabKeyBehavior = TabablesBehavior.extend({\r\n\r\n        constructor: function TabKeyBehavior(options, view) {\r\n          TabablesBehavior.prototype.constructor.apply(this, arguments);\r\n\r\n        },\r\n    \r\n        _clearTabIndexes: function (view) {\r\n          log.debug('_clearTabIndexes of TabKeyBehavior for view ' + view.constructor.name) &&\r\n          console.log(log.last);\r\n        }\r\n\r\n      },\r\n      {}\r\n  );\r\n\r\n  return TabKeyBehavior;\r\n});\r\n\n","/**\r\n * This is CSUI specific error view.\r\n * If any module/products want different implementation, please point\r\n * directly to \"smart/dialogs/modal.alert/modal.alert\" instead-of\r\n * pointing to this class.\r\n */\r\ncsui.define('csui/dialogs/modal.alert/modal.alert',['nuc/lib/underscore', 'nuc/lib/jquery', 'nuc/utils/log',\r\n  'nuc/utils/base',\r\n  'csui/behaviors/keyboard.navigation/tabkey.behavior',\r\n  'smart/dialogs/modal.alert/modal.alert'\r\n], function (_, $, log, base, TabKeyBehavior, SmartModelAlert) {\r\n  'use strict';\r\n\r\n  log.warn(\"Use modal alert from smart controls instead of depending on csui modal alert\");\r\n  var ModalAlertView = SmartModelAlert.extend({\r\n    behaviors: {\r\n      TabKeyBehavior: {\r\n        behaviorClass: TabKeyBehavior,\r\n        recursiveNavigation: true\r\n      }\r\n    },\r\n\r\n    constructor: function ModalAlertView(options) {\r\n      SmartModelAlert.prototype.constructor.call(this, options);\r\n      // listening events provided by SmartControls\r\n      this.listenTo(this, 'modalalert:after:shown', _.bind(this.afterModalAlertShown, this));\r\n    },\r\n\r\n    /**\r\n     * This method has custom logic to focus the active and tabable elements\r\n     * @param tabShift\r\n     */\r\n    afterModalAlertShown: function (tabShift) {\r\n      var tabElements = this.$el.find('*[tabindex=0]'),\r\n          lastIndex = tabElements.length - 1,\r\n          i = this._getStartIndex(lastIndex, tabShift, tabElements);\r\n      if (lastIndex > -1) {\r\n        var activeIndex = (this.activeIndex !== undefined) ? this.activeIndex :\r\n                          (tabShift ? 0 : lastIndex);\r\n        do {\r\n          var $tabElem = $(tabElements[i]);\r\n          if (base.isVisibleInWindowViewport($tabElem)) {\r\n            this.activeIndex = i;\r\n            $tabElem.trigger('focus');\r\n            break;\r\n          }\r\n          if (tabShift) {\r\n            i = (i === 0) ? lastIndex : i - 1;\r\n          } else {\r\n            i = (i === lastIndex) ? 0 : i + 1;\r\n          }\r\n        }\r\n        while (i != activeIndex);\r\n      }\r\n      return false;\r\n\r\n    },\r\n\r\n    /**\r\n     * This method has custom logic to get the element index\r\n     * @param lastIndex\r\n     * @param tabShift\r\n     */\r\n    _getStartIndex: function (lastIndex, tabShift) {\r\n      var startIndex = 0,\r\n          activeIndex = this.activeIndex;\r\n      if (tabShift) {\r\n        startIndex = lastIndex;\r\n        if (activeIndex !== undefined && activeIndex > 0) {\r\n          startIndex = this.activeIndex - 1;\r\n        }\r\n      } else {\r\n        if (activeIndex !== undefined && activeIndex < lastIndex) {\r\n          startIndex = activeIndex + 1;\r\n        }\r\n      }\r\n      return startIndex;\r\n    },\r\n  }, {\r\n\r\n    /**\r\n     * This method is overriden to listen the events after showing the alert\r\n     * @param options\r\n     */\r\n    _show: function (options) {\r\n      var alert = new ModalAlertView(options);\r\n      return alert.show();\r\n    }\r\n\r\n  });\r\n\r\n  return ModalAlertView;\r\n});\r\n\n","csui.define('csui/controls/globalmessage/globalmessage',['module',\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/messagehelper', 'csui/utils/accessibility',\r\n  'csui/controls/globalmessage/progresspanel.view.ext',\r\n  'csui/controls/globalmessage/impl/messagedialog.view',\r\n  'csui/controls/globalmessage/impl/custom.wrapper.view',\r\n  'csui/controls/globalmessage/impl/loaderpanel/loaderpanel.view',\r\n  'csui/dialogs/modal.alert/modal.alert'\r\n], function (module, _, $, Backbone, MessageHelper, Accessibility, ProgressPanelView,\r\n   MessageView, CustomWrapperView, LoaderPanelView, ModalAlert) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    enablePermanentHeaderMessages: false\r\n  });\r\n\r\n  if (Accessibility.isAccessibleMode()) {\r\n    config.enablePermanentHeaderMessages = true;\r\n  }\r\n\r\n  var messageHelper = new MessageHelper(),\r\n      globals       = {},\r\n      hasDefaultRegion;\r\n\r\n  var GlobalMessage = {\r\n\r\n    setMessageRegionView: function (messageRegionView, options) {\r\n      this._cleanupPreviousMessageRegion();\r\n      // Global messages span over the entire view height without these options\r\n      options = _.defaults({}, options, {\r\n        useClass: true,\r\n        sizeToParentContainer: true\r\n      });\r\n      options.classes && (globals.classNames = options.classes);\r\n      options.enableMinimiseButtonOnProgressPanel && (globals.enableMinimiseButtonOnProgressPanel = options.enableMinimiseButtonOnProgressPanel);\r\n      globals.relatedView = options.useClass ? undefined : messageRegionView;\r\n      //Size to parent container instead of browser view port. This is needed for cases where the\r\n      //global messaging and progress bar are to display within a widget.\r\n      globals.sizeToParentContainer = options.sizeToParentContainer;\r\n      globals.messageRegionView = messageRegionView;\r\n      if (globals.messageRegionView && globals.fileUploadCollection &&\r\n          globals.progressPanel) {\r\n        globals.progressPanel = this._makeProgressPanel();\r\n      }\r\n    },\r\n\r\n    setFileUploadCollection: function (fileUploadCollection) {\r\n      globals.fileUploadCollection = fileUploadCollection;\r\n      if (globals.progressPanel) {\r\n        if (globals.fileUploadCollection) {\r\n          globals.progressPanel = this._makeProgressPanel();\r\n        } else {\r\n          this.hideFileUploadProgress();\r\n        }\r\n      }\r\n    },\r\n\r\n    hideFileUploadProgress: function () {\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.doClose();\r\n        globals.progressPanel.destroy();\r\n        globals.progressPanel = undefined;\r\n      }\r\n    },\r\n\r\n    showFileUploadProgress: function (fileUploadCollection, options) {\r\n      //TODO (Sunil): remove this method in june update build, as the name itself mis-leading\r\n      // the actual functinoality, so for better naming convention replacing this method name.\r\n      console.warn('this method has been deprecated! please use showProgressPanel.');\r\n      this.showProgressPanel(fileUploadCollection, options);\r\n    },\r\n\r\n    showProgressPanel: function (fileUploadCollection, options) {\r\n      if (fileUploadCollection) {\r\n        if (!globals.fileUploadCollection) {\r\n          globals.fileUploadCollection = fileUploadCollection;\r\n        }\r\n\r\n        if (globals.progressPanel && \r\n          globals.progressPanel.options.actionType === options.actionType &&\r\n          !globals.progressPanel.isProgressCompleted()) {\r\n          globals.fileUploadCollection.add(fileUploadCollection.models);\r\n        } else {\r\n          this.hideFileUploadProgress();\r\n          globals.fileUploadCollection = fileUploadCollection;\r\n        }\r\n\r\n        globals.progressPanel = this._makeProgressPanel(_.extend(options, {\r\n          enableMinimiseButton : globals.enableMinimiseButtonOnProgressPanel,\r\n          enablePermanentHeaderMessages : config.enablePermanentHeaderMessages\r\n        }));\r\n        globals.progressPanel.doShow(globals.relativeView, globals.messageRegionView);\r\n      }\r\n    },\r\n\r\n    isActionInProgress : function (actionType, message, title) {\r\n      var inProgress = false, status;\r\n      if (globals.progressPanel &&\r\n        !globals.progressPanel.isProgressCompleted() &&\r\n        globals.progressPanel.options.actionType !== actionType) {\r\n          inProgress = true;\r\n          ModalAlert.showError(message, title);\r\n      }\r\n      return inProgress;\r\n    },\r\n\r\n    showPermissionApplyingProgress: function (permissionAppliedCollection, options) {\r\n      if (permissionAppliedCollection) {\r\n        globals.permissionAppliedCollection = permissionAppliedCollection;\r\n        globals.progressPanel = this.__makePermissionProgressPanel(options);\r\n      }\r\n\r\n      if (!globals.progressPanel || permissionAppliedCollection) {\r\n        globals.progressPanel = this._makeProgressPanel(options);\r\n      }\r\n      //If there is no error message and state is rejected,moving X buttons to the right side\r\n      if (globals.progressPanel.state === 'rejected' && globals.progressPanel.collection.models[0].attributes.commandName === 'ViewPermission') {\r\n        globals.progressPanel.$el.addClass(\"csui-no-error-message-panel\");\r\n      }\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.doShow(globals.relativeView, globals.messageRegionView);\r\n      }\r\n    },\r\n\r\n    showLoader: function (xhr, options) {\r\n      this.hideFileUploadProgress();\r\n      if (!globals.loaderPanel) {\r\n        globals.loaderPanel = this._makeLoaderPanel(_.extend({xhr: xhr}, options));\r\n      } else {\r\n        globals.loaderPanel.doShow(globals.relativeView, globals.messageRegionView, xhr);\r\n      }\r\n      globals.loaderPanel.listenTo(globals.loaderPanel, 'destroy', function (args) {\r\n        options.onDestroy && options.onDestroy(args);\r\n        globals.loaderPanel = undefined;\r\n      });\r\n      xhr && xhr.always(function (resp) {\r\n        globals.loaderPanel && globals.loaderPanel.destroy();\r\n        options.onDestroy && options.onDestroy(resp);\r\n        globals.loaderPanel = undefined;\r\n      });\r\n    },\r\n\r\n    changeLoaderMessage: function (message, xhr) {\r\n      if (globals.loaderPanel) {\r\n        globals.loaderPanel.$el.find(\"#csui-zipanddownload-stage\").text(message);\r\n        globals.loaderPanel.updateXHRReference(xhr);\r\n      }\r\n    },\r\n\r\n    /* Shows an error message in the global message location.\r\n      @Params:\r\n        - info - the type of the message:\r\n          - \"info\" (default)\r\n          - \"success\"\r\n          - \"success_with_link\"\r\n          - \"warning\"\r\n          - \"error\"\r\n          - \"processing\"\r\n          - \"none\"\r\n        - text - the message text\r\n        - details - a detailed message text\r\n        - options - object containing other options\r\n     */\r\n    showMessage: function (info, text, details, options) {\r\n      return this._showMessageView(MessageView,\r\n          _.extend({\r\n            info: info,\r\n            message: text,\r\n            details: details,\r\n            messageHelper: messageHelper,\r\n            sizeToParentContainer: globals.sizeToParentContainer,\r\n            enablePermanentHeaderMessages: config.enablePermanentHeaderMessages\r\n          }, options)\r\n      );\r\n    },\r\n\r\n    showCustomView: function (customView) {\r\n      return this._showMessageView(CustomWrapperView, {\r\n        contentView: customView,\r\n        messageHelper: messageHelper\r\n      });\r\n    },\r\n\r\n    _showMessageView: function (View, options) {\r\n      this._ensureMessageRegion();\r\n      var messageView = messageHelper.activatePanel(\r\n          messageHelper.createPanel(globals, View, options),\r\n          globals.relatedView, globals.messageRegionView);\r\n      this._addEventHandlers(messageView);\r\n      return messageView;\r\n    },\r\n\r\n    _makeProgressPanel: function (options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        collection: globals.fileUploadCollection,\r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var progressPanel = messageHelper.activatePanel(\r\n        messageHelper.createPanel(globals, ProgressPanelView, options,\r\n            globals.progressPanel),\r\n        globals.relatedView, globals.messageRegionView, globals.progressPanel);\r\n      this._addEventHandlers(progressPanel);\r\n      return progressPanel;\r\n    },\r\n\r\n    __makePermissionProgressPanel: function (options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        collection: globals.permissionAppliedCollection,\r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var progressPanel = messageHelper.activatePanel(\r\n        messageHelper.createPanel(globals, ProgressPanelView, options,\r\n            globals.progressPanel),\r\n        globals.relatedView, globals.messageRegionView, globals.progressPanel);\r\n      this._addEventHandlers(progressPanel);\r\n      return progressPanel;\r\n    },\r\n\r\n    _makeLoaderPanel: function (options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var loaderPanel = messageHelper.activatePanel(\r\n          messageHelper.createPanel(globals, LoaderPanelView, options, globals.progressPanel),\r\n          globals.relatedView, globals.messageRegionView, globals.progressPanel\r\n      );\r\n      this._addEventHandlers(loaderPanel);\r\n      return loaderPanel;\r\n    },\r\n\r\n    _addEventHandlers: function (view) {\r\n      // should listen to resize of region (only), but as this does not fire\r\n      // we have to listen to window as well :-(.\r\n      var resizeHandler = function () {\r\n        messageHelper.resizePanel(view, globals.relatedView);\r\n      };\r\n      $(window).on('resize', resizeHandler);\r\n      view.listenTo(globals.messageRegionView, 'resize', resizeHandler);\r\n      view.once('before:destroy', function () {\r\n        $(window).off('resize', resizeHandler);\r\n        view.stopListening(globals.messageRegionView, 'resize', resizeHandler);\r\n      });\r\n    },\r\n\r\n    _ensureMessageRegion: function () {\r\n      if (globals.messageRegionView) {\r\n        return;\r\n      }\r\n\r\n      // Reserve a view as big as the screen for high panels like\r\n      // the progress panel.  No width - this is no modal backdrop.\r\n      var modalContainer   = $.fn.binf_modal.getDefaultContainer(),\r\n          messageContainer = $('<div>',{'class': 'csui-message-container'}, {\r\n            'style': 'position:absolute; top: 0; left: 0; width: 0; height: 100vh;'\r\n          }).appendTo(modalContainer);\r\n      globals.messageRegionView = new Backbone.View({el: messageContainer});\r\n      hasDefaultRegion = true;\r\n    },\r\n\r\n    _cleanupPreviousMessageRegion: function () {\r\n      if (hasDefaultRegion) {\r\n        globals.messageRegionView.remove();\r\n        hasDefaultRegion = false;\r\n      }\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.destroy();\r\n      }\r\n      globals = {};\r\n    }\r\n\r\n  };\r\n\r\n  return GlobalMessage;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/default.action/impl/command',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/commands', 'csui/controls/globalmessage/globalmessage',\r\n  'csui/utils/commandhelper'\r\n], function (module, _, $, Backbone, log, commands, GlobalMessage, CommandHelper) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function CommandController(options) {\r\n    options || (options = {});\r\n    this.commands = options.commands || commands;\r\n  }\r\n\r\n  _.extend(CommandController.prototype, {\r\n\r\n    executeAction: function (action, status, options) {\r\n      var signature = action.get(\"signature\"),\r\n          command   = this.commands.findWhere({signature: signature});\r\n      try {\r\n        if (!command) {\r\n          throw new Error('Invalid command: ' + signature);\r\n        }\r\n        var promises = command.execute(status, options);\r\n        if (!_.isArray(promises)) {\r\n          promises = [promises];\r\n        }\r\n        return $.when\r\n            .apply($, promises)\r\n            .fail(function (error) {\r\n              if (error) {\r\n                if (!CommandHelper.showOfflineMessage(error)) {\r\n                  GlobalMessage.showMessage('error', error.message);\r\n                }\r\n              }\r\n            });\r\n      } catch (error) {\r\n        log.warn('Executing the command \"{0}\" failed.\\n{1}',\r\n        !!command && command.get('signature'), error.message) && console.warn(log.last);\r\n      }\r\n    }\r\n  });\r\n\r\n  CommandController.extend = Backbone.View.extend;\r\n\r\n  return CommandController;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/default.action/impl/defaultaction',[\r\n  'module', 'csui/lib/underscore', 'csui/behaviors/default.action/impl/command',\r\n  'csui/models/nodes', 'csui/utils/defaultactionitems', 'csui/utils/log'\r\n], function (module, _, CommandController, NodeCollection, defaultActionItems, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var DefaultActionController = CommandController.extend({\r\n\r\n    constructor: function DefaultActionController(options) {\r\n      CommandController.prototype.constructor.apply(this, arguments);\r\n      options || (options = {});\r\n      this.actionItems = options.actionItems || defaultActionItems;\r\n    },\r\n\r\n    executeAction: function (node, options) {\r\n      // Apply the default action always to the shortcut target;\r\n      // the original node reference must be expanded.\r\n      var shortcut, fakedActions;\r\n      if (node.original && node.original.get('id') > 0) {\r\n        shortcut = node;\r\n        fakedActions = this._fakeActions(node.original);\r\n        // Do not switch to original for generations. Commands have to\r\n        // handle them themselves, until we support them properly.\r\n        if (node.get('type') === 1) {\r\n          node = node.original;\r\n        }\r\n      }\r\n      var action = this.getAction(node),\r\n          status = {\r\n            nodes: new NodeCollection([node]),\r\n            shortcut: shortcut\r\n          };\r\n      if (fakedActions) {\r\n        this._resetFakedActions(node);\r\n      }\r\n      return action && CommandController.prototype.executeAction.call(\r\n              this, action, status, options);\r\n    },\r\n\r\n    getAction: function (node) {\r\n      // Check the default action always against the shortcut or generation\r\n      // target; the original node reference must be expanded.\r\n      var type = node.get('type'),\r\n          shortcut, fakedActions;\r\n      if (type === 1 && node.original && node.original.isFetchable()) {\r\n        shortcut = node;\r\n        node = node.original;\r\n        fakedActions = this._fakeActions(node);\r\n      }\r\n      var status = {\r\n            nodes: new NodeCollection([node]),\r\n            shortcut: shortcut\r\n          },\r\n          // Do not search for the first action, which is assigned\r\n          // to the object and its command is enabled; as soon as\r\n          // the first action for the object is found, the result\r\n          // of its command enabling is returned.\r\n          // TODO: Reconsider using the first enabled command again.\r\n          // Disabling a node shoudl be done by a special feature\r\n          // and not by disabling all default actions.\r\n          enabled = false,\r\n          action = this.actionItems.find(function (actionItem) {\r\n            if (actionItem.enabled(node)) {\r\n              var command = this.commands.findWhere({\r\n                signature: actionItem.get(\"signature\")\r\n              });\r\n              try {\r\n                enabled = command && command.enabled(status);\r\n              } catch (error) {\r\n                log.warn('Evaluating the command \"{0}\" failed.\\n{1}',\r\n                    command.get('signature'), error.message) && console.warn(log.last);\r\n              }\r\n              // Stop enumeration after the first action was found,\r\n              // which can handle the specified node\r\n              return true;\r\n            }\r\n          }, this);\r\n      if (fakedActions) {\r\n        this._resetFakedActions(node);\r\n      }\r\n      return enabled && action;\r\n    },\r\n\r\n    hasAction: function (node) {\r\n      return !!this.getAction(node);\r\n    },\r\n\r\n    // Core REST API does not provide permitted actions for shortcut\r\n    // originals. We always allow clicks on them and let the user\r\n    // watch how the operation fails, when they have no permission.\r\n\r\n    _fakeActions: function (node) {\r\n      if (!node.actions.length) {\r\n        var actions = _.map(\r\n            this.actionItems.getAllCommandSignatures(this.commands),\r\n            function (signature) {\r\n              return {signature: signature};\r\n            });\r\n        node.actions.reset(actions, {silent: true});\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _resetFakedActions: function (node) {\r\n      node.actions.reset([], {silent: true});\r\n    }\r\n\r\n  });\r\n\r\n  DefaultActionController.version = \"1.0\";\r\n\r\n  return DefaultActionController;\r\n\r\n});\r\n\n","// Loads widgets and exposes a promise with the result status on the view\r\ncsui.define('csui/behaviors/default.action/default.action.behavior',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/url', 'csui/utils/log',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/search.formquery.factory',\r\n  'csui/behaviors/default.action/impl/defaultaction',\r\n  'csui/utils/node.links/node.links'\r\n], function (module, _, $, Backbone, Marionette, Url, log,\r\n    NextNodeModelFactory, SearchQueryModelFactory, SearchFormModelFactory, DefaultActionController,\r\n    nodeLinks) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var DefaultActionBehavior = Marionette.Behavior.extend({\r\n    constructor: function DefaultActionBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      var context = view.options.context;\r\n      this.view = view;\r\n      this._nextNode = context && context.getModel(NextNodeModelFactory);\r\n      this._searchQuery = context && context.getModel(SearchQueryModelFactory);\r\n      this._searchForm = context && context.getModel(SearchFormModelFactory);\r\n      view.defaultActionController = this.options.defaultActionController ||\r\n                                     new DefaultActionController();\r\n    },\r\n\r\n    onExecuteDefaultAction: function (node) {\r\n      // Support triggering by the `triggers` object, where the view is\r\n      // passed by Marionette as the first parameter and there are no options\r\n      if (node instanceof Backbone.View) {\r\n        node = node.model;\r\n      }\r\n      var action = this.view.defaultActionController.getAction(node);\r\n      if (action) {\r\n        this.view.defaultActionController.executeAction(node, {\r\n          context: this.view.options.context,\r\n          originatingView: this.view\r\n        });\r\n      } else {\r\n        log.can('WARN') && log.warn('No default action was enabled for {0}.',\r\n            JSON.stringify(_.pick(node.attributes, 'name', 'id', 'type'))) &&\r\n        console.warn(log.last);\r\n      }\r\n    }\r\n  }, {\r\n    // TODO: Deprecate this method.\r\n    getDefaultActionNodeUrl: function (node) {\r\n      var url = nodeLinks.getUrl(node),\r\n          hash = url.lastIndexOf('#');\r\n      // This disallows using the hash part, when the slash-based routing is enabled.\r\n      // But it shoudl be no problem, because this method is not used in new scenaros\r\n      // any more and it didn't offer such contract forn the older ones.\r\n      if (hash >= 0) {\r\n        return url.substr(hash);\r\n      }\r\n      return url;\r\n    }\r\n  });\r\n\r\n  return DefaultActionBehavior;\r\n});\r\n\n","csui.define('csui/behaviors/dropdown.menu/dropdown.menu.behavior',['csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/marionette', 'csui/utils/base'\r\n], function ($, _, Marionette, base) {\r\n  'use strict';\r\n\r\n  var DropdownMenuBehavior = Marionette.Behavior.extend({\r\n\r\n    ui: {\r\n      dropdownMenu: '.binf-dropdown',\r\n    },\r\n\r\n    events: {\r\n      'show.binf.dropdown': 'onShowDropdownRefilterMenuItems',\r\n      'keydown': 'onKeyInMenuView',\r\n      'keyup': 'onKeyUpMenuView'\r\n    },\r\n\r\n    constructor: function DropdownMenuBehavior(options, view) {\r\n      options = _.defaults(options, {refilterOnShow: true});\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.view = view;\r\n      this.view.dropdownMenuBehavior = this;\r\n      this.listenTo(this, 'refresh:dropdown', this.onDomRefresh);\r\n    },\r\n\r\n    onRender: function() {\r\n      this.onDomRefresh();\r\n    },\r\n\r\n    onDomRefresh: function() {\r\n      this.$dropdown = this.$el;\r\n      if (this.options.dropdownSelector) {\r\n        this.$dropdown = this.$el.find(this.options.dropdownSelector);\r\n      }\r\n      this.$dropdownToggle = this.$dropdown.find('.binf-dropdown-toggle');\r\n    },\r\n\r\n    onShowDropdownRefilterMenuItems: function () {\r\n      this.options.refilterOnShow && this.view.options.collection.refilter && this.view.options.collection.refilter();\r\n    },\r\n\r\n    onKeyUpMenuView: function (event) {\r\n      // Firefox: a known issue that Space key may not work correctly.\r\n      // Our Bootstrap version is old. Link below discusses the problem and suggests moving to v4:\r\n      //  https://github.com/twbs/bootstrap/issues/20303\r\n      // Bootstrap v4 fix: https://github.com/twbs/bootstrap/issues/21159\r\n      // Fix link: https://github.com/twbs/bootstrap/pull/21535\r\n      // Code diff link: https://github.com/twbs/bootstrap/pull/21535/files\r\n      // V4 dropdown code is too different to backport the fix.\r\n      if (base.isFirefox()) {\r\n        // We are still using the older Bootstrap code in our Binf.\r\n        // Suppress extra event on Space keyup for Firefox (Chrome and IE11 don't fire extra event).\r\n        if (event.keyCode === 32) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n      }\r\n\r\n      // Modal dialog view is listening to 'keyup' event, close the menu but not Modal dialog\r\n      if (event.keyCode === 27) {\r\n        this._closeMenu(event);\r\n      }\r\n    },\r\n\r\n    onKeyInMenuView: function (event) {\r\n      // note: arrow up/down is handled by Bootstrap dropdown::keydown() with role=menu\r\n      switch (event.keyCode) {\r\n      case 9: // tab\r\n        this._closeMenu();  // just close menu and don't pass in event so that focus can move on\r\n        break;\r\n      case 13:  // enter\r\n        event.stopPropagation();\r\n        //LPAD-87935 - when we trigger click in FF manually, it enforces limitations on some features\r\n        //due to security risks. To make the features accessible atleast through ENTER key , letting the\r\n        //browser run default handling on ENTER key down.\r\n        if(!base.isFirefox()) {\r\n          event.preventDefault();\r\n          $(event.target).trigger('click');\r\n        }\r\n        break;\r\n      case 32:  // space\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        $(event.target).trigger('click');\r\n        break;\r\n      case 27:  // escape\r\n        // menu is checked for open and will be closed in the 'keyup' event method above\r\n        if (this.$dropdown.hasClass('binf-open') || this.ui.dropdownMenu.hasClass('binf-open')) {\r\n          // if menu is open, stop the event so that parent views do not get this keydown event\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n        break;\r\n      }\r\n    },\r\n\r\n    _closeMenu: function (event) {\r\n      if (this.$dropdown.hasClass('binf-open') || this.ui.dropdownMenu.hasClass('binf-open')) {\r\n        // the event is handled here for closing the menu, prevent default and stop propagating the\r\n        // event to parents\r\n        event && event.preventDefault();\r\n        event && event.stopPropagation();\r\n        this.$dropdownToggle.binf_dropdown('toggle');\r\n        this.$dropdownToggle.trigger('focus');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return DropdownMenuBehavior;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/keyboard.navigation/retainfocus.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/lib/marionette'\r\n], function (module, _, $,\r\n    log,\r\n    Marionette) {\r\n  'use strict';\r\n\r\n  var RetainFocusBehavior = Marionette.Behavior.extend({\r\n\r\n        ui: {\r\n          control: '.csui-control'\r\n        },\r\n\r\n        events: {\r\n          'mousedown @ui.control': '_startActive',\r\n          'focusout @ui.control': '_stopActive',\r\n          'keydown @ui.control': '_stopActive'\r\n        },\r\n\r\n        constructor: function RetainFocusBehavior(options, view) {\r\n          Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n          this._isFocused = false;\r\n\r\n          this.listenTo(view, 'before:render', function () {\r\n            this._isRendering = true;\r\n            if (view.isRendered) {\r\n              // check focus only when re-rendered\r\n              var controlEl = this.ui.control[0];\r\n              this._isFocused = document.activeElement === controlEl;\r\n            }\r\n          });\r\n\r\n          this.listenTo(view, 'render', function () {\r\n            this._isRendering = false;\r\n          });\r\n\r\n          this.listenTo(view, 'dom:refresh', function () {\r\n            this._reApplyFocus();\r\n          });\r\n\r\n        },\r\n\r\n        _reApplyFocus: function () {\r\n          if (this._isActive) {\r\n            this.ui.control.addClass('csui-control-active');\r\n          } else {\r\n            this.ui.control.removeClass('csui-control-active');\r\n          }\r\n          if (this._isFocused) {\r\n            this.ui.control.trigger('focus');\r\n          }\r\n        },\r\n\r\n        _startActive: function () {\r\n          this._isActive = true;\r\n          this.ui.control.addClass('csui-control-active');\r\n        },\r\n\r\n        _stopActive: function () {\r\n          if (!this._isRendering) {\r\n            this.ui.control.removeClass('csui-control-active');\r\n            this._isActive = false;\r\n          }\r\n        }\r\n\r\n      },\r\n      {\r\n        // static methods:\r\n      }\r\n  );\r\n\r\n  return RetainFocusBehavior;\r\n});\r\n\n","/**\r\n * This is CSUI specific error view.\r\n * If any module/products want different implementation, please point\r\n * directly to \"smart/controls/error/error.view\" instead-of\r\n * pointing to this class.\r\n */\r\ncsui.define('csui/controls/error/error.view',[\r\n  'nuc/utils/log',\r\n  'smart/controls/error/error.view'\r\n], function (log, SmartErrorView) {\r\n  'use strict';\r\n  log.warn(\"Use error view from smart controls instead of depending on csui error view\");\r\n  return SmartErrorView;\r\n});\r\n\n","csui.define('csui/widgets/error/error.view',[\r\n  'csui/lib/underscore','csui/lib/backbone', 'csui/controls/error/error.view'\r\n], function (_, Backbone, ErrorControlView) {\r\n  'use strict';\r\n\r\n  var ErrorWidgetView = ErrorControlView.extend({\r\n\r\n    className: function () {\r\n      var cvclass = ErrorControlView.prototype.className;\r\n      if( _.isFunction(cvclass)) {\r\n        cvclass = cvclass.call(this);\r\n      }\r\n      return 'csui-error-widget ' + cvclass;\r\n    },\r\n\r\n    constructor: function ErrorWidgetView(options) {\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n      if (!options.model) {\r\n        options.model = new Backbone.Model({\r\n          message: options.data.message,\r\n          suggestion: options.data.suggestion\r\n        });\r\n      }\r\n\r\n      ErrorControlView.prototype.constructor.call(this, options);\r\n    }\r\n\r\n  });\r\n\r\n  return ErrorWidgetView;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/widget.container/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/behaviors/widget.container/impl/nls/root/lang',{\r\n\r\n  loadingWidgetFailedMessage: '\"{0}\" failed to load.',\r\n  loadingWidgetFailedSuggestion: 'Please try again later or contact support.'\r\n\r\n});\r\n\n","// Loads widgets and exposes a promise with the result status on the view\r\ncsui.define('csui/behaviors/widget.container/widget.container.behavior',['require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/widgets/error/error.view',\r\n  'csui/utils/log', 'i18n!csui/behaviors/widget.container/impl/nls/lang',\r\n  'csui/lib/jquery.when.all'\r\n], function (require, _, $, Marionette, ErrorView, log, lang) {\r\n  'use strict';\r\n\r\n  var WidgetContainerBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function WidgetContainerBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.view = view;\r\n      this.view.widgetsResolved = this._resolveWidgets();\r\n    },\r\n\r\n    _resolveWidgets: function () {\r\n      var promises = [];\r\n      if (!this.view.enumerateWidgets) {\r\n        throw new Marionette.Error({\r\n          name: 'UndefinedEnumerateWidgets',\r\n          message: 'Undefined enumerateWidgets method'\r\n        });\r\n      }\r\n      this.view.enumerateWidgets(_.bind(function (widget) {\r\n        promises.push($.when(widget).then(WidgetContainerBehavior.resolveWidget));\r\n      }, this));\r\n      return $.whenAll.apply($, promises);\r\n    }\r\n\r\n  }, {\r\n\r\n    getErrorWidget: function (widget, error) {\r\n      return {\r\n        type: 'csui/widgets/error',\r\n        options: {\r\n          message: _.str.sformat(lang.loadingWidgetFailedMessage, widget.type),\r\n          suggestion: lang.loadingWidgetFailedSuggestion,\r\n          originalWidget: _.extend({}, widget)\r\n        },\r\n        view: ErrorView,\r\n        error: error\r\n      };\r\n    },\r\n\r\n    resolveWidget: function (widget) {\r\n      if (!widget.view) {\r\n        var promise = WidgetContainerBehavior._loadWidget(widget.type)\r\n            .then(function (Widget) {\r\n              widget.view = Widget;\r\n              // TODO: Remove the deprecated property\r\n              widget['class'] = Widget;\r\n              return widget;\r\n            }, function (error) {\r\n              log.warn('Loading widget \"{0}\" failed. {1}', widget.type, error)\r\n              && console.warn(log.last);\r\n              log.warn('Occurred ' + log.getStackTrace()) && console.warn(log.last);\r\n              _.extend(widget, WidgetContainerBehavior.getErrorWidget(widget, error));\r\n            });\r\n        return promise;\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _loadWidget: function (name) {\r\n      var deferred  = $.Deferred(),\r\n          path,\r\n          lastSlash = name.lastIndexOf('/');\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/widgets/' + name;\r\n      } else {\r\n        path = name;\r\n        name = name.substring(lastSlash + 1);\r\n      }\r\n      require([path + '/' + name + '.view'],\r\n          function (Widget) {\r\n            deferred.resolve(Widget);\r\n          }, function (error) {\r\n            deferred.reject(error);\r\n          });\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return WidgetContainerBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',['csui/lib/underscore', 'csui/lib/marionette'\r\n], function (_, Marionette) {\r\n  'use strict';\r\n\r\n  var ViewEventsPropagationMixin = {\r\n\r\n    propagateEventsToViews: function () {\r\n      var views = Array.prototype.slice.call(arguments);\r\n      _.each(this._eventsToPropagateToViews,\r\n          _.bind(this._propagateEventToViews, this, views));\r\n    },\r\n\r\n    cancelEventsToViewsPropagation: function () {\r\n      var views = Array.prototype.slice.call(arguments);\r\n      _.each(this._eventsToPropagateToViews,\r\n          _.bind(this._cancelEventToViewsPropagation, this, views));\r\n    },\r\n\r\n    _propagateEventToViews: function (views, name) {\r\n      _.each(views, function (view) {\r\n        //console.log('Propagating', name,\r\n        //    'from', Object.getPrototypeOf(this).constructor.name,\r\n        //    'to', Object.getPrototypeOf(view).constructor.name);\r\n        //var parentView = this;\r\n        var childView = view;\r\n        view.listenTo(this, name, function () {\r\n          //console.log('Triggering', name,\r\n          //    'from', Object.getPrototypeOf(parentView).constructor.name,\r\n          //    'to', Object.getPrototypeOf(childView).constructor.name);\r\n          // Check if the view has already triggered render and show events\r\n          // and if the view element has been added to the document.\r\n          if ((childView._isShown || childView._isAttached) && childView._isRendered &&\r\n              Marionette.isNodeAttached(childView.el)) {\r\n            var parameters = Array.prototype.slice.call(arguments);\r\n            parameters.unshift(childView, name);\r\n            Marionette.triggerMethodOn.apply(Marionette, parameters);\r\n          }\r\n          // context provided to be able to stop listening\r\n        }, this);\r\n      }, this);\r\n    },\r\n\r\n    _cancelEventToViewsPropagation: function (views, name) {\r\n      _.each(views, function (view) {\r\n        //console.log('Cancelling propagation', name,\r\n        //    'from', Object.getPrototypeOf(this).constructor.name,\r\n        //    'to', Object.getPrototypeOf(view).constructor.name);\r\n        // context provided to identify this origin as registrator\r\n        view.stopListening(this, name, undefined, this);\r\n      }, this);\r\n    },\r\n\r\n    _eventsToPropagateToViews: ['dom:refresh']\r\n\r\n  };\r\n\r\n  return ViewEventsPropagationMixin;\r\n\r\n});\r\n\n","csui.define('csui/controls/grid/grid.view',['require', 'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin', 'csui/utils/log'\r\n], function (require, module, _, Backbone, Marionette, ViewEventsPropagationMixin, log) {\r\n\r\n  log = log(module.id);\r\n\r\n  var ColumnView = Marionette.ItemView.extend({\r\n\r\n    className: function () {\r\n      var classNames = [];\r\n      if (!!this.model.get('className')) {\r\n        // Apply additional classes from model\r\n        classNames.push(this.model.get('className'));\r\n      }\r\n      this._addSizeClasses(classNames);\r\n      // TODO: Decide if we need it or not.  Or if we want just moves=pushes+pulls.\r\n      // Experimental features for testing: you can define offsets, pulls and pushes\r\n      // together with sizes for a grid column.  They will convert to binf-col-offset-*,\r\n      // binf-col-push-* and binf-col-pull classes respectively.\r\n      this._addOffsetClasses(classNames);\r\n      this._addPullClasses(classNames);\r\n      this._addPushClasses(classNames);\r\n      this._addHeightClasses(classNames);\r\n      return _.unique(classNames).join(' ');\r\n    },\r\n\r\n    attributes: function () {\r\n      var tmpAttributes;\r\n\r\n      if (this.model.get('widget') !== undefined) {\r\n        var widgetType = this.model.get('widget').type;\r\n        var lastSlash = widgetType.lastIndexOf('/');\r\n        if (lastSlash > 0) {\r\n          widgetType = widgetType.substring(lastSlash + 1);\r\n        }\r\n        // FIXME: use full path for widget type\r\n\r\n        tmpAttributes = {\r\n          'data-csui-widget_type': widgetType,\r\n          'data-csui-cell_address': this.model.get('widget').cellAddress\r\n        };\r\n      }\r\n      else {\r\n        tmpAttributes = {};\r\n      }\r\n\r\n      return tmpAttributes;\r\n    },\r\n\r\n    constructor: function ColumnView(options) {\r\n      if (!!options.cellBehaviours) {\r\n        this.behaviors = _.extend(options.cellBehaviours, this.behaviors);\r\n      }\r\n      this._init(options);\r\n    },\r\n\r\n    _init: function (options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, _.extend({template: false}, options));\r\n      if (this.collection) {\r\n        this._createRows();\r\n      } else {\r\n        this._registerModelEvents();\r\n        this._createCell();\r\n      }\r\n      this.propagateEventsToViews(this.cell || this.rows);\r\n    },\r\n\r\n    _registerModelEvents: function () {\r\n      this.listenTo(this.model, 'change:widget', this._updateWidget);\r\n      this.listenTo(this.model, 'change:sizes', this._updateSizes);\r\n      this.listenTo(this.model, 'change:heights', this._updateSizes);\r\n    },\r\n\r\n    _updateSizes: function () {\r\n      var className = _.result(this, 'className');\r\n      this.$el.attr('class', className);\r\n    },\r\n\r\n    /**\r\n     * Replace and re-render cell with new widget\r\n     */\r\n    _updateWidget: function (newWidget) {\r\n      newWidget.cellAddress = this.model.get('widget').cellAddress;\r\n\r\n      // Create Cell for new widget\r\n      this._createCell();\r\n\r\n      // Update Attributes\r\n      var attrs = _.result(this, 'attributes');\r\n      if (this.id) { attrs.id = _.result(this, 'id'); }\r\n      if (this.className) { attrs['class'] = _.result(this, 'className');}\r\n      this.$el.attr(attrs);\r\n\r\n      // Finally, render\r\n      this.render();\r\n    },\r\n\r\n    onRender: function () {\r\n      try {\r\n        this._renderContent();\r\n      } catch (error) {\r\n        log.warn('Widget render failed.\\n{0}', error.message) && console.warn(log.last);\r\n        var cellConstructionFailed = this.options.grid.getOption('cellConstructionFailed');\r\n        _.isFunction(cellConstructionFailed) &&\r\n        cellConstructionFailed.call(this.options.grid, this.model, error);\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this._destroyContent();\r\n    },\r\n\r\n    _addSizeClasses: function (classNames) {\r\n      var sizes = this.model.get('sizes');\r\n      if (sizes) {\r\n        sizes.xs != null && classNames.push('binf-col-xs-' + sizes.xs);\r\n        sizes.sm != null && classNames.push('binf-col-sm-' + sizes.sm);\r\n        sizes.md != null && classNames.push('binf-col-md-' + sizes.md);\r\n        sizes.lg != null && classNames.push('binf-col-lg-' + sizes.lg);\r\n        sizes.xl != null && classNames.push('binf-col-xl-' + sizes.xl);\r\n        sizes.xxl != null && classNames.push('binf-col-xxl-' + sizes.xxl);\r\n      }\r\n    },\r\n\r\n    _addOffsetClasses: function (classNames) {\r\n      var offset = this.model.get('offsets');\r\n      if (offset) {\r\n        offset.xs != null && classNames.push('binf-col-xs-offset-' + offset.xs);\r\n        offset.sm != null && classNames.push('binf-col-sm-offset-' + offset.sm);\r\n        offset.md != null && classNames.push('binf-col-md-offset-' + offset.md);\r\n        offset.lg != null && classNames.push('binf-col-lg-offset-' + offset.lg);\r\n        offset.xl != null && classNames.push('binf-col-xl-offset-' + offset.xl);\r\n        offset.xxl != null && classNames.push('binf-col-xxl-offset-' + offset.xxl);\r\n      }\r\n    },\r\n\r\n    _addPullClasses: function (classNames) {\r\n      var pulls = this.model.get('pulls');\r\n      if (pulls) {\r\n        pulls.xs != null && classNames.push('binf-col-xs-pull-' + pulls.xs);\r\n        pulls.sm != null && classNames.push('binf-col-sm-pull-' + pulls.sm);\r\n        pulls.md != null && classNames.push('binf-col-md-pull-' + pulls.md);\r\n        pulls.lg != null && classNames.push('binf-col-lg-pull-' + pulls.lg);\r\n        pulls.xl != null && classNames.push('binf-col-xl-pull-' + pulls.xl);\r\n        pulls.xxl != null && classNames.push('binf-col-xxl-pull-' + pulls.xxl);\r\n      }\r\n    },\r\n\r\n    _addPushClasses: function (classNames) {\r\n      var pushes = this.model.get('pushes');\r\n      if (pushes) {\r\n        pushes.xs != null && classNames.push('binf-col-xs-push-' + pushes.xs);\r\n        pushes.sm != null && classNames.push('binf-col-sm-push-' + pushes.sm);\r\n        pushes.md != null && classNames.push('binf-col-md-push-' + pushes.md);\r\n        pushes.lg != null && classNames.push('binf-col-lg-push-' + pushes.lg);\r\n        pushes.xl != null && classNames.push('binf-col-xl-push-' + pushes.xl);\r\n        pushes.xxl != null && classNames.push('binf-col-xxl-push-' + pushes.xxl);\r\n      }\r\n    },\r\n\r\n    _addHeightClasses: function (classNames) {\r\n      var heights = this.model.get('heights');\r\n      if (heights) {\r\n        heights.xs != null && classNames.push('row-xs-' + heights.xs);\r\n        heights.sm != null && classNames.push('row-sm-' + heights.sm);\r\n        heights.md != null && classNames.push('row-md-' + heights.md);\r\n        heights.lg != null && classNames.push('row-lg-' + heights.lg);\r\n        heights.xl != null && classNames.push('row-xl-' + heights.xl);\r\n        heights.xxl != null && classNames.push('row-xxl-' + heights.xxl);\r\n      }\r\n    },\r\n\r\n    _createRows: function () {\r\n      this.rows = new RowsView({\r\n        el: this.el,\r\n        grid: this.options.grid,\r\n        collection: this.collection\r\n      });\r\n    },\r\n\r\n    _createCell: function () {\r\n      var CellView        = this._getCellView(),\r\n          cellViewOptions = this._getCellViewOptions(),\r\n          fullOptions     = _.extend({model: this.model}, cellViewOptions);\r\n      if (!!this.cell) {\r\n        // Destroy existing cell (if any)\r\n        this.cell.destroy();\r\n      }\r\n\r\n      try {\r\n        this.cell = new CellView(fullOptions);\r\n      } catch (error) {\r\n        log.warn('Widget initialization failed.\\n{0}', error.message) && console.warn(log.last);\r\n        var cellConstructionFailed = this.options.grid.getOption('cellConstructionFailed');\r\n        _.isFunction(cellConstructionFailed) &&\r\n        cellConstructionFailed.call(this.options.grid, this.model, error);\r\n      }\r\n    },\r\n\r\n    _getCellView: function () {\r\n      var cellView = this.options.grid.getOption('cellView');\r\n      if (cellView && !(cellView.prototype instanceof Backbone.View)) {\r\n        cellView = cellView.call(this.options.grid, this.model);\r\n      }\r\n      if (!cellView) {\r\n        throw new Marionette.Error({\r\n          name: 'NoCellViewError',\r\n          message: 'A \"cellView\" must be specified'\r\n        });\r\n      }\r\n      return cellView;\r\n    },\r\n\r\n    _getCellViewOptions: function () {\r\n      var cellViewOptions = this.options.grid.getOption('cellViewOptions');\r\n      if (_.isFunction(cellViewOptions)) {\r\n        cellViewOptions = cellViewOptions.call(this.options.grid, this.model, this);\r\n      }\r\n      return cellViewOptions;\r\n    },\r\n\r\n    _renderContent: function () {\r\n      if (this.cell) {\r\n        var region = new Marionette.Region({el: this.el});\r\n        region.show(this.cell);\r\n      } else {\r\n        // If the grid is nested, nest also the height setting container class\r\n        if (this.options.grid.$el.hasClass('grid-rows')) {\r\n          this.$el.addClass('grid-rows');\r\n        }\r\n        this.rows.render();\r\n      }\r\n    },\r\n\r\n    _destroyContent: function () {\r\n      this.cell && this.cell.destroy();\r\n      this.rows && this.rows.destroy();\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(ColumnView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var RowView = Marionette.CollectionView.extend({\r\n\r\n    className: 'binf-row',\r\n\r\n    childView: ColumnView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        collection: child.rows,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours\r\n      };\r\n    },\r\n\r\n    constructor: function RowView(options) {\r\n      if (!!options.rowBehaviours) {\r\n        this.behaviors = _.extend(options.rowBehaviours, this.behaviors);\r\n      }\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'add:child', this.propagateEventsToViews);\r\n      // FIXME: implement stopListening in ViewEventsPropagationMixin on 'remove:child'\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(RowView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var RowsView = Marionette.CollectionView.extend({\r\n\r\n    childView: RowView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        collection: child.columns,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours,\r\n        reorderOnSort: this.options.reorderOnSort\r\n      };\r\n    },\r\n\r\n    constructor: function RowsView() {\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'add:child', this.propagateEventsToViews);\r\n      // FIXME: implement stopListening in ViewEventsPropagationMixin on 'remove:child'\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(RowsView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var GridRowView = RowView.extend({\r\n\r\n    childView: ColumnView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours\r\n      };\r\n    },\r\n\r\n    constructor: function GridRowView(options) {\r\n      options || (options = {});\r\n      options.grid = this;\r\n      if (!options.collection) {\r\n        options.collection = this._convertCollection(options);\r\n      }\r\n      RowView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _convertCollection: function (options) {\r\n      return new Backbone.Collection(options.columns);\r\n    }\r\n\r\n  });\r\n\r\n  var GridView = RowsView.extend({\r\n\r\n    className: 'cs-grid binf-container-fluid',\r\n\r\n    constructor: function GridView(options) {\r\n      options || (options = {});\r\n      options.grid = this;\r\n      if (!options.collection) {\r\n        options.collection = this._convertCollection(options);\r\n      }\r\n      RowsView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _convertCollection: function (options) {\r\n      return this._convertRows(options.rows, 'grid0');\r\n    },\r\n\r\n    _convertRows: function (rows, addressPrefix) {\r\n      rows = new Backbone.Collection(rows);\r\n      rows.each(function (row, rowIndex) {\r\n        var columns = row.get('columns');\r\n        row.cellAddress = addressPrefix + ':r' + rowIndex;\r\n        row.columns = this._convertColumns(columns, row.cellAddress);\r\n      }, this);\r\n      return rows;\r\n    },\r\n\r\n    _convertColumns: function (columns, addressPrefix) {\r\n      columns = new Backbone.Collection(columns);\r\n      columns.each(function (column, colIndex) {\r\n        var rows = column.get('rows');\r\n        column.cellAddress = addressPrefix + ':c' + colIndex;\r\n        if (column.get('widget') !== undefined) {\r\n          column.get('widget').cellAddress = column.cellAddress;\r\n        }\r\n        if (rows) {\r\n          column.rows = this._convertRows(rows, column.cellAddress);\r\n        }\r\n      }, this);\r\n      return columns;\r\n    }\r\n\r\n  }, {\r\n\r\n    RowView: GridRowView,\r\n    CellView: ColumnView\r\n\r\n  });\r\n\r\n  return GridView;\r\n\r\n});\r\n\n","csui.define('csui/controls/doc.preview/active.plugin',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'require'\r\n], function ($, _, require) {\r\n  'use strict';\r\n\r\n  var getActivePluginView = function (options) {\r\n    var dfd = $.Deferred(),\r\n        model = options.model,\r\n        context = options.context,\r\n        viewerView;\r\n\r\n    if (!!model && !!context) {\r\n\r\n      require(['csui/utils/commands/preview.plugins/preview.plugins'], function (plugins) {\r\n        var plugin       = plugins.findByNode(model, {context: context}),\r\n            viewerModule = plugin && plugin.widgetView ? plugin.widgetView : '';\r\n\r\n        if(!!viewerModule) {\r\n          if (typeof viewerModule === 'function') {\r\n            viewerModule = viewerModule.call(plugin, model, {context: context});\r\n          }\r\n          require([viewerModule], _.bind(function (Viewer) {\r\n            var viewerOptions = plugin.widgetViewOptions;\r\n            if (typeof viewerOptions === 'function') {\r\n              viewerOptions = viewerOptions.call(plugin, model, {context: context});\r\n            }\r\n\r\n            viewerView = new Viewer(_.extend(options, viewerOptions));\r\n\r\n            dfd.resolve({\r\n              viewer: viewerView,\r\n              plugin: plugin,\r\n              response: {\r\n                status: 'SUCCESS'\r\n              }\r\n            });\r\n\r\n          }, this));\r\n        } else {\r\n          dfd.reject({\r\n            viewer: undefined,\r\n            response: {\r\n              status: 'ERROR',\r\n              errorCode: 'ERR_UN_SUPPORTED',\r\n              errorMessage: 'Neither supported plugin nor supported document exists!'\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      dfd.reject({\r\n        viewer: undefined,\r\n        response: {\r\n          status: 'ERROR',\r\n          errorCode: 'ERR_MISSING_REQ_DATA',\r\n          errorMessage: 'Either model or context is missing!'\r\n        }\r\n      });\r\n    }\r\n\r\n    return dfd.promise();\r\n  };\r\n\r\n  return {\r\n    getActivePluginView: getActivePluginView\r\n  };\r\n});\n","\ncsui.define('css!csui/controls/doc.preview/impl/doc.preview',[],function(){});\n","csui.define('csui/controls/doc.preview/doc.preview.view',[\r\n  'csui/lib/jquery', 'require', \"csui/lib/underscore\", 'csui/lib/marionette', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/next.node', 'csui/controls/doc.preview/active.plugin',\r\n  'nuc/models/node/node.model', 'css!csui/controls/doc.preview/impl/doc.preview'\r\n], function ($, require, _, Marionette, Backbone, NextNodeModelFactory, ActivePlugin, NodeModel) {\r\n  'use strict';\r\n\r\n  var HIGHLIGHT_CLASS_NAME = 'csui-doc-preview-state';\r\n  var responseObject = {\r\n    status: '',\r\n    errorCode: '',\r\n    errorMessage: ''\r\n  };\r\n\r\n  var DocPreviewView = Marionette.ItemView.extend({\r\n    className: 'csui-doc-preview-wrapper',\r\n    template: false,\r\n\r\n    constructor: function DocPreviewView(options) {\r\n      options || (options = {});\r\n      var defaultOptions = {\r\n        skipDestroyUponCollectionRequest: false\r\n      };\r\n      options = _.defaults(options, defaultOptions);\r\n      Marionette.ItemView.apply(this, arguments);\r\n\r\n      this.model = this._getNodeModel(this.model);\r\n\r\n      this.listenTo(this, 'open:new:doc:preview',\r\n          _.bind(function (model, originatingView) {\r\n            if (this.plugin && this.plugin.constructor.isSupported(model)) {\r\n              if (!!originatingView) {\r\n                this.options.originatingView = originatingView;\r\n              }\r\n              this.options.originatingView && this._setSelectedNodes();\r\n\r\n              this.model = this._getNodeModel(model);\r\n\r\n              if (this.selectedNodes.length < 2) {\r\n                this.viewerView.trigger('update:model', this.model);\r\n              } else {\r\n                this.viewerView.trigger('update:collection', this.selectedNodes);\r\n              }\r\n\r\n              this.options.originatingView.trigger('doc:preview:generic:actions', this.model,\r\n                  HIGHLIGHT_CLASS_NAME);\r\n            } else {\r\n              this.trigger(\"error:doc:preview\", _.defaults({\r\n                status: 'ERROR',\r\n                errorCode: 'ERR_UN_SUPPORTED',\r\n                errorMessage: 'Neither supported plugin nor supported document exists!'\r\n              }, responseObject));\r\n            }\r\n          }, this));\r\n\r\n      // listen context changes and destroy the view.\r\n      this.listenToOnce(this.options.context.getModel(NextNodeModelFactory), 'change:id',\r\n          this._doCleanUp);\r\n\r\n      this.listenToOnce(this.options.context, 'change:perspective retain:perspective',\r\n        this._doCleanUp);\r\n\r\n      this.listenToOnce(this, 'before:destroy', this._doCleanUp);\r\n\r\n      if (this.options.originatingView) {\r\n\r\n        this._setSelectedNodes();\r\n\r\n        this.options.originatingView.collection &&\r\n        this.listenToOnce(this.options.originatingView.collection, 'request', _.bind(function () {\r\n          if (!this.options.skipDestroyUponCollectionRequest) {\r\n            this._doCleanUp();\r\n          }\r\n        }, this));\r\n\r\n        this.options.originatingView.commandController &&\r\n        this.listenToOnce(this.options.originatingView.commandController,\r\n            'before:execute:command', _.bind(function (eventArgs) {\r\n              if(eventArgs.commandSignature !== \"DocPreview\"){\r\n              this._doCleanUp();\r\n              }\r\n            }, this));\r\n      }\r\n\r\n      this._renderViewerView();\r\n\r\n      this.listenTo(this, 'panel:expand', this._expandPanel);\r\n      this.listenTo(this, 'panel:collapse', this._collapsePanel);\r\n    },\r\n\r\n    _getNodeModel: function (model) {\r\n      return new NodeModel(model.attributes, {connector: model.connector});\r\n    },\r\n\r\n    _setSelectedNodes: function () {\r\n      this.selectedNodes = _.isFunction(this.options.originatingView.allSelectedNodes) ?\r\n                           this.options.originatingView.allSelectedNodes() :\r\n                           (this.options.originatingView.collection &&\r\n                            this.options.originatingView.collection.selectedItems ||\r\n                            new Backbone.Collection());\r\n    },\r\n\r\n    layoutState: {},\r\n    _expandPanel: function () {\r\n      this.viewerView && this.viewerView.trigger('expand:view');\r\n    },\r\n\r\n    _collapsePanel: function () {\r\n      this.viewerView && this.viewerView.trigger('collapse:view');\r\n    },\r\n\r\n    /**\r\n     * This method is going to create and render viewer's view (from `viewx` module)\r\n     *\r\n     * @private\r\n     */\r\n    _renderViewerView: function () {\r\n      this.options.originatingView.trigger('doc:preview:generic:actions', this.model, HIGHLIGHT_CLASS_NAME);\r\n\r\n      var viewerOpts = {\r\n        model: this.model,\r\n        context: this.options.context,\r\n        selectedNodes: this.selectedNodes\r\n      };\r\n\r\n      ActivePlugin.getActivePluginView(viewerOpts)\r\n          .then(_.bind(function (args) {\r\n            this.viewerView = args.viewer;\r\n            this.plugin = args.plugin;\r\n            var viewerRegion = new Marionette.Region({\r\n              el: this.$el\r\n            });\r\n\r\n            viewerRegion.show(this.viewerView);\r\n            $(\".binf-widgets.csui-sidepanel-open\").addClass(\"csui-doc-preview\");\r\n            this.listenTo(this.viewerView, 'destroy', _.bind(function () {\r\n              this.destroy();\r\n            }, this));\r\n\r\n            this.listenTo(this.viewerView, 'highlight:row', _.bind(function (model) {\r\n              model && this.trigger('highlight:row', model);\r\n            }, this));\r\n            if (this.options.resizableWrapperClass) {\r\n              var resizableEle = this.$el.closest(this.options.resizableWrapperClass);\r\n              this.listenTo(this.viewerView, \"expand:click\", function () {\r\n                resizableEle[0].style.width = \"100%\";\r\n              });\r\n\r\n              this.listenTo(this.viewerView, \"collapse:click\", function () {\r\n                if (!!this.layoutState.width) {\r\n                  resizableEle[0].style.width = this.layoutState.width + 'px';\r\n                } else {\r\n                  resizableEle.removeAttr('style');\r\n                }\r\n              });\r\n            }\r\n\r\n          }, this))\r\n          .fail(_.bind(function (args) {\r\n            this.trigger(\"error:doc:preview\", _.defaults({\r\n              status: 'ERROR',\r\n              errorCode: 'ERR_UN_SUPPORTED',\r\n              errorMessage: 'Neither supported plugin nor supported document exists!'\r\n            }, responseObject));\r\n          }, this));\r\n    },\r\n\r\n    /**\r\n     * This method cleans all the garbage created as part of this preview veiw.\r\n     *\r\n     * @param event\r\n     * @private\r\n     */\r\n    _doCleanUp: function (event) {\r\n        this.viewerView && this.viewerView.destroy();\r\n        $(\".binf-widgets\").removeClass(\"csui-doc-preview\");\r\n    }\r\n  });\r\n\r\n  return DocPreviewView;\r\n});\r\n\n","csui.define('csui/utils/commands/open.plugins/impl/brava.plugin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/models/version'\r\n], function (_, $, VersionModel) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n                   .config['csui/utils/commands/open'] || {};\r\n\r\n  config = _.extend({\r\n    isBravaViewerAvailable: false,\r\n    supportedBravaViewerMimeTypes: [],\r\n    bravaView: 'brava/widgets/bravaviewer/bravaviewer.view',\r\n    widgetView: 'brava/widgets/bravaviewer/bravaviewer.view'\r\n  }, config);\r\n\r\n  config.supportedBravaViewerMimeTypes = _.invoke(\r\n      config.supportedBravaViewerMimeTypes, 'toLowerCase');\r\n\r\n  function BravaPlugin() {\r\n  }\r\n\r\n  BravaPlugin.prototype.widgetView = config.bravaView;\r\n\r\n  BravaPlugin.prototype.getUrlQuery = function (node) {\r\n    var query = {\r\n      func: 'doc.ViewDoc',\r\n      nodeid: node.get('id')\r\n    };\r\n    if (node instanceof VersionModel) {\r\n      query.vernum = node.get('version_number');\r\n    }\r\n    return $.Deferred()\r\n            .resolve(query)\r\n            .promise();\r\n  };\r\n\r\n  BravaPlugin.prototype.needsAuthentication = function (node) {\r\n    return true;\r\n  };\r\n\r\n  BravaPlugin.isSupported = function (node) {\r\n    var mimeType = 'view:' + (node.get('mime_type') || '');\r\n    return mimeType && config.isBravaViewerAvailable &&\r\n           config.supportedBravaViewerMimeTypes.indexOf(mimeType.toLowerCase()) >= 0;\r\n  };\r\n\r\n  return BravaPlugin;\r\n});\r\n\n","csui.define('csui/controls/doc.preview/preview.plugins/preview.plugins',[\r\n  'csui/utils/commands/open.plugins/impl/brava.plugin'\r\n], function (BravaPlugin) {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      sequence: 200,\r\n      plugin: BravaPlugin,\r\n      decides: BravaPlugin.isSupported\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/controls/node-type.icon/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/node-type.icon/impl/nls/root/lang',{\r\n\r\n  shortcutTypeLabel: 'Shortcut to {0}',\r\n  nodeTypeUnknown: 'Unknown'\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/node-type.icon/node-type.icon',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = (lookupProperty(helpers,\"xif\")||(depth0 && lookupProperty(depth0,\"xif\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"this.mainIconName||this.mainClassName\",{\"name\":\"xif\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":6,\"column\":10}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"dummySrc\") || (depth0 != null ? lookupProperty(depth0,\"dummySrc\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"dummySrc\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":14},\"end\":{\"line\":3,\"column\":26}}}) : helper)))\n    + \"\\\" class=\\\"csui-icon csui-node-type-image binf-hidden\\\" alt=\\\"\\\" aria-hidden=\\\"true\\\">\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"imageUrl\") || (depth0 != null ? lookupProperty(depth0,\"imageUrl\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"imageUrl\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":14},\"end\":{\"line\":5,\"column\":26}}}) : helper)))\n    + \"\\\" class=\\\"csui-icon csui-node-type-image\\\" alt=\\\"\\\" aria-hidden=\\\"true\\\">\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  \"\n    + ((stack1 = (lookupProperty(helpers,\"icon-v2\")||(depth0 && lookupProperty(depth0,\"icon-v2\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon-v2\",\"hash\":{\"colorTheme\":(depth0 != null ? lookupProperty(depth0,\"colorTheme\") : depth0),\"size\":(depth0 != null ? lookupProperty(depth0,\"size\") : depth0),\"iconName\":(depth0 != null ? lookupProperty(depth0,\"mainIconName\") : depth0)},\"loc\":{\"start\":{\"line\":9,\"column\":2},\"end\":{\"line\":9,\"column\":70}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = (lookupProperty(helpers,\"xif\")||(depth0 && lookupProperty(depth0,\"xif\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"this.mainClassName\",{\"name\":\"xif\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":10,\"column\":0},\"end\":{\"line\":12,\"column\":0}}})) != null ? stack1 : \"\");\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <span class=\\\"csui-node-type-icon \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"mainClassName\") || (depth0 != null ? lookupProperty(depth0,\"mainClassName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"mainClassName\",\"hash\":{},\"loc\":{\"start\":{\"line\":11,\"column\":35},\"end\":{\"line\":11,\"column\":52}}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"11\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"overlayIconNames\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(12, data, 0, blockParams, depths),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":14,\"column\":2},\"end\":{\"line\":16,\"column\":11}}})) != null ? stack1 : \"\");\n},\"12\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + ((stack1 = (lookupProperty(helpers,\"icon-v2\")||(depth0 && lookupProperty(depth0,\"icon-v2\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon-v2\",\"hash\":{\"size\":(depths[1] != null ? lookupProperty(depths[1],\"size\") : depths[1]),\"iconName\":depth0},\"loc\":{\"start\":{\"line\":15,\"column\":4},\"end\":{\"line\":15,\"column\":45}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"overlayClassNames\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":18,\"column\":2},\"end\":{\"line\":20,\"column\":11}}})) != null ? stack1 : \"\");\n},\"15\":function(container,depth0,helpers,partials,data) {\n    return \"    <span class=\\\"\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"\\\"></span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"imageUrl\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":7,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = (lookupProperty(helpers,\"xif\")||(depth0 && lookupProperty(depth0,\"xif\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"this.mainIconName\",{\"name\":\"xif\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.program(8, data, 0, blockParams, depths),\"loc\":{\"start\":{\"line\":8,\"column\":0},\"end\":{\"line\":12,\"column\":8}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"overlayIconNames\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0, blockParams, depths),\"inverse\":container.program(14, data, 0, blockParams, depths),\"loc\":{\"start\":{\"line\":13,\"column\":0},\"end\":{\"line\":21,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useDepths\":true});\nHandlebars.registerPartial('csui_controls_node-type.icon_node-type.icon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/node-type.icon/impl/node-type.icon.view',[],function(){});\n","csui.define('csui/controls/node-type.icon/node-type.icon.view',['module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/nodesprites',\r\n  'csui/utils/url',\r\n  'i18n!csui/controls/node-type.icon/impl/nls/lang',\r\n  'hbs!csui/controls/node-type.icon/node-type.icon',\r\n  'csui/controls/icons.v2',\r\n  'css!csui/controls/node-type.icon/impl/node-type.icon.view',\r\n  'csui/lib/jquery.binary.ajax',\r\n  'csui/lib/handlebars.helpers.xif'\r\n], function (module, _, $, Log, Backbone, Marionette,\r\n    nodeSpriteCollection,\r\n    Url,\r\n    lang,\r\n    template,\r\n    iconRegistry\r\n) {\r\n  'use strict';\r\n\r\n  var log = new Log(module.id);\r\n\r\n  var config = module.config() || {};\r\n  var excludedShortcutTypes = config.excludedShortcutTypes || [];\r\n  if (!_.isArray(excludedShortcutTypes)) {\r\n    excludedShortcutTypes = Array.prototype.concat.apply([], _.values(excludedShortcutTypes));\r\n  }\r\n\r\n  var NodeTypeIconModel = Backbone.Model.extend({\r\n    constructor: function NodeTypeIconModel(attributes, options) {\r\n      options || (options = {});\r\n      this.node = options.node;\r\n      this.options = options;\r\n\r\n      this._useIconwithColorSchema = !!options.colorTheme;\r\n\r\n      attributes || (attributes = {});\r\n      _.extend(attributes, this._getAttributes());\r\n\r\n      NodeTypeIconModel.__super__.constructor.call(this, attributes, options);\r\n\r\n      this.listenTo(this.node, 'change:id', this._updateModelFromNode)\r\n          .listenTo(this.node, 'change:type', this._updateModelFromNode)\r\n          .listenTo(this.node, 'change:image_url', this._updateModelFromNode);\r\n    },\r\n\r\n    _getAttributes: function () {\r\n      var node = this.node,\r\n          original = node.original,\r\n          exactNodeSprite = this.options.nodeSprite || nodeSpriteCollection.findByNode(node) || {},\r\n          exactClassName = exactNodeSprite.get('className'),\r\n          withColorSchemaIconName = exactNodeSprite.get('withColorSchemaIconName'),\r\n          exactIconName = this._useIconwithColorSchema ?\r\n                          (withColorSchemaIconName ? withColorSchemaIconName :\r\n                           exactNodeSprite.get('iconName')) :\r\n                          exactNodeSprite.get('iconName'),\r\n          mainClassName = exactClassName,\r\n          mainIconName = exactIconName,\r\n          displayThumbnail = this.options.displayThumbnailIcon !== false,\r\n          overlayClassNames = [],\r\n          overlayIconNames = [];\r\n      var mimeTypeFromNodeSprite;\r\n      if (exactNodeSprite.attributes) {\r\n        mimeTypeFromNodeSprite = exactNodeSprite.get('mimeType');\r\n      }\r\n      // prefer the title mapped by mimetype entries in nodeSpriteCollection\r\n      var title = mimeTypeFromNodeSprite || node.get(\"type_name\") || node.get(\"type\");\r\n\r\n      // If the node is shortcut, find the icon data for the original node\r\n      // and add append an overlay CSS class for a small arrow icon.\r\n\r\n      // Note: For MicroPost(Comments and Replies), do not consider\r\n      // original node, show their respective icon\r\n\r\n      // Note2: since the RestAPI at the moment does not return the document version, showing the\r\n      // latest document mime-type icon with the shortcut overlay is incorrect.  Use the\r\n      // generation icon  for now.  When the RestAPI and UI supports Generation, switch this to\r\n      // generation-overlay.\r\n\r\n      if (original && original.get('id') && _.indexOf(excludedShortcutTypes, node.get(\"type\")) ===\r\n          -1) {\r\n        var originalNodeSprite = nodeSpriteCollection.findByNode(original) || {};\r\n        mainClassName = originalNodeSprite.get('className');\r\n        withColorSchemaIconName = originalNodeSprite.get('withColorSchemaIconName');\r\n        mainIconName = this._useIconwithColorSchema ?\r\n                       (withColorSchemaIconName ? withColorSchemaIconName :\r\n                        originalNodeSprite.get('iconName')) :\r\n                       originalNodeSprite.get('iconName');\r\n\r\n        overlayClassNames.push('csui-icon csui-icon-shortcut-overlay');\r\n        if (this._useIconwithColorSchema) {\r\n          overlayIconNames.push('csui_colorschema_shortcut-overlay');\r\n        } else {\r\n          overlayIconNames.push('csui_shortcut-overlay');\r\n        }\r\n        title = _.str.sformat(lang.shortcutTypeLabel,\r\n            originalNodeSprite.get('mimeType') || original.get(\"type_name\") ||\r\n            lang.nodeTypeUnknown);\r\n      }\r\n\r\n      var attributes = {\r\n        imageUrl:  displayThumbnail && node.get(node.imageAttribute||\"image_url\"),\r\n        title: title\r\n      };\r\n      // add attributes from options\r\n      _.extend(attributes, _.pick(this.options, 'size'));\r\n      if (this._useIconwithColorSchema) {\r\n        _.extend(attributes, _.pick(this.options, 'colorTheme'));\r\n      } else {\r\n        _.extend(attributes, _.pick(this.options, 'filter'));\r\n      }\r\n      if (this.options.selectable === false) {\r\n        overlayIconNames.push('csui_nonselectable-overlay');\r\n      }\r\n\r\n      // prefer SVGs\r\n      if (exactIconName) {\r\n        attributes.iconName = exactIconName;\r\n        if (mainIconName) {\r\n          attributes.mainIconName = mainIconName;\r\n        } else {\r\n          attributes.mainClassName = mainClassName;\r\n        }\r\n        if (overlayIconNames.length > 0) {\r\n          attributes.overlayIconNames = overlayIconNames;\r\n        } else {\r\n          attributes.overlayClassNames = overlayClassNames;\r\n        }\r\n      } else {\r\n        attributes.className = exactClassName;\r\n        attributes.mainClassName = mainClassName;\r\n        attributes.overlayClassNames = overlayClassNames;\r\n      }\r\n\r\n      attributes.dummySrc = \"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=\";\r\n\r\n      return attributes;\r\n    },\r\n\r\n    _updateModelFromNode: function () {\r\n      this.clear({silent: true});\r\n      this.set(this._getAttributes());\r\n    }\r\n  });\r\n\r\n  var NodeTypeIconView = Marionette.ItemView.extend({\r\n    tagName: 'span',\r\n\r\n    attributes: function () {\r\n      var title = this.model.get('title');\r\n      var cssClass = 'csui-icon-group';\r\n      var size = this.model.get('size');\r\n      if (size) {\r\n        var sizeClass = iconRegistry.getClassForSize({size: size});\r\n        cssClass += ' ' + sizeClass;\r\n      }\r\n      return {\r\n        'class': cssClass,\r\n        'title': title,\r\n        'aria-label': title\r\n      };\r\n    },\r\n\r\n    template: template,\r\n\r\n    ui: {\r\n      imageElement: '.csui-node-type-image',\r\n      iconElement: '.csui-node-type-icon'\r\n    },\r\n\r\n    constructor: function NodeTypeIconView(options) {\r\n      options || (options = {});\r\n      if (!options.model) {\r\n        this.ownModel = true;\r\n        options.model = new NodeTypeIconModel(undefined, options);\r\n      }\r\n\r\n      NodeTypeIconView.__super__.constructor.call(this, options);\r\n\r\n      // Passing the el to the ctor prevents creating an own el, including\r\n      // setting its attributes.  The caller must ensure the right tag.\r\n      if (options.el) {\r\n        $(options.el).attr(_.result(this, 'attributes'));\r\n      }\r\n\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    attachElContent: function() {\r\n      var result = Marionette.ItemView.prototype.attachElContent.apply(this,arguments);\r\n      if (this.model.attributes.mainIconName) {\r\n        this.$(\".csui-icon-v2__\"+this.model.attributes.mainIconName).addClass(\"csui-node-type-icon\");\r\n      }\r\n      return result;\r\n    },\r\n\r\n    onRender: function () {\r\n      this._updateTitle();\r\n      if (this.ui.imageElement.length>0) {\r\n        setImgUrl(this.ui.imageElement,this.model.attributes.imageUrl,this.model.node.connector).done(function(result){\r\n          this.ui.imageElement.removeClass('binf-hidden');\r\n          this.ui.iconElement.remove();\r\n          this.ui.iconElement = $();\r\n          if (result.objUrl) {\r\n            if (this.objUrl) {\r\n              URL.revokeObjectURL(this.objUrl);\r\n            }\r\n            this.objUrl = result.objUrl;\r\n          }\r\n        }.bind(this)).fail(function(){\r\n          if (this.ui.iconElement.length>0) {\r\n            this.ui.imageElement.remove();\r\n            this.ui.imageElement = $();\r\n          }\r\n        }.bind(this));\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n      if (this.ownModel) {\r\n        this.model.stopListening();\r\n      }\r\n      if (this.objUrl) {\r\n        URL.revokeObjectURL(this.objUrl);\r\n      }\r\n    },\r\n\r\n    _updateTitle: function () {\r\n      var title = this.model.get('title');\r\n      this.$el\r\n          .attr('title', title)\r\n          .attr('aria-label', title);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Set url as src in img element.\r\n   * For relative urls first make absolute url using connection in connector.\r\n   * For urls calling the cgi script use ajax and create url object with URL.createObjectURL.\r\n   *\r\n   * Note: consider to provide this method in a public utility class.\r\n   *\r\n   * @param {*} imageElement jquery element (img) to display image.\r\n   * @param {*} imageUrl the image url to set as src for the img element.\r\n   * @param {*} connector the connector to check for the cgi script and to use for the ajax call.\r\n   * @returns promise, which is resolved on successful display of image and rejected otherwise.\r\n   * The promise is resolved/rejected with an object, where result.imgUrl contains the effective url.\r\n   * If on success result.objUrl is set, caller must release it later using URL.revokeObjectURL(objUrl).\r\n   */\r\n  function setImgUrl(imageElement,imageUrl,connector) {\r\n\r\n    function setSrc(deferred,result) {\r\n      imageElement.on('load',function(){\r\n        deferred.resolve(result);\r\n      }).on('error',function(){\r\n        deferred.reject({imgUrl:result.imgUrl});\r\n      }).attr(\"src\",result.objUrl||result.imgUrl);\r\n      return deferred.promise();\r\n    }\r\n\r\n    // load image and set as src in img element.\r\n    var deferred = $.Deferred();\r\n    deferred.fail(function(result){\r\n      if (result.imgUrl) {\r\n        var logurl = result.imgUrl.length>200 ? result.imgUrl.substring(0,200)+\"...\" : result.imgUrl;\r\n        log.error(\"error loading image: {0}\",logurl) && console.log(log.last);\r\n      }\r\n    });\r\n    if (imageUrl) {\r\n      if (imageUrl.lastIndexOf('data:',0)!==0 && connector) {\r\n        var connectionUrl = connector.getConnectionUrl();\r\n        var useAjax;\r\n        if (new Url(imageUrl).isAbsolute()) {\r\n          useAjax = imageUrl.lastIndexOf(connectionUrl.getCgiScript(),0)===0;\r\n        } else if (imageUrl.lastIndexOf('/',0)===0) {\r\n          imageUrl = Url.combine(connectionUrl.getOrigin(), imageUrl);\r\n        } else {\r\n          useAjax = true;\r\n          imageUrl = Url.combine(connectionUrl.getCgiScript(), imageUrl);\r\n        }\r\n        if (useAjax) {\r\n          var getImageOptions = {\r\n            url: imageUrl,\r\n            dataType: 'binary',\r\n            connection: connector.connection\r\n          };\r\n          connector.makeAjaxCall(getImageOptions)\r\n            .always(function (response, statusText, jqxhr) {\r\n              if (jqxhr.status === 200) {\r\n                setSrc(deferred,{imgUrl:imageUrl,objUrl:URL.createObjectURL(response)});\r\n              } else {\r\n                deferred.reject({imgUrl:imageUrl});\r\n              }\r\n            });\r\n          return deferred.promise();\r\n        }\r\n      }\r\n      return setSrc(deferred,{imgUrl:imageUrl});\r\n    }\r\n    return deferred.reject({imgUrl:imageUrl}).promise();\r\n\r\n  }\r\n\r\n  return NodeTypeIconView;\r\n});\r\n\n","/**\r\n* This control will be depricated once SVF-1020 resolved, in which\r\n* smart control's mappings will be included with global mappings.\r\n* Once this solution is ready, then create a direct mapping for this\r\n* control as shown below.\r\n*\r\n* \"csui/controls/progressblocker/blocker\": \"smart/controls/progressblocker/blocker\"\r\n*/\r\n\r\ncsui.define('csui/controls/progressblocker/blocker',[\r\n  'module', 'csui/lib/underscore',\r\n  'smart/controls/progressblocker/blocker'\r\n], function (module, _, SmartBlocker) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    delay: 10,\r\n    disableDelay: 10,\r\n    globalOnly: false\r\n  });\r\n\r\n  SmartBlocker.setModuleConfigs(config);\r\n\r\n  return SmartBlocker;\r\n});\n","csui.define('csui/controls/perspective.panel/perspective.animator',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (module, _, $) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    effect: 'none'\r\n  }, module.config());\r\n  var effect = config;\r\n\r\n  function PerspectiveAnimator(perspectivePanelView) {\r\n    this.perspectivePanelView = perspectivePanelView;\r\n  }\r\n\r\n  PerspectiveAnimator.prototype = {\r\n    startAnimation: function (perspectiveView) {\r\n      if (effect === 'slide') {\r\n        var perspectivePanel = this.perspectivePanelView;\r\n\r\n        perspectivePanel.$el\r\n        // Flush the DOM redraw to separate hiding of the\r\n        // blocking view from the perspective change animation\r\n          .redraw()\r\n          .addClass('csui-in-transition');\r\n\r\n        perspectiveView.$el.addClass('cs-on-stage-right');\r\n        perspectiveView.triggerMethod('before:show');\r\n        this.perspectivePanelView.$el.append(perspectiveView.el);\r\n      } else if (effect === 'fade') {\r\n        perspectiveView.$el.addClass('csui-fading');\r\n      }\r\n    },\r\n\r\n    swapPerspective: function (currentPerspectiveView, upcomingPerspectiveView) {\r\n      var deferred = $.Deferred();\r\n      if (effect === 'slide') {\r\n        currentPerspectiveView.$el.addClass('cs-on-stage-left');\r\n      } else {\r\n        currentPerspectiveView.remove();\r\n      }\r\n\r\n      if (effect === 'fade') {\r\n        this.perspectivePanelView.$el.addClass('csui-in-transition');\r\n      }\r\n      this._insertPerspective(upcomingPerspectiveView);\r\n\r\n      if (effect === 'slide' || effect === 'fade') {\r\n        upcomingPerspectiveView.$el\r\n            .one(this._transitionEnd(), deferred.resolve)\r\n            // Do not let the browser \"optimize away\" the transition\r\n            // after appending by accessing some DOM property which\r\n            // needs the element rendered.\r\n            .redraw()\r\n            .removeClass(effect === 'slide' ? 'cs-on-stage-right' : 'csui-faded-out');\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    showPerspective: function (perspectiveView) {\r\n      var deferred = $.Deferred();\r\n      this._insertPerspective(perspectiveView);\r\n      if (effect === 'slide' || effect === 'fade') {\r\n        perspectiveView.$el\r\n            .one(this._transitionEnd(), deferred.resolve)\r\n            // Do not let the browser \"optimize away\" the transition\r\n            // after appending by accessing some DOM property which\r\n            // needs the element rendered.\r\n            .redraw()\r\n            .removeClass(effect === 'slide' ? 'cs-on-stage-right' : 'csui-faded-out');\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    finishAnimation: function () {\r\n      if (effect === 'slide' || effect === 'fade') {\r\n        this.perspectivePanelView.$el.removeClass('csui-in-transition');\r\n      }\r\n    },\r\n\r\n    _insertPerspective: function (perspectiveView) {\r\n      if (effect === 'fade') {\r\n        perspectiveView.$el.addClass('csui-faded-out');\r\n      }\r\n      perspectiveView.triggerMethod('before:show');\r\n      this.perspectivePanelView.$el.append(perspectiveView.el);\r\n      perspectiveView.triggerMethod('show');\r\n    },\r\n\r\n    _transitionEnd: _.once(\r\n      function () {\r\n        var transitions = {\r\n              transition: 'transitionend',\r\n              WebkitTransition: 'webkitTransitionEnd',\r\n              MozTransition: 'transitionend',\r\n              OTransition: 'oTransitionEnd otransitionend'\r\n            },\r\n            element = document.createElement('div'),\r\n            transition;\r\n        for (transition in transitions) {\r\n          if (typeof element.style[transition] !== 'undefined') {\r\n            return transitions[transition];\r\n          }\r\n        }\r\n      }\r\n    )\r\n  };\r\n\r\n  return PerspectiveAnimator;\r\n});\r\n\r\n\n","csui.define('csui/controls/perspective.panel/perspective.factory',['require', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (require, _, $, Backbone) {\r\n\r\n  function PerspectiveFactory(options) {\r\n    this.options = options || {};\r\n  }\r\n\r\n  _.extend(PerspectiveFactory.prototype, {\r\n\r\n    createPerspective: function (model) {\r\n      var self = this;\r\n      return this\r\n          ._loadPerspective(model.get('type'))\r\n        .then(function (PerspectiveView) {\r\n          return new PerspectiveView(\r\n            _.extend({\r\n              context: self.options.context,\r\n              type: model.get('type'),\r\n            }, model.get('options'))\r\n          );\r\n        });\r\n    },\r\n\r\n    _loadPerspective: function (type) {\r\n\r\n      var deferred  = $.Deferred(),\r\n          path,\r\n          lastSlash = type.lastIndexOf('/');\r\n      // Enable perspective types without the module path for the core perspectives;\r\n      // compatibility for early perspectives, which did not use the full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/perspectives/' + type;\r\n      } else {\r\n        path = type;\r\n        type = type.substring(lastSlash + 1);\r\n      }\r\n      require([path + '/' + type + '.perspective.view'],\r\n          function (PerspectiveView) {\r\n            deferred.resolve(PerspectiveView);\r\n          }, function (error) {\r\n            deferred.reject(error);\r\n          });\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  PerspectiveFactory.extend = Backbone.View.extend;\r\n\r\n  return PerspectiveFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/user',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/authenticated.user'\r\n], function (module, _, $, Backbone, ModelFactory, ConnectorFactory,\r\n    AuthenticatedUserModel) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var UserModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'user',\r\n\r\n    constructor: function UserModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var user = this.options.authentication || this.options.user || {},\r\n          config = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = user.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(user instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        user = new AuthenticatedUserModel(user.attributes || config.attributes,\r\n            _.defaults({\r\n              connector: connector\r\n            }, user.options, config.options));\r\n      }\r\n      this.property = user;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      var promise;\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n      } else {\r\n        promise = this.property.fetch(options);\r\n      }\r\n\r\n      // set the userId on the authenticator\r\n      promise.done(_.bind(function() {\r\n        this.property.connector.authenticator.setUserId(this.property.get('id'));\r\n      }, this));\r\n\r\n      return promise;\r\n    }\r\n  });\r\n\r\n  return UserModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/application.scope.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var ApplicationScopeModel = Backbone.Model.extend({});\r\n\r\n  var ApplicationScopeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'applicationScope',\r\n\r\n    constructor: function ApplicationScopeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var applicationScope = this.options.applicationScope || {};\r\n      if (!(applicationScope instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        applicationScope = new ApplicationScopeModel(applicationScope.models, _.extend({},\r\n            applicationScope.options, config.options));\r\n      }\r\n      this.property = applicationScope;\r\n    }\r\n\r\n  });\r\n\r\n  return ApplicationScopeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/node',[\r\n  'module', 'nuc/lib/jquery', 'nuc/lib/backbone',\r\n  'csui/utils/contexts/mixins/clone.and.fetch.mixin',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'nuc/models/node/node.model',\r\n  'csui/utils/commands'\r\n], function (module, $, Backbone, CloneAndFetchMixin, ModelFactory,\r\n    ConnectorFactory, NodeModel, commands) {\r\n  'use strict';\r\n\r\n  var NodeModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'node',\r\n\r\n    constructor: function NodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var node = this.options.node || {},\r\n          config = module.config();\r\n      if (!(node instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            creationOptions = $.extend(true, {\r\n              connector: connector,\r\n              // Do not waste server resources and request only common\r\n              // properties at start; it returns all what it can by default.\r\n              fields: {\r\n                properties: [],\r\n                'versions.element(0)': ['owner_id']\r\n              },\r\n              // Command enabling for shortcuts needs the original node info\r\n              expand: {\r\n                properties: ['original_id']\r\n              },\r\n              // Make sure, that the metadata token is returned for nodes\r\n              // requesated via this factory, because they are supposed to\r\n              // be shared and may be the subject of changes.\r\n              stateEnabled: true,\r\n              // Command enabling needs permitted actions\r\n              commands: commands.getAllSignatures()\r\n            }, config.options, node.options);\r\n        // Next node can be fetshed just like node; keep their defaults in sync\r\n        node = new NodeModel(node.attributes || config.attributes,\r\n            creationOptions);\r\n      }\r\n      this.property = node;\r\n\r\n      this.makeCloneAndFetch(options);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  CloneAndFetchMixin.mixin(NodeModelFactory.prototype);\r\n\r\n  return NodeModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/ancestors',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/nodeancestors'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory, NodeAncestorCollection) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var AncestorCollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'ancestors',\r\n\r\n    constructor: function AncestorsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var config = module.config();\r\n      var ancestors = this.options.ancestors || {};\r\n      if (prefetch) {\r\n        this.initialResponse = ancestors.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(ancestors instanceof Backbone.Collection)) {\r\n        var node = context.getModel(NodeModelFactory);\r\n        ancestors = new NodeAncestorCollection(ancestors.models,\r\n          _.defaults({\r\n            // Breadcrumb panel listens only to the 'reset' event.\r\n            autoreset: true,\r\n            node: node\r\n          }, ancestors.options, config.options));\r\n      }\r\n      this.property = ancestors;\r\n\r\n      // Listen to renaming of the contextual node, which we assume to be\r\n      // the last ancestor, as the collection is constructed by default.\r\n      this.listenTo(this.property.node, 'change:name', function () {\r\n        if (this.property.length > 0) {\r\n          this.property.last().set('name', node.get('name'));\r\n        }\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        // If you want to avoid the server call by updating the ancestors\r\n        // only on the client side, inspect the earlier code in Perforce.\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return AncestorCollectionFactory;\r\n});\r\n\n","/**\r\n * This is CSUI specific breadcrumbs view.\r\n * If any module/products want different implementation, please point\r\n * directly to \"smart/controls/breadcrumbs/breadcrumbs.view\" instead-of\r\n * pointing to this class.\r\n */\r\n\r\ncsui.define('csui/controls/breadcrumbs/breadcrumbs.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'smart/controls/breadcrumbs/breadcrumbs.view',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/node.links/node.links',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior'\r\n], function (_,\r\n    $,\r\n    Backbone,\r\n    Marionette,\r\n    SmartBreadcrumbsView,\r\n    NextNodeModelFactory,\r\n    nodeLinks,\r\n    TabableRegionBehavior) {\r\n\r\n  var BreadCrumbCollectionView = SmartBreadcrumbsView.extend({\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function BreadcrumbCollectionView(options) {\r\n      SmartBreadcrumbsView.prototype.constructor.call(this, options);\r\n\r\n      // listening events provided by SmartControls\r\n      this.listenTo(this, 'before:synchronized', _.bind(this.updateCollection, this));\r\n      this.listenTo(this, 'childview:click:ancestor', _.bind(this.onClickAncestor, this));\r\n    },\r\n\r\n    /**\r\n     * This method has custom logic specific to content server.\r\n     * Clicking upon each link (ancestor) within breadcrumbs should execute default action based\r\n     * on that model type.\r\n     *\r\n     * @param model\r\n     * @param node\r\n     */\r\n    onClickAncestor: function (model, node) {\r\n      var context = this.context = this.options.context;\r\n      this._nextNode = this.options.node || context.getModel(NextNodeModelFactory);\r\n\r\n      var args = {node: node};\r\n      this.trigger('before:defaultAction', args);\r\n      if (!args.cancel) {\r\n        var nodeId = node.get('id');\r\n        if (this._nextNode.get('id') === nodeId) {\r\n          // when id is same as nextNode's id, nextNode.set(id) event is not triggered\r\n          this._nextNode.unset('id', {silent: true});\r\n        }\r\n\r\n        var viewStateModel = this.context && this.context.viewStateModel;\r\n        var viewState = viewStateModel && viewStateModel.get('state');\r\n        if (viewState) {\r\n          this.context.viewStateModel.set('state', _.omit(viewState, 'filter'), {silent: true});\r\n        }\r\n\r\n        this._nextNode.trigger('before:change:id', node, this);\r\n        this._nextNode.set('id', nodeId);\r\n      }\r\n\r\n      this.$el.trigger('setCurrentTabFocus');\r\n    },\r\n\r\n    /**\r\n     * This method updates collection (model's data) as per content server. For example, giving\r\n     * hyper link for each crumb. It could be vary for one sub-type of object to another\r\n     * sub-type of object. It helps to open such crumb's link in new tab or in new window.\r\n     */\r\n    updateCollection: function () {\r\n      this.completeCollection.forEach(function (model) {\r\n        var connector = model.connector || model.collection.connector, hrefSrc = '';\r\n        hrefSrc = model.get('id') > 0 && (connector) &&\r\n                  nodeLinks.getUrl(model, {connector: connector}) || '#';\r\n        model.set('hrefSrc', hrefSrc, {silent: true});\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return BreadCrumbCollectionView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/breadcrumbspanel/impl/breadcrumbspanel',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"binf-row\\\">\\r\\n  <div class=\\\"binf-item binf-col-xs-12\\\">\\r\\n    <div class=\\\"breadcrumb-inner breadcrumb-inner-header\\\" role=\\\"navigation\\\"\\r\\n         aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"breadcrumbAria\") || (depth0 != null ? lookupProperty(depth0,\"breadcrumbAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"breadcrumbAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":21},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + \"\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_breadcrumbspanel_impl_breadcrumbspanel', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/root/lang',{\r\n  subcrumbTooltip: 'Show full path',\r\n  subcrumbAria: 'Show full path',\r\n  breadcrumbAria: 'Breadcrumb'\r\n\r\n});\r\n\n","\ncsui.define('css!csui/controls/breadcrumbspanel/impl/breadcrumbspanel',[],function(){});\n","csui.define('csui/controls/breadcrumbspanel/breadcrumbspanel.view',['csui/lib/underscore', 'csui/lib/marionette', 'csui/utils/contexts/factories/ancestors',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/controls/breadcrumbs/breadcrumbs.view',\r\n  'hbs!csui/controls/breadcrumbspanel/impl/breadcrumbspanel',\r\n  'i18n!csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang',\r\n  'csui-ext!csui/controls/breadcrumbspanel/breadcrumbspanel.view',\r\n  'css!csui/controls/breadcrumbspanel/impl/breadcrumbspanel'\r\n], function (_, Marionette, AncestorCollectionFactory, ApplicationScopeModelFactory,\r\n    BreadcrumbsView,\r\n    BreadcrumbsPanelTemplate, lang, extns) {\r\n  'use strict';\r\n\r\n  var BreadcrumbsPanelView = Marionette.LayoutView.extend({\r\n\r\n    attributes: {id: 'breadcrumb-wrap'},\r\n\r\n    className: 'binf-container-fluid',\r\n\r\n    template: BreadcrumbsPanelTemplate,\r\n\r\n    ui: {\r\n      tileBreadcrumb: '.tile-breadcrumb',\r\n      breadcrumbsWrap: '#breadcrumb-wrap'\r\n    },\r\n\r\n    regions: {\r\n      breadcrumbsInner: '.breadcrumb-inner'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        breadcrumbAria: lang.breadcrumbAria\r\n      };\r\n    },\r\n\r\n    constructor: function BreadcrumbsPanelView(options) {\r\n\r\n      Marionette.LayoutView.apply(this, arguments);\r\n\r\n      this.applicationScope = options.context.getModel(ApplicationScopeModelFactory);\r\n      this.listenTo(this.applicationScope, 'change:breadcrumbsVisible',\r\n          this._showOrHideBreadcrumbs);\r\n\r\n      this.ancestors = this.options.context.getCollection(AncestorCollectionFactory);\r\n\r\n      this.listenTo(this, 'dom:refresh', function () {\r\n        if (this.breadcrumbs) {\r\n          this.breadcrumbs.refresh(); // calls _adjustToFit\r\n        }\r\n      });\r\n\r\n      var viewStateModel = this.options.context.viewStateModel;\r\n      viewStateModel &&\r\n      this.listenTo(viewStateModel, 'change:' + viewStateModel.CONSTANTS.START_ID,\r\n          this.updateStopIdFromViewState.bind(this)).listenTo(viewStateModel,\r\n          'change:' + viewStateModel.CONSTANTS.BREADCRUMB, this._showOrHideBreadcrumbs.bind(this));\r\n    },\r\n\r\n    onRender: function () {\r\n      this._showOrHideBreadcrumbs();\r\n    },\r\n\r\n    _showOrHideBreadcrumbs: function () {\r\n      if (this.ancestors.blockId !== undefined) {\r\n        this.$el.removeClass('csui-hide-breadcrumbs');\r\n      }\r\n      var context = this.options.context,\r\n        viewStateModel = context && context.viewStateModel,\r\n        viewStateBreadcrumbs = viewStateModel &&\r\n          viewStateModel.get(viewStateModel.CONSTANTS.BREADCRUMB),\r\n        opts = {\r\n          context: context,\r\n          node: this.ancestors && this.ancestors.node,\r\n          connector: this.ancestors && this.ancestors.connector\r\n        },\r\n        self = this,\r\n        availableExtensions = _.filter(_.flatten(extns, true), function (extn) {\r\n          var hideBreadcrumbs = extn.hideBreadcrumbs && _.isFunction(extn.hideBreadcrumbs) ?\r\n            extn.hideBreadcrumbs(opts) : !!extn.hideBreadcrumbs;\r\n          if (hideBreadcrumbs && self.applicationScope.get(\"previousBreadcrumbVisibility\") === undefined) {\r\n            self.$el.addClass('csui-hide-breadcrumbs');\r\n            var previousBreadcrumbVisibility = self.applicationScope.get('breadcrumbsVisible');\r\n            self.applicationScope.set('previousBreadcrumbVisibility', previousBreadcrumbVisibility, { silent: true });\r\n          }\r\n          return hideBreadcrumbs;\r\n        });\r\n\r\n      if (availableExtensions.length) {\r\n        if (this.applicationScope.get('breadcrumbsVisible')) {\r\n          this.applicationScope.set('breadcrumbsVisible', false);\r\n        }\r\n        this.applicationScope.set({ 'hiddenByExtension': true, 'hideToggleButton': true });\r\n      } else {\r\n        this.applicationScope.set({ 'hideToggleButton': false, 'hiddenByExtension': false });\r\n        // to retain breadcrumb visibility state of previous container\r\n        if (this.applicationScope.get(\"previousBreadcrumbVisibility\") !== undefined) {\r\n          this.ancestors.blockId = this.ancestors.node.get('id');\r\n          this.$el.addClass('csui-hide-breadcrumbs');\r\n          this.applicationScope.set('breadcrumbsVisible', this.applicationScope.get(\"previousBreadcrumbVisibility\"));\r\n          this.applicationScope.set('previousBreadcrumbVisibility', undefined, { silent: true });\r\n        }\r\n      }\r\n\r\n      if (viewStateBreadcrumbs !== undefined) {\r\n        this._breadcrumbsVisible = viewStateBreadcrumbs;\r\n      } else {\r\n        this._breadcrumbsVisible = this.applicationScope.get('breadcrumbsVisible');\r\n      }\r\n\r\n      this._breadcrumbsAvailable = this.ancestors.isFetchable();\r\n      if (this._breadcrumbsVisible && this._breadcrumbsAvailable) {\r\n        if (!this.breadcrumbs) {\r\n          this.breadcrumbs = new BreadcrumbsView({\r\n            context: this.options.context,\r\n            collection: this.ancestors,\r\n            fetchOnCollectionUpdate: false,\r\n            theme: 'dark'\r\n          });\r\n          this.$el.removeClass('binf-hidden');\r\n          this.breadcrumbsInner.show(this.breadcrumbs);\r\n          this.breadcrumbs.synchronizeCollections();\r\n          this.$el.addClass('breadcrumb-wrap-visible');\r\n          this.triggerMethod(\"tabable\", this);\r\n          this.breadcrumbs.triggerMethod(\"refresh:tabindexes\");\r\n          this.updateStopIdFromViewState();\r\n        }\r\n      } else {\r\n        if (this.breadcrumbs) {\r\n          this.$el.removeClass('breadcrumb-wrap-visible').addClass('binf-hidden');\r\n          this.breadcrumbsInner.empty();\r\n          delete this.breadcrumbs;\r\n        }\r\n      }\r\n    },\r\n\r\n    updateStopIdFromViewState: function () {\r\n      var viewStateModel = this.options.context.viewStateModel;\r\n      var start_id = viewStateModel && viewStateModel.get(viewStateModel.CONSTANTS.START_ID);\r\n      start_id && this.breadcrumbs &&\r\n      this.breadcrumbs.updateStopId(viewStateModel.get(viewStateModel.CONSTANTS.START_ID));\r\n    },\r\n    // TODO is this hide and show pair still used?\r\n    hideBreadcrumbs: function () {\r\n      if (this.breadcrumbs) {\r\n        this.breadcrumbs.hideSubCrumbs();\r\n      }\r\n      this.$el.removeClass('breadcrumb-wrap-visible');\r\n      this.triggerMethod(\"tabable:not\", this);\r\n      // the tabable region reacts to the isVisible state, so we use an explicit hide to prevent it from still being tabable\r\n      this.$el.hide();\r\n    },\r\n\r\n    showBreadcrumbs: function () {\r\n      this.$el.addClass('breadcrumb-wrap-visible');\r\n      this.triggerMethod(\"tabable\", this);\r\n      this.$el.show();\r\n      this.breadcrumbs && this.breadcrumbs.triggerMethod(\"refresh:tabindexes\");\r\n    },\r\n\r\n    isTabable: function () {\r\n      if (this.breadcrumbs) {\r\n        return this.ancestors.size() > 1;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return BreadcrumbsPanelView;\r\n});\r\n\n","csui.define('csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',['smart/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n], function (SmartLayoutViewEventsPropagationMixin) {\r\n  'use strict';\r\n\r\n  return SmartLayoutViewEventsPropagationMixin;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/perspective.panel/impl/perspective.with.breadcrumb',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"csui-perspective-breadcrumb\\\"></div>\\r\\n<div class=\\\"csui-perspective-view\\\"></div>\";\n}});\nHandlebars.registerPartial('csui_controls_perspective.panel_impl_perspective.with.breadcrumb', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/perspective.panel/impl/perspective.with.breadcrumb.view',[\r\n  'csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/utils/namedsessionstorage',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/controls/breadcrumbspanel/breadcrumbspanel.view',\r\n  'csui/utils/contexts/factories/ancestors',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'hbs!csui/controls/perspective.panel/impl/perspective.with.breadcrumb'\r\n], function (_, Marionette,\r\n    NamedSessionStorage,\r\n    UserModelFactory,\r\n    ApplicationScopeModelFactory,\r\n    BreadcrumbsPanelView,\r\n    AncestorCollectionFactory,\r\n    LayoutViewEventsPropagationMixin,\r\n    template) {\r\n  'use strict';\r\n\r\n  var PerspectiveWithBreadcrumbView = Marionette.LayoutView.extend({\r\n    className: 'cs-perspective-with-breadcrumb-view',\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      breadcrumbRegion: '.csui-perspective-breadcrumb',\r\n      perspectiveRegion: '.csui-perspective-view'\r\n    },\r\n\r\n    constructor: function PerspectiveWithBreadcrumbView(options) {\r\n      options || (options = {});\r\n      this.perspectiveView = options.perspectiveView;\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      this.propagateEventsToRegions(); // propagate dom:refresh to child views\r\n\r\n      // \"proxy\" some attributes/functions from the perspectiveView to this wrapper view\r\n      this._supportMaximizeWidget = this.perspectiveView._supportMaximizeWidget;\r\n      this._supportMaximizeWidgetOnDisplay = this.perspectiveView._supportMaximizeWidgetOnDisplay;\r\n      if (_.isFunction(this.perspectiveView.serializePerspective)) {\r\n        this.serializePerspective = function (perspectiveModel) {\r\n          return this.perspectiveView.serializePerspective.apply(\r\n              this.perspectiveView, arguments);\r\n        };\r\n      }\r\n      if (_.isFunction(this.perspectiveView.swapLayout)) {\r\n        this.swapLayout = function (perspectiveModel) {\r\n          return this.perspectiveView.swapLayout.apply(\r\n            this.perspectiveView, arguments);\r\n        };\r\n      }\r\n      this.widgetsResolved = this.perspectiveView.widgetsResolved;\r\n\r\n      var perspectiveType = this.options.context.perspective.get('type');\r\n      var perspectiveMarginClass;\r\n\r\n      switch (perspectiveType) {\r\n        case 'left-center-right':\r\n        case 'sidepanel-right':\r\n        case 'sidepanel-left':\r\n          perspectiveMarginClass = 'cs_perspective_no_left_right_margin';\r\n          break;\r\n        default:\r\n          perspectiveMarginClass = 'cs_perspective_with_left_right_margin';\r\n      }\r\n\r\n      this.$el.addClass(perspectiveMarginClass);\r\n\r\n      this.user = this.options.context.getModel(UserModelFactory);\r\n      this.listenTo(this.user, 'change', this.updateUserPreferences);\r\n      this.applicationScope = this.options.context.getModel(ApplicationScopeModelFactory);\r\n\r\n      this.listenTo(this.applicationScope, 'change:breadcrumbsVisible',\r\n          this._showOrHideBreadcrumbs);\r\n    },\r\n\r\n    onRender: function () {\r\n      var ancestors = this.options.context.getCollection(AncestorCollectionFactory);\r\n      var breadcrumbsAvailable = ancestors.isFetchable();\r\n\r\n      // inform the whole application that there are no breadcrumbs available\r\n      this.applicationScope.set('breadcrumbsAvailable', breadcrumbsAvailable);\r\n\r\n      // only if breadcrumbs are available, render and show the breadcrumbs\r\n      if (breadcrumbsAvailable) {\r\n        var breadcrumbsPanel = new BreadcrumbsPanelView({\r\n          context: this.options.context\r\n        });\r\n        this.breadcrumbRegion.show(breadcrumbsPanel);\r\n      }\r\n\r\n      this.perspectiveRegion.show(this.perspectiveView);\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      var context = this.options.context,\r\n          viewStateModel = context && context.viewStateModel;\r\n      // if the viewStateModel defines how the breadcrumbs should behave, then we will follow it\r\n      // and ignore the user preferences. the folderbrowser2.widget expects the breadcrumbs to follow\r\n      // the viewStateModel flag.\r\n      if (viewStateModel && viewStateModel.get(viewStateModel.CONSTANTS.BREADCRUMB) !== undefined) {\r\n        return;\r\n      }\r\n      this.updateUserPreferences();\r\n    },\r\n\r\n    updateUserPreferences: function () {\r\n      var userId = this.user.get('id');\r\n      this.userPreferences = userId ? new NamedSessionStorage(\r\n          'userPreferences:' + userId) : undefined;\r\n      if (this._isRendered && this.userPreferences) {\r\n        var prefVisible = this.userPreferences.get('breadcrumbs-visible');\r\n        if (prefVisible === undefined) {\r\n          prefVisible = true;\r\n        }\r\n        this._setBreadcrumbsVisibility(prefVisible);\r\n      } else {\r\n        this._setBreadcrumbsVisibility(false);\r\n      }\r\n    },\r\n\r\n    _showOrHideBreadcrumbs: function (args1, args2) {\r\n      var breadcrumbsVisible = this.applicationScope.get('breadcrumbsVisible');\r\n      this._setBreadcrumbsVisibility(breadcrumbsVisible);\r\n    },\r\n\r\n    _setBreadcrumbsVisibility: function (visible) {\r\n      var breadcrumbsAvailable = this.applicationScope.get('breadcrumbsAvailable');\r\n      if (visible && breadcrumbsAvailable) {\r\n        this.$el.addClass('csui-breadcrumbs-visible');\r\n        this.perspectiveView.$el.addClass('csui-breadcrumbs-visible');\r\n      } else {\r\n        this.$el.removeClass('csui-breadcrumbs-visible');\r\n        this.perspectiveView.$el.removeClass('csui-breadcrumbs-visible');\r\n      }\r\n      if (this.userPreferences) {\r\n        this.userPreferences.set('breadcrumbs-visible', visible);\r\n        // to retain breadcrumb visibility state of previous container\r\n        if (this.applicationScope.get(\"hiddenByExtension\") && this.applicationScope.get(\"previousBreadcrumbVisibility\") !== undefined) {\r\n          this.userPreferences.set('previousBreadcrumbVisibility', this.applicationScope.get(\"previousBreadcrumbVisibility\"));\r\n        }\r\n        if (this.applicationScope.get(\"hiddenByExtension\") && this.applicationScope.get(\"previousBreadcrumbVisibility\") === undefined) {\r\n          this.applicationScope.set(\"previousBreadcrumbVisibility\", this.userPreferences.get(\"previousBreadcrumbVisibility\"));\r\n        }\r\n      }\r\n      this.applicationScope.set('breadcrumbsVisible', visible);\r\n    }\r\n  });\r\n\r\n  _.extend(PerspectiveWithBreadcrumbView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return PerspectiveWithBreadcrumbView;\r\n});\r\n\n","csui.define('csui/controls/perspective.panel/perspective.with.breadcrumb.factory',['require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/controls/perspective.panel/perspective.factory',\r\n  'csui/controls/perspective.panel/impl/perspective.with.breadcrumb.view'\r\n], function (require, _, $, PerspectiveFactory, PerspectiveWithBreadcrumbView) {\r\n\r\n  var PerspectiveWithBreadcrumbFactory = PerspectiveFactory.extend({\r\n\r\n    constructor: function PerspectiveWithBreadcrumbFactory(options) {\r\n      PerspectiveWithBreadcrumbFactory.__super__.constructor.apply(this, arguments);\r\n      this.options = options || {};\r\n    },\r\n\r\n    createPerspective: function (model) {\r\n      var self = this;\r\n      return PerspectiveFactory.prototype.createPerspective.call(this, model)\r\n          .then(function (perspectiveView) {\r\n\r\n            return new PerspectiveWithBreadcrumbView({\r\n              context: self.options.context,\r\n              perspectiveView: perspectiveView,\r\n              supportMaximizeWidget: perspectiveView._supportMaximizeWidget\r\n            });\r\n          });\r\n    }\r\n\r\n  });\r\n\r\n  return PerspectiveWithBreadcrumbFactory;\r\n});\r\n\n","\ncsui.define('css!csui/controls/perspective.panel/impl/perspective.panel',[],function(){});\n","csui.define('csui/controls/perspective.panel/perspective.panel.view',['require', 'module', 'csui/lib/jquery',\r\n  'csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/controls/perspective.panel/perspective.with.breadcrumb.factory',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/utils/commandhelper',\r\n  'csui/controls/perspective.panel/perspective.animator',\r\n  'css!csui/controls/perspective.panel/impl/perspective.panel',\r\n  'csui/lib/jquery.redraw', 'csui/lib/jquery.scrollbarwidth'\r\n], function (require, module, $, _, Marionette, PerspectiveWithBreadcrumbFactory,\r\n    BlockingView, CommandHelper, PerspectiveAnimator) {\r\n  'use strict';\r\n\r\n  var config = _.defaults({}, module.config(), {\r\n    progressWheel: true,\r\n    waitForData: true,\r\n    // May improve smoothness of animation, if some widgets render asynchronously\r\n    perspectiveShowDelay: 0,\r\n    limitTimeToWaitForData: true,\r\n    maximumTimeToWaitForData: 1000,\r\n    detachableBlockingView: true\r\n  });\r\n\r\n  if (!config.waitForData) {\r\n    config.perspectiveShowDelay = 0;\r\n  }\r\n\r\n  var pageUnloading = false;\r\n  $(window).on('beforeunload.' + module.id, function (event) {\r\n    pageUnloading = true;\r\n  });\r\n\r\n  var PerspectivePanelView = Marionette.ItemView.extend({\r\n    className: 'cs-perspective-panel',\r\n\r\n    template: false,\r\n\r\n    constructor: function PerspectivePanelView() {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n      _.defaults(this.options, {\r\n        progressWheel: config.progressWheel,\r\n        waitForData: config.waitForData,\r\n        perspectiveShowDelay: config.perspectiveShowDelay,\r\n        limitTimeToWaitForData: config.limitTimeToWaitForData,\r\n        maximumTimeToWaitForData: config.maximumTimeToWaitForData,\r\n        detachableBlockingView: config.detachableBlockingView\r\n      });\r\n      var context = this.options.context;\r\n      this.perspectiveFactory = this.options.perspectiveFactory ||\r\n                                new PerspectiveWithBreadcrumbFactory({\r\n                                  context: context\r\n                                });\r\n      this.perspectiveAnimator = new PerspectiveAnimator(this);\r\n      BlockingView.imbue(this);\r\n      this.blockingView.showloadingWheel = true;\r\n      this.blockingView.makeGlobal(this.options.detachableBlockingView);\r\n\r\n      this.listenTo(context, \"maximize:widget\", this._addMaximizedWidget);\r\n      this.listenTo(context, \"restore:widget:size\", this._removeMaximizedWidget);\r\n\r\n      this.listenTo(context, 'change:perspective', this.onChangePerspective);\r\n\r\n      this.listenTo(context, 'enter:edit:perspective', this.onEnterEditPerspective)\r\n          .listenTo(context, 'exit:edit:perspective', this.onExitEditPerspective)\r\n          .listenTo(context, 'serialize:perspective', this.onSerializePerspective)\r\n          .listenTo(context, 'swap:layout', function(perspectiveModel){\r\n            this.currentPerspectiveView.swapLayout(perspectiveModel);\r\n          });\r\n\r\n      // Context change start with requesting the perspective and then\r\n      // either by changing it and rebuilding the context, or just by re-fetching\r\n      // the context, of the perspective does not change.  Use the\r\n      // perspective request for blocking and context sync, which comes always\r\n      // at last, for unblocking.\r\n      if (this.options.progressWheel) {\r\n        var fetchTimeout;\r\n        this\r\n            // Perspective is fetched at the beginning of navigation. It may\r\n            // happen twice, if the perspective target is overridden. It may\r\n            // not happen at all, if the perspective is fixed on the client.\r\n            .listenTo(context, 'request:perspective', this._startPerspectiveLoading)\r\n            .listenTo(context, 'error:perspective', this._finishPerspectiveLoading)\r\n            // Data is fetched after the perspective has been fetched or become\r\n            // known to the client. It can also be fetched without loading a\r\n            // new perspective; the perspective can be reused.\r\n            .listenTo(context, 'request', function () {\r\n              // Do not block the perspective panel if the perspective will\r\n              // be shown right away without waiting for the data.\r\n              if (this.options.waitForData) {\r\n                this._startPerspectiveLoading();\r\n              }\r\n              // If the data were not loaded quickly enough, unblock the\r\n              // perspective panel and let the user start with ready widgets.\r\n              if (this.options.limitTimeToWaitForData) {\r\n                fetchTimeout = setTimeout(function () {\r\n                  fetchTimeout = undefined;\r\n                  this._finishPerspectiveLoading();\r\n                }.bind(this), this.options.maximumTimeToWaitForData);\r\n              }\r\n            })\r\n            .listenTo(context, 'sync error', function () {\r\n              if (fetchTimeout) {\r\n                clearTimeout(fetchTimeout);\r\n                fetchTimeout = undefined;\r\n              }\r\n              this._finishPerspectiveLoading();\r\n            });\r\n      }\r\n      this.listenTo(this, 'render', this.onRendered);\r\n\r\n      this._maximizedWidgets = {};\r\n      this._currentPespectiveStack = [];\r\n      this._currentPerspectiveSignature = undefined;\r\n    },\r\n\r\n    _startPerspectiveLoading: function () {\r\n      this.trigger('before:start:perspective:loading');\r\n\r\n      // If actions were blocked when \"request:perspective\" was caught,\r\n      // do not do it again when another \"request:perspective\" was caught, or\r\n      // when eventually \"request\" was caught. Blocking view were disabled and\r\n      // enabled in a short time, which would cause its flickering on the page.\r\n      if (!this.actionsBlocked) {\r\n        this.actionsBlocked = true;\r\n        this.blockActions();\r\n      }\r\n    },\r\n\r\n    _finishPerspectiveLoading: function () {\r\n      // This method mey be called twice if the perspective showing handler\r\n      // timed out and the perspective was shown before the data were loaded.\r\n      if (this.actionsBlocked) {\r\n        this.actionsBlocked = false;\r\n        this.unblockActions();\r\n      }\r\n      this.trigger('after:finish:perspective:loading');\r\n    },\r\n\r\n    onEnterEditPerspective: function (perspectiveToEdit) {\r\n      this.blockActions();\r\n      this.isSwitchingEditMode = true; // To bypass animation\r\n      this.doChangePerspective(perspectiveToEdit)\r\n          .always(function () {\r\n            this.isSwitchingEditMode = false;\r\n            this.unblockActions();\r\n            this.options.context.trigger('finish:enter:edit:perspective');\r\n          }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * Serialize perspective configuration and Trigger back to save perspective\r\n     */\r\n    onSerializePerspective: function (perspectiveModel) {\r\n      this.blockActions();\r\n      if (_.isFunction(this.currentPerspectiveView.serializePerspective)) {\r\n        var self = this;\r\n        this.currentPerspectiveView.serializePerspective(perspectiveModel)\r\n            .done(function (perspective) {\r\n              self.options.context.trigger('save:perspective', perspective);\r\n            })\r\n            .fail(function (error) {\r\n              self.options.context.trigger('save:perspective', {error: error});\r\n              self._showModalError({message: error});\r\n            })\r\n            .always(function () {\r\n              self.unblockActions();\r\n            });\r\n      }\r\n    },\r\n\r\n    onExitEditPerspective: function (perspectiveToEdit) {\r\n      this.blockActions();\r\n      this.isSwitchingEditMode = true; // To bypass animation\r\n      this.doChangePerspective(this.options.context.perspective)\r\n          .always(function () {\r\n            this.isSwitchingEditMode = false;\r\n            this.unblockActions();\r\n            this.options.context.trigger('finish:exit:edit:perspective');\r\n          }.bind(this));\r\n    },\r\n\r\n    onRendered: function () {\r\n      //Check if the perspective model is populated when the view rendered\r\n      // for he first time. If it is, load the perspective and show it.\r\n      if (this.options.context.perspective.get('type')) {\r\n        this.onChangePerspective();\r\n      }\r\n    },\r\n\r\n    onChangePerspective: function (targetPerspective, sourceModel) {\r\n      this.doChangePerspective(targetPerspective, sourceModel);\r\n    },\r\n\r\n    doChangePerspective: function (targetPerspective, sourceModel) {\r\n      if (this._isRendered) {\r\n        var context     = this.options.context,\r\n            self        = this,\r\n            perspective = targetPerspective || this.options.context.perspective,\r\n            deferred    = $.Deferred();\r\n        // If we caught unload event earlier and now we change to another\r\n        // perspective, let's assume, that page unloading was cancelled\r\n        pageUnloading = false;\r\n        // Actions will be unblocked in _swapPerspective to cover loading\r\n        // of perspective view and widgets and their initial rendering.\r\n        if (this.options.progressWheel) {\r\n          this.blockActions();\r\n        }\r\n        this.triggerMethod('before:create:perspective', this, {\r\n          perspective: perspective\r\n        });\r\n        this.perspectiveFactory.createPerspective(perspective)\r\n            .done(function (perspectiveView) {\r\n              self.triggerMethod('create:perspective', this, {\r\n                perspective: perspective,\r\n                perspectiveView: perspectiveView\r\n              });\r\n              self._currentPespectiveStack.push(perspectiveView);\r\n              perspectiveView.widgetsResolved.always(function (res) {\r\n                self.triggerMethod('resolve:widgets', this, {\r\n                  perspective: perspective,\r\n                  perspectiveView: perspectiveView\r\n                });\r\n                context.clear();\r\n                // Prevent failed widgets to be slided to the perspective\r\n                if (!pageUnloading) {\r\n                  var enableMaximizeButton = res.length > 1;\r\n                  self._setSupportMaximizeWidget(perspectiveView, perspective,\r\n                      enableMaximizeButton);\r\n                  self._swapPerspective(perspectiveView, perspective, sourceModel)\r\n                      .always(function () {\r\n                        deferred.resolve(perspectiveView);\r\n                      });\r\n                } else {\r\n                  deferred.resolve(perspectiveView);\r\n                }\r\n                self._currentPespectiveStack.splice(0,\r\n                    self._currentPespectiveStack.indexOf(perspectiveView));\r\n              });\r\n              self._currentPespectiveStack.splice(0,\r\n                  self._currentPespectiveStack.indexOf(perspectiveView));\r\n            })\r\n            .fail(function (error) {\r\n              if (self.options.progressWheel) {\r\n                self.unblockActions();\r\n              }\r\n              // Prevent error box about perspective failure showing up\r\n              if (!pageUnloading) {\r\n                self._showError(error);\r\n              }\r\n              deferred.reject(error);\r\n            });\r\n        return deferred.promise();\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _isInPerspectiveEditMode: function (perspective) {\r\n      var perspectiveOptions = perspective && perspective.get('options') ?\r\n                               perspective.get('options') : {};\r\n      return perspectiveOptions.perspectiveMode === 'edit';\r\n    },\r\n\r\n    _setSupportMaximizeWidget: function (perspectiveView, perspective, enableMaximizeButton) {\r\n      if (this._isInPerspectiveEditMode(perspective) ||  // Maximize not allowed in Edit Perspective\r\n          // mode\r\n          perspectiveView._supportMaximizeWidget !== true || !enableMaximizeButton) {\r\n        $(\"body\").removeClass(\"csui-support-maximize-widget\");\r\n      } else {\r\n        $(\"body\").addClass(\"csui-support-maximize-widget\");\r\n      }\r\n    },\r\n\r\n    _triggerDomRefreshOnCurrentPerspective: function () {\r\n      if (this.currentPerspectiveView) {\r\n        this.currentPerspectiveView.triggerMethod('dom:refresh');\r\n      }\r\n    },\r\n\r\n    _setShowingMaximizedWidget: function (showingMaximizedWidget) {\r\n      if (showingMaximizedWidget) {\r\n        $(\"body\").addClass(\"csui-maximized-widget-mode\");\r\n      } else {\r\n        $(\"body\").removeClass(\"csui-maximized-widget-mode\");\r\n      }\r\n    },\r\n\r\n    _addMaximizedWidget: function (ev) {\r\n      if (this._isInPerspectiveEditMode(this.currentPerspective)) {\r\n        // Maximize not allowed in Edit Perspective mode\r\n        return;\r\n      }\r\n      if (this._maximizedWidgets[this._getCurrentPerspectiveSignature()] === undefined) {\r\n        var maximizedWidgetInfo = {\r\n          perspectiveSignature: this._getCurrentPerspectiveSignature(),\r\n          cellAddress: this.getCellAddress(ev)\r\n        };\r\n        this._maximizedWidgets[maximizedWidgetInfo.perspectiveSignature] = maximizedWidgetInfo;\r\n        this._maximizeWidgetView(maximizedWidgetInfo.cellAddress);\r\n      }\r\n      this._triggerDomRefreshOnCurrentPerspective();\r\n    },\r\n\r\n    getCellAddress: function (ev) {\r\n      return (ev.widgetView ? ev.widgetView.$el.parent().attr(\"data-csui-cell_address\") :\r\n              ev.currentPerspectiveView.$el.find(\".binf-row\").children().attr(\r\n                  \"data-csui-cell_address\"));\r\n    },\r\n\r\n    _removeMaximizedWidget: function (ev) {\r\n      delete this._maximizedWidgets[this._getCurrentPerspectiveSignature()];\r\n      this._restoreWidgetViewSize(ev.widgetView);\r\n    },\r\n\r\n    _getPerspectiveViewEl: function () {\r\n      var perspectiveViewEl;\r\n      if (this.currentPerspectiveView.$el.hasClass('csui-perspective-view')) {\r\n        perspectiveViewEl = this.currentPerspectiveView.$el;\r\n      } else {\r\n        perspectiveViewEl = this.currentPerspectiveView.$el.find('.csui-perspective-view');\r\n      }\r\n      return perspectiveViewEl;\r\n    },\r\n\r\n    _maximizeWidgetView: function (cellAddress) {\r\n      var perspectiveViewEl = this._getPerspectiveViewEl();\r\n      perspectiveViewEl.find(\".binf-row > div\").each(function () {\r\n        $(this).attr(\"data-csui-mwv-old-class\", $(this).attr(\"class\"));\r\n        if ($(this).attr(\"data-csui-cell_address\") === cellAddress) {\r\n          $(this).parent().addClass(\"csui-maximized-row\");\r\n          $(this).attr(\"class\", \"binf-col-xs-12 csui-maximized-column\");\r\n        } else {\r\n          $(this).attr(\"class\", \"binf-hidden-xs binf-hidden-sm binf-hidden-md binf-hidden-lg\");\r\n        }\r\n      });\r\n\r\n      this._setShowingMaximizedWidget(true);\r\n    },\r\n\r\n    _restoreWidgetViewSize: function (widgetView) {\r\n      var $widgetRow = widgetView.$el.parent().parent();\r\n\r\n      $widgetRow.removeClass(\"csui-maximized-row\");\r\n      var perspectiveViewEl = this._getPerspectiveViewEl();\r\n      perspectiveViewEl.find(\".binf-row > div\").each(function () {\r\n        $(this).attr(\"class\", $(this).attr(\"data-csui-mwv-old-class\"));\r\n      });\r\n\r\n      this._setShowingMaximizedWidget(false);\r\n      this._triggerDomRefreshOnCurrentPerspective();\r\n    },\r\n\r\n    _getCurrentPerspectiveSignature: function () {\r\n      if (this._currentPerspectiveSignature === undefined) {\r\n        var cellSignatures = [];\r\n        !!this.currentPerspectiveView &&\r\n        this.currentPerspectiveView.$el.find(\".binf-row > div\").each(function () {\r\n          var address = $(this).attr(\"data-csui-cell_address\");\r\n          var widgetType = $(this).attr(\"data-csui-widget_type\");\r\n          var classNames = $(this).attr(\"class\");\r\n\r\n          if (address === undefined) {\r\n            address = \"\";\r\n          }\r\n\r\n          cellSignatures.push([address, widgetType, classNames].join(\",\"));\r\n        });\r\n\r\n        this._currentPerspectiveSignature = cellSignatures.join(\"|\");\r\n      }\r\n\r\n      return this._currentPerspectiveSignature;\r\n    },\r\n\r\n    _resetWidgetMaximization: function () {\r\n      this._setShowingMaximizedWidget(false);\r\n      this._maximizedWidgets = {};\r\n    },\r\n\r\n    _swapPerspective: function (perspectiveView, perspective, sourceModel) {\r\n      var deferred = $.Deferred();\r\n      var self = this;\r\n      var showTimeout;\r\n      var perspectiveShown;\r\n\r\n      var scopeId = window.location.href;\r\n      scopeId = scopeId.substr(scopeId.indexOf('#'));\r\n\r\n      function showPerspective() {\r\n        if (showTimeout) {\r\n          clearTimeout(showTimeout);\r\n        }\r\n        // If the perspective-loading timeout called this callback, the\r\n        // context fetch will follow, once its models have all been done.\r\n        if (perspectiveShown) {\r\n          return;\r\n        }\r\n        perspectiveShown = true;\r\n        // Generic waiting until the widgets and other components\r\n        // re-render their contents after they received fresh data\r\n        // would be complicated.\r\n        _.delay(function () {\r\n          // Prevent widgets showing errors to be slided to the perspective\r\n          if (!pageUnloading) {\r\n            self._showPerspective(perspectiveView, perspective, deferred);\r\n          }\r\n        }, self.options.perspectiveShowDelay);\r\n      }\r\n\r\n      function fetchData() {\r\n        self.options.context\r\n            .fetch()\r\n            .fail(function (error) {\r\n              // Prevent error box about context failure showing up, if the\r\n              // current action has been aborted and other page gets loaded\r\n              if (!pageUnloading) {\r\n                if (window.csui && window.csui.mobile) {\r\n                  // LPAD-59873: (this code is only run in mobile and doesn't affect smart UI) On mobile, we would like to\r\n                  // render the perspective upon error code 500. We do this because we would still like to use the app even\r\n                  // if we don't have access to certain shortcut tile widgets on the home page\r\n                  if (error.statusCode === 500 && (window.location.href.indexOf('#') === -1 ||\r\n                                                   window.location.href.indexOf('#home') !== -1)) {\r\n                    showPerspective();\r\n                    return;\r\n                  } else if (error.statusCode === 0) {\r\n                    CommandHelper.showOfflineMessage(error);\r\n                  } else {\r\n                    self._showModalError(error);\r\n                    self.options.context.trigger('reject:perspective', error);\r\n                  }\r\n\r\n                  perspectiveView.destroy();\r\n                } else {\r\n                  showPerspective();\r\n                }\r\n              }\r\n            })\r\n            .done(showPerspective);\r\n      }\r\n\r\n      this._resetWidgetMaximization();\r\n\r\n      // make rendering of perspective view asynchronous\r\n      // this speeds up fetch of node children in node.perspective.plugin\r\n      setTimeout(function () {\r\n        perspectiveView.render();\r\n        // Actions were blocked in doChangePerspective, where the process\r\n        // of loading the perspective view and widgets has started.\r\n        if (this.options.progressWheel) {\r\n          this.unblockActions();\r\n        }\r\n        if (this.options.waitForData) {\r\n          fetchData();\r\n          if (this.options.limitTimeToWaitForData) {\r\n            showTimeout = setTimeout(showPerspective, this.options.maximumTimeToWaitForData);\r\n          }\r\n        } else {\r\n          var eventName = this.currentPerspectiveView ?\r\n                          'swap:perspective' : 'show:perspective';\r\n          this.once(eventName, fetchData);\r\n          showPerspective();\r\n        }\r\n      }.bind(this));\r\n\r\n      return deferred;\r\n    },\r\n\r\n    /**\r\n     * Perspective show / transition for enter, exit from edit mode\r\n     */\r\n    _showPerspectiveForEditMode: function (perspectiveView, perspective) {\r\n      this.currentPerspectiveView.destroy();\r\n\r\n      this.currentPerspectiveView = perspectiveView;\r\n      this.currentPerspective = perspective;\r\n      this._currentPerspectiveSignature = undefined;\r\n\r\n      perspectiveView.triggerMethod('before:show');\r\n      this.$el.append(perspectiveView.el);\r\n      perspectiveView.triggerMethod('show');\r\n    },\r\n\r\n    _showPerspective: function (perspectiveView, perspective, deferred) {\r\n      var body = $(document.body),\r\n          self = this;\r\n      var perViewIndex = this._currentPespectiveStack.indexOf(perspectiveView);\r\n      if (perViewIndex === -1) {\r\n        // this perspectiveView is no longer required to show, since perspective(s) after this are displayed.\r\n        return;\r\n      }\r\n      // Invalidate all perspective before current perspective to stop them from displaying.\r\n      this._currentPespectiveStack.splice(0, perViewIndex);\r\n\r\n      function finishShowingPerspective(perspectiveView) {\r\n        body.scrollTop(0);\r\n        self.perspectiveAnimator.finishAnimation();\r\n        self.currentPerspectiveView = perspectiveView;\r\n        self.currentPerspectiveView.triggerMethod('dom:refresh');\r\n        self.currentPerspective = perspective;\r\n        deferred.resolve(perspectiveView);\r\n      }\r\n\r\n      if (!!this.isSwitchingEditMode) {\r\n        // Switching in / out of Edit mode, no swap animation required.\r\n        this._showPerspectiveForEditMode(perspectiveView, perspective);\r\n        deferred.resolve(perspectiveView);\r\n        return;\r\n      }\r\n\r\n      // Setting a fixed size to the perspective panel solves two\r\n      // problems, which cause disturbance in the transition:\r\n      //\r\n      // * Scrollbar appears on the page, when the old perspective is still\r\n      //   visible, if the new perspective is taller than the viewport and\r\n      //   the old one was not.\r\n      //\r\n      // * Safari on on iOS 9 zooms out, when the new perspective is added\r\n      //   to the perspective panel, so that both perspectives can be seen\r\n      //   anz zooms in again, when the old perspective is destroyed.\r\n      // Suppress the scrollbar only if the current perspective\r\n      // did not need it\r\n      this.perspectiveAnimator.startAnimation(perspectiveView);\r\n\r\n      if (this.currentPerspectiveView) {\r\n        this.triggerMethod('before:swap:perspective', this, {\r\n          oldPerspectiveView: this.currentPerspectiveView,\r\n          newPerspectiveView: perspectiveView\r\n        });\r\n        this.perspectiveAnimator.swapPerspective(this.currentPerspectiveView, perspectiveView)\r\n            .done(function () {\r\n              var oldPerspectiveView = self.currentPerspectiveView;\r\n              self.currentPerspectiveView.destroy();\r\n              finishShowingPerspective(perspectiveView);\r\n              self.triggerMethod('swap:perspective', self, {\r\n                oldPerspectiveView: oldPerspectiveView,\r\n                newPerspectiveView: perspectiveView\r\n              });\r\n            });\r\n      } else {\r\n        this.triggerMethod('before:show:perspective', this, {\r\n          newPerspectiveView: perspectiveView\r\n        });\r\n        this.perspectiveAnimator.showPerspective(perspectiveView)\r\n            .done(function () {\r\n              finishShowingPerspective(perspectiveView);\r\n              self.triggerMethod('show:perspective', self, {\r\n                newPerspectiveView: perspectiveView\r\n              });\r\n            });\r\n\r\n      }\r\n    },\r\n\r\n    _showError: function (error) {\r\n      require(['csui/controls/globalmessage/globalmessage'\r\n      ], function (GlobalMessage) {\r\n        GlobalMessage.showMessage('error', error.message);\r\n      });\r\n    },\r\n\r\n    _showModalError: function (error, options) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.message, options);\r\n      });\r\n    }\r\n  });\r\n\r\n  return PerspectivePanelView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/breadcrumbs/impl/breadcrumb/impl/breadcrumb',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"url\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":11},\"end\":{\"line\":2,\"column\":18}}}) : helper)))\n    + \"\\\" class=\\\"binf-dropdown-toggle csui-subcrumb csui-acc-focusable\\\" role=\\\"button\\\"\\r\\n     data-binf-toggle=\\\"dropdown\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"subcrumbAria\") || (depth0 != null ? lookupProperty(depth0,\"subcrumbAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"subcrumbAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":45},\"end\":{\"line\":3,\"column\":61}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"subcrumbTooltip\") || (depth0 != null ? lookupProperty(depth0,\"subcrumbTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"subcrumbTooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":70},\"end\":{\"line\":3,\"column\":89}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":91},\"end\":{\"line\":3,\"column\":99}}}) : helper)))\n    + \"</a>\\r\\n  <ul class=\\\"binf-dropdown-menu\\\" role=\\\"menu\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"subcrumbs\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":12,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"  </ul>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"inactive\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"loc\":{\"start\":{\"line\":6,\"column\":6},\"end\":{\"line\":11,\"column\":13}}})) != null ? stack1 : \"\");\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li role=\\\"menuitem\\\"><a data-id=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</a>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li role=\\\"menuitem\\\"><a class='csui-breadcrumb csui-acc-focusable' href=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\"\\r\\n               data-id=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</a>\\r\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"inactive\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"loc\":{\"start\":{\"line\":15,\"column\":2},\"end\":{\"line\":20,\"column\":9}}})) != null ? stack1 : \"\");\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":16,\"column\":4},\"end\":{\"line\":16,\"column\":12}}}) : helper)))\n    + \"\\r\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <a class='csui-breadcrumb csui-acc-focusable' href=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"url\",\"hash\":{},\"loc\":{\"start\":{\"line\":18,\"column\":56},\"end\":{\"line\":18,\"column\":63}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"loc\":{\"start\":{\"line\":18,\"column\":74},\"end\":{\"line\":18,\"column\":80}}}) : helper)))\n    + \"\\\"\\r\\n       title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":19,\"column\":14},\"end\":{\"line\":19,\"column\":22}}}) : helper)))\n    + \"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"loc\":{\"start\":{\"line\":19,\"column\":24},\"end\":{\"line\":19,\"column\":32}}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasSubCrumbs\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(7, data, 0),\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":21,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_breadcrumbs_impl_breadcrumb_impl_breadcrumb', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/breadcrumbs/breadcrumb.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/utils/node.links/node.links', 'csui/utils/base',\r\n  'hbs!csui/controls/breadcrumbs/impl/breadcrumb/impl/breadcrumb',\r\n  'i18n!csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang'\r\n], function (_, $, Marionette, nodeLinks, base, template, lang) {\r\n  'use strict';\r\n\r\n  var BreadcrumbItemView = Marionette.ItemView.extend({\r\n    tagName: 'li',\r\n\r\n    template: template,\r\n\r\n    modelEvents: {\r\n      change: 'render'\r\n    },\r\n\r\n    events: {\r\n      'click a.csui-breadcrumb': 'onClickLink'\r\n    },\r\n\r\n    onClickLink: function (e) {\r\n      if (base.isControlClick(e)) {\r\n        // do nothing, let's execute browser's default behaviour as it is in both ctrl+click and\r\n        // command+click in mac.\r\n      } else {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        var model = this.model;\r\n        if (model.get('subcrumbs').length > 0) {\r\n          var id = $(e.target).data('id');\r\n          model = this._getModel(id);\r\n        }\r\n        this.triggerMethod('click:ancestor', model);\r\n      }\r\n    },\r\n\r\n    className: function () {\r\n      var cname,\r\n          // Constructor of this object has not been finished yet;\r\n          // subcrumbs as an array have not been ensured yet\r\n          subCrumbs = this.model.get('subcrumbs');\r\n\r\n      if (this.options.isLastChild) {\r\n        cname = 'binf-active';\r\n      } else if (subCrumbs && subCrumbs.length > 0) {\r\n        cname = 'binf-dropdown';\r\n      } else {\r\n        cname = 'tail';\r\n      }\r\n\r\n      return cname;\r\n    },\r\n\r\n    /**\r\n     * If the ancestor points to a real node, which is connected to a server, set href of the link\r\n     * to the open the container perspective of the ancestor\r\n     *\r\n     * @param crumb\r\n     * @returns {string}\r\n     */\r\n    getAncestorUrl: function (crumb) {\r\n      var connector = crumb.connector || crumb.collection.connector;\r\n      return crumb.get('id') > 0 && (connector) &&\r\n             nodeLinks.getUrl(crumb, {connector: connector}) || '#';\r\n    },\r\n\r\n    /**\r\n     * It returns the actual display name based on the availablity of suitable parameter\r\n     * existance in the model.\r\n     *\r\n     * @returns {string}\r\n     */\r\n    getDisplayName: function () {\r\n      return this.model.attributes.displayName || this.model.attributes.name_formatted ||\r\n             this.model.attributes.name;\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var options   = this.options,\r\n          subCrumbs = _.map(this.model.get('subcrumbs'), _.bind(function (crumb) {\r\n            return _.extend(crumb.toJSON(), {url: this.getAncestorUrl(crumb)});\r\n          }, this));\r\n      return {\r\n        inactive: this.model.get('inactive') || options.isLastChild,\r\n        hasSubCrumbs: subCrumbs.length > 0,\r\n        subcrumbs: subCrumbs,\r\n        name: this.getDisplayName(),\r\n        url: this.getAncestorUrl(this.model),\r\n        subcrumbTooltip: lang.subcrumbTooltip,\r\n        subcrumbAria: lang.subcrumbAria\r\n      };\r\n    },\r\n\r\n    onRender: function () {\r\n      // aria-current can not be set on the last/active element as that is not a link. html validity issue.\r\n      // TODO the inactive/informational last element is counted by the screenreader but can not be reached\r\n    },\r\n\r\n    constructor: function BreadcrumbItemView(options) {\r\n      options || (options = {});\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      // Make using the view-model easier in this view\r\n      if (!this.model.has('subcrumbs')) {\r\n        this.model.set('subcrumbs', [], {silent: true});\r\n      }\r\n    },\r\n\r\n    _getModel: function (id) {\r\n      var subCrumbs = this.model.get('subcrumbs'),\r\n          model     = null;\r\n\r\n      for (var i = 0; i < subCrumbs.length; i++) {\r\n        if (subCrumbs[i].get('id') === id) {\r\n          model = subCrumbs[i];\r\n          break;\r\n        }\r\n      }\r\n      return model;\r\n    }\r\n  });\r\n\r\n  return BreadcrumbItemView;\r\n});\n","csui.define('csui/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view',[\r\n  'csui/controls/breadcrumbs/breadcrumb.view'\r\n], function (BreadcrumbItemView) {\r\n  'use strict';\r\n\r\n  //console.warn(\r\n  //    'DEPRECATED: depend on the module \"csui/controls/breadcrumbs/breadcrumb.view\" instead.');\r\n\r\n  return BreadcrumbItemView;\r\n});\n","csui.define('csui/controls/form/pub.sub',['csui/lib/underscore', 'csui/lib/backbone'], function (_, Backbone) {\r\n  'use strict';\r\n  //const PubSub = _.extend({}, Backbone.Events);\r\n  return _.extend({}, Backbone.Events);\r\n});\n","csui.define('csui/controls/mixins/keyboard.navigation/modal.keyboard.navigation.mixin',['csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/base'], function (_, $, base) {\r\n  'use strict';\r\n\r\n  //\r\n  // Mixin for a modal View to trap keyboard navigation.\r\n  //\r\n  // Note: for completeness, also do the following in your View code\r\n  // - capture the in-focus element before opening your modal view\r\n  // - set focus on the first focusable element after your modal is shown after animation\r\n  // - set focus back to the prior in-focus element after closing your modal view\r\n  //\r\n  var ModalKeyboardNavigationMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        _rebuildFocusableElements: function () {\r\n          this.focusableElements = base.findFocusables(this._focusHolder);\r\n        },\r\n\r\n        /**\r\n         * Calling this on DOM changes will allow re-building of focusable elements\r\n         */\r\n        refreshFocusEngage: function () {\r\n          this._rebuildFocusableElements();\r\n        },\r\n\r\n        /**\r\n         * Maintains the tab focus on the provided element to trap KN\r\n         */\r\n        _maintainTabFocus: function (modalElement) {\r\n          this._focusHolder = modalElement;\r\n          this._rebuildFocusableElements();\r\n\r\n          var self = this;\r\n          modalElement.on('keydown', function (e) {\r\n            var currentIndex   = self.focusableElements.index(e.target),\r\n                focusableCount = self.focusableElements.length,\r\n                cancelEvent    = false;\r\n            if (currentIndex === -1) {\r\n              // Unknown element. Element could be created after engage.\r\n              // Calling 'dom:refresh' is recommended on DOM changes \r\n              return;\r\n            }\r\n            if (e.keyCode === 9) {\r\n              if (!e.shiftKey && currentIndex === focusableCount - 1) {\r\n                // Tab on last focusable element\r\n                self.focusableElements.first().trigger('focus');\r\n                cancelEvent = true;\r\n              } else if (e.shiftKey && currentIndex === 0) {\r\n                // Shift tab on first focusable element\r\n                self.focusableElements.last().trigger('focus');\r\n                cancelEvent = true;\r\n              }\r\n            }\r\n            cancelEvent && e.preventDefault();\r\n            e.stopPropagation();\r\n          });\r\n\r\n          this.listenTo(this, 'dom:refresh', function () {\r\n            this.refreshFocusEngage();\r\n          });\r\n\r\n          var disengage = function disengage() {\r\n            modalElement.off('keydown');\r\n          };\r\n          return {\r\n            disengage: disengage\r\n          };\r\n        },\r\n\r\n        // Params:\r\n        // - modalElement : optional; the modal element. Default is the view's el.\r\n        engageModalKeyboardFocusOnOpen: function (modalElement) {\r\n          this._allyHandles || (this._allyHandles = []);\r\n          modalElement = $(modalElement || this.el);\r\n\r\n          // make sure Tab key (also Shift-Tab) controlled focus is trapped within tabsequence\r\n          this._allyHandles.push(this._maintainTabFocus(modalElement));\r\n        },\r\n\r\n        disengageModalKeyboardFocusOnClose: function () {\r\n          if (this._allyHandles) {\r\n            while (this._allyHandles.length > 0) {\r\n              // ally handles have a common API method disengage()\r\n              this._allyHandles.pop().disengage();\r\n            }\r\n          }\r\n        },\r\n\r\n        hasEngagedModalKeyboardFocus: function () {\r\n          return this._allyHandles && this._allyHandles.length;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ModalKeyboardNavigationMixin;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.links',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"binf-nav \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tab_type\") || (depth0 != null ? lookupProperty(depth0,\"tab_type\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tab_type\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":20},\"end\":{\"line\":1,\"column\":32}}}) : helper)))\n    + \"\\\" role=\\\"tablist\\\"></ul>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.links', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.link',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a href=\\\"#\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"uniqueTabId\") || (depth0 != null ? lookupProperty(depth0,\"uniqueTabId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"uniqueTabId\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":10},\"end\":{\"line\":1,\"column\":25}}}) : helper)))\n    + \"\\\" id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"linkId\") || (depth0 != null ? lookupProperty(depth0,\"linkId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"linkId\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":31},\"end\":{\"line\":1,\"column\":41}}}) : helper)))\n    + \"\\\" role=\\\"tab\\\" aria-selected=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"selected\") || (depth0 != null ? lookupProperty(depth0,\"selected\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"selected\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":69},\"end\":{\"line\":1,\"column\":81}}}) : helper)))\n    + \"\\\" aria-controls=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"uniqueTabId\") || (depth0 != null ? lookupProperty(depth0,\"uniqueTabId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"uniqueTabId\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":98},\"end\":{\"line\":1,\"column\":113}}}) : helper)))\n    + \"\\\" data-binf-toggle=\\\"tab\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"csui-l10n\")||(depth0 && lookupProperty(depth0,\"csui-l10n\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"title\") : depth0),{\"name\":\"csui-l10n\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":138},\"end\":{\"line\":1,\"column\":157}}}))\n    + \"</a>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.link', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/utils/handlebars/l10n',['csui/lib/handlebars', 'csui/utils/base'\r\n], function (Handlebars, base) {\r\n\r\n  Handlebars.registerHelper('csui-l10n', function (value) {\r\n    return base.getClosestLocalizedString(value);\r\n  });\r\n\r\n  return Handlebars.helpers['csui-l10n'];\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/tab.link.view',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/marionette', 'csui/utils/log',\r\n  'hbs!csui/controls/tab.panel/impl/tab.link', 'csui/lib/binf/js/binf',\r\n  'csui/utils/handlebars/l10n' // support {{csui-l10n ...}}\r\n], function (module, _, Marionette, log, tabLinkTemplate) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var TabLinkView = Marionette.ItemView.extend({\r\n    tagName: 'li',\r\n\r\n    className: function () {\r\n      return this._isOptionActiveTab() ? 'binf-active' : '';\r\n    },\r\n\r\n    attributes: function () {\r\n      return {\r\n        'data-csui-tab': this.model.get('name'),\r\n        role: 'presentation'\r\n      };\r\n    },\r\n\r\n    template: tabLinkTemplate,\r\n\r\n    templateHelpers: function() {\r\n      var uniqueTabId = this.model.get('uniqueTabId');\r\n      return {\r\n        linkId: 'tablink-' + uniqueTabId,\r\n        selected: this._isOptionActiveTab()\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'show.binf.tab > a': 'onShowingTab',\r\n      'shown.binf.tab > a': 'onShownTab'\r\n    },\r\n\r\n    ui: {\r\n      link: '>a'\r\n    },\r\n\r\n    constructor: function TabLinkView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n\r\n      // Help picking the last click from a quick sequence of clicks\r\n      this.clickActivatingSemaphore = this.options.clickActivatingSemaphore;\r\n    },\r\n\r\n    _isOptionActiveTab: function () {\r\n      var active = false;\r\n      var activeTabIndex = 0;\r\n      if (this.options.activeTab && this.options.activeTab.get('tabIndex') !== undefined) {\r\n        activeTabIndex = this.options.activeTab.get('tabIndex');\r\n      }\r\n      // in case of -1: set to 0; otherwise, Backbone.collection.at would return the last model.\r\n      activeTabIndex = Math.max(0, activeTabIndex);\r\n      this.model === this.model.collection.at(activeTabIndex) && (active = true);\r\n      return active;\r\n    },\r\n\r\n    activate: function (setFocus) {\r\n      this.ui.link.binf_tab('show');\r\n      setFocus && this.ui.link.trigger('focus');\r\n    },\r\n\r\n    isActive: function () {\r\n      return this.$el.hasClass('binf-active');\r\n    },\r\n\r\n    onShowingTab: function (event) {\r\n      // Ignore quick consecutive clicks among the tab links\r\n      if (this.clickActivatingSemaphore && !this.clickActivatingSemaphore.enter()) {\r\n        log.debug('Ignoring start of a tab link activation (tab {0}, {1}).',\r\n          this._index, this.cid) && console.log(log.last);\r\n        return;\r\n      }\r\n\r\n      log.debug('Starting a tab link activation (tab {0}, {1}).',\r\n        this._index, this.cid) && console.log(log.last);\r\n      this.triggerMethod('before:activate:tab', this);\r\n    },\r\n\r\n    onShownTab: function (event) {\r\n      var tabIndex = this.model.collection.indexOf(this.model);\r\n      // Continue with the last clicked tab, ignore/abort the earlier ones\r\n      if (this.clickActivatingSemaphore && !this.clickActivatingSemaphore.exit()) {\r\n        log.debug('Ignoring finish of a tab link activation (tab {0}: {1}).',\r\n          tabIndex, this.cid) && console.log(log.last);\r\n        return;\r\n      }\r\n\r\n      var activeTab = this.options.activeTab;\r\n      if (log.can('DEBUG')) {\r\n        log.debug('Finishing a tab link activation (tab {0}: {1}, previous {2}).',\r\n          tabIndex, this.cid, activeTab ? activeTab.get('tabIndex') : 'unknown')\r\n          && console.log(log.last);\r\n      }\r\n      activeTab && activeTab.set('tabIndex', tabIndex);\r\n      this.triggerMethod('activate:tab', this);\r\n    }\r\n  });\r\n\r\n  return TabLinkView;\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log'\r\n], function (module, _, $, log) {\r\n  'use strict';\r\n\r\n  var KeyboardBehaviorMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        // start <integer> : starting index\r\n        // optional reverseDirection <boolean>: true/false\r\n        _findNextFocusableElementIndex: function (start, reverseDirection) {\r\n          var tabElemId = start;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength === 0) {\r\n            return -1;\r\n          }\r\n\r\n          if (tabElemId < 0 || tabElemId >= elemsLength) {\r\n            return tabElemId;\r\n          }\r\n          var $currentElem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n          //avoiding focus on scrollbar\r\n          if($currentElem.hasClass('ps-scrollbar-y')|| $currentElem.hasClass('ps-scrollbar-x')){\r\n            tabElemId = tabElemId -1;\r\n            $currentElem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n          }\r\n          while (this.closestTabable($currentElem) === false) {\r\n            tabElemId = reverseDirection === true ? tabElemId - 1 : tabElemId + 1;\r\n            if (tabElemId < 0 || tabElemId >= elemsLength) {\r\n              tabElemId = -1;\r\n              break;\r\n            }\r\n            $currentElem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n          }\r\n          return tabElemId;\r\n        },\r\n\r\n        // This function has a valid check on top of the _findNextFocusableElementIndex() call.\r\n        // If the element is no longer valid, refresh the tabable element lists.\r\n        _findNextValidFocusableElementIndex: function (start, reverseDirection) {\r\n          var tabElemId = this._findNextFocusableElementIndex (start, reverseDirection);\r\n          /* TODO: revisit this algorithm ...\r\n          if (tabElemId >= 0 && tabElemId < this.keyboardBehavior.tabableElements.length) {\r\n            // does the view contain target element?\r\n            var $elem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n            if (this.$el.find($elem).length === 0 && this.keyboardBehavior.refreshTabableElements) {\r\n              this.keyboardBehavior.refreshTabableElements(this);\r\n              tabElemId = this._findNextFocusableElementIndex (start, reverseDirection);\r\n            }\r\n          }\r\n          */\r\n          return tabElemId;\r\n        },\r\n\r\n        // handle scenario that currentlyFocusedElement does not have event param for shiftTab\r\n        _setFirstAndLastFocusable: function (event) {\r\n          var tabElemId;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength === 0) {\r\n            return;\r\n          }\r\n          // first element\r\n          tabElemId = 0;\r\n          tabElemId = this._findNextValidFocusableElementIndex (tabElemId);\r\n          if (tabElemId >= 0 && tabElemId < elemsLength) {\r\n            $(this.keyboardBehavior.tabableElements[tabElemId]).prop('tabindex', '0');\r\n          }\r\n          // last element\r\n          tabElemId = this.keyboardBehavior.tabableElements.length - 1;\r\n          tabElemId = this._findNextValidFocusableElementIndex (tabElemId, true);\r\n          if (tabElemId >= 0 && tabElemId < elemsLength) {\r\n            $(this.keyboardBehavior.tabableElements[tabElemId]).prop('tabindex', '0');\r\n          }\r\n        },\r\n\r\n        currentlyFocusedElement: function (event) {\r\n          return this.currentlyFocusedElementInternal(event);\r\n        },\r\n\r\n        currentlyFocusedElementInternal: function (event) {\r\n          // log.debug(this.constructor.name + '::currentlyFocusedElement ') && console.log(log.last);\r\n\r\n          this._setFirstAndLastFocusable(event);\r\n\r\n          var tabElemId = -1;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength > 0) {\r\n            var reverseDirection = event && event.shiftKey;\r\n            tabElemId = event.elementCursor || (reverseDirection ? elemsLength - 1 : 0);\r\n\r\n            // tab is being activated, return the tab to the global tabable behavior\r\n            if (this.options.tabPanel && this.options.tabPanel.activatingTab) {\r\n              var curPos = this.currentTabPosition;\r\n              if (curPos >= 0 && curPos < elemsLength) {\r\n                tabElemId = curPos;\r\n              }\r\n            }\r\n\r\n            // only focus on editable and focusable field\r\n            tabElemId = this._findNextValidFocusableElementIndex (tabElemId, reverseDirection);\r\n          }\r\n\r\n          if (tabElemId >= 0 && tabElemId < elemsLength) {\r\n            this.currentTabPosition = tabElemId;\r\n            var $elem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n            // tabLink can be invisible, autoScroll until it is visible\r\n            this._autoScrollUntilElemIsVisible && this._autoScrollUntilElemIsVisible($elem);\r\n            return $elem;\r\n          } else {\r\n            return undefined;\r\n          }\r\n        },\r\n\r\n        _accSetFocusToPreviousOrNextElement: function (previous) {\r\n          // log.debug(this.constructor.name + '::_accSetFocusToPreviousOrNextElement. previous: ' +\r\n          //           previous) && console.log(log.last);\r\n\r\n          var newTabbedElement = -1;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength > 0) {\r\n            if (this.currentTabPosition < 0) {\r\n              newTabbedElement = 0;\r\n            } else {\r\n              if (previous) {\r\n                if (this.currentTabPosition > 0) {\r\n                  newTabbedElement = this.currentTabPosition - 1;\r\n                }\r\n              } else {\r\n                if (this.currentTabPosition < elemsLength - 1) {\r\n                  newTabbedElement = this.currentTabPosition + 1;\r\n                }\r\n              }\r\n              // only focus on editable and focusable field\r\n              newTabbedElement = this._findNextValidFocusableElementIndex (newTabbedElement,\r\n                  previous);\r\n            }\r\n          }\r\n          if (newTabbedElement >= 0 && newTabbedElement !== this.currentTabPosition) {\r\n            this.currentTabPosition = newTabbedElement;\r\n            this.keyboardBehavior.refreshTabableElements(this);\r\n            return $(this.keyboardBehavior.tabableElements[newTabbedElement]);\r\n          }\r\n          this.currentTabPosition = -1;\r\n          return undefined;\r\n        },\r\n\r\n        containTargetElement: function (event) {\r\n          // does the view contain target element?\r\n          var contain = this.$el.find(event.target).length > 0 ? true : false;\r\n          // try to determine the position accurately\r\n          if (contain) {\r\n            var pos, elem;\r\n            for (pos = 0; pos < this.keyboardBehavior.tabableElements.length; pos++) {\r\n              elem = this.keyboardBehavior.tabableElements[pos];\r\n              // fallback: match the parent container for nested alpaca form field\r\n              if ($(elem).parents('.alpaca-control').find(event.target).length > 0) {\r\n                this.currentTabPosition = pos;\r\n              }\r\n              // accurate case\r\n              // note: FireFox removed isSameNode in some versions\r\n              if (elem.isSameNode && elem.isSameNode(event.target)) {\r\n                this.currentTabPosition = pos;\r\n                break;\r\n              } else if (elem === event.target) {\r\n                this.currentTabPosition = pos;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          return contain;\r\n        },\r\n\r\n        numberOfTabableElements: function (event) {\r\n          return this.keyboardBehavior.tabableElements.length;\r\n        },\r\n\r\n        closestTabable: function ($el) {\r\n          var tabable = true;\r\n          var $currentElem = $el;\r\n          // note: for efficiency, only traverse up to 10 ancestors including itself\r\n          var i;\r\n          for (i = 0; i < 10; i++) {\r\n            if ($currentElem &&\r\n                ($currentElem.attr(\"data-cstabindex\") === \"-1\" || $currentElem.attr(\"disabled\"))) {\r\n              tabable = false;\r\n              break;\r\n            }\r\n            $currentElem = $currentElem.parent();\r\n          }\r\n          return tabable;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return KeyboardBehaviorMixin;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.links.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', 'csui/lib/marionette',\r\n  'csui/utils/base', 'csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin'\r\n], function (module, _, $, log, Marionette, base, KeyboardBehaviorMixin) {\r\n  'use strict';\r\n\r\n  // This behavior implements a default keyboard navigation by tab keys similar to the browser\r\n  // default and is used when the browser default can't be used because of tabable region behavior.\r\n\r\n  var TabLinksKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabLinksKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n      this.tabableElements = [];\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'refresh:tabable:elements', function (tabPanel) {\r\n        self.refreshTabableElements(view, tabPanel);\r\n      });\r\n\r\n      KeyboardBehaviorMixin.mixin(view);\r\n\r\n      _.extend(view, {\r\n\r\n        // handle scenario that currentlyFocusedElement does not have event param for shiftTab\r\n        _setFirstAndLastFocusable: function (event) {\r\n          if (this.keyboardBehavior.tabableElements.length > 0) {\r\n            // first element\r\n            var $elem = $(this.keyboardBehavior.tabableElements[0]).prop('tabindex', '0');\r\n            // last element: for tabLinks, the last element could be the add button, so search\r\n            // for the last a[href] and set it focusable too\r\n            var lastElemIndex = this.keyboardBehavior.tabableElements.length - 1;\r\n            if ($elem.is('a')) {\r\n              $elem = $(this.keyboardBehavior.tabableElements[lastElemIndex]);\r\n              $elem.prop('tabindex', '0');\r\n              while (!$elem.is('a') && lastElemIndex > 0) {\r\n                lastElemIndex--;\r\n                $elem = $(this.keyboardBehavior.tabableElements[lastElemIndex]);\r\n              }\r\n              $elem.prop('tabindex', '0');\r\n            }\r\n          }\r\n        },\r\n\r\n        // Automatically scroll until the tabLink $elem is visible.\r\n        // Note: this function stores a Deferred in $elem.csuiPromise that can be used\r\n        // for ansynchronous check to unset 'skipAutoScroll' and run subsequent code.\r\n        _autoScrollUntilElemIsVisible: function ($elem) {\r\n          var $tabLink = $elem;\r\n          // if $elem is the tablink delete icon, get the sibbling tablink element for scrolling\r\n          if ($tabLink && $tabLink.hasClass('cs-delete-icon')) {\r\n            $tabLink = $elem.parent().parent().find('.cs-tablink');\r\n          }\r\n\r\n          if ($tabLink && $tabLink.is('a') && $tabLink.hasClass('cs-tablink')) {\r\n            var tabPanel = this.options && this.options.tabPanel;\r\n            var tabID = $tabLink.attr('href');\r\n            tabID[0] === '#' && (tabID = tabID.substr(1));\r\n            if (tabPanel && tabPanel._isTablinkVisibleInParents($tabLink) === false) {\r\n              var tabIndex = tabPanel._findTabIndexByID ? tabPanel._findTabIndexByID(tabID) : -1;\r\n              if (tabIndex >= 0) {\r\n                var deferred = $.Deferred();\r\n                tabPanel.skipAutoScroll = true;  // unset this after the deferred is done\r\n                $tabLink.csuiPromise = deferred.promise();\r\n                var options = {animationOff: true};\r\n                tabPanel._autoScrollTabTo && tabPanel._autoScrollTabTo(tabIndex, options)\r\n                    .done(function () {\r\n                      tabPanel.skipAutoScroll = false;\r\n                      deferred.resolve();\r\n                    });\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n          var ret;\r\n          if (this.keyboardBehavior.tabableElements.length === 0) {\r\n            // don't handle keystrokes at all if no elements were found for keyboard navigation\r\n            return ret;\r\n          }\r\n\r\n          this.keyboardBehavior.keyboardActionDeleteTabPosition = undefined;\r\n          var self = this;\r\n          var _focusOnTabContent = function (e) {\r\n            var hrefElem = self.keyboardBehavior.tabableElements[self.currentTabPosition];\r\n            var $hrefElem = hrefElem && $(hrefElem);\r\n            if ($hrefElem && $hrefElem.is(\":focus\")) {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              var tabPanel = self.options && self.options.tabPanel;\r\n              tabPanel && (tabPanel.skipAutoScroll = true);\r\n              if ($hrefElem.hasClass('cs-delete-icon')) {\r\n                // when focus is on the delete icon: move back two positions\r\n                self.keyboardBehavior.keyboardActionDeleteTabPosition = self.currentTabPosition - 2;\r\n              }\r\n              // trigger the click event\r\n              $hrefElem.trigger('click');\r\n              // focus is on tablink (not delete icon): move to the first focusable field\r\n              if (self.keyboardBehavior.keyboardActionDeleteTabPosition === undefined) {\r\n                setTimeout(function () {\r\n                  // let tabContents know to focus on 1st editable field of activating tabContent\r\n                  var href = $hrefElem.attr('href');\r\n                  var focusEvent = $.Event('tab:content:focus', {tabId: href});\r\n                  self.$el.trigger(focusEvent);\r\n                  tabPanel && (tabPanel.skipAutoScroll = false);\r\n                }, 100);\r\n              }\r\n            }\r\n          };\r\n\r\n          if (event.keyCode === 9) {  // tab\r\n            // log.debug('TabLinksKeyboardBehavior::onKeyInView ' + view.constructor.name) &&\r\n            // console.log(log.last);\r\n\r\n            var leftScroll = event.shiftKey;\r\n            var $elem = this._accSetFocusToPreviousOrNextElement(leftScroll);\r\n\r\n            // if the scroll-to element is a tab, auto-scroll for it to be visible\r\n            this._autoScrollUntilElemIsVisible($elem);\r\n\r\n            ret = $elem;\r\n          } else if (event.keyCode === 32 || event.keyCode === 13) {\r\n            // space key(32) or enter key(13)\r\n            _focusOnTabContent.call(this, event);\r\n          } else if (event.keyCode === 46) {\r\n            // delete key\r\n            var hrefElem = this.keyboardBehavior.tabableElements[this.currentTabPosition];\r\n            if (hrefElem && $(hrefElem).is(\":focus\")) {\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n              // when focus is on the tablink: move back one position\r\n              this.keyboardBehavior.keyboardActionDeleteTabPosition = this.currentTabPosition - 1;\r\n\r\n              // let tabLinks know to delete the tab\r\n              var href = $(hrefElem).attr('href');\r\n              var deleteEvent = $.Event('tab:link:delete', {tabId: href});\r\n              this.$el.trigger(deleteEvent);\r\n            }\r\n          }\r\n          return ret;\r\n        }\r\n      });\r\n\r\n    }, // constructor\r\n\r\n    refreshTabableElements: function (view, tabPanel) {\r\n      // tab can be hidden, so don't filter by ':visible'\r\n      this.tabableElements = view.$el.find('a[href], *[tabindex], *[data-cstabindex]');\r\n      // remove elements with data-cstabindex=-1\r\n      var i;\r\n      for (i = this.tabableElements.length - 1; i >= 0; i--) {\r\n        if ($(this.tabableElements[i]).attr('data-cstabindex') === '-1') {\r\n          this.tabableElements.splice(i, 1);\r\n        }\r\n      }\r\n\r\n      this.view.currentTabPosition = -1;\r\n      // if delete a tab by keyboard, put focus on the previous tab afterwards\r\n      if (this.keyboardActionDeleteTabPosition !== undefined) {\r\n        var $elem = $(this.tabableElements[this.keyboardActionDeleteTabPosition]);\r\n        if ($elem && $elem.length > 0) {\r\n          this.view.currentTabPosition = this.keyboardActionDeleteTabPosition;\r\n          // if the scroll-to element is a tab, auto-scroll for it to be visible\r\n          this.view._autoScrollUntilElemIsVisible($elem);\r\n          $elem.trigger('focus');\r\n        }\r\n        this.keyboardActionDeleteTabPosition = undefined;\r\n      }\r\n\r\n      setTimeout(function () {\r\n        view._setFirstAndLastFocusable && view._setFirstAndLastFocusable();\r\n      }, 50);\r\n\r\n      // log.debug('TabLinksKeyboardBehavior::refreshTabableElements ' + view.constructor.name +\r\n      //           ': found ' + this.tabableElements.length + ' tabable elements') &&\r\n      // console.log(log.last);\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinksKeyboardBehavior;\r\n\r\n});\r\n\n","// Renders s tab panel made of links and content\r\ncsui.define('csui/controls/tab.panel/impl/tab.links.view',['csui/lib/underscore', 'csui/lib/marionette', 'csui/utils/base',\r\n  'hbs!csui/controls/tab.panel/impl/tab.links',\r\n  'csui/controls/tab.panel/impl/tab.link.view',\r\n  'csui/controls/tab.panel/behaviors/tab.links.keyboard.behavior',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, Marionette, base, tabLinksTemplate, TabLinkView,\r\n    TabLinksKeyboardBehavior) {\r\n  'use strict';\r\n\r\n  var TabLinkCollectionView = Marionette.CompositeView.extend({\r\n    className: function () {\r\n      var ret = 'tab-links';\r\n      if (this.options.mode === 'spy') {\r\n        ret += ' scrollspy';\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    childViewOptions: function (model, index) {\r\n      return _.extend(this.options, {\r\n        index: index,\r\n        activeTab: this.options.activeTab,\r\n        clickActivatingSemaphore:\r\n          this.options.overlappingTabActivation === false &&\r\n          createClickActivatingSemaphore(this)\r\n      });\r\n    },\r\n\r\n    template: tabLinksTemplate,\r\n    templateHelpers: function () {\r\n      return {\r\n        tab_type: this.tabType\r\n      };\r\n    },\r\n\r\n    childView: TabLinkView,\r\n    childViewContainer: function () {\r\n      return '>.' + this.tabType;\r\n    },\r\n\r\n    behaviors: {\r\n      TabLinksKeyboardBehavior: {\r\n        behaviorClass: TabLinksKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function TabLinkCollectionView(options) {\r\n      this.tabType = options.tabType || 'binf-nav-tabs';\r\n      Marionette.CompositeView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.options.activeTab, 'change:tabIndex', this._updateActiveTab);\r\n      // Help picking the last click from a quick sequence of clicks\r\n      this._clickActivatingSemaphore = 0;\r\n    },\r\n\r\n    onChildviewActivateTab: function (childView) {\r\n      // clear the aria-selected on the previous tabLink and set it on the activated tabLink\r\n      this.children.each(function (view) {\r\n        var $link = view.$el.find('a');\r\n        if ($link.attr('aria-selected') !== undefined) {\r\n          $link.attr('aria-selected', 'false');\r\n        }\r\n      });\r\n      childView.$el.find('a').attr('aria-selected', 'true');\r\n    },\r\n\r\n    _updateActiveTab: function () {\r\n      var tabIndex = this.options.activeTab.get('tabIndex'),\r\n          linkView = this.children.findByIndex(tabIndex);\r\n      if (linkView) {\r\n        if (tabIndex === linkView._index) {\r\n          if (!linkView.isActive()) {\r\n            linkView.activate();\r\n          }\r\n        }\r\n      } else {\r\n        // Set the currently active tab index to the activeTab model\r\n        // to overwrite the wrong value which somebody set there\r\n        tabIndex = 0;\r\n        this.children.find(function (linkView, index) {\r\n          if (linkView.isActive()) {\r\n            tabIndex = index;\r\n            return true;\r\n          }\r\n        });\r\n        this.options.activeTab.set('tabIndex', tabIndex);\r\n      }\r\n    },\r\n\r\n    // Options: {\r\n    //  - levels <integer> : search up to number of levels.  Default: 3.\r\n    //  - percentX <integer> : X visibility percentage.  Default: 100%.\r\n    //  - percentY <integer> : Y visibility percentage.  Default: 100%.\r\n    // }\r\n    _isTablinkVisibleInParents: function ($el, options) {\r\n      var levels = options && options.levels || 3;\r\n      var percentX = options && options.percentX || 100;\r\n      var percentY = options && options.percentY || 100;\r\n      return base.isElementVisibleInParents($el, levels, percentX, percentY);\r\n    },\r\n\r\n    // base class method: leave empty!\r\n    deleteTabById: function (tabId) {\r\n      // don't add anything here. The method is meant to be overriden.\r\n      return;\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinkCollectionView;\r\n\r\n  function createClickActivatingSemaphore(view) {\r\n    // Return true if the code after the semaphore can be executed\r\n    return {\r\n      enter: function () {\r\n        // Ignore quick consecutive clicks among the tab links\r\n        return view._clickActivatingSemaphore++ === 0;\r\n      },\r\n      exit: function () {\r\n        // Continue with the last clicked tab, ignore/abort the earlier ones\r\n        return --view._clickActivatingSemaphore === 0;\r\n      }\r\n    };\r\n  }\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/tab.content.view',['csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette', 'csui/utils/log',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, Backbone, Marionette, log, ViewEventsPropagationMixin) {\r\n  'use strict';\r\n\r\n  var TabContentView = Marionette.View.extend({\r\n\r\n    constructor: function TabContentView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n      this.contentRegion = new Marionette.Region({el: this.el});\r\n      // Tab content creation cannot be delayed if scrollspy is used or if this\r\n      // is tab is active immediately and thus does not get the activation event\r\n      if (!this.options.delayTabContent || this.options.mode === 'spy' ||\r\n          this._isActive()) {\r\n        this._createContent(options);\r\n      } else {\r\n        this.listenTo(this.options.tabPanel, 'before:activate:tab', this._ensureContent);\r\n      }\r\n    },\r\n\r\n    className: function () {\r\n      var classes = '';\r\n      if (!this.options.mode) {\r\n        classes = 'binf-tab-pane binf-fade';\r\n        if (this._isActive()) {\r\n          classes += ' binf-in binf-active';\r\n        }\r\n      }\r\n      return classes;\r\n    },\r\n\r\n    attributes: function () {\r\n      var uTabId = this.model.get('uniqueTabId');\r\n      if (!uTabId) {\r\n        log.warn('Missing unique tab ID in the TabPanel UI component. Please report.')\r\n        && console.warn(log.last);\r\n      }\r\n      return {\r\n        role: 'tabpanel',\r\n        id: uTabId,\r\n        'aria-labelledby': 'tablink-' + uTabId\r\n      };\r\n    },\r\n\r\n    render: function () {\r\n      this._ensureViewIsIntact();\r\n      this.triggerMethod('before:render', this);\r\n      this._renderContent();\r\n      this.triggerMethod('render', this);\r\n      return this;\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this._destroyContent();\r\n    },\r\n\r\n    _isActive: function () {\r\n      var activeTabIndex = Math.max(0, this.options.activeTab.get('tabIndex'));\r\n      return this.model === this.model.collection.at(activeTabIndex);\r\n    },\r\n\r\n    ensureContent: function () {\r\n      if (!this.content) {\r\n        Marionette.triggerMethodOn(this, 'before:populate:tab', this);\r\n        this._createContent(this.options);\r\n        if (this._isRendered) {\r\n          this.render();\r\n        }\r\n        Marionette.triggerMethodOn(this, 'populate:tab', this);\r\n      }\r\n    },\r\n\r\n    _ensureContent: function (tabContent, tabPane, tabLink) {\r\n      if (tabPane === this) {\r\n        this.ensureContent();\r\n      }\r\n    },\r\n\r\n    _createContent: function (options) {\r\n      var ContentView        = this._getContentView(),\r\n          contentViewOptions = this._getContentViewOptions(),\r\n          fullOptions        = _.extend({\r\n                model: this.model,\r\n                containerCollection: options.containerCollection,\r\n                index: options.index\r\n              },\r\n              contentViewOptions);\r\n      this.content = new ContentView(fullOptions);\r\n      this.propagateEventsToViews(this.content);\r\n    },\r\n\r\n    _getContentView: function () {\r\n      var contentView = this.model.get(\"contentView\") ||\r\n                        this.options.tabPanel.getOption('contentView');\r\n      if (contentView && !(contentView.prototype instanceof Backbone.View)) {\r\n        contentView = contentView.call(this.options.tabPanel, this.model);\r\n      }\r\n      if (!contentView) {\r\n        throw new Marionette.Error({\r\n          name: 'NoContentViewError',\r\n          message: 'A \"contentView\" must be specified'\r\n        });\r\n      }\r\n      return contentView;\r\n    },\r\n\r\n    _getContentViewOptions: function () {\r\n      var contentViewOptions = this.options.tabPanel.getOption('contentViewOptions');\r\n      if (_.isFunction(contentViewOptions)) {\r\n        contentViewOptions = contentViewOptions.call(this.options.tabPanel,\r\n            this.model);\r\n      }\r\n      return contentViewOptions;\r\n    },\r\n\r\n    _renderContent: function () {\r\n      if (this.content) {\r\n        this.contentRegion.show(this.content);\r\n      }\r\n    },\r\n\r\n    _destroyContent: function () {\r\n      if (this.content) {\r\n        this.cancelEventsToViewsPropagation(this.content);\r\n        this.contentRegion.reset();\r\n        this.content = undefined;\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabContentView.prototype, ViewEventsPropagationMixin);\r\n\r\n  return TabContentView;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', 'csui/lib/marionette',\r\n  'csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin'\r\n], function (module, _, $, log, Marionette, KeyboardBehaviorMixin) {\r\n  'use strict';\r\n\r\n  // This behavior implements a default keyboard navigation by tab keys similar to the browser\r\n  // default and is used when the browser default can't be used because of tabable region behavior.\r\n\r\n  var TabContentKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabContentKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n      this.tabableElements = [];\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'refresh:tabable:elements', function (tabPanel) {\r\n        this.alreadyRefreshedTabableElements = false;\r\n        self.refreshTabableElements(view);\r\n      });\r\n      this.listenTo(view, 'render', function () {\r\n        // must listen to async render of forms in children, to get all tabable elements\r\n        view.children && view.children.each(function (child) {\r\n          child.content && self.listenTo(child.content, 'render', function () {\r\n            this.alreadyRefreshedTabableElements = false;\r\n            self.refreshTabableElements(view);\r\n          });\r\n        });\r\n        // jQuery event (removed in destroy)\r\n        view.$el.on('tab:content:field:changed', function () {\r\n          this.alreadyRefreshedTabableElements = false;\r\n          if (this.keyboardAction) {\r\n            // triggered by keyboard\r\n            self.refreshTabableElementsAndSetFocus(view);\r\n          } else {\r\n            // triggered by mouse\r\n            self.refreshTabableElements(view);\r\n          }\r\n          this.keyboardAction = false;\r\n        });\r\n      });\r\n\r\n      KeyboardBehaviorMixin.mixin(view);\r\n\r\n      _.extend(view, {\r\n\r\n        onKeyInView: function (event) {\r\n          var ret;\r\n          if (this.keyboardBehavior.alreadyRefreshedTabableElements !== true) {\r\n            this.keyboardBehavior.refreshTabableElements(this);\r\n          }\r\n          if (this.keyboardBehavior.tabableElements.length === 0) {\r\n            // don't handle keystrokes at all if no elements were found for keyboard navigation\r\n            return ret;\r\n          }\r\n          var elem, elemsLength, focusPos;\r\n          elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          focusPos = 0;\r\n          if (event.keyCode === 9) {  // tab\r\n\r\n            while (focusPos < elemsLength) {\r\n              elem = this.keyboardBehavior.tabableElements[focusPos];\r\n              if (elem && $(elem).is(event.target)) {\r\n                break;\r\n              }\r\n              focusPos++;\r\n            }\r\n            if (focusPos >= 0 && focusPos < elemsLength) {\r\n              this.currentTabPosition = focusPos;\r\n            }\r\n\r\n            // event.shiftKey: shift tab -> activate previous region\r\n            ret = this._accSetFocusToPreviousOrNextElement(event.shiftKey);\r\n          } else if (event.keyCode === 32 || event.keyCode === 13) {\r\n            // space key(32) or enter key(13)\r\n            var $elem = $(this.keyboardBehavior.tabableElements[this.currentTabPosition]);\r\n            if ($elem && $elem.is(':focus') && $elem.hasClass('binf-hidden') === false &&\r\n                $elem.closest('.cs-field-write').length === 0) {\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n              this.keyboardBehavior.keyboardAction = true;  // triggered by keyboard, not mouse\r\n              // trigger the click event\r\n              $elem.trigger('click');\r\n            }\r\n\r\n            while (focusPos < elemsLength) {\r\n              elem = this.keyboardBehavior.tabableElements[focusPos];\r\n              if (elem && $(elem).is(event.target)) {\r\n                break;\r\n              }\r\n              focusPos++;\r\n            }\r\n            var foundFocusable = focusPos >= 0 && focusPos < elemsLength;\r\n            if (foundFocusable) {\r\n              this.currentTabPosition = focusPos;\r\n            }\r\n\r\n            $elem = this._accSetFocusToPreviousOrNextElement(event.shiftKey);\r\n            if ($elem !== undefined) {\r\n              $elem.prop(\"tabindex\", \"0\");\r\n            }\r\n\r\n            if (!!event.activeTabContent && !!event.activeTabContent.alpaca &&\r\n                event.activeTabContent.alpaca.data.type === 140 && foundFocusable) {\r\n              var urlelem = this.keyboardBehavior.tabableElements[focusPos];\r\n                  urlelem.click();\r\n            }\r\n\r\n          }\r\n          return ret;\r\n        }\r\n\r\n      });\r\n    }, // constructor\r\n\r\n    onBeforeDestroy: function () {\r\n      this.view.$el.off('tab:content:field:changed');\r\n    },\r\n\r\n    refreshTabableElements: function (view) {\r\n      this.tabableElements = view.options.searchTabContentForTabableElements ?\r\n                             view.$el.find(view.options.tabContentAccSelectors).filter(':visible') :\r\n          [];\r\n\r\n      // remove elements with data-cstabindex=-1\r\n      var i;\r\n      for (i = this.tabableElements.length - 1; i >= 0; i--) {\r\n        if (view.closestTabable && view.closestTabable($(this.tabableElements[i])) === false) {\r\n          this.tabableElements.splice(i, 1);\r\n        }\r\n      }\r\n      this.view.currentTabPosition = -1;\r\n      this.alreadyRefreshedTabableElements = true;\r\n      setTimeout(function () {\r\n        view._setFirstAndLastFocusable && view._setFirstAndLastFocusable();\r\n      }, 50);\r\n\r\n      // log.debug('TabContentKeyboardBehavior::refreshTabableElements ' + view.constructor.name +\r\n      //           ': found ' + this.tabableElements.length + ' tabable elements') &&\r\n      // console.log(log.last);\r\n    },\r\n\r\n    refreshTabableElementsAndSetFocus: function (view) {\r\n      // after the content is changed, refresh the elements and try best to keep the same focus\r\n      var currentTabPos = this.view.currentTabPosition;\r\n      this.refreshTabableElements(view);\r\n      $(this.tabableElements[currentTabPos]).prop(\"tabindex\", \"0\");\r\n      $(this.tabableElements[currentTabPos]).trigger('focus');\r\n      this.view.currentTabPosition = currentTabPos;\r\n    },\r\n\r\n    updateCurrentTabPosition: function () {\r\n      var i;\r\n      for (i = 0; i < this.tabableElements.length; i++) {\r\n        if ($(this.tabableElements[i]).is(':focus')) {\r\n          this.view.currentTabPosition = i;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return TabContentKeyboardBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', 'csui/lib/marionette'\r\n], function (module, _, $, log, Marionette) {\r\n  'use strict';\r\n\r\n  // This behavior is a proxy to delegate tab contents keyboard navigation to the child view.\r\n\r\n  var TabContentProxyKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabContentProxyKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'refresh:tabable:elements', function (tabPanel) {\r\n        self.refreshTabableElements(view, tabPanel);\r\n      });\r\n\r\n      _.extend(view, {\r\n\r\n        // handle scenario that currentlyFocusedElement does not have event param for shiftTab\r\n        _setFirstAndLastFocusable: function (event) {\r\n          if (event && event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView._setFirstAndLastFocusable) {\r\n            event.activeTabContent.childTabPanelView._setFirstAndLastFocusable(event);\r\n          }\r\n        },\r\n\r\n        currentlyFocusedElement: function (event) {\r\n          if (event && event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView.currentlyFocusedElement) {\r\n            return event.activeTabContent.childTabPanelView.currentlyFocusedElement(event);\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        _accSetFocusToPreviousOrNextElement: function (previous) {\r\n          if (this.tabPanel && this.tabPanel.activeTabContent &&\r\n              this.tabPanel.activeTabContent.childTabPanelView &&\r\n              this.tabPanel.activeTabContent.childTabPanelView._accSetFocusToPreviousOrNextElement) {\r\n            return this.tabPanel.activeTabContent.childTabPanelView._accSetFocusToPreviousOrNextElement(\r\n                previous);\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        containTargetElement: function (event) {\r\n          if (event && event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView.containTargetElement) {\r\n            return event.activeTabContent.childTabPanelView.containTargetElement(event);\r\n          }\r\n          return false;\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n          // let the child view handle the keypress\r\n          if (event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView.onKeyInView) {\r\n            return event.activeTabContent.childTabPanelView.onKeyInView(event);\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        numberOfTabableElements: function (event) {\r\n          if (event && event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView.numberOfTabableElements) {\r\n            return event.activeTabContent.childTabPanelView.numberOfTabableElements(event);\r\n          }\r\n          return 0;\r\n        }\r\n\r\n      });\r\n    }, // constructor\r\n\r\n    refreshTabableElements: function (view, tabPanel) {\r\n      // log.debug('TabContentProxyKeyboardBehavior::refreshTabableElements ' + view.constructor.name)\r\n      // && console.log(log.last);\r\n\r\n      view.tabPanel = tabPanel;\r\n      if (tabPanel && tabPanel.activeTabContent && tabPanel.activeTabContent.childTabPanelView) {\r\n        var childTabPanel = tabPanel.activeTabContent.childTabPanelView;\r\n        childTabPanel.refreshTabableElements && childTabPanel.refreshTabableElements(childTabPanel);\r\n        var e = {activeTabLink: tabPanel.activeTabLink, activeTabContent: tabPanel.activeTabContent};\r\n        view._setFirstAndLastFocusable && view._setFirstAndLastFocusable();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return TabContentProxyKeyboardBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/tab.contents.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/controls/tab.panel/impl/tab.content.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, $, Marionette, TabContentView, ViewEventsPropagationMixin,\r\n    TabContentKeyboardBehavior, TabContentProxyKeyboardBehavior) {\r\n  \"use strict\";\r\n\r\n  var TabContentCollectionView = Marionette.CollectionView.extend({\r\n\r\n    className: 'binf-tab-content',\r\n\r\n    childView: TabContentView,\r\n    childViewOptions: function (model, index) {\r\n      return _.extend(this.options, {\r\n        index: index,\r\n        activeTab: this.options.activeTab\r\n      });\r\n    },\r\n\r\n    // add behaviors here\r\n    behaviors: {},\r\n\r\n    defaults: {\r\n      implementTabContentsDefaultKeyboardHandling: true,\r\n      tabContentAccSelectors: 'a[href], area[href], input:not([disabled]),' +\r\n                              ' select:not([disabled]), textarea:not([disabled]),' +\r\n                              ' button:not([disabled]), iframe, object, embed,' +\r\n                              ' *[tabindex], *[data-cstabindex], *[contenteditable]'\r\n    },\r\n\r\n    constructor: function TabContentCollectionView(options) {\r\n      _.defaults(options, this.defaults);\r\n      if (options.implementTabContentsDefaultKeyboardHandling) {\r\n        this.behaviors = _.extend({\r\n          TabContentKeyboardBehavior: {\r\n            behaviorClass: TabContentKeyboardBehavior\r\n          }\r\n        }, this.behaviors);\r\n      } else if (options.implementTabContentsDefaultKeyboardHandling === false) {\r\n        // in order to use proxy behavior, childTabPanelView must be defined and have keyboard behavior\r\n        this.behaviors = _.extend({\r\n          TabContentProxyKeyboardBehavior: {\r\n            behaviorClass: TabContentProxyKeyboardBehavior\r\n          }\r\n        }, this.behaviors);\r\n      }\r\n\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n\r\n      // Only react to child add/remove event after the view is rendered and before destroyed.\r\n      // Otherwise, don't waste time and performance to set the last tab event on every add/remove\r\n      // before the view is fully rendered or when the view is being destroyed.\r\n      this.reactToChildEvent = false;\r\n\r\n      this.listenTo(this, 'add:child', this.propagateEventsToViews);\r\n      // FIXME: implement stopListening in ViewEventsPropagationMixin on 'remove:child'\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      // Note: during debug find that child views are destroyed before this method is called.\r\n      // Just leave it here for now so other developer can be aware that this is not needed\r\n      // and don't waste time to add it.\r\n      this.reactToChildEvent = false;\r\n    },\r\n\r\n    onRender: function () {\r\n      this.reactToChildEvent = true;\r\n      this._setLastTabCssClass();\r\n      if (this.options.mode === 'spy') {\r\n        var targetSelector = '.tab-links.scrollspy';\r\n        // make the ScrollSpy's target selector unique to the particular TabPanel so that ScrollSpy\r\n        // code does not cause scrolling in other TabPanel\r\n        if (this.options && this.options.tabPanel && this.options.tabPanel.$el) {\r\n          var id = this.options.tabPanel.$el.attr('id');\r\n          if (id !== undefined) {\r\n            targetSelector = '#' + id + ' ' + targetSelector;\r\n          }\r\n        }\r\n        this.$el.binf_scrollspy({target: targetSelector});\r\n      }\r\n    },\r\n\r\n    onReorder: function () {\r\n      this._setLastTabCssClass();\r\n    },\r\n\r\n    onAddChild: function (childView) {\r\n      this._setLastTabCssClass();\r\n    },\r\n\r\n    onRemoveChild: function (childView) {\r\n      this._setLastTabCssClass();\r\n    },\r\n\r\n    _setLastTabCssClass: function () {\r\n      if (this.reactToChildEvent !== true) {\r\n        return;\r\n      }\r\n\r\n      var cssClass = 'last-tab-panel';\r\n\r\n      // find and remove the last tab css class\r\n      this.children.each(function (view) {\r\n        if (view.$el.hasClass(cssClass)) {\r\n          view.$el.removeClass(cssClass);\r\n        }\r\n      });\r\n\r\n      // add the last tab css class to the last *visible* tab, first tab is not needed\r\n      if (this.children.length > 1) {\r\n        // Use collection to find the last model because the collection is sorted by title (not\r\n        // views collection).\r\n        var lastChildView = this.getLastVisibleChild(this.collection.length - 1);\r\n        lastChildView && lastChildView.$el.addClass(cssClass);\r\n      }\r\n    },\r\n\r\n    // recursively find-out the last visible tab content element.\r\n    getLastVisibleChild: function (index) {\r\n      var lastModel = this.collection.at(index);\r\n      if (lastModel) {\r\n        var lastChildView = this.children.findByModel(lastModel);\r\n        if (lastChildView && !lastChildView.$el.hasClass('binf-hidden')) {\r\n          return lastChildView;\r\n        } else {\r\n          return this.getLastVisibleChild(index - 1);\r\n        }\r\n      }\r\n      return;\r\n    },\r\n\r\n    getTabContentFirstFocusableELement: function (tabId) {\r\n      var ret;\r\n      if (tabId === undefined || this.options.searchTabContentForTabableElements !== true) {\r\n        return ret;\r\n      }\r\n\r\n      // focus on 1st editable field of activating tabContent\r\n      var uTabId = tabId.charAt(0) === '#' ? tabId.slice(1) : tabId;\r\n      var model = this.collection.findWhere({uniqueTabId: uTabId});\r\n      if (model) {\r\n        var tabPane = this.children.findByModel(model);\r\n        var tabContent = tabPane.content;\r\n        var tabElemId = 0;\r\n        var elems = tabContent.$el.find(this.options.tabContentAccSelectors).filter(':visible');\r\n        if (elems.length > 0) {\r\n          var $currentElem = $(elems[tabElemId]);\r\n          while (this.closestTabable && this.closestTabable($currentElem) === false) {\r\n            tabElemId++;\r\n            if (tabElemId >= elems.length) {\r\n              tabElemId = -1;\r\n              break;\r\n            }\r\n            $currentElem = $(elems[tabElemId]);\r\n          }\r\n          if (tabElemId >= 0 && tabElemId < elems.length) {\r\n            ret = $currentElem;\r\n          }\r\n        }\r\n      }\r\n      return ret;\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabContentCollectionView.prototype, ViewEventsPropagationMixin);\r\n\r\n  return TabContentCollectionView;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.panel.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', \"csui/utils/base\",\r\n  'csui/lib/marionette'\r\n], function (module, _, $, log, base, Marionette) {\r\n  'use strict';\r\n\r\n  // This behavior implements a default keyboard navigation by tab keys similar to the browser\r\n  // default and is used when the browser default can't be used because of tabable region behavior.\r\n\r\n  var TabPanelKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabPanelKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n      view.currentTabPosition = options.currentTabPosition || 0;\r\n      this.tabableElements = [];\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'render', function () {\r\n        self.refreshTabableElements(view);\r\n\r\n        // if tab content is rendered later such as with Alpaca form rendering,\r\n        // then watch for this custom event and refresh tabable elements again\r\n        // jQuery event (removed in destroy)\r\n        view.$el.on('tab:content:render', function () {\r\n          self.refreshTabableElements(view);\r\n        });\r\n      });\r\n      this.listenTo(view, 'activate:tab', function (tabContent, tabPane, tabLink) {\r\n        var tabLinkHref = tabLink && tabLink.$el.find('>a')[0];\r\n        if (tabLinkHref) {\r\n          var event = {target: tabLinkHref};\r\n          var tabLinks = this.tabableElements[this.tabLinksIndex];\r\n          if (tabLinks && tabLinks.containTargetElement && tabLinks.containTargetElement(event)) {\r\n            var tabContents = this.tabableElements[this.tabContentIndex];\r\n            if (tabContents && tabContents.options.searchTabContentForTabableElements !== true) {\r\n              var $elem = $(tabLinks.keyboardBehavior.tabableElements[tabLinks.currentTabPosition]);\r\n              // overcome dom:refresh that triggers the global tabable behavior sets focus elsewhere\r\n              setTimeout(_.bind(function () {\r\n                this.view._focusOnElement($elem);\r\n              }, this), 500);\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      _.extend(view, {\r\n\r\n        // When TabPanelView is not used for form rendering, there is no content rendered event.\r\n        // Thus, check and refresh tabable elements if needed in case the view render event was\r\n        // called before animation is done or the view is still loading, not fully visible.\r\n        _checkAndRefreshTabableElements: function (event) {\r\n          if (this.keyboardBehavior.tabableElements.length > 0) {\r\n            // only need to check the tabLinks, tabContents can be empty\r\n            var tabLinks = this.keyboardBehavior.tabableElements[this.keyboardBehavior.tabLinksIndex];\r\n            if (tabLinks.numberOfTabableElements && tabLinks.numberOfTabableElements(event) === 0) {\r\n              tabLinks.keyboardBehavior.refreshTabableElements(tabLinks);\r\n            }\r\n          }\r\n        },\r\n\r\n        // handle scenario that currentlyFocusedElement does not have event param for shiftTab\r\n        _setFirstAndLastFocusable: function (event) {\r\n          if (this.keyboardBehavior.tabableElements.length > 0) {\r\n            // first element\r\n            var elem = this.keyboardBehavior.tabableElements[0];\r\n            elem && elem._setFirstAndLastFocusable && elem._setFirstAndLastFocusable(event);\r\n            // last element\r\n            var lastElemIndex = this.keyboardBehavior.tabableElements.length - 1;\r\n            elem = this.keyboardBehavior.tabableElements[lastElemIndex];\r\n            elem && elem._setFirstAndLastFocusable && elem._setFirstAndLastFocusable(event);\r\n          }\r\n        },\r\n\r\n        currentlyFocusedElement: function (event) {\r\n          // log.debug('TabPanelKeyboardBehavior::currentlyFocusedElement ' +\r\n          //           this.constructor.name) && console.log(log.last);\r\n\r\n          var e = _.extend(\r\n              {activeTabLink: this.activeTabLink, activeTabContent: this.activeTabContent},\r\n              event);\r\n\r\n          this._checkAndRefreshTabableElements(e);\r\n          this._setFirstAndLastFocusable(e);\r\n\r\n          var $focusElem;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength > 0) {\r\n            var curPos = this.currentTabPosition;\r\n            if (curPos < 0 || curPos > elemsLength - 1) {\r\n              curPos = this.currentTabPosition = e.shiftKey ? elemsLength - 1 : 0;\r\n            }\r\n            // on ShiftTab: use last element\r\n            e.shiftKey && (curPos = this.currentTabPosition = elemsLength - 1);\r\n            var elem = this.keyboardBehavior.tabableElements[curPos];\r\n            if (elem.currentlyFocusedElement) {\r\n              $focusElem = elem.currentlyFocusedElement(e);\r\n              if ($focusElem !== undefined) {\r\n                $focusElem.prop(\"tabindex\", \"0\");\r\n                // The form field at the bottom may not be visitble, and the global TabablesBehavior\r\n                // has a check base.isVisibleInWindowViewport(elToFocus) on line 198 that\r\n                // ignores the region.\r\n                // So as a workaround as usual to the limitation of the weak code elsewhere without\r\n                // touching it, handle it here.  Set the focus on the form field element so that it\r\n                // would scroll into the view and become visible.\r\n                if (this.currentTabPosition === this.tabContentIndex) {\r\n                  self.skipAutoScroll = true;\r\n                  this._focusOnElement($focusElem);\r\n                  self.skipAutoScroll = false;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return $focusElem;\r\n        },\r\n\r\n        accActivateTabableRegion: function (shiftTab) {\r\n          if (shiftTab) {\r\n            this.currentTabPosition = -1;\r\n          }\r\n          var $focusElem = this.currentlyFocusedElement({shiftKey: shiftTab});\r\n          this._focusOnElement($focusElem);\r\n        },\r\n\r\n        _focusOnElement: function ($elem) {\r\n          if ($elem && $elem instanceof $) {\r\n            this.tabableRegionBehavior && (this.tabableRegionBehavior.ignoreFocusEvents = true);\r\n            $elem.trigger('focus');\r\n            this.tabableRegionBehavior && (this.tabableRegionBehavior.ignoreFocusEvents = false);\r\n          }\r\n        },\r\n\r\n        _moveTo: function (event, $elem) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          // this.trigger('changed:focus', this);\r\n          var self = this;\r\n          if ($elem.csuiPromise) {\r\n            $elem.csuiPromise.done(function () {\r\n              $elem.prop(\"tabindex\", \"0\");\r\n              self._focusOnElement($elem);\r\n              setTimeout(function () {\r\n                self.skipAutoScroll = false;\r\n              }, 600);\r\n            });\r\n          } else {\r\n            $elem.prop(\"tabindex\", \"0\");\r\n            self._focusOnElement($elem);\r\n            setTimeout(function () {\r\n              self.skipAutoScroll = false;\r\n            }, 600);\r\n          }\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n          // handle tab, space, enter, delete only\r\n          if (event.keyCode !== 9 && event.keyCode !== 32 && event.keyCode !== 13 &&\r\n              event.keyCode !== 46) {\r\n            return;\r\n          }\r\n\r\n          event.activeTabLink = this.activeTabLink;\r\n          event.activeTabContent = this.activeTabContent;\r\n\r\n          var elem, $focusingElem;\r\n          var curPos = this.currentTabPosition;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n\r\n          // if the focus is already in the region, find the view containing currently focused element\r\n          var focusPos = 0;\r\n          while (focusPos < elemsLength) {\r\n            elem = this.keyboardBehavior.tabableElements[focusPos];\r\n            if (elem && elem.containTargetElement && elem.containTargetElement(event)) {\r\n              // if the region contains target elememt but has no tabable element, just return and\r\n              // let the global Tabable behavior handle the keypress\r\n              if (elem.numberOfTabableElements() === 0) {\r\n                this.currentTabPosition = -1;\r\n                return;\r\n              }\r\n              break;\r\n            }\r\n            focusPos++;\r\n          }\r\n          if (focusPos >= 0 && focusPos < elemsLength) {\r\n            curPos = this.currentTabPosition = focusPos;\r\n          }\r\n\r\n          // let the child view handle the keypress first\r\n          if (curPos >= 0 && curPos < elemsLength) {\r\n            elem = this.keyboardBehavior.tabableElements[curPos];\r\n            if (elem.onKeyInView) {\r\n              // skip autoScroll if the focusing area is TabLink (index = 0)\r\n              curPos === 0 && (this.skipAutoScroll = true);\r\n              $focusingElem = elem.onKeyInView(event);\r\n              if ($focusingElem !== undefined) {\r\n                this._moveTo(event, $focusingElem);\r\n                return;\r\n              }\r\n            }\r\n          }\r\n\r\n          // if the child did not handle the keypress\r\n          if (event.keyCode === 9) {  // tab\r\n            if (curPos >= 0 && curPos < elemsLength) {\r\n              // log.debug('TabPanelKeyboardBehavior::onKeyInView ' + this.constructor.name) &&\r\n              // console.log(log.last);\r\n\r\n              var newTabbedElement = -1;\r\n              if (event.shiftKey) {  // shift tab -> activate previous region\r\n                if (this.currentTabPosition > 0) {\r\n                  newTabbedElement = this.currentTabPosition - 1;\r\n                }\r\n              } else {\r\n                if (this.currentTabPosition < elemsLength - 1) {\r\n                  newTabbedElement = this.currentTabPosition + 1;\r\n                }\r\n              }\r\n\r\n              // check and move to a region with focusable element\r\n              while (newTabbedElement >= 0 && newTabbedElement < elemsLength) {\r\n                elem = this.keyboardBehavior.tabableElements[newTabbedElement];\r\n                if (elem.currentlyFocusedElement) {\r\n                  $focusingElem = elem.currentlyFocusedElement(event);\r\n                  if ($focusingElem !== undefined) {\r\n                    break;\r\n                  }\r\n                }\r\n                // move to the next one to check\r\n                if (event.shiftKey) {  // shift tab -> activate previous region\r\n                  newTabbedElement = newTabbedElement - 1;\r\n                } else {\r\n                  newTabbedElement = newTabbedElement + 1;\r\n                }\r\n              }\r\n\r\n              if (newTabbedElement >= 0 && newTabbedElement < elemsLength &&\r\n                  newTabbedElement !== this.currentTabPosition) {\r\n                // skip autoScroll if the focusing area is TabLink\r\n                newTabbedElement === this.tabLinksIndex && (this.skipAutoScroll = true);\r\n                this.currentTabPosition = newTabbedElement;\r\n                this._moveTo(event, $focusingElem);\r\n              } else {\r\n                // FireFox quirky: need to blur\r\n                // for versions,activity tab $(event.target) is not working in IE.\r\n                if (base.isMSBrowser()) {\r\n                  $(event.srcElement).blur();\r\n                } else {\r\n                  // For form fields blur event not working in Firefox\r\n                  if (/^(?:input|select|textarea|button)$/i.test(event.target)) {\r\n                    $(event.target).blur();\r\n                  }\r\n                }\r\n                this.currentTabPosition = -1;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n    }, // constructor\r\n\r\n    onBeforeDestroy: function () {\r\n      this.view.$el.off('tab:content:render');\r\n    },\r\n\r\n    refreshTabableElements: function (view) {\r\n      // log.debug('TabPanelKeyboardBehavior::refreshTabableElements ' + view.constructor.name) &&\r\n      // console.log(log.last);\r\n\r\n      view.tabLinks.triggerMethod('refresh:tabable:elements', view);\r\n      view.tabContent.triggerMethod('refresh:tabable:elements', view);\r\n\r\n      // tabLinks\r\n      this.tabLinksIndex = 0;\r\n      this.tabableElements[this.tabLinksIndex] = view.tabLinks;\r\n\r\n      // tabContentHeader if defined\r\n      this.tabContentHeaderIndex = -1;\r\n      if (view.tabContentHeader) {\r\n        this.tabContentHeaderIndex = 1;\r\n        this.tabableElements[this.tabContentHeaderIndex] = view.tabContentHeader;\r\n      }\r\n\r\n      // tabContent\r\n      this.tabContentIndex = view.tabContentHeader ? 2 : 1;\r\n      this.tabableElements[this.tabContentIndex] = view.tabContent;\r\n\r\n      this.view.currentTabPosition = -1;\r\n      this.view.triggerMethod(\"refresh:tabindexes\");\r\n    }\r\n\r\n  });\r\n\r\n  return TabPanelKeyboardBehavior;\r\n\r\n});\r\n\n","csui.define('csui/utils/non-emptying.region/non-emptying.region',['smart/utils/non-emptying.region/non-emptying.region'], function (SmartNonEmptyingRegion) {\r\n  'use strict';\r\n  \r\n  return SmartNonEmptyingRegion;\r\n\r\n});\r\n\n","// Renders tab panel made of links and content\r\ncsui.define('csui/controls/tab.panel/tab.panel.view',['csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/utils/base', 'csui/controls/tab.panel/impl/tab.links.view',\r\n  'csui/controls/tab.panel/impl/tab.contents.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/models/version',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.panel.keyboard.behavior',\r\n  'csui/utils/non-emptying.region/non-emptying.region',\r\n  'csui/controls/form/pub.sub',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, Backbone, Marionette, base, TabLinkCollectionView,\r\n    TabContentCollectionView, ViewEventsPropagationMixin, VersionModel,\r\n    TabableRegionBehavior, TabPanelKeyboardBehavior, NonEmptyingRegion, PubSub) {\r\n  'use strict';\r\n\r\n  var TabPanelView = Marionette.View.extend({\r\n\r\n    className: 'cs-tabpanel tab-panel',\r\n    attributes: function () {\r\n      var id = this.id || _.uniqueId('cs-tab');\r\n      var attrs = {id: id};\r\n      return attrs;\r\n    },\r\n\r\n    events: {\"keydown\": \"onKeyInView\"},\r\n\r\n    behaviors: {\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior,\r\n        notSetFocus: true,\r\n        initialActivationWeight: 100\r\n      },\r\n      TabPanelKeyboardBehavior: {\r\n        behaviorClass: TabPanelKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function TabPanelView(options) {\r\n      options || (options = {});\r\n      options.tabPanel = this;\r\n      if (!options.collection) {\r\n        options.collection = this._convertCollection(options);\r\n      }\r\n      // generate unique internal Tab ID\r\n      this._generateUniqueTabId(options);\r\n      if (options.node) {\r\n        var initialPanel = options.node.get('initialPanel');\r\n        if (initialPanel) {\r\n          var initialTabIndex = options.collection.findIndex({name: initialPanel});\r\n          if (initialTabIndex >= 0 && initialTabIndex < options.collection.length) {\r\n            var initialPanelModel = options.collection.at(initialTabIndex);\r\n            options.activeTab = new Backbone.Model(initialPanelModel.attributes);\r\n            options.activeTab.set('tabIndex', initialTabIndex);\r\n            options.selectedTab = new Backbone.Model(initialPanelModel.attributes);\r\n          }\r\n        }\r\n      }\r\n      if (!options.activeTab) {\r\n        options.activeTab = new Backbone.Model({tabIndex: 0});\r\n      }\r\n\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n\r\n      this.linksRegion = new NonEmptyingRegion({el: this.el});\r\n      this.contentRegion = new NonEmptyingRegion({el: this.el});\r\n\r\n      // Fix the active tab index if it exceeds the tab count\r\n      this.activeTab = options.activeTab;\r\n      var tabIndex = this.activeTab.get('tabIndex');\r\n      if (tabIndex >= this.collection.length) {\r\n        this.activeTab.set('tabIndex', this.collection.length - 1);\r\n      }\r\n\r\n      // scenarios such as Properties page: the categories tabs are asynchorously loaded later\r\n      this.listenTo(this.collection, 'reset', this._generateUniqueTabId);\r\n      // scenarios such as Properties page: add a new category or RM inserts their tabs\r\n      this.listenTo(this.collection, 'add', this._setModelUniqueTabId);\r\n\r\n      this.listenTo(this, 'activate:tab', this._scrollToActiveTab);\r\n      this.listenTo(this, 'before:destroy', this._destroyContent);\r\n    },\r\n\r\n    _scrollToActiveTab: function (tabContent, tabPane, tabLink) {\r\n      this.activeTabLink = tabLink;\r\n      this.activeTabContent = tabContent;\r\n      if (this.options.mode) {\r\n        var href           = tabLink.$el.find('>a').attr('href'),\r\n            extraTopOffset = this.getOption('extraScrollTopOffset') || 0;\r\n        href[0] === '#' && (href = href.substr(1));\r\n        var hrefElems = this.$el.find(\"div[id='\" + href + \"']\");\r\n        if (hrefElems.length > 0) {\r\n          var tabPosTop = hrefElems[0].offsetTop + extraTopOffset;\r\n          if (this.options.mode === 'spy') {\r\n            // Update scrollspy with newly created tab\r\n            var scrollspy = this.tabContent.$el.data('binf.scrollspy');\r\n            scrollspy && scrollspy.refresh();\r\n          }\r\n          this.tabContent.$el.animate({\r\n            scrollTop: tabPosTop\r\n          }, 300);\r\n\r\n          // change the title of sticky header.\r\n          var newTabHeaderText = tabLink.$el.find(\".cs-tablink-text\").html(),\r\n              pubsubPostFix    = (this.options.node instanceof VersionModel ? 'v' : 'p') +\r\n                                 this.options.node.get('id'),\r\n              objPubSubId      = 'pubsub:tab:contents:header:view:change:tab:title:' +\r\n                                 pubsubPostFix;\r\n\r\n          PubSub.trigger(objPubSubId, newTabHeaderText);\r\n        }\r\n      }\r\n    },\r\n\r\n    render: function () {\r\n      this._ensureViewIsIntact();\r\n      Marionette.triggerMethodOn(this, 'before:render', this);\r\n      this._destroyContent();\r\n      this._renderContent();\r\n      this._bindingToEvents();\r\n      Marionette.triggerMethodOn(this, 'render', this);\r\n      return this;\r\n    },\r\n\r\n    _renderContent: function () {\r\n      // Initialize the tab link and content sub-views\r\n      var TabLinkCollectionViewClass = this.options.TabLinkCollectionViewClass ||\r\n                                       TabLinkCollectionView;\r\n      this.tabLinks = new TabLinkCollectionViewClass(this.options);\r\n      var TabContentCollectionViewClass = this.options.TabContentCollectionViewClass ||\r\n                                          TabContentCollectionView;\r\n      this.tabContent = new TabContentCollectionViewClass(this.options);\r\n      this.propagateEventsToViews(this.tabLinks, this.tabContent);\r\n      this.linksRegion.show(this.tabLinks);\r\n      this.contentRegion.show(this.tabContent);\r\n\r\n      // Propagate the tab activating event to the listeners outside\r\n      var self = this;\r\n      this.listenTo(this.tabLinks, 'childview:before:activate:tab', function (tabLink) {\r\n            var tabPane = this.tabContent.children.findByModel(tabLink.model);\r\n\r\n            // when the tab is activating by mouse click for example,\r\n            // let the _autoScrolling know not to scroll\r\n            this.activatingTab = true;\r\n\r\n            Marionette.triggerMethodOn(this, 'before:activate:tab', tabPane.content, tabPane, tabLink);\r\n          })\r\n          .listenTo(this.tabLinks, 'childview:activate:tab', function (tabLink) {\r\n            var tabPane = this.tabContent.children.findByModel(tabLink.model);\r\n\r\n            // If overlapping of before:activate:tab and activate:tab events is disabled,\r\n            // the content view will not be always created by the before:activate:tab handler\r\n            // in the tab content view, because some of the events will be swallowed.\r\n            // The activate:tab handler has to work although the corresponding\r\n            // before:activate:tab has not been triggered.\r\n            tabPane.ensureContent();\r\n            var tabContent = tabPane.content;\r\n\r\n            // give this a bit more time than _autoScrolling's timeout\r\n            setTimeout(function () {\r\n              self.activatingTab = false;\r\n            }, 600);\r\n\r\n            Marionette.triggerMethodOn(this, 'activate:tab', tabContent, tabPane, tabLink);\r\n            // Trigger the dom:show event once more.  Some operations can be\r\n            // performed only when the view is both in DOM and visible.\r\n            Marionette.triggerMethodOn(tabContent, 'dom:refresh');\r\n          })\r\n          .listenTo(this.tabContent, 'childview:before:populate:tab', function (tabPane) {\r\n            Marionette.triggerMethodOn(this, 'before:populate:tab', this, tabPane);\r\n          })\r\n          .listenTo(this.tabContent, 'childview:populate:tab', function (tabPane) {\r\n            Marionette.triggerMethodOn(this, 'populate:tab', this, tabPane);\r\n          });\r\n\r\n      var tabIndex = 0;\r\n      if (this.activeTab && this.activeTab.get('tabIndex') >= 0 &&\r\n          this.activeTab.get('tabIndex') < this.collection.length) {\r\n        tabIndex = this.activeTab.get('tabIndex');\r\n      }\r\n      this.activeTabLink = this.tabLinks.children.findByIndex(tabIndex);\r\n      // Tab control can be empty\r\n      if (this.activeTabLink) {\r\n        this.activeTabContent = this.tabContent.children.findByIndex(tabIndex).content;\r\n      }\r\n    },\r\n\r\n    _destroyContent: function () {\r\n      this.$el.off('tab:content:focus');\r\n      this.$el.off('tab:link:delete');\r\n      if (this.tabLinks) {\r\n        this.cancelEventsToViewsPropagation(this.tabLinks, this.tabContent);\r\n        this.stopListening(this.tabLinks)\r\n            .stopListening(this.tabContent);\r\n        this.linksRegion.empty();\r\n        this.contentRegion.empty();\r\n      }\r\n    },\r\n\r\n    _bindingToEvents: function () {\r\n      var self = this;\r\n      this.$el.on('tab:content:focus',\r\n          function (event) {\r\n            var $elem = self.tabContent.getTabContentFirstFocusableELement(event.tabId);\r\n            if ($elem) {\r\n              self.currentTabPosition = this.keyboardBehavior ?\r\n                                        this.keyboardBehavior.tabContentIndex : -1;\r\n              self._moveTo && self._moveTo(event, $elem);\r\n              self.tabContent.keyboardBehavior &&\r\n              self.tabContent.keyboardBehavior.updateCurrentTabPosition();\r\n            }\r\n          });\r\n      this.$el.on('tab:link:delete',\r\n          function (event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            self.tabLinks.deleteTabById(event.tabId);\r\n          });\r\n    },\r\n\r\n    _convertCollection: function (options) {\r\n      var tabs = new Backbone.Collection(options.tabs);\r\n      tabs.each(function (tab) {\r\n        tab.set('id', _.uniqueId('cs-tab'));\r\n      });\r\n      return tabs;\r\n    },\r\n\r\n    _generateUniqueTabId: function (options) {\r\n      // This method ensures unique internal tab ID for each tablink-tabcontent pair in entire page.\r\n      // Cannot use model's 'id' as tab ID because it can be duplicated if the same model is being\r\n      // used in multiple places on the page.\r\n      var collection = options instanceof Backbone.Collection ? options :\r\n                       (options.collection || this.collection);\r\n      if (collection) {\r\n        collection.each(_.bind(function (tab) {\r\n          this._setModelUniqueTabId(tab);\r\n        }, this));\r\n      }\r\n    },\r\n\r\n    _setModelUniqueTabId: function (model) {\r\n      model && model.set('uniqueTabId', _.uniqueId('cstab-uid-'), {silent: true});\r\n    },\r\n\r\n    _isTablinkVisibleInParents: function ($el, options) {\r\n      return this.tabLinks._isTablinkVisibleInParents($el, options);\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabPanelView.prototype, ViewEventsPropagationMixin);\r\n\r\n  return TabPanelView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.link.dropdown',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a role=\\\"menuitem\\\" href=\\\"#\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"uniqueTabId\") || (depth0 != null ? lookupProperty(depth0,\"uniqueTabId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"uniqueTabId\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":26},\"end\":{\"line\":1,\"column\":41}}}) : helper)))\n    + \"\\\" data-binf-toggle=\\\"tab\\\">\\r\\n  <span class=\\\"cs-label\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":25},\"end\":{\"line\":2,\"column\":34}}}) : helper)))\n    + \"</span>\\r\\n</a>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.link.dropdown', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/tab.panel/impl/tab.link.dropdown.view',['csui/lib/underscore', 'csui/controls/tab.panel/impl/tab.link.view',\r\n  'hbs!csui/controls/tab.panel/impl/tab.link.dropdown',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, TabLinkView, itemTemplate) {\r\n  \"use strict\";\r\n\r\n  var TabLinkDropDownView = TabLinkView.extend({\r\n\r\n    template: itemTemplate,\r\n\r\n    attributes: function () {\r\n      return {\r\n        id: 'tablink-' + this.model.get('uniqueTabId'),\r\n        'data-csui-tab': this.model.get('name'),\r\n        role: 'none'\r\n      };\r\n    },\r\n\r\n    constructor: function TabLinkDropDownView() {\r\n      TabLinkView.prototype.constructor.apply(this, arguments);\r\n\r\n      this.listenTo(this.model, 'change', this.render);\r\n\r\n      this.$el.on('click', '>a', _.bind(this._linkClicked, this));\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this.$el.off('click', '>a');\r\n    },\r\n\r\n    activate: function (silent) {\r\n      if (!this.$el.hasClass(\"binf-active\")) {\r\n        this.triggerMethod('clear:active:tab');\r\n        this.ui.link.binf_tab('show');\r\n      }\r\n      var index = this.model.collection.indexOf(this.model);\r\n      this._parent.options.activeTab && this._parent.options.activeTab.set('tabIndex', index);\r\n      this.triggerMethod('activate:tab', this);\r\n      if (!silent) {\r\n        this.triggerMethod('click:link');\r\n      }\r\n    },\r\n\r\n    _linkClicked: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.activate();\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinkDropDownView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.links.dropdown',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <button id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"btnId\") || (depth0 != null ? lookupProperty(depth0,\"btnId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"btnId\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":14},\"end\":{\"line\":3,\"column\":23}}}) : helper)))\n    + \"\\\" type=\\\"button\\\" class=\\\"binf-btn binf-btn-default\\\" disabled>\\r\\n    <span class=\\\"cs-label\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":27},\"end\":{\"line\":4,\"column\":36}}}) : helper)))\n    + \"</span>\\r\\n  </button>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <button id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"btnId\") || (depth0 != null ? lookupProperty(depth0,\"btnId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"btnId\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":14},\"end\":{\"line\":7,\"column\":23}}}) : helper)))\n    + \"\\\" type=\\\"button\\\" class=\\\"binf-btn binf-btn-default binf-dropdown-toggle\\\"\\r\\n          data-binf-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\"\\r\\n          aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"dropdownButtonAria\") || (depth0 != null ? lookupProperty(depth0,\"dropdownButtonAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"dropdownButtonAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":22},\"end\":{\"line\":9,\"column\":44}}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"dropdownButtonTitle\") || (depth0 != null ? lookupProperty(depth0,\"dropdownButtonTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"dropdownButtonTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":53},\"end\":{\"line\":9,\"column\":76}}}) : helper)))\n    + \"\\\">\\r\\n    <span class=\\\"cs-label\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":10,\"column\":27},\"end\":{\"line\":10,\"column\":36}}}) : helper)))\n    + \"</span>\\r\\n    <span class=\\\"cs-icon icon-caret-down\\\"></span>\\r\\n  </button>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"dropdown-label\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":29},\"end\":{\"line\":1,\"column\":38}}}) : helper)))\n    + \"</span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"single_item\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":13,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<ul class=\\\"binf-dropdown-menu\\\" role=\\\"menu\\\" aria-labelledby=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"btnId\") || (depth0 != null ? lookupProperty(depth0,\"btnId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"btnId\",\"hash\":{},\"loc\":{\"start\":{\"line\":14,\"column\":60},\"end\":{\"line\":14,\"column\":69}}}) : helper)))\n    + \"\\\">\\r\\n</ul>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.links.dropdown', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/tab.panel/behaviors/tab.links.dropdown.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', 'csui/lib/marionette',\r\n  'csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin'\r\n], function (module, _, $, log, Marionette, KeyboardBehaviorMixin) {\r\n  'use strict';\r\n\r\n  // This behavior implements a default keyboard navigation by tab keys similar to the browser\r\n  // default and is used when the browser default can't be used because of tabable region behavior.\r\n\r\n  var TabLinksDropdownKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabLinksDropdownKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n      this.tabableElements = [];\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'refresh:tabable:elements', function (tabPanel) {\r\n        self.refreshTabableElements(view, tabPanel);\r\n      });\r\n\r\n      KeyboardBehaviorMixin.mixin(view);\r\n\r\n      _.extend(view, {\r\n\r\n        onKeyInView: function (event) {\r\n          var ret;\r\n          if (this.keyboardBehavior.tabableElements.length === 0) {\r\n            // don't handle keystrokes at all if no elements were found for keyboard navigation\r\n            return ret;\r\n          }\r\n          if (event.keyCode === 9) {  // tab\r\n            // log.debug('TabLinksDropdownKeyboardBehavior::onKeyInView ' + this.constructor.name)\r\n            // && console.log(log.last);\r\n\r\n            // event.shiftKey: shift tab -> activate previous region\r\n            ret = this._accSetFocusToPreviousOrNextElement(event.shiftKey);\r\n          }\r\n          return ret;\r\n        }\r\n      });\r\n\r\n    }, // constructor\r\n\r\n    refreshTabableElements: function (view, tabPanel) {\r\n      this.tabableElements = view.$el.find('button:not([disabled])').filter(':visible');\r\n      this.view.currentTabPosition = -1;\r\n      setTimeout(function () {\r\n        view._setFirstAndLastFocusable && view._setFirstAndLastFocusable();\r\n      }, 50);\r\n\r\n      // log.debug('TabLinksDropdownKeyboardBehavior::refreshTabableElements ' +\r\n      //           view.constructor.name + ': found ' + this.tabableElements.length + ' tabable' +\r\n      //           ' elements') && console.log(log.last);\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinksDropdownKeyboardBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/nls/root/lang',{\r\n  deleteTooltip: 'Delete',\r\n  deleteTabAria: 'Delete {0}',\r\n  gotoNextTooltip: 'Show next tab',\r\n  gotoPreviousTooltip: 'Show previous tab',\r\n  requiredTooltip: 'Required',\r\n  dropdownButtonTitle: 'Show more',\r\n  dropdownButtonAria: 'Select properties page, currently {0}'\r\n});\r\n\n","\ncsui.define('css!csui/controls/tab.panel/impl/tab.links.dropdown',[],function(){});\n","csui.define('csui/controls/tab.panel/tab.links.dropdown.view',['csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/tab.panel/impl/tab.link.dropdown.view',\r\n  'hbs!csui/controls/tab.panel/impl/tab.links.dropdown',\r\n  'csui/controls/tab.panel/behaviors/tab.links.dropdown.keyboard.behavior',\r\n  'csui/behaviors/dropdown.menu/dropdown.menu.behavior',\r\n  'i18n!csui/controls/tab.panel/impl/nls/lang',\r\n  'css!csui/controls/tab.panel/impl/tab.links.dropdown',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, Backbone, Marionette, TabLinkDropDownView, collectionTemplate,\r\n    TabLinksDropdownKeyboardBehavior, DropdownMenuBehavior, lang) {\r\n  \"use strict\";\r\n\r\n  var TabLinkDropDownCollectionView = Marionette.CompositeView.extend({\r\n\r\n    className: 'cs-tab-links binf-dropdown tile-nav',\r\n\r\n    template: collectionTemplate,\r\n    templateHelpers: function () {\r\n\r\n      var title = this.selected && this.selected.get('title');\r\n      return {\r\n        single_item: this.collection.length <=1 ? true : false,\r\n        dropdownButtonTitle: lang.dropdownButtonTitle,\r\n        dropdownButtonAria: _.str.sformat(lang.dropdownButtonAria, title),\r\n        btnId: _.uniqueId(\"cstabBtn\")\r\n      };\r\n    },\r\n\r\n    childView: TabLinkDropDownView,\r\n    childViewContainer: '>ul',\r\n\r\n    ui: {\r\n      toggle: '>.binf-dropdown-toggle',\r\n      menuButton: '>.binf-btn',\r\n      selectedLabel: '>.binf-btn >.cs-label'\r\n    },\r\n\r\n    behaviors: {\r\n      TabLinksDropdownKeyboardBehavior: {\r\n        behaviorClass: TabLinksDropdownKeyboardBehavior\r\n      },\r\n      DropdownMenuBehavior: {\r\n        behaviorClass: DropdownMenuBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function TabLinkDropDownCollectionView(options) {\r\n      Marionette.CompositeView.prototype.constructor.apply(this, arguments);\r\n      this.selected = new Backbone.Model();\r\n      // if selectedTab is passed in, search for it and set activeTab to it\r\n      // also store the data on this.selected model\r\n      var activeTabIndex = options.activeTab && options.activeTab.get(\"tabIndex\");\r\n      if (this.collection && this.collection.length > 0 && activeTabIndex !== undefined &&\r\n          activeTabIndex < this.collection.length) {\r\n        var selectedTabTitle = options.selectedTab &&\r\n                               (options.selectedTab instanceof Backbone.Model && options.selectedTab.get(\"title\") ||\r\n                                  options.selectedTab);\r\n        if (selectedTabTitle !== undefined &&\r\n            selectedTabTitle === this.collection.at(activeTabIndex).get(\"title\")) {\r\n          this._setSelection(this.collection.at(activeTabIndex));\r\n        } else {\r\n          var matchIndex = -1;\r\n          if (selectedTabTitle !== undefined) {\r\n            // The view state model saves the selected tab name in the url and not title. titles can be\r\n            // translated and that would invalidate the url if the language changes. Search in the title first\r\n            // to support old behaviour and if you can't find it look in the name properties.\r\n            // todo: pass in a different property in the options.\r\n            matchIndex = this._getModelIndexByPropertyValue(selectedTabTitle, this.collection, 'title');\r\n            if (matchIndex === -1) {\r\n              matchIndex = this._getModelIndexByPropertyValue(selectedTabTitle, this.collection, 'name');\r\n            }\r\n          }\r\n          if (matchIndex !== -1) {\r\n            this._setSelection(this.collection.at(matchIndex));\r\n            options.activeTab.set(\"tabIndex\", matchIndex);\r\n          } else {\r\n            this._setSelection(this.collection.at(0));\r\n            options.activeTab.set(\"tabIndex\", 0);\r\n          }\r\n        }\r\n      }\r\n      this.listenTo(this.collection, 'change', this._refreshSelection);\r\n      this.listenTo(this.selected, 'change', this._updateSelectionLabels);\r\n    },\r\n\r\n    _getModelIndexByPropertyValue: function (value, collection, propertty) {\r\n      var indexToReturn = -1;\r\n      collection.some(function (model, index) {\r\n        if (model.get(propertty) === value) {\r\n          indexToReturn = index;\r\n          return true;\r\n        }\r\n      });\r\n      return indexToReturn;\r\n    },\r\n\r\n    onRender: function () {\r\n      this._updateSelectionLabels();\r\n      if (this.collection.length !== 1) {\r\n        this.ui.toggle.binf_dropdown();\r\n      }\r\n      // set the selected tab active\r\n      var selectedId = this.selected.get('id');\r\n      for (var i = 0; i < this.collection.length; i++) {\r\n        if (selectedId === this.collection.at(i).get(\"id\")) {\r\n          var menuItems = this.$el.find(\"ul li\");\r\n          menuItems.removeClass('binf-active');\r\n          this.$(menuItems.get(i)).addClass('binf-active');\r\n          break;\r\n        }\r\n      }\r\n    },\r\n\r\n    onChildviewClickLink: function (childView) {\r\n      this._setSelection(childView.model);\r\n      this.ui.toggle.binf_dropdown('toggle');\r\n    },\r\n\r\n    onChildviewClearActiveTab: function (childView) {\r\n      this.children.each(function (view) {\r\n        if (view.$el.hasClass('binf-active')) {\r\n          view.$el.removeClass('binf-active');\r\n        }\r\n      });\r\n    },\r\n\r\n    _setSelection: function (model) {\r\n      this.selected.set(model.pick('id', 'title', 'name'));\r\n    },\r\n\r\n    _updateSelectionLabels: function () {\r\n      var title = this.selected.get('title');\r\n      this.ui.selectedLabel.text(title);\r\n      this.ui.menuButton.attr('aria-label', _.str.sformat(lang.dropdownButtonAria, title));\r\n    },\r\n\r\n    _refreshSelection: function (model) {\r\n      if (model.get('id') === this.selected.get('id')) {\r\n        this._setSelection(model);\r\n      }\r\n    },\r\n\r\n    activateDropdownTab: function(name, silent) {\r\n      this.children.some(function(view){\r\n        if (view.model.get('name') === name) {\r\n          view.activate(silent);\r\n          this._setSelection(view.model);\r\n          return true;\r\n        }\r\n      }.bind(this));\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinkDropDownCollectionView;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/tab.links.ext.scroll.mixin',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/models/version',\r\n  'i18n!csui/controls/tab.panel/impl/nls/lang', 'csui/controls/form/pub.sub'\r\n], function (_, $, Backbone, VersionModel, lang, PubSub) {\r\n\r\n  //\r\n  // TabLinks Mixin is to provide the additional tab overflow scrolling functionality to the\r\n  // TabLinksExtView object.\r\n  // Define the following in the main Tab Panel View constructor:\r\n  // - this.options = {\r\n  //     toolbar: true,\r\n  //   }\r\n  // Add this mixin to your main Tab View implementation and make the appropriate calls.\r\n  // Also add your own css styling to achieve the correct entity location and layout.\r\n  // For detailed example, see 'src/widgets/metadata/impl/metadata.properties.view.js'.\r\n  //\r\n  var TabLinksScrollMixin = {\r\n\r\n    _initializeToolbars: function (options) {\r\n      options = options || {};\r\n      this.tabsSelector = '> ul li';\r\n      this.tablinksToolbar = $(this.$el.find('.tab-links .tab-links-bar')[0]);\r\n\r\n      var tooltip;\r\n      this.leftToolbar = $(this.$el.find('.tab-links .left-toolbar')[0]);\r\n      if (this.leftToolbar && this.leftToolbar.find('>div.goto_previous_div').length === 0) {\r\n        tooltip = options.gotoPreviousTooltip || lang.gotoPreviousTooltip;\r\n        this.leftToolbar.append(\r\n            \"<div class='goto_previous_div' title='\" + tooltip +\r\n            \"'><span class='icon goto_previous_page'></span></div>\"\r\n        );\r\n        this.gotoPreviousPage = $(this.$el.find('.tab-links .goto_previous_div')[0]);\r\n        this.gotoPreviousPage.on('click', _.bind(this._gotoPreviousTabClick, this));\r\n      }\r\n      this._hideLeftToolbar();\r\n\r\n      this.rightToolbar = $(this.$el.find('.tab-links .right-toolbar')[0]);\r\n      if (this.rightToolbar && this.rightToolbar.find('>div.goto_next_div').length === 0) {\r\n        tooltip = options.gotoNextTooltip || lang.gotoNextTooltip;\r\n        this.rightToolbar.append(\r\n            \"<div class='goto_next_div' title='\" + tooltip +\r\n            \"'><span class='icon goto_next_page'></span></div>\"\r\n        );\r\n        this.gotoNextPage = $(this.$el.find('.tab-links div.goto_next_div')[0]);\r\n        this.gotoNextPage.on('click', _.bind(this._gotoNextTabClick, this));\r\n      } else {\r\n        this.gotoNextPage = $(this.$el.find('.tab-links div.goto_next_div')[0]);\r\n      }\r\n      this.gotoNextPage && this.gotoNextPage.hide();\r\n    },\r\n\r\n    _listenToTabEvent: function () {\r\n      var i;\r\n      var tabs = this.tablinksToolbar.find(this.tabsSelector);\r\n      for (i = 0; i < tabs.length; i++) {\r\n        this._listenToTabIdEvent(i, tabs);\r\n      }\r\n    },\r\n\r\n    _listenToTabIdEvent: function (index, iTabs) {\r\n      var self = this;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n\r\n      $(tabs[index]).off('activate.binf.scrollspy')\r\n          .on('activate.binf.scrollspy', function () {\r\n            var tabID    = $(this).find('a').attr('href'),\r\n                tabIndex = 0;\r\n            if (tabID) {\r\n              tabID[0] === '#' && (tabID = tabID.substr(1));\r\n              tabIndex = self._findTabIndexByID(tabID);\r\n              if (!!self.tabContentHeader) {\r\n                var newTabHeaderText = $(tabs).parent().find(\r\n                    \"li.binf-active .cs-tablink-text\").html(),\r\n                    pubsubPostFix    = (self.options.node instanceof VersionModel ? 'v' : 'p') +\r\n                                       self.options.node.get('id'),\r\n                    objPubSubId      = 'pubsub:tab:contents:header:view:change:tab:title:' +\r\n                                       pubsubPostFix;\r\n\r\n                PubSub.trigger(objPubSubId, newTabHeaderText);\r\n              }\r\n            }\r\n            // skip scrolling for faster performance\r\n            if (self.activatingTab === true || self.skipAutoScroll === true ||\r\n                (self.scrollspyActivatingTab === true && self.scrollspyActivatingTabId ===\r\n                 tabIndex)) {\r\n              return;\r\n            }\r\n            if (tabID) {\r\n              if (tabIndex >= 0 && !self._isTablinkVisibleInParents($(tabs[tabIndex]))) {\r\n                // while scrolling, skip extra scrollspy events on the same tab\r\n                self.scrollspyActivatingTab = true;\r\n                self.scrollspyActivatingTabId = tabIndex;\r\n                self._autoScrollTabTo(tabIndex)\r\n                    .done(function () {\r\n                      self.scrollspyActivatingTab = false;\r\n                      self.scrollspyActivatingTabId = -1;\r\n                    });\r\n              }\r\n            }\r\n          });\r\n    },\r\n\r\n    _beginTabHidden: function (iTabs) {\r\n      var tabHidden = false;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs) {\r\n        var i;\r\n        for (i = 0; i < tabs.length; i++) {\r\n          var tabVisible = this._isTablinkVisibleInParents($(tabs[i]));\r\n          // as soon as see first visible tab, there is no beginning hidden tab\r\n          if (tabVisible) {\r\n            break;\r\n          }\r\n          // tab is not visible and must not be hidden by the 'Only required fields' switch\r\n          if (!tabVisible && !($(tabs[i]).hasClass('hidden-by-switch'))) {\r\n            tabHidden = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabHidden;\r\n    },\r\n\r\n    _trailingTabHidden: function (iTabs) {\r\n      var tabHidden = false;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar &&  this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs) {\r\n        var i;\r\n        for (i = tabs.length - 1; i >= 0; i--) {\r\n          var tabVisible = this._isTablinkVisibleInParents($(tabs[i]));\r\n          // as soon as see first visible tab, there is no trailing hidden tab\r\n          if (tabVisible) {\r\n            break;\r\n          }\r\n          // tab is not visible and must not be hidden by the 'Only required fields' switch\r\n          if (!tabVisible && !($(tabs[i]).hasClass('hidden-by-switch'))) {\r\n            tabHidden = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabHidden;\r\n    },\r\n\r\n    _findTabIndexByID: function (tabID) {\r\n      var tabIndex = -1;\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      if (tabs) {\r\n        var i;\r\n        for (i = 0; i < tabs.length; i++) {\r\n          var href = $(tabs[i]).find('>a').attr('href');\r\n          href[0] === '#' && (href = href.substr(1));\r\n          if (tabID === href) {\r\n            tabIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    _firstVisibleTabIndex: function (iTabs) {\r\n      var tabIndex = -1;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs) {\r\n        var i;\r\n        for (i = 0; i < tabs.length; i++) {\r\n          if (this._isTablinkVisibleInParents($(tabs[i]))) {\r\n            tabIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    _lastVisibleTabIndex: function (iTabs) {\r\n      var tabIndex = -1;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs) {\r\n        var i;\r\n        for (i = tabs.length - 1; i >= 0; i--) {\r\n          if (this._isTablinkVisibleInParents($(tabs[i]))) {\r\n            tabIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    _showLeftToolbar: function () {\r\n      this.leftToolbar && this.leftToolbar.show();\r\n      this.tablinksToolbar && this.tablinksToolbar.addClass(\"with-left-toolbar\");\r\n    },\r\n\r\n    _hideLeftToolbar: function () {\r\n      this.leftToolbar && this.leftToolbar.hide();\r\n      this.tablinksToolbar && this.tablinksToolbar.removeClass(\"with-left-toolbar\");\r\n    },\r\n\r\n    _hideTabLinkByRequiredSwitch: function ($tab) {\r\n      if ($tab && $tab instanceof $) {\r\n        $tab.addClass('binf-hidden hidden-by-switch');\r\n        this._hideTab($tab);\r\n        // keyboard navigation support\r\n        $tab.find('a').attr('data-cstabindex', '-1');\r\n        var tabDeleteIcon = $tab.find('.cs-delete-icon');\r\n        if (tabDeleteIcon.attr('data-cstabindex') !== undefined) {\r\n          tabDeleteIcon.attr('data-cstabindex', '-1');\r\n        }\r\n      }\r\n    },\r\n\r\n    _showTabLinkByRequiredSwitch: function ($tab, removeable) {\r\n      if ($tab && $tab instanceof $) {\r\n        $tab.removeClass('binf-hidden hidden-by-switch');\r\n        this._showTab($tab);\r\n        // keyboard navigation support\r\n        $tab.find('a').removeAttr('data-cstabindex');\r\n        removeable === true && $tab.find('.cs-delete-icon').attr('data-cstabindex', '0');\r\n      }\r\n    },\r\n\r\n    _hideTab: function ($tab) {\r\n      if ($tab && $tab instanceof $) {\r\n        $tab.css('width', '');\r\n        $tab.css('text-overflow', 'clip');\r\n        $tab.hide();\r\n      }\r\n    },\r\n\r\n    _showTab: function ($tab) {\r\n      if ($tab && $tab instanceof $) {\r\n        $tab.css('width', '');\r\n        $tab.css('text-overflow', 'ellipsis');\r\n        $tab.show();\r\n      }\r\n    },\r\n\r\n    _showLastTab: function (iTabs) {\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      var i;\r\n      for (i = tabs.length - 1; i >= 0; i--) {\r\n        var $tab = $(tabs[i]);\r\n        if (!this._isTablinkVisibleInParents($tab) && !($tab.hasClass('hidden-by-switch'))) {\r\n          this._showTab($tab);\r\n          break;\r\n        }\r\n      }\r\n    },\r\n\r\n    _enableToolbarState: function (iTabs) {\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs && this.$el.is(':visible')) {\r\n        this._beginTabHidden(tabs) ? this._showLeftToolbar() : this._hideLeftToolbar();\r\n        this.gotoNextPage && this.gotoNextPage.toggle(this._trailingTabHidden(tabs));\r\n      }\r\n    },\r\n\r\n    _gotoPreviousTabClick: function (event) {\r\n      Backbone.trigger('closeToggleAction');\r\n      this._gotoPreviousTab({event: event});\r\n    },\r\n\r\n    _gotoNextTabClick: function (event) {\r\n      Backbone.trigger('closeToggleAction');\r\n      var deferred = $.Deferred();\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var visibleIndex = this._lastVisibleTabIndex(tabs);\r\n\r\n      // scroll until the next tab is visible (sometimes 2 or more tabs)\r\n      if (visibleIndex >= 0 && visibleIndex < tabs.length) {\r\n        // find the next hidden tab (exclude the ones hidden by 'See required only' switch)\r\n        var i, nextIndex = -1;\r\n        for (i = visibleIndex + 1; i < tabs.length; i++) {\r\n          var $tab = $(tabs[i]);\r\n          if (!($tab.hasClass('hidden-by-switch')) && !this._isTablinkVisibleInParents($tab)) {\r\n            nextIndex = i;\r\n            break;\r\n          }\r\n        }\r\n        if (nextIndex >= 0 && nextIndex < tabs.length) {\r\n          return this._gotoNextTab({tabs: tabs, visibleTabIndex: nextIndex});\r\n        }\r\n      }\r\n      return $.Deferred().resolve();\r\n    },\r\n\r\n    // Params:\r\n    // - options <object>: {\r\n    //     event <event>: optional event\r\n    //     tabs <elements>: optional tabs for performance without lookup\r\n    //     visibleTabIndex <integer>: optional for the tab index to scroll until it is visible\r\n    //     deferred <jQuery Deferred>: optional for asynchronous\r\n    //     animationOff <boolean>: true/false\r\n    //   }\r\n    // Return: jQuery Deferred\r\n    _gotoPreviousTab: function (options) {\r\n      options || (options = {});\r\n      options.event && options.event.preventDefault();\r\n      options.event && options.event.stopPropagation();\r\n\r\n      var deferred = options.deferred ? options.deferred : $.Deferred();\r\n      var tabs = options.tabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : options.tabs;\r\n      var i, lastTabIndex = tabs.length - 1;\r\n\r\n      var visibleTabIndex = options.visibleTabIndex;\r\n      if (visibleTabIndex !== undefined && visibleTabIndex >= 0 &&\r\n          visibleTabIndex <= lastTabIndex) {\r\n        if (this._isTablinkVisibleInParents($(tabs[visibleTabIndex]))) {\r\n          return deferred.resolve();\r\n        }\r\n      }\r\n\r\n      var defBeingHandled = false;\r\n      for (i = 0; i <= lastTabIndex; i++) {\r\n        // find the visible tab\r\n        var $tab2 = $(tabs[i]);\r\n        if (this._isTablinkVisibleInParents($tab2)) {\r\n          if (i === 0) {\r\n            this._hideLeftToolbar();\r\n          }\r\n\r\n          // find the previous hidden tab (exclude the ones hidden by 'See required only' switch)\r\n          var j;\r\n          for (j = i - 1; j >= 0; j--) {\r\n            var $tab1 = $(tabs[j]);\r\n            if ($tab1 && !this._isTablinkVisibleInParents($tab1) &&\r\n                !($tab1.hasClass('hidden-by-switch'))) {\r\n              // find the real width to animate\r\n              $tab1.css('visibility', 'binf-hidden');\r\n              $tab1.css('width', '');\r\n              $tab1.show();\r\n              var width = $tab1.width();\r\n              $tab1.css('text-overflow', 'clip');\r\n              $tab1.width(0);\r\n              $tab1.css('visibility', '');\r\n\r\n              defBeingHandled = true;\r\n              var duration = options.animationOff === true ? 0 : 'fast';\r\n              $tab1.animate({\"width\": \"+=\" + width}, duration,\r\n                  _.bind(function () {\r\n                    $tab1.css('width', '');\r\n                    $tab1.css('text-overflow', 'ellipsis');\r\n                    var recurse = false;\r\n                    if (visibleTabIndex !== undefined && visibleTabIndex >= 0 &&\r\n                        visibleTabIndex <= lastTabIndex) {\r\n                      if (this._isTablinkVisibleInParents($(tabs[visibleTabIndex])) === false) {\r\n                        recurse = true;\r\n                      }\r\n                    }\r\n                    if (recurse) {\r\n                      var opts = {tabs: tabs, deferred: deferred};\r\n                      options.event && (opts.event = options.event);\r\n                      (visibleTabIndex !== undefined) && (opts.visibleTabIndex = visibleTabIndex);\r\n                      (options.animationOff !== undefined) &&\r\n                      (opts.animationOff = options.animationOff);\r\n                      this._gotoPreviousTab(opts);\r\n                    } else {\r\n                      this._enableToolbarState(tabs);\r\n                      this.autoScrollingLastTab = false;\r\n                      deferred.resolve();\r\n                    }\r\n                  }, this));\r\n\r\n              break;  // j loop\r\n            }\r\n          }\r\n          break;  // i loop\r\n        }\r\n        // exception case when there is no visible tab found: show the last tab\r\n        if (i === lastTabIndex) {\r\n          this._showLastTab(tabs);\r\n          this._enableToolbarState(tabs);\r\n          this.autoScrollingLastTab = false;\r\n          deferred.resolve();\r\n        }\r\n      }\r\n\r\n      if (defBeingHandled === false) {\r\n        return deferred.resolve();\r\n      }\r\n      if (options.deferred === undefined) {\r\n        return deferred.promise();\r\n      }\r\n    },\r\n\r\n    // Params:\r\n    // - options <object>: {\r\n    //     event <event>: optional event\r\n    //     tabs <elements>: optional tabs for performance without lookup\r\n    //     visibleTabIndex <integer>: optional for the tab index to scroll until it is visible\r\n    //     deferred <jQuery Deferred>: optional for asynchronous\r\n    //     animationOff <boolean>: true/false\r\n    //   }\r\n    // Return: jQuery Deferred\r\n    _gotoNextTab: function (options) {\r\n      options || (options = {});\r\n      options.event && options.event.preventDefault();\r\n      options.event && options.event.stopPropagation();\r\n\r\n      var deferred = options.deferred ? options.deferred : $.Deferred();\r\n      var tabs = options.tabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : options.tabs;\r\n      var i, lastTabIndex = tabs.length - 1;\r\n\r\n      var visibleTabIndex = options.visibleTabIndex;\r\n      if (visibleTabIndex !== undefined && visibleTabIndex >= 0 &&\r\n          visibleTabIndex <= lastTabIndex) {\r\n        if (this._isTablinkVisibleInParents($(tabs[visibleTabIndex]))) {\r\n          return deferred.resolve();\r\n        }\r\n      }\r\n\r\n      var defBeingHandled = false;\r\n      for (i = 0; i <= lastTabIndex; i++) {\r\n        var $tab = $(tabs[i]);\r\n        if (this._isTablinkVisibleInParents($tab)) {\r\n          if (this.leftToolbar.is(':hidden')) {\r\n            this._showLeftToolbar();\r\n          }\r\n\r\n          if ($tab) {\r\n            defBeingHandled = true;\r\n            var duration = options.animationOff === true ? 0 : 'fast';\r\n            $tab.animate({\"width\": \"-=\" + $tab.width()}, duration,\r\n                _.bind(function () {\r\n                  $tab.hide();\r\n                  $tab.css('width', '');\r\n                  var recurse = false;\r\n                  if (visibleTabIndex !== undefined && visibleTabIndex >= 0 &&\r\n                      visibleTabIndex <= lastTabIndex) {\r\n                    if (this._isTablinkVisibleInParents($(tabs[visibleTabIndex])) === false) {\r\n                      recurse = true;\r\n                    }\r\n                  }\r\n                  if (recurse) {\r\n                    var opts = {tabs: tabs, deferred: deferred};\r\n                    options.event && (opts.event = options.event);\r\n                    (visibleTabIndex !== undefined) && (opts.visibleTabIndex = visibleTabIndex);\r\n                    (options.animationOff !== undefined) &&\r\n                    (opts.animationOff = options.animationOff);\r\n                    this._gotoNextTab(opts);\r\n                  } else {\r\n                    this._enableToolbarState(tabs);\r\n                    this.autoScrollingLastTab = false;\r\n                    deferred.resolve();\r\n                  }\r\n                }, this));\r\n          }\r\n          break;\r\n        }\r\n        // exception case when there is no visible tab found: show the last tab\r\n        if (i === lastTabIndex) {\r\n          this._showLastTab(tabs);\r\n          this._enableToolbarState(tabs);\r\n          this.autoScrollingLastTab = false;\r\n          deferred.resolve();\r\n        }\r\n      }\r\n\r\n      if (defBeingHandled === false) {\r\n        return deferred.resolve();\r\n      }\r\n      if (options.deferred === undefined) {\r\n        return deferred.promise();\r\n      }\r\n    },\r\n\r\n    _autoScrollLastTab: function () {\r\n      this.autoScrollingLastTab = true;\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var deferred = this._gotoNextTab({tabs: tabs, visibleTabIndex: tabs.length - 1});\r\n      deferred.done(_.bind(function () {\r\n        this.autoScrollingLastTab = false;\r\n      }, this));\r\n      return deferred;\r\n    },\r\n\r\n    _autoScrollFirstTabAsync: function ($tab0, tabs, iteration, iDeferred) {\r\n      var iter = iteration === undefined ? 0 : iteration;\r\n      if (iter < 0 && iter >= tabs.length) {\r\n        if (iDeferred) {\r\n          iDeferred.resolve();\r\n          return;\r\n        } else {\r\n          return $.Deferred().resolve();\r\n        }\r\n      }\r\n\r\n      var deferred = iDeferred ? iDeferred : $.Deferred();\r\n      this._gotoPreviousTab({tabs: tabs}).done(_.bind(function () {\r\n        if (this._isTablinkVisibleInParents($tab0)) {\r\n          deferred.resolve();\r\n        } else {\r\n          iter++;\r\n          this._autoScrollFirstTabAsync($tab0, tabs, iter, deferred);\r\n        }\r\n      }, this));\r\n\r\n      if (iDeferred === undefined) {\r\n        return deferred;\r\n      }\r\n    },\r\n\r\n    _autoScrollFirstTab: function () {\r\n      var deferred = $.Deferred();\r\n      this.autoScrollingLastTab = true;\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var $tab0 = $(tabs[0]);\r\n      if (!this._isTablinkVisibleInParents($tab0) && tabs.length > 0) {\r\n        this._autoScrollFirstTabAsync($tab0, tabs).done(_.bind(function () {\r\n          this._enableToolbarState(tabs);\r\n          this.autoScrollingLastTab = false;\r\n          deferred.resolve();\r\n        }, this));\r\n      } else {\r\n        this.autoScrollingLastTab = false;\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    _autoScrollTabTo: function (index, options) {\r\n      options || (options = {});\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var scrollOptions = _.extend({visibleTabIndex: index}, options, {tabs: tabs});\r\n      var firstVisibleIndex = this._firstVisibleTabIndex(tabs);\r\n      var lastVisibleIndex = this._lastVisibleTabIndex(tabs);\r\n\r\n      if (firstVisibleIndex >= 0 && firstVisibleIndex < tabs.length &&\r\n          lastVisibleIndex >= 0 && lastVisibleIndex < tabs.length &&\r\n          index >= 0 && index < tabs.length) {\r\n        this.autoScrollingLastTab = true;\r\n        var deferred;\r\n        if (index < firstVisibleIndex) {\r\n          deferred = this._gotoPreviousTab(scrollOptions);\r\n        } else if (index > lastVisibleIndex) {\r\n          deferred = this._gotoNextTab(scrollOptions);\r\n        } else {\r\n          this.autoScrollingLastTab = false;\r\n          return $.Deferred().resolve();\r\n        }\r\n        deferred.done(_.bind(function () {\r\n          this.autoScrollingLastTab = false;\r\n        }, this));\r\n        return deferred;\r\n      } else {\r\n        return $.Deferred().resolve();\r\n      }\r\n    },\r\n\r\n    _autoScrolling: function () {\r\n      if (this.autoScrollingLastTab || this.activatingTab === true ||\r\n          this.skipAutoScroll === true) {\r\n        return $.Deferred().resolve();\r\n      }\r\n\r\n      var i, iActive = -1;\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var tabHidden = false;\r\n      for (i = 0; i < tabs.length; i++) {\r\n        var $tab = $(tabs[i]);\r\n        if (iActive === -1 && $tab.hasClass('binf-active')) {\r\n          if (this._isTablinkVisibleInParents($tab) === false) {\r\n            tabHidden = true;\r\n          }\r\n          iActive = i;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (tabHidden) {\r\n        return this._autoScrollTabTo(iActive);\r\n      }\r\n      return $.Deferred().resolve();\r\n    }\r\n\r\n  };\r\n\r\n  return TabLinksScrollMixin;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.links.ext',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"  <div class=\\\"left-toolbar\\\"></div>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"  <div class=\\\"right-toolbar\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"toolbar\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"\\r\\n<div class=\\\"tab-links-bar\\\">\\r\\n  <span class=\\\"fadeout\\\"></span>\\r\\n  <ul class=\\\"binf-nav \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tab_type\") || (depth0 != null ? lookupProperty(depth0,\"tab_type\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tab_type\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":22},\"end\":{\"line\":7,\"column\":34}}}) : helper)))\n    + \"\\\" role=\\\"tablist\\\"></ul>\\r\\n</div>\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"toolbar\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":10,\"column\":0},\"end\":{\"line\":12,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.links.ext', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.link.ext',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <span class=\\\"cs-icon-required category_required\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"required_tooltip\") || (depth0 != null ? lookupProperty(depth0,\"required_tooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"required_tooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":3,\"column\":65},\"end\":{\"line\":3,\"column\":85}}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div class=\\\"cs-tablink-delete\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"delete_tooltip\") || (depth0 != null ? lookupProperty(depth0,\"delete_tooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"delete_tooltip\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":40},\"end\":{\"line\":8,\"column\":58}}}) : helper)))\n    + \"\\\">\\r\\n    <span class=\\\"icon \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"delete_icon\") || (depth0 != null ? lookupProperty(depth0,\"delete_icon\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"delete_icon\",\"hash\":{},\"loc\":{\"start\":{\"line\":9,\"column\":22},\"end\":{\"line\":9,\"column\":37}}}) : helper)))\n    + \" cs-delete-icon\\\" role=\\\"button\\\"\\r\\n          \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"removeable\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":10,\"column\":10},\"end\":{\"line\":10,\"column\":54}}})) != null ? stack1 : \"\")\n    + \"\\r\\n          aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"deleteTabAria\") || (depth0 != null ? lookupProperty(depth0,\"deleteTabAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"deleteTabAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":11,\"column\":22},\"end\":{\"line\":11,\"column\":39}}}) : helper)))\n    + \"\\\"></span>\\r\\n  </div>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"data-cstabindex=\\\"0\\\"\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a href=\\\"#\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"uniqueTabId\") || (depth0 != null ? lookupProperty(depth0,\"uniqueTabId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"uniqueTabId\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":10},\"end\":{\"line\":1,\"column\":25}}}) : helper)))\n    + \"\\\" id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"linkId\") || (depth0 != null ? lookupProperty(depth0,\"linkId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"linkId\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":31},\"end\":{\"line\":1,\"column\":41}}}) : helper)))\n    + \"\\\" role=\\\"tab\\\" aria-selected=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"selected\") || (depth0 != null ? lookupProperty(depth0,\"selected\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"selected\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":69},\"end\":{\"line\":1,\"column\":81}}}) : helper)))\n    + \"\\\" aria-controls=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"uniqueTabId\") || (depth0 != null ? lookupProperty(depth0,\"uniqueTabId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"uniqueTabId\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":98},\"end\":{\"line\":1,\"column\":113}}}) : helper)))\n    + \"\\\" class=\\\"cs-tablink\\\" data-binf-toggle=\\\"tab\\\" title=\\\"\"\n    + container.escapeExpression((lookupProperty(helpers,\"csui-l10n\")||(depth0 && lookupProperty(depth0,\"csui-l10n\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"title\") : depth0),{\"name\":\"csui-l10n\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":164},\"end\":{\"line\":1,\"column\":183}}}))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"required\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":4,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"  <span class=\\\"cs-tablink-text\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tabTitle\") || (depth0 != null ? lookupProperty(depth0,\"tabTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tabTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":32},\"end\":{\"line\":5,\"column\":44}}}) : helper)))\n    + \"</span>\\r\\n</a>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"allow_delete\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":7,\"column\":0},\"end\":{\"line\":13,\"column\":7}}})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.link.ext', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/tab.panel/impl/tab.link.ext.view',['csui/lib/underscore', 'csui/controls/tab.panel/impl/tab.link.view', 'csui/utils/base',\r\n  'hbs!csui/controls/tab.panel/impl/tab.link.ext',\r\n  'i18n!csui/controls/tab.panel/impl/nls/lang', 'i18n',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, TabLinkView, base, tabLinkExtTemplate, lang, i18n) {\r\n  \"use strict\";\r\n\r\n  var TabLinkViewExt = TabLinkView.extend({\r\n\r\n    template: tabLinkExtTemplate,\r\n    templateHelpers: function () {\r\n      var uniqueTabId = this.model.get('uniqueTabId'),\r\n          title       = this._getTitle();\r\n      return {\r\n        linkId: 'tablink-' + uniqueTabId,\r\n        selected: this._isOptionActiveTab(),\r\n        required_tooltip: lang.requiredTooltip,\r\n        delete_icon: this.options.delete_icon || 'circle_delete',\r\n        delete_tooltip: this.options.delete_tooltip || lang.deleteTooltip,\r\n        deleteTabAria: _.str.sformat(lang.deleteTabAria, title),\r\n        tabTitle: title\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'show.binf.tab > a': 'onShowingTab',\r\n      'shown.binf.tab > a': 'onShownTab',\r\n      'focus .cs-delete-icon': 'onFocusDeleteIcon',\r\n      'blur .cs-delete-icon': 'onBlurDeleteIcon',\r\n      'click .cs-tablink-delete': 'onDelete'\r\n    },\r\n\r\n    ui: {\r\n      link: '>a',\r\n      deleteIcon: '.cs-delete-icon',\r\n      deleteIconParent: '.cs-tablink-delete'\r\n    },\r\n\r\n    constructor: function TabLinkViewExt(options) {\r\n      this.options = options || {};\r\n      TabLinkView.prototype.constructor.apply(this, arguments);\r\n\r\n      this.listenTo(this.model, 'action:updated', function () {\r\n        this._setRemoveable();\r\n      });\r\n    },\r\n\r\n    onRender: function () {\r\n      this._setRemoveable();\r\n    },\r\n\r\n    _getTitle: function () {\r\n      var title = this.model.get('title'),\r\n          tabTitle;\r\n      if (_.isObject(title)) {\r\n        var defaultValue    = '',\r\n            loadableLocales = i18n.settings.loadableLocales;\r\n        for (var i = 0; i < loadableLocales.length; i++) {\r\n          var locale = loadableLocales[i].toLowerCase();\r\n          if (!!title[locale]) {\r\n            defaultValue = title[locale];\r\n            break;\r\n          }\r\n        }\r\n        tabTitle = base.getClosestLocalizedString(title, defaultValue);\r\n      } else {\r\n        tabTitle = title;\r\n      }\r\n      return tabTitle;\r\n    },\r\n\r\n    _setRemoveable: function () {\r\n      if (!!this.model.get('removeable')) {\r\n        this.ui.deleteIcon.addClass('removeable');\r\n        this.ui.deleteIcon.attr('data-cstabindex', '0');\r\n        this.ui.deleteIconParent.removeClass('binf-hidden');\r\n      } else {\r\n        this.ui.deleteIcon.removeClass('removeable');\r\n        this.ui.deleteIcon.removeAttr('data-cstabindex');\r\n        this.ui.deleteIconParent.addClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    onFocusDeleteIcon: function () {\r\n      this.ui.deleteIconParent.addClass('focused');\r\n    },\r\n\r\n    onBlurDeleteIcon: function () {\r\n      this.ui.deleteIconParent.removeClass('focused');\r\n    },\r\n\r\n    onDelete: function (event) {\r\n      event.preventDefault();\r\n      this.deleteCurrentTab();\r\n    },\r\n\r\n    deleteCurrentTab: function () {\r\n      //\r\n      // Technical note on the 'allow_delete' and 'removeable':\r\n      // 1) Why there are two, not just one?\r\n      //    Answer: 'allow_delete' is for the View to create with or  without the delete icon\r\n      //            element.\r\n      // 2) What 'removeable' is for and why have it?\r\n      //    Answer: 'removeable' is the Model state to determine if the delete icon should be\r\n      //             active and visible or not. In some scenarios, the Model commands are\r\n      //             delayed fetched.  The 'removeable' attribute would be updated asynchronously.\r\n      //             At the intialization the value would be false, but could be true/false later.\r\n      // The code combines both values and also uses CSS to show/hide the icon on mouse hover\r\n      // or touch focus on mobile device without additional JavaScript code.\r\n      // Thoughts were put into it.  Otherwise, the simple one attribute was an obvious easy choice\r\n      // that everyone would go for it first.\r\n      //\r\n      if (this.model.get('allow_delete') === true && this.model.get('removeable') === true) {\r\n        this.triggerMethod('delete:tab');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinkViewExt;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/tab.links.ext.view',['csui/lib/underscore', 'csui/controls/tab.panel/impl/tab.links.view',\r\n  'hbs!csui/controls/tab.panel/impl/tab.links.ext',\r\n  'csui/controls/tab.panel/impl/tab.link.ext.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, TabLinkCollectionView, tabLinksTemplate, TabLinkViewExt,\r\n    ViewEventsPropagationMixin) {\r\n  \"use strict\";\r\n\r\n  var TabLinkCollectionViewExt = TabLinkCollectionView.extend({\r\n\r\n    template: tabLinksTemplate,\r\n    templateHelpers: function () {\r\n      return {\r\n        tab_type: this.options.tabType || 'binf-nav-tabs',\r\n        toolbar: this.options.toolbar ? true : false\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'click .left-toolbar': 'onToolbarClicked',\r\n      'click .right-toolbar': 'onToolbarClicked'\r\n    },\r\n\r\n    childView: TabLinkViewExt,\r\n    childViewContainer: function () {\r\n      return '.tab-links-bar >.' + this.tabType;\r\n    },\r\n\r\n    constructor: function TabLinkCollectionViewExt(options) {\r\n      this.options = options || {};\r\n      TabLinkCollectionView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'metadata:schema:updated', function (model) {\r\n        // Re-Render model specific tab to reflect model changes - ex: required\r\n        this.children.findByModel(model).render();\r\n      }, this);\r\n    },\r\n\r\n    onToolbarClicked: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    },\r\n\r\n    deleteTabById: function (tabId) {\r\n      var ret = false;\r\n      if (tabId === undefined) {\r\n        return ret;\r\n      }\r\n\r\n      var uTabId = tabId.charAt(0) === '#' ? tabId.slice(1) : tabId;\r\n      var model = this.collection.findWhere({uniqueTabId: uTabId});\r\n      if (model) {\r\n        var tabLink = this.children.findByModel(model);\r\n        if (tabLink) {\r\n          tabLink.deleteCurrentTab();\r\n          ret = true;\r\n        }\r\n      }\r\n      return ret;\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabLinkCollectionViewExt.prototype, ViewEventsPropagationMixin);\r\n\r\n  return TabLinkCollectionViewExt;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/perspective.header/impl/perspective.header',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"cs-back-button-container\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backTitle\") || (depth0 != null ? lookupProperty(depth0,\"backTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":45},\"end\":{\"line\":1,\"column\":58}}}) : helper)))\n    + \"\\\"\\r\\n     tabindex=\\\"0\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"backTitle\") || (depth0 != null ? lookupProperty(depth0,\"backTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"backTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":30},\"end\":{\"line\":2,\"column\":43}}}) : helper)))\n    + \"\\\" role=\\\"button\\\">\\r\\n  <span class=\\\"arrow_back cs-go-back\\\"></span>\\r\\n</div>\\r\\n<div class=\\\"cs-title-container\\\">\\r\\n  <div class=\\\"cs-title-inner-container\\\">\\r\\n    <span class=\\\"title-icon \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"icon\") || (depth0 != null ? lookupProperty(depth0,\"icon\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":28},\"end\":{\"line\":7,\"column\":36}}}) : helper)))\n    + \"\\\"></span>\\r\\n    <h2 class=\\\"title\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"loc\":{\"start\":{\"line\":8,\"column\":22},\"end\":{\"line\":8,\"column\":31}}}) : helper)))\n    + \"</h2>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_perspective.header_impl_perspective.header', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/perspective.header/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/perspective.header/impl/nls/root/lang',{\r\n  backTitle: 'Back'\r\n});\r\n\n","\ncsui.define('css!csui/controls/perspective.header/impl/perspective.header',[],function(){});\n","csui.define('csui/controls/perspective.header/perspective.header.view',['csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'hbs!csui/controls/perspective.header/impl/perspective.header',\r\n  'i18n!csui/controls/perspective.header/impl/nls/lang',\r\n  'css!csui/controls/perspective.header/impl/perspective.header'\r\n], function (_, $, Marionette, headerTemplate, lang) {\r\n\r\n  var PerspectiveHeaderView = Marionette.ItemView.extend({\r\n\r\n    className: 'csui-perspective-toolbar-container',\r\n\r\n    template: headerTemplate,\r\n\r\n    ui: {\r\n      headerControl: '.cs-header-control'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyInView',\r\n      'click .cs-back-button-container': 'onBackButton'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        icon: this.options.icon,\r\n        title: this.options.title,\r\n        backTitle: lang.backTitle\r\n      };\r\n    },\r\n\r\n    constructor: function DialogHeaderView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      if (event.keyCode === 32 || event.keyCode === 13) {\r\n        this.onBackButton();\r\n      }\r\n    },\r\n\r\n    onBackButton: function() {\r\n      var context = this.options.context,\r\n          viewStateModel = context && context.viewStateModel;\r\n      if (viewStateModel) {\r\n        viewStateModel.restoreLastRouter();\r\n      }\r\n    }\r\n  });\r\n\r\n  return PerspectiveHeaderView;\r\n});\r\n\n","csui.define('csui/controls/mixins/global.alert/global.alert.mixin',[], function () {\r\n  'use strict';\r\n  var GlobalAlertMixin = {\r\n    prepareForGlobalAlert: function () {\r\n      this.listenTo(this, 'global.alert.inprogress', this.handleAlertInProgress);\r\n      this.listenTo(this, 'global.alert.completed', this.handleAlertComplete);\r\n    },\r\n\r\n    handleAlertInProgress: function () {\r\n      if (this.currentlyFocusedElement !== this.disableCurrentFocusElementHandler) {\r\n        this.originalCurrentlyFocusedElement = this.currentlyFocusedElement;\r\n      }\r\n      this.currentlyFocusedElement = this.disableCurrentFocusElementHandler;\r\n    },\r\n\r\n    disableCurrentFocusElementHandler: function () {\r\n      // console.log('Disabled current focus for ', this.constructor.name);\r\n    },\r\n\r\n    handleAlertComplete: function () {\r\n      if (this.originalCurrentlyFocusedElement != null) {\r\n        // console.log('Rolling back to original currentlyFocusedElement.', this.constructor.name);\r\n        this.currentlyFocusedElement = this.originalCurrentlyFocusedElement;\r\n        this.originalCurrentlyFocusedElement = undefined;\r\n      }\r\n    }\r\n  };\r\n  return GlobalAlertMixin;\r\n});\n","csui.define('csui/utils/contexts/factories/metadata.factory',['module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var MetadataModel = Backbone.Model.extend({});\r\n\r\n  // MetadataModelFactory\r\n  return ModelFactory.extend({\r\n\r\n    MetadataModelPrefix: 'MetadataModel',\r\n    propertyPrefix: 'MetadataModel',\r\n\r\n    constructor: function PropertiesModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var metadataModel = this.options.MetadataModel || {};\r\n      if (!(metadataModel instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        metadataModel = new MetadataModel(metadataModel.models, _.extend({},\r\n            metadataModel.options, config.options));\r\n      }\r\n      this.property = metadataModel;\r\n    }\r\n  });\r\n});\r\n\n","csui.define('csui/controls/mixins/view.state/metadata.view.state.mixin',['module', 'csui/lib/underscore', 'csui/lib/marionette',\r\n          'csui/utils/contexts/factories/metadata.factory'\r\n], function (module, _, Marionette, MetadataModelFactory) {\r\n  'use strict';\r\n\r\n  return {\r\n\r\n    getViewStateDropdown: function () {\r\n      return this.context && this.context.viewStateModel.getViewState('dropdown');\r\n    },\r\n\r\n    getDefaultViewStateDropdown: function () {\r\n      return this.context && this.context.viewStateModel.getDefaultViewState('dropdown');\r\n    },\r\n\r\n    setViewStateDropdown: function (value, options) {\r\n      var viewStateModel = this.context && this.context.viewStateModel;\r\n      if (options) {\r\n        if (options.default) {\r\n          viewStateModel.setDefaultViewState('dropdown', value);\r\n        }\r\n        if (options.title) {\r\n          viewStateModel.setViewState('dropdown', options.title);\r\n        }\r\n      }\r\n      return viewStateModel.setViewState('dropdown', value);\r\n    },\r\n\r\n    setViewStateId: function (id, options) {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      var metadataInfo = _.clone(metadataModel.get('metadata_info'));\r\n      if (metadataInfo) {\r\n        metadataInfo.id = id;\r\n        metadataInfo.model = options.model;\r\n        metadataModel.set('metadata_info', metadataInfo, options);\r\n      }\r\n    },\r\n\r\n    getViewStateId: function (id) {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      var metadataInfo = _.clone(metadataModel.get('metadata_info'));\r\n      if (metadataInfo) {\r\n        return metadataInfo.id;\r\n      }\r\n    },\r\n\r\n    isMetadataNavigation: function () {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      if (metadataModel) {\r\n        var metadataInfo = metadataModel.get('metadata_info');\r\n        if (metadataInfo) {\r\n          return metadataInfo.navigator;\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    getThumbnailViewState: function () {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      if (metadataModel) {\r\n        var metadataInfo = metadataModel.get('metadata_info');\r\n        if (metadataInfo) {\r\n          return metadataInfo.isThumbnailView;\r\n        }\r\n      }\r\n    },\r\n\r\n    getViewStateSelectedProperty: function () {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      if (metadataModel) {\r\n        var metadataInfo = metadataModel.get('metadata_info');\r\n        if (metadataInfo) {\r\n          return metadataInfo.selectedProperty;\r\n        }\r\n      }\r\n    },\r\n\r\n    isShowPermissionView: function () {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      if (metadataModel) {\r\n        var metadataInfo = metadataModel.get('metadata_info');\r\n        if (metadataInfo) {\r\n          return metadataInfo.showPermissionView;\r\n        }\r\n      }\r\n    },\r\n\r\n    initOptionsFromMetadataInfo: function (options) {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      if (metadataModel) {\r\n        var metadataInfo = metadataModel.get('metadata_info');\r\n        if (metadataInfo) {\r\n          options.id = metadataInfo.id;\r\n          options.model = metadataInfo.model;\r\n          options.navigator = metadataInfo.navigationView;\r\n          options.originatingView = metadataInfo.originatingView;\r\n          options.targetView = metadataInfo.targetView;\r\n          options.commands = metadataInfo.commands;\r\n          options.showCloseIcon = metadataInfo.showCloseIcon;\r\n          options.showBackIcon = metadataInfo.showBackIcon;\r\n          options.selectedTab = metadataInfo.selectedTab;\r\n          options.showPermissionView = metadataInfo.showPermissionView;\r\n        }\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/view.state/node.view.state.mixin',['module', 'csui/lib/underscore', 'csui/lib/marionette', 'csui/utils/log'\r\n], function (module, _, Marionette, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  return {\r\n\r\n    getViewStatePage: function () {\r\n      return this._parsePageInfo(this.context.viewStateModel.getViewState('page'));\r\n    },\r\n\r\n    getDefaultViewStatePage: function () {\r\n      return this._parsePageInfo(this.context.viewStateModel.getDefaultViewState('page'));\r\n    },\r\n\r\n    _parsePageInfo: function (page) {\r\n      if (page) {\r\n        page = page.split('_');\r\n        if (page.length > 1) {\r\n          try {\r\n            return {\r\n              top: parseInt(page[0]),\r\n              skip: parseInt(page[1])\r\n            };\r\n          } catch (error) {\r\n            log.error('invalid page info in url.');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    setViewStatePage: function (top, skip, options) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      top = top > 50 ? 100 : top;\r\n      if (options && options.default) {\r\n        viewStateModel.setDefaultViewState('page', top + '_' + skip, options);\r\n      }\r\n      return viewStateModel.setViewState('page', top + '_' + skip, options);\r\n    },\r\n\r\n    getViewStateOrderBy: function (uiState) {\r\n      var orderBy = uiState ? uiState.order_by : this.context.viewStateModel.getViewState('order_by');\r\n      return this._formatOrderBy(orderBy);\r\n    },\r\n\r\n    _formatOrderBy: function (orderBy) {\r\n      return orderBy && orderBy.replace(/_desc/g, ' desc').replace(/_asc/g, ' asc');\r\n    },\r\n\r\n    getDefaultViewStateOrderBy: function() {\r\n      var orderBy = this.context.viewStateModel.getDefaultViewState('order_by');\r\n      return this._formatOrderBy(orderBy);\r\n    },\r\n\r\n    setViewStateOrderBy: function (orderBy, options) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      if (orderBy && orderBy.length) {\r\n        var stateOrderBy = viewStateModel.getViewState('order_by'),\r\n            order_by     = orderBy.join();\r\n        if (order_by !== stateOrderBy) {\r\n          // all ui state params must be saved in the ui state model as a url param ready to be\r\n          // used as a url parameter.\r\n          order_by = order_by.replace(/ /g, '_');\r\n          if (options && options.default) {\r\n            viewStateModel.setDefaultViewState('order_by', order_by, _.omit(options, 'default'));\r\n          }\r\n          return viewStateModel.setViewState('order_by', order_by, options);\r\n        }\r\n      } else {\r\n        return viewStateModel.setViewState('order_by', undefined, options);\r\n      }\r\n    },\r\n\r\n    getViewStateFilter: function () {\r\n      // make sure to decode the filter\r\n      return this.context.viewStateModel.getViewState('filter', true);\r\n    },\r\n\r\n    setViewStateFilter: function (filterObject, options) {\r\n      if (this.getViewStateFilter() !== filterObject) {\r\n        filterObject = !_.isEmpty(filterObject)? JSON.stringify(filterObject) : \"\";\r\n        var viewStateModel = this.context.viewStateModel;\r\n        options || (options = {});\r\n        options.encode = true;\r\n        if (options && options.default) {\r\n          viewStateModel.setDefaultViewState('filter', filterObject, options);\r\n        }\r\n        return viewStateModel.setViewState('filter', filterObject, options);\r\n      }\r\n    },\r\n\r\n    getViewStateTabIndex: function () {\r\n      var tabIndex = this.context.viewStateModel.getViewState('tab');\r\n      if (tabIndex) {\r\n          try {\r\n            tabIndex = parseInt(tabIndex);\r\n          } catch (error) {\r\n            log.error('invalid tab info in url.');\r\n          }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    setViewStateTabIndex: function (tabIndex, options) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      if (options && options.default) {\r\n        viewStateModel.setDefaultViewState('tab', tabIndex, options);\r\n      }\r\n      return viewStateModel.setViewState('tab', tabIndex, options);\r\n    },\r\n\r\n    getDefaultViewStateTabIndex: function () {\r\n      var tabIndex = this.context.viewStateModel.getDefaultViewState('tab');\r\n      if (tabIndex) {\r\n        try {\r\n          tabIndex = parseInt(tabIndex);\r\n        } catch (error) {\r\n          log.error('invalid tab info in url.');\r\n        }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    _restoreCollectionOptionsFromViewState: function () {\r\n      var pageInfo = this.getViewStatePage();\r\n      if (pageInfo && pageInfo.top && pageInfo.skip) {\r\n        try {\r\n          pageInfo.top = parseInt(pageInfo.top);\r\n          pageInfo.skip = parseInt(pageInfo.skip);\r\n          this.options.pageSize = this.options.data.pageSize = pageInfo.top;\r\n          this.options.pageNumber = pageInfo.skip / pageInfo.top;\r\n        } catch (error) {\r\n          log.error('invalid page info in url.');\r\n        }\r\n      }\r\n\r\n      var viewStateOrder = this.getViewStateOrderBy() || this.getDefaultViewStateOrderBy();\r\n\r\n      var viewStateFilter = this.getViewStateFilter();\r\n      try {\r\n        viewStateFilter = JSON.parse(viewStateFilter);\r\n      } catch (e) {\r\n        viewStateFilter = {};\r\n      }\r\n\r\n      return {\r\n        top: pageInfo && pageInfo.top,\r\n        skip: pageInfo && pageInfo.skip,\r\n        filter: viewStateFilter,\r\n        orderBy: viewStateOrder\r\n      };\r\n    }\r\n\r\n\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/view.state/toolitems.state.mixin',['module',\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/lib/backbone', 'csui/utils/log', 'csui/utils/base'\r\n], function (module, _, $, Marionette, Backbone, log, base) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  return {\r\n\r\n    _hasIcon: function () {\r\n      return this.model.get('iconName') || this._iconName || this._icon;\r\n    },\r\n\r\n    _calculateIconName: function () {\r\n      this._stateIsOn = this.model.get('stateIsOn');\r\n      if (this._stateIsOn) {\r\n        this._iconName = this.model.get('iconNameForOn');\r\n        if (this._iconName) {\r\n          this._stateIsOn = false;  // not using the icon-v2 modifier, because other icon is used\r\n        } else {\r\n          this._iconName = this.model.get('iconName');  // default back to non on state icon\r\n        }\r\n      } else {\r\n        this._iconName = this.model.get('iconName');\r\n        if (!this._iconName) {  // @deprecate using of css based (background-image) icons\r\n          this._icon = this.model.get('icon');\r\n        }\r\n      }\r\n    },\r\n\r\n    renderIconAndText: function () {\r\n      this.options.renderIconAndText = true;\r\n      this.render();  // re-render\r\n      this.options.renderIconAndText = false;\r\n    },\r\n\r\n    renderTextOnly: function (saveState) {\r\n      if (this.isRenderedTextOnly()) {\r\n        return;\r\n      }\r\n      saveState && this.saveRenderState();\r\n      this.options.renderTextOnly = true;\r\n      this.render();  // re-render\r\n      this.options.renderTextOnly = false;\r\n    },\r\n\r\n    isRenderedTextOnly: function () {\r\n      return !this._hasIcon() || // No Icon, only text is rendered.\r\n        (this.options.renderTextOnly === true && // Has Icon, but asked to rendered textonly\r\n          this.options.renderIconAndText !== true);\r\n    },\r\n\r\n    makeFocusable: function () {\r\n      this.ui.link.addClass(\"csui-acc-focusable\");\r\n    },\r\n\r\n    _handleClick: function (event, isKeyEvent) {\r\n      if (base.isControlClick(event)) {\r\n        // do nothing, let's execute browser's default behaviour as it is in both ctrl+click and\r\n        // command+click in mac.\r\n      } else {\r\n        event.preventDefault();\r\n\r\n        // when the dropdown menu command runs with more options, keep the menu open\r\n        if (this.model.get('menuWithMoreOptions') === true) {\r\n          event.stopPropagation();\r\n        } else {\r\n          // close the dropdown menu before triggering the event\r\n          this.closeDropdown();\r\n        }\r\n        if (isKeyEvent) {\r\n          this.model.set({ isKeyEvent: !!isKeyEvent }, { silent: true });\r\n        }\r\n        var args = { toolItem: this.model };\r\n        this.triggerMethod('before:toolitem:action', args);\r\n        if (!args.cancel) {\r\n          this.triggerMethod('toolitem:action', args);\r\n        }\r\n      }\r\n    },\r\n    // TODO: Deprecate and remove this method. This information is carried by the model.\r\n    isSeparator: function () {\r\n      return this.model.isSeparator();\r\n    },\r\n\r\n    closeDropdown: function () {\r\n      var dropdownEl = this.$el.closest('li.binf-dropdown.binf-open');\r\n      var dropdownToggleEl = dropdownEl.find('.binf-dropdown-toggle');\r\n      dropdownToggleEl.binf_dropdown('toggle');\r\n    },\r\n  };\r\n});\r\n\n","csui.define('csui/controls/mixins/view.state/multi.node.fetch.mixin',['module', 'csui/lib/underscore', \"csui/lib/jquery\", 'csui/lib/marionette', 'csui/utils/log'\r\n], function (module, _, $, Marionette, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  return {\r\n\r\n    _getNodesFromCollection: function (collection, ids, connector) {\r\n      var deferred      = $.Deferred(),\r\n          nodesNotInCollection = [],\r\n          nodesInCollection = [];\r\n\r\n      var nodes = ids.map(function (id) {\r\n        var node = collection.find({id: id});\r\n        if (node) {\r\n          nodesInCollection.push(node);\r\n        } else {\r\n          node = new collection.model({id: id}, {connector: connector});\r\n          nodesNotInCollection.push(node);\r\n        }\r\n        return node;\r\n      }.bind(this));\r\n\r\n      if (nodesNotInCollection.length === 0) {\r\n        return deferred.resolve(nodes, nodesInCollection);\r\n      } else {\r\n        this.blockActions && this.blockActions();\r\n        this._fetchNodes(nodesNotInCollection, collection).done(function () {\r\n          deferred.resolve(nodes, nodesInCollection);\r\n          this.unblockActions && this.unblockActions();\r\n        }.bind(this));\r\n      }\r\n\r\n      return deferred.promise();\r\n    },\r\n\r\n    _fetchNodes: function (nodes, collection) {\r\n      var deferred  = $.Deferred(),\r\n          deferreds = [];\r\n      nodes.forEach(function (node) {\r\n        deferreds.push(node.fetch({collection: collection}));\r\n      });\r\n\r\n      $.whenAll.apply($, deferreds).always(function () {\r\n        deferred.resolve();\r\n      });\r\n\r\n      return deferred.promise();\r\n    }\r\n\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/view.state/node.selection.restore.mixin',['module',\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, $, Marionette, Backbone, log) {\r\n  'use strict';\r\n\r\n  // Note: This mixin depends on the multi.node.fetch.mixin. You need to add the multi.node.fetch.mixin if you\r\n  // use this mixin.\r\n\r\n  log = log(module.id);\r\n\r\n  var DEFAULT_KEY_NAME = 'key';\r\n\r\n  return {\r\n\r\n    /**\r\n     * this method initializes for all items selection process accros pages.\r\n     */\r\n    initSelectionMixin: function (options, collection, key) {\r\n\r\n      collection = collection || options.collection;\r\n\r\n      var allSelectedNodes = collection.selectedItems || this.getCollectionWithSpecificModelId(collection);\r\n\r\n      this.getAllSelectedNodes = function() {\r\n        return allSelectedNodes;\r\n      };\r\n      \r\n      this.allSelectedNodes = function() {\r\n          return allSelectedNodes;\r\n      };\r\n\r\n      this.getContext = function() {\r\n        return options.context;\r\n      };\r\n\r\n      this.getCollection = function() {\r\n        return collection;\r\n      };\r\n\r\n      this.getKey = function () {\r\n        return key || DEFAULT_KEY_NAME;\r\n      };\r\n\r\n      this.setSelectionKey = function (newkey) {\r\n        key = newkey;\r\n      };\r\n\r\n      this.getConnector = function () {\r\n        return options.connector || collection.connector;\r\n      };\r\n\r\n      var context        = this.getContext(),\r\n          viewStateModel = context && context.viewStateModel;\r\n\r\n      this.listenTo(allSelectedNodes, 'remove', this.removeItemToAllSelectedItems)\r\n          .listenTo(allSelectedNodes, 'add', this.addItemToAllSelectedItems)\r\n          .listenTo(allSelectedNodes, 'reset', this.resetAllSelectedItems);\r\n\r\n      viewStateModel && this.listenTo(viewStateModel, 'change:multiItemOperationRunning', this._multiItemOperationEnded);\r\n\r\n      this.listenTo(allSelectedNodes, 'reset update', function () {\r\n        viewStateModel && viewStateModel.get(\"enabled\") &&\r\n        this._saveSelectedNodesInSessionViewState(this.getAllSelectedNodes(), this.getContext());\r\n      }.bind(this));\r\n\r\n      this.listenTo(collection, 'sync', this._restoreSelectedNodesFromSessionViewSate);\r\n    },\r\n\r\n    addTableViewSelectionEvents: function (tableView) {\r\n      this.listenTo(tableView, 'tableRowSelected', function (args) {\r\n        this.addNodesToSelection(args.nodes);\r\n      });\r\n\r\n      this.listenTo(tableView, 'tableRowUnselected', function (args) {\r\n        this.removeNodesFromSelection(args.nodes);\r\n      });\r\n    },\r\n\r\n    /**\r\n     * This method creates a new Backbone collection and set's modelId, and if any other module\r\n     * or in any other view which extends nodestable.view can override it if they do have unique\r\n     * model id is other than default \"id\".\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getCollectionWithSpecificModelId: function (collection) {\r\n      var MultiSelectCollection = Backbone.Collection.extend({\r\n            modelId: function (attr) {\r\n              return attr.id;\r\n            }\r\n          }),\r\n          allSelectedCollection = new MultiSelectCollection();\r\n      if (collection && collection.modelId) {\r\n        allSelectedCollection.modelId = collection.modelId;\r\n      }\r\n      return allSelectedCollection;\r\n    },\r\n\r\n    /**\r\n     * this method removes specific item from all selection.\r\n     *\r\n     * @param node\r\n     */\r\n    removeItemToAllSelectedItems: function (node) {\r\n      var model = this.getCollection().get(node) || this.getCollection().findWhere({id: node.get('id')});\r\n      if (model) {\r\n        model.set('csuiIsSelected', false); // will be ignored if already false\r\n      } else {\r\n        // update the node itself when unselect the node from different page\r\n        node.set('csuiIsSelected', false);\r\n      }\r\n      \r\n      this.onRemoveItemFromAllSelectedItems && this.onRemoveItemFromAllSelectedItems(node);\r\n    },\r\n\r\n    /**\r\n     * this method adds new item to all selected items.\r\n     *\r\n     * @param node\r\n     */\r\n    addItemToAllSelectedItems: function (node) {\r\n      var model = this.getCollection().get(node) || this.getCollection().findWhere({id: node.get('id')});\r\n      if (model) {\r\n        model.set('csuiIsSelected', true); // will be ignored if already true\r\n      } else {\r\n        // update the node itself when select the node from different page\r\n        node.set('csuiIsSelected', true);\r\n      }\r\n\r\n      this.onAddItemToAllSelectedItems && this.onAddItemToAllSelectedItems(node);\r\n    },\r\n\r\n    /**\r\n     * this method resets all selected item's collection.\r\n     */\r\n    resetAllSelectedItems: function () {\r\n      var allSelectedNodes = this.getAllSelectedNodes();\r\n      this.getCollection().each(_.bind(function (node) {\r\n        var selectedNode = allSelectedNodes.get(node);\r\n        node.set('csuiIsSelected', selectedNode !== undefined);// setting to same value is ignored\r\n      }, this));\r\n\r\n      this.onResetAllSelectedItems && this.onResetAllSelectedItems();\r\n    },\r\n    \r\n    _saveSelectedNodesInSessionViewState: function () {\r\n      if (this.restoringSelection) {\r\n          return;\r\n      }  \r\n      var context        = this.getContext(),\r\n          viewStateModel = context && context.viewStateModel;\r\n      if (viewStateModel) {\r\n        var selectedNodes = viewStateModel.getSessionViewState('selected_nodes') || {},\r\n            ids = this.getAllSelectedNodes().models.map(function (model) {\r\n              return model.get('id');\r\n            });\r\n        if (ids.length > 0) {\r\n          if (selectedNodes) {\r\n             selectedNodes = _.clone(selectedNodes);\r\n          }  \r\n          selectedNodes [this.getKey()] = ids;\r\n          viewStateModel.setSessionViewState('selected_nodes', selectedNodes);\r\n        } else {\r\n            selectedNodes && (delete selectedNodes[this.getKey()]);\r\n            if (Object.keys(selectedNodes) > 0) {\r\n                viewStateModel.setSessionViewState('selected_nodes',  _.clone(selectedNodes));\r\n            } else {\r\n                viewStateModel.setSessionViewState('selected_nodes',  undefined);\r\n            }\r\n        }\r\n      }\r\n    },\r\n\r\n    _multiItemOperationEnded: function () {\r\n      var context        = this.getContext(),\r\n          viewStateModel = context && context.viewStateModel;\r\n\r\n      if (viewStateModel && !viewStateModel.get('multiItemOperationRunning') && this._restoreSelectedNodesPending) {\r\n        this._restoreSelectedNodesFromSessionViewSate();\r\n      }\r\n    },\r\n\r\n    _restoreSelectedNodesFromSessionViewSate: function () {\r\n\r\n      var context = this.getContext(),\r\n          viewStateModel = context && context.viewStateModel;\r\n\r\n      if (viewStateModel && viewStateModel.get('multiItemOperationRunning')) {\r\n        this._restoreSelectedNodesPending = true;\r\n        return true;\r\n      }\r\n\r\n      if (viewStateModel && viewStateModel.get('enabled')) {\r\n        var selectedNodes = viewStateModel.getSessionViewState('selected_nodes');\r\n        if (selectedNodes) {\r\n          var ids = selectedNodes[this.getKey()] || [],\r\n              collection = this.getCollection(), connector = this.getConnector();\r\n          ids = this._removeSelectedFetchedNodesIds(ids);\r\n          if (ids && ids.length) {\r\n            this.restoringSelection = true;\r\n            this._getNodesFromCollection(collection, ids, connector)\r\n                .done(this._afterFetchingAllSelectedNodes.bind(this));\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    _afterFetchingAllSelectedNodes: function (allSelectedNodes, nodesInCollection) {\r\n      var context = this.getContext(),\r\n          viewStateModel = context && context.viewStateModel,\r\n          sessionState = viewStateModel.get('session_state'),\r\n          state        = viewStateModel.get('state');\r\n      if (allSelectedNodes && sessionState &&\r\n           (sessionState.id === undefined ||\r\n           (state && state.filter && state.filter.length) ||\r\n           (allSelectedNodes[0] && allSelectedNodes[0].get('parent_id') === this.getKey()) ||\r\n           this.getKey() === DEFAULT_KEY_NAME)) {\r\n        if (viewStateModel && viewStateModel.getSessionViewState('selected_nodes')) {\r\n          this._resetSelectedNodeCollections(allSelectedNodes, nodesInCollection);\r\n        }\r\n      }\r\n      this.restoringSelection = false;\r\n    },\r\n\r\n    // Reset all selected nodes and the selected nodes. Note: the selected nodes is what\r\n    // is on the current displayed page and all the selected nodes is what is selected\r\n    // on all the pages. This include the displayed and the undisplayed pages.\r\n    _resetSelectedNodeCollections: function(allSelectedNodes, nodesInCollection) {\r\n      var selectedNodes = this.getAllSelectedNodes();\r\n      selectedNodes.reset(allSelectedNodes);\r\n      if (this.isTableViewInTheDom()) {\r\n        nodesInCollection && this.tableView.selectedChildren.reset(nodesInCollection);\r\n      } else if (this.thumbnailView) {\r\n        nodesInCollection && this.thumbnail.selectedChildren.reset(nodesInCollection);\r\n        if (this.collection.length > 0) {\r\n          var selected = this.collection.where({ csuiIsSelected: true }).length;\r\n          if (selected > 0) {\r\n            this.thumbnail.updateSelectAllCheckbox.call(this);\r\n          }\r\n        }\r\n      } else {\r\n          this.getCollection().trigger(\"sync\");\r\n      }\r\n    },\r\n\r\n    _removeSelectedFetchedNodesIds: function (ids) {\r\n      var selectedNodes = this.getAllSelectedNodes();\r\n      if (ids && ids.length > 0) {\r\n        if (selectedNodes.length > 0) {\r\n          ids = ids.filter(function (id) {\r\n            var node = selectedNodes.find({id: id});\r\n            return node && node.attributes.length === 1;\r\n          });\r\n        }\r\n      }\r\n      return ids;\r\n    },\r\n\r\n    isTableViewInTheDom:function() {\r\n      return this.tableView && this.el && this.el.querySelector('.binf-table');\r\n    },\r\n\r\n    setupTableSelection: function (tableView) {\r\n      // correct the aria and icon of the filter icon after rendering when the children have been fetched\r\n      this.listenTo(tableView.collection, 'sync', _.bind(function () {\r\n\r\n       // on page navigation new models are loaded into this.collection,\r\n        // so replacing with new models in allSelectedNodes to maintain consistency.\r\n        var selectedNodes = this.getAllSelectedNodes();\r\n        selectedNodes && selectedNodes.each(_.bind(function (model) {\r\n          var targetModel = selectedNodes.get(model),\r\n              index       = selectedNodes.findIndex(targetModel);\r\n          if (index !== -1 && selectedNodes.at(index) !== model) {\r\n            this.getAllSelectedNodes().remove(selectedNodes.at(index));\r\n            this.getAllSelectedNodes().add(model, {at: index});\r\n          }\r\n        }, this));\r\n\r\n        this.onTableViewCollectionSync();\r\n        this.enableViewState && this._saveSelectedNodesInSessionViewState();\r\n      }, this));\r\n    },\r\n\r\n    clearAllSelectedNodes: function () {\r\n      var selectedNodes = this.getAllSelectedNodes();\r\n      selectedNodes && selectedNodes.reset([]);\r\n    },\r\n\r\n    addNodesToSelection: function (nodes) {\r\n      if (nodes) {\r\n        var selectedNodes = this.getAllSelectedNodes();\r\n        var selectedModels = selectedNodes.models.slice(0);\r\n        _.each(nodes, function (node) {\r\n          if (!selectedNodes.get(node) && node.get('id') !== undefined) {\r\n            selectedModels.push(node);\r\n          }\r\n        }, this);\r\n        selectedNodes.reset(selectedModels);\r\n      }\r\n    },\r\n\r\n    removeNodesFromSelection: function (nodes) {\r\n      if (nodes) {\r\n        var selectedNodes = this.getAllSelectedNodes();\r\n        _.each(nodes, function (node) {\r\n          selectedNodes.remove(node, {silent: true});\r\n        }, this);\r\n        selectedNodes.reset(_.clone(selectedNodes.models));\r\n      }\r\n    }\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/controls/tile/behaviors/blocking.behavior',['csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/controls/progressblocker/blocker'\r\n], function (_, Marionette, BlockingView) {\r\n  'use strict';\r\n\r\n  var BlockingBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function BlockingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      var blockingParentView = getOption.call(this, 'blockingParentView', options);\r\n      if (blockingParentView) {\r\n        BlockingView.delegate(view, blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(view);\r\n      }\r\n\r\n      if (this.collection) {\r\n        view.listenTo(view.collection, \"request\", view.blockActions)\r\n            .listenTo(view.collection, \"sync\", view.unblockActions)\r\n          // TODO: Find a better workaround for model.destroy relaying request\r\n          // event to the collection but not the sync and error events\r\n            .listenTo(view.collection, \"destroy\", view.unblockActions)\r\n            .listenTo(view.collection, \"error\", view.unblockActions);\r\n      }\r\n      if (view.model) {\r\n        view.listenTo(view.collection, \"request\", view.blockActions)\r\n            .listenTo(view.collection, \"sync\", view.unblockActions)\r\n            .listenTo(view.collection, \"error\", view.unblockActions);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, options) {\r\n    options = this.options || options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return BlockingBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tile/behaviors/infinite.scrolling.behavior',['require', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/marionette'\r\n], function (require, $, _, Marionette) {\r\n  \"use strict\";\r\n\r\n  var InfiniteScrollingBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      content: null,\r\n      contentParent: null,\r\n      fetchMoreItemsThreshold: 95\r\n    },\r\n\r\n    constructor: function ScrollingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      var bindEvent = getOption.call(this,'bindEvent') || 'render';\r\n      var unbindEvent = getOption.call(this,'unbindEvent') || 'before:destroy';\r\n      this.listenTo(view, bindEvent, this._bindScrollingEvents);\r\n      this.listenTo(view, unbindEvent, this._unbindScrollingEvents);\r\n    },\r\n\r\n    _bindScrollingEvents: function () {\r\n      var contentParent = this.__contentParent = getOption.call(this, 'contentParent');\r\n      if (this._contentParent) {\r\n        this._contentParent.off('scroll.' + this.view.cid);\r\n      }\r\n      this._contentParent = contentParent ? this.view.$(contentParent) : this.view.$el;\r\n      this._contentParent.on('scroll.' + this.view.cid, _.bind(this._checkScrollPosition, this));\r\n    },\r\n\r\n    _checkScrollPosition: function () {\r\n      var content = getOption.call(this, 'content');\r\n      this._content = content ? this.view.$(content) :\r\n                      this.__contentParent ? this._contentParent.children().first() : this.view.$el;\r\n      var fetchMoreItemsThreshold = getOption.call(this, 'fetchMoreItemsThreshold') || this.defaults.fetchMoreItemsThreshold;\r\n      var contentHeight;\r\n      if (this._content.length === 1) {\r\n        contentHeight = this._content.outerHeight(true);\r\n      } else {\r\n        contentHeight = _.reduce(this._content, function (sum, el) {return sum + $(el).outerHeight(true)}, 0);\r\n      }\r\n      var parentHeight         = this._contentParent.height(),\r\n          scrollTop            = this._contentParent.scrollTop(),\r\n          scrollablePercentage;\r\n      // old formula: (all that was scrolled) / (all that is scrollable)\r\n      // scrollablePercentage = scrollTop * 100 / (contentHeight - parentHeight);\r\n      // this is wrong: it results in a division by zero error when contentHeight equals parentHeight.\r\n      // Also the more you scroll down, the larger is the absolute distance to the end, when a fetch\r\n      // is triggered and it can end up in multiple fetches with one scroll tick.\r\n      // new formula: (height of the visible part of the last page) / (height of viewable area)\r\n      // regardless how much you scroll, fetch is triggered at the same absolute distance to the end.\r\n      scrollablePercentage = (parentHeight - (contentHeight - scrollTop - parentHeight))*100/parentHeight;\r\n      if (scrollablePercentage >= fetchMoreItemsThreshold) {\r\n        this._checkScrollPositionFetch();\r\n      }\r\n    },\r\n\r\n    _checkScrollPositionFetch: function () {\r\n      var collection = this.view.collection;\r\n      if (collection.length < collection.totalCount && !collection.fetching &&\r\n          collection.skipCount < collection.length) {\r\n        if (this.fetching) {\r\n          // if another scroll event is triggered while fetch is still in progress, ignore.\r\n          return;\r\n        }\r\n        this.fetching = true;\r\n        var self = this;\r\n        this.view.trigger('before:collection:scroll:fetch');\r\n        collection.setSkip(collection.length, false);\r\n        collection.fetch({\r\n          reset: false,\r\n          remove: false,\r\n          merge: false,\r\n          success: function () {\r\n            delete self.fetching;\r\n            self.view.trigger('collection:scroll:fetch');\r\n          },\r\n          error: function() {\r\n            delete self.fetching;\r\n            self.view.trigger('collection:scroll:fetch:error');\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    _unbindScrollingEvents: function () {\r\n      if (this._contentParent) {\r\n        this._contentParent.off('scroll.' + this.view.cid);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property) {\r\n    var options = this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? value.call(this.view) : value;\r\n  }\r\n\r\n  return InfiniteScrollingBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tile/behaviors/parent.scrollbar.updating.behavior',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior'\r\n], function (_, $, Marionette, PerfectScrollingBehavior) {\r\n  'use strict';\r\n\r\n  var ParentScrollbarUpdatingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function ParentScrollbarUpdatingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n      // Set when before:swapOut is triggered and reset when its finishing\r\n      // counterpart is triggered to optimize the event handlers for view\r\n      // swapping in the region\r\n      this._swapping = false;\r\n      \r\n      // Support scrollbar updates on populating and emptying regions\r\n      this\r\n          .listenTo(this, 'before:swapOut', function () {\r\n            this._swapping = true;\r\n          })\r\n          .listenTo(this, 'swapOut', function () {\r\n            this._swapping = false;\r\n          })\r\n          .listenTo(this, 'show', function () {\r\n            this._requestScrollbarUpdate();\r\n          })\r\n          .listenTo(this, 'empty', function () {\r\n            if (!this._swapping) {\r\n              this._requestScrollbarUpdate();\r\n            }\r\n          });\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // There is no connection from the current view in the region to the layout\r\n      // view, which could be used for event triggering.  Use DOM event bubbling\r\n      // as a workaround to reach the parent views.\r\n      // {this.region}.{owning region manager}.{owning layout view}\r\n      triggerScrollbarUpdate(this._parent._parent);\r\n    }\r\n\r\n  });\r\n\r\n  var ParentScrollbarUpdatingBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function ParentScrollbarUpdatingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      if (PerfectScrollingBehavior.usePerfectScrollbar()) {\r\n        var updateOnWindowResize = getOption.call(this, 'updateOnWindowResize');\r\n        // Increase when before:render and before:render:collection events\r\n        // are triggered and decrease, when their finishing counterparts are\r\n        // triggered to optimize the event handlers for single view adding\r\n        // or removal\r\n        this._renderState = 0;\r\n        \r\n        this\r\n        // Maintain the rendering state for the events triggered between\r\n        // before:render and render\r\n            .listenTo(view, 'before:render', function () {\r\n              this._renderState = 1;\r\n            })\r\n            .listenTo(view, 'render', function () {\r\n              this._renderState = 0;\r\n              this._requestScrollbarUpdate();\r\n            })\r\n            // Listen to requests for an explicit scrollbar update\r\n            .listenTo(view, 'update:scrollbar', this._requestScrollbarUpdate)\r\n            // Delay listening to the collection events; the collection may\r\n            // not be present in the view or its options yet\r\n            .listenToOnce(view, 'before:render', function () {\r\n              if (updateOnWindowResize) {\r\n                $(window).on('resize.' + view.cid, _.bind(this._updateScrollbar, this));\r\n                this.listenToOnce(view, 'before:destroy', function () {\r\n                  $(window).off('resize.' + view.cid);\r\n                });\r\n              }\r\n              // Support optimized adding and removing child views\r\n              // in CollectionView, which does not call render\r\n              if (view instanceof Marionette.CollectionView && view.collection) {\r\n                this\r\n                    .listenTo(view.collection, 'reset', function () {\r\n                      this._resetTriggered = true;\r\n                    })\r\n                    .listenTo(view, 'before:render:collection', function () {\r\n                      ++this._renderState;\r\n                    })\r\n                    .listenTo(view, 'render:collection', function () {\r\n                      this._resetTriggered = false;\r\n                      --this._renderState;\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, single child view updates were skipped\r\n                      if (!this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'render:empty', function () {\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, no child view updates were performed\r\n                      if (this._resetTriggered || !this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'add:child', function () {\r\n                      // If a child view was added alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'remove:child', function () {\r\n                      // If a child view was removed alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._resetTriggered && !this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    });\r\n              }\r\n            });\r\n      }\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // ChildView should proxy all events to its parent with the 'childview:'\r\n      // prefix, but this concept supports only CollectionView.  Use DOM event\r\n      // bubbling as a workaround to reach the parent views.\r\n      triggerScrollbarUpdate(this.view);\r\n    }\r\n\r\n  }, {\r\n\r\n    // Support showing and emptying regions in LayoutView,\r\n    // which does not call render\r\n    Region: ParentScrollbarUpdatingRegion\r\n\r\n  });\r\n\r\n  function triggerScrollbarUpdate(view) {\r\n    // console.log('Updating parent scrollbar requested in',\r\n    //     Object.getPrototypeOf(view).constructor.name);\r\n    $.event.trigger('csui:update:scrollbar', {view: view}, view.el, false);\r\n  }\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, source) {\r\n    var options = source || this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return ParentScrollbarUpdatingBehavior;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tile/behaviors/impl/searching.behavior',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<form class=\\\"search-box binf-hidden\\\">\\r\\n  <input class=\\\"search\\\" type=\\\"search\\\" placeholder=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"searchPlaceholder\") || (depth0 != null ? lookupProperty(depth0,\"searchPlaceholder\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"searchPlaceholder\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":51},\"end\":{\"line\":2,\"column\":72}}}) : helper)))\n    + \"\\\" style=\\\"display: none\\\">\\r\\n  <span class=\\\"clearer csui-icon formfield_clear\\\"></span>\\r\\n</form><span class=\\\"icon icon-search\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"searchIconTitle\") || (depth0 != null ? lookupProperty(depth0,\"searchIconTitle\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"searchIconTitle\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":45},\"end\":{\"line\":4,\"column\":64}}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"searchIconAria\") || (depth0 != null ? lookupProperty(depth0,\"searchIconAria\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"searchIconAria\",\"hash\":{},\"loc\":{\"start\":{\"line\":4,\"column\":78},\"end\":{\"line\":4,\"column\":96}}}) : helper)))\n    + \"\\\" role=\\\"button\\\"></span>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tile_behaviors_impl_searching.behavior', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/tile/behaviors/searching.behavior',['csui/lib/underscore', 'csui/lib/marionette',\r\n  'hbs!csui/controls/tile/behaviors/impl/searching.behavior',\r\n  'csui/lib/jquery.ui/js/jquery-ui'\r\n], function (_, Marionette, template) {\r\n  \"use strict\";\r\n\r\n  var SearchingBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      searchPlaceholder: 'Type to filter',\r\n      headerTitle: '.tile-title',\r\n      searchButton: '.tile-controls'\r\n    },\r\n\r\n    ui: function () {\r\n      var headerTitle = getOption.call(this, 'headerTitle');\r\n      return {\r\n        headerTitle: headerTitle,\r\n        searchBox: '.search-box',\r\n        searchInput: '.search',\r\n        clearer: '.clearer'\r\n      };\r\n    },\r\n\r\n    triggers: {\r\n      'click .icon-search': 'toggle:search'\r\n    },\r\n\r\n    constructor: function SearchingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(view, 'render', this._renderSearchButton);\r\n      this.listenTo(view, 'toggle:search', this._toggleSearching);\r\n    },\r\n\r\n    _renderSearchButton: function () {\r\n      var searchButtonSelector = getOption.call(this, 'searchButton'),\r\n          searchButton         = this.view.$(searchButtonSelector),\r\n          searchPlaceholder    = getOption.call(this, 'searchPlaceholder'),\r\n          iconTitle = getOption.call(this, 'searchIconTitle'),\r\n          searchIconTitle = iconTitle ? iconTitle : 'Search',\r\n          iconAria = getOption.call(this, 'searchIconAria'),\r\n          searchIconAria = iconAria ? iconAria : searchIconTitle,\r\n          data                 = {\r\n            searchPlaceholder: searchPlaceholder,\r\n            searchIconTitle: searchIconTitle,\r\n            searchIconAria: searchIconAria\r\n          };\r\n      searchButton.html(template(data));\r\n      this.view._bindUIElements.call(this);\r\n    },\r\n\r\n    _toggleSearching: function () {\r\n      var self = this;\r\n      this.ui.searchInput.val('');\r\n      this.ui.clearer.toggle(false);\r\n      this.ui.headerTitle.toggle('fade');\r\n      this.ui.searchBox.removeClass('binf-hidden');\r\n      this.ui.searchInput.toggle('blind', {direction: 'right'}, 200, function () {\r\n        if (self.ui.searchInput.is(\":visible\")) {\r\n          self.ui.searchInput.trigger('focus');\r\n        }\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property) {\r\n    var options = this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return SearchingBehavior;\r\n\r\n});\r\n\n","/**\r\n * Behaviour applied to draggable item, works along with dnd.container.behaviour.js\r\n */\r\ncsui.define('csui/behaviors/drag.drop/dnd.item.behaviour',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/lib/backbone'\r\n], function (_, $, Marionette, Backbone) {\r\n\r\n  var DragAndDropItemBehaviour = Marionette.Behavior.extend({\r\n    constructor: function DragAndDropItemBehaviour(options, view) {\r\n      this.view = view;\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this._registerListeners();\r\n    },\r\n\r\n    _registerListeners: function () {\r\n      this.listenTo(this.view, 'render', this._initDnD);\r\n    },\r\n\r\n    _initDnD: function () {\r\n      this.$el.addClass(DragAndDropItemBehaviour.DRAGGABLE_CLASSNAME);\r\n      this.$el.attr(DragAndDropItemBehaviour.DRAGGABLE_DATA_ATTR, this.view.model.cid);\r\n    }\r\n  }, {\r\n    DRAGGABLE_CLASSNAME: 'csui-draggable-item',\r\n    DRAGGABLE_DATA_ATTR: 'data-csui-draggable-item'\r\n  });\r\n\r\n  return DragAndDropItemBehaviour;\r\n});\n","csui.define('csui/behaviors/drag.drop/dnd.container.behaviour',['require', 'i18n', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/lib/backbone', 'csui/behaviors/drag.drop/dnd.item.behaviour',\r\n  'csui/lib/jquery.ui/js/jquery-ui'\r\n], function (require, i18n, _, $, Marionette, Backbone, DnDItemBehaviour) {\r\n\r\n  var DragAndDropContainerBehaviour = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      placeholder: undefined, // a class or function. Undefined represents close of original element\r\n      handle: undefined, // Restricts sort start click to the specified element.\r\n      draggableItem: '.' + DnDItemBehaviour.DRAGGABLE_CLASSNAME,\r\n      disableDraggable: '.csui-draggable-item-disable',\r\n      over: false,\r\n      receive: false,\r\n      helper: \"original\" // Use original element as drag image\r\n    },\r\n\r\n    constructor: function DragAndDropContainerBehaviour(options, view) {\r\n      this.view = view;\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.view, 'render', this._initSorting);\r\n    },\r\n\r\n    _getPlaceholder: function (currentItem) {\r\n      var placeholder = this.options.placeholder;\r\n      if (!placeholder || _.isString(placeholder)) {\r\n        var className = placeholder;\r\n        placeholder = function () {\r\n          var nodeName = currentItem[0].nodeName.toLowerCase(),\r\n              element  = $(\"<\" + nodeName + \">\");\r\n\r\n          element.addClass(\"ui-sortable-placeholder\")\r\n              .addClass(className || currentItem[0].className)\r\n              .removeClass(\"ui-sortable-helper\");\r\n          return element;\r\n        };\r\n      }\r\n      return placeholder.call(this, currentItem);\r\n    },\r\n\r\n    _initSorting: function () {\r\n      var self = this;\r\n      this.view.$el.addClass('csui-dnd-container');\r\n      this.$el.sortable({\r\n        items: this.options.draggableItem,\r\n        cancel: this.options.disableDraggable,\r\n        handle: this.options.handle,\r\n        placeholder: {\r\n          element: this._getPlaceholder.bind(this),\r\n          update: function () {}\r\n        },\r\n        helper: this.options.helper,\r\n        start: this._onSortStart.bind(this),\r\n        stop: this._onSortStop.bind(this),\r\n        over: this.options.over,\r\n        out: this.options.out,\r\n        receive: this.options.receive\r\n      });\r\n    },\r\n\r\n    _onSortStart: function (event, ui) {\r\n      this.$el.addClass('csui-drag-start');\r\n      this.options.start && this.options.start(event, ui);\r\n    },\r\n\r\n    /**\r\n     * Update respective Backbone colleciton on DOM changes\r\n     */\r\n    _onSortStop: function (event, ui) {\r\n      this.$el.removeClass('csui-drag-start');\r\n      var dragItemId = ui.item.attr(DnDItemBehaviour.DRAGGABLE_DATA_ATTR);\r\n      var model = this.view.collection.get(dragItemId);\r\n      var modelIndex = this.view.collection.indexOf(model);\r\n      var updatedIndex = this.$el.find('[data-csui-draggable-item=' + dragItemId + ']').index();\r\n      if (modelIndex === updatedIndex) {\r\n        // DOM placement not changes.. no collection update required.\r\n        return;\r\n      }\r\n      this.view.collection.remove(model, {silent: true});\r\n      this.view.collection.add(model, {at: updatedIndex, silent: true});\r\n      // Trigger sort to let CollectionView reorder views according to collection order modifications.\r\n      this.view.collection.trigger('sort');\r\n      this.options.stop && this.options.stop(event, ui);\r\n    }\r\n  });\r\n\r\n  return DragAndDropContainerBehaviour;\r\n});\r\n\n","csui.define('csui/perspectives/impl/nls/lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n  });\r\n  \n","csui.define('csui/perspectives/impl/nls/root/lang',{\r\n  invalidWidgetOptions: 'Some widgets have options that require values before the perspective can be saved. Please click on each of the highlighted widgets and check for any required options that have missing values.',\r\n  invalidWidget: 'Some widgets are not configurable. Please remove these widgets to save.',\r\n  widgetsMigrated: 'Single shortcut widgets were converted to shortcut group widgets.',\r\n  widgetValidationFailed: 'Validation failed for some of the widgets.'\r\n});\n","\n","csui.define(\r\n    'csui/perspectives/mixins/perspective.edit.mixin',['require', 'csui/lib/underscore', 'csui/lib/jquery', \"csui/utils/log\",\r\n      'i18n!csui/perspectives/impl/nls/lang', 'csui/models/node/node.model',\r\n      'csui/models/widget/widget.model',\r\n      'csui/utils/contexts/factories/connector', 'csui/utils/perspective/perspective.util'],\r\n    function (require, _, $, log, lang, NodeModel, WidgetModel, ConnectorFactory, PerspectiveUtil) {\r\n      'use strict';\r\n      /**\r\n       * Mix provides supported functionality required for Perspective Inline Editing\r\n       */\r\n          // used for constant extraction, fields which when specified must be replaced with constants\r\n          // when perspective is transported\r\n      var CONSTANT_FIELD_TYPES = ['otcs_node_picker', 'otconws_workspacetype_id',\r\n            'otcs_user_picker', 'otconws_metadata'];\r\n\r\n      var PerspectiveEditMixin = {\r\n        mixin: function (prototype) {\r\n          return _.extend(prototype, {\r\n\r\n            /**\r\n             * Get prepare for perspective edit. Add required event listeners\r\n             */\r\n            prepareForEditMode: function () {\r\n              this.listenTo(this, 'update:widget:options',\r\n                  function (config) {\r\n                    var widget = config.widgetView.model.get('widget');\r\n                    if (widget.type === 'csui/perspective.manage/widgets/perspective.widget') {\r\n                      widget = widget.options;\r\n                    }\r\n                    widget.options = config.options;\r\n                    config.widgetView.model.set('hasValidOptions', config.isValid, {\r\n                      silent: true\r\n                    });\r\n                  });\r\n            },\r\n\r\n            _notifyAboutWidgetMigrations: function () {\r\n              require([\r\n                'csui/controls/globalmessage/globalmessage'\r\n              ], function (GlobalMessage) {\r\n                // Perspective save success\r\n                GlobalMessage.showMessage(\"info\", lang.widgetsMigrated);\r\n              });\r\n            },\r\n\r\n            /**\r\n             * Loads View and Manifest of the widgets provided\r\n             *\r\n             * @param {Array<{type: \"\"}>} widgets\r\n             */\r\n            _resolveWidgets: function (widgets) {\r\n              var self          = this,\r\n                  deferred      = $.Deferred(),\r\n                  uniqueWidgets = _.chain(widgets)\r\n                      .pluck('type')\r\n                      .unique()\r\n                      .map(function (id) {\r\n                        return {id: id};\r\n                      })\r\n                      .value(),\r\n                  allWidgets    = _.map(uniqueWidgets, function (w) {\r\n                    return self._resolveWidget(w, true);\r\n                  });\r\n\r\n              function resolveDeprecates(widgetModel, widget) {\r\n                if (widgetModel.useInstead) {\r\n                  var migratedView = widgetModel.useInstead.get('view');\r\n                  if (_.isFunction(migratedView.migrateData)) {\r\n                    // Migrate data also to new widget\r\n                    widget.options = migratedView.migrateData(widget.type, widget.options);\r\n                  }\r\n                  widget.type = widgetModel.useInstead.id;\r\n                  widget.view = migratedView;\r\n                  return resolveDeprecates(widgetModel.useInstead, widget);\r\n                }\r\n                return widgetModel;\r\n              }\r\n\r\n              $.whenAll.apply($, allWidgets).always(function (resolvedWidgets) {\r\n                var foundDeprecatedWidgets = false,\r\n                    byId                   = {};\r\n                _.each(uniqueWidgets, function (w, index) {\r\n                  byId[w.id] = resolvedWidgets[index];\r\n                });\r\n\r\n                var result = _.map(widgets, function (widget) {\r\n                  var widgetModel = byId[widget.type];\r\n                  var finalWidget = resolveDeprecates(widgetModel, widget);\r\n                  if (widgetModel !== finalWidget) {\r\n                    // Migrated\r\n                    foundDeprecatedWidgets = true;\r\n                  }\r\n                  return finalWidget;\r\n                });\r\n                if (foundDeprecatedWidgets) {\r\n                  self._notifyAboutWidgetMigrations();\r\n                }\r\n                deferred.resolve(result);\r\n              });\r\n              return deferred;\r\n            },\r\n\r\n            _resolveWidget: function (widget, supressError) {\r\n              var self            = this,\r\n                  deferred        = $.Deferred(),\r\n                  _errorHandler   = function (error) {\r\n                    if (supressError) {\r\n                      deferred.resolve(widgetModel);\r\n                    } else {\r\n                      deferred.reject(error);\r\n                    }\r\n                  },\r\n                  _successHandler = function () {\r\n                    var manifest = widgetModel.get('manifest');\r\n                    if (!self._isPersonalizeMode() && manifest.deprecated && manifest.useInstead) {\r\n                      widgetModel.deprecated = manifest.deprecated;\r\n                      self._resolveWidget({id: manifest.useInstead}).then(function (userInstead) {\r\n                        widget.view = userInstead.view;\r\n                        widgetModel.useInstead = userInstead;\r\n                        deferred.resolve(widgetModel);\r\n                      }, _errorHandler);\r\n                    } else {\r\n                      widget.view = widgetModel.get('view');\r\n                      deferred.resolve(widgetModel);\r\n                    }\r\n                  };\r\n              var widgetModel = new WidgetModel({id: widget.id || widget.type});\r\n              widgetModel.fetch().then(_successHandler, _errorHandler);\r\n              return deferred.promise();\r\n            },\r\n\r\n            /**\r\n             * Serialize widget options\r\n             */\r\n            serializeWidget: function (model, constantsDataSeed) {//constantsDataSeed: path for constant extraction\r\n              var deferred = $.Deferred();\r\n              var widget = model.get('widget');\r\n              if (widget.type === 'csui/widgets/error') {\r\n                // Error widget indicates, original cannot load / initial widget. Respoective module might be uninstalled later.\r\n                // Hence cannot be configurated. So retain configuration of original widget.\r\n                widget = widget.options.originalWidget;\r\n                // TODO Take care of constant data as it cannot be evaluated now since widget is not available.\r\n                widget = _.pick(widget, 'type', 'kind', 'options',\r\n                    PerspectiveUtil.getExtraWidgetKeys());\r\n                deferred.resolve({\r\n                  widget: widget,\r\n                });\r\n                return deferred.promise();\r\n              }\r\n              if (model.get('hasValidOptions') !== false) {\r\n                // Has valid form options\r\n                var type    = widget.type,\r\n                    options = widget.options;\r\n                delete options.___pman_opencallout;\r\n                if (type === 'csui/perspective.manage/widgets/perspective.widget') {\r\n                  type = options.widget.id;\r\n                  widget.type = type;\r\n                  options = options.options;\r\n                  if(type === \"csui/widgets/html.editor\"){\r\n                    widget.options = options;\r\n                  }\r\n                }\r\n                options = PerspectiveEditMixin.removeNullsInObject(options);\r\n                //Fetch widget model for the widget\r\n                this._resolveWidget(widget).done(_.bind(function (widgetModel) {\r\n                  var widgetManifest = widgetModel ? widgetModel.get('manifest') :\r\n                      {},\r\n                      properties     = widgetManifest && widgetManifest.options ?\r\n                                       widgetManifest.options : {};\r\n                  var constantsData = [];\r\n                  this.collectionConstantData(options, properties, constantsData,\r\n                      constantsDataSeed + '/options');\r\n                  widget = _.pick(widget, 'type', 'kind', PerspectiveUtil.getExtraWidgetKeys());\r\n                  widget.options = options;\r\n                  deferred.resolve({\r\n                    widget: widget,\r\n                    constantsData: constantsData\r\n                  });\r\n                }, this)).fail(function (error) {\r\n                  deferred.reject({\r\n                    error: lang.invalidWidget\r\n                  });\r\n                });\r\n              } else {\r\n                // Invalid options form\r\n                deferred.reject({\r\n                  error: lang.invalidWidgetOptions\r\n                });\r\n              }\r\n              return deferred.promise();\r\n            },\r\n\r\n            //Collect attributes if any, which are needed to be replaced with constants\r\n            collectionConstantData: function (data, options, constants, seed) {\r\n              if (_.isEmpty(options)) {\r\n                return;\r\n              }\r\n              if (_.isArray(data)) {\r\n                //data contains items which are to be traversed\r\n                _.each(data, function (value, key) {\r\n                  this.collectionConstantData(value, options.items, constants, seed + '/' + key);\r\n                }, this);\r\n              } else if (_.isObject(data)) {\r\n                //data contains fields which are to be traversed\r\n                _.each(data, function (value, key) {\r\n                  if (!!options.fields && !!options.fields[key]) {\r\n                    this.collectionConstantData(value, options.fields[key], constants,\r\n                        seed + '/' + key);\r\n                  }\r\n                }, this);\r\n              } else if (CONSTANT_FIELD_TYPES.indexOf(options.type) !== -1) {\r\n                //attribute which constant generation\r\n                constants.push({\r\n                  type: options.type,\r\n                  path: seed\r\n                });\r\n              }\r\n            },\r\n\r\n            _isPersonalizeMode: function() {\r\n              return this.options.perspectiveMode === PerspectiveUtil.MODE_PERSONALIZE;\r\n            },\r\n\r\n            /**\r\n             * Execute callbacks if any, once for each widget type in current perspective\r\n             */\r\n            executeCallbacks: function (models, perspectiveModel, context) {\r\n              // Avoid executing callbacks in \"Personalize\" mode\r\n              if (this._isPersonalizeMode()) {\r\n                // Executing callbacks in \"Personalize\" mode is not required \r\n                // since only widget that can be created / configurated in personalize mode is shortcuts \r\n                // which doesn't need to callback execution.\r\n                return $.Deferred().resolve().promise();\r\n              }\r\n              this.perspectiveWidgets = models;\r\n              var deferred = $.Deferred();\r\n              models = _.filter(models, function (config) {\r\n                return config.widget.type !== 'csui/widgets/error';\r\n              });\r\n              this.loadCallbacks(models).then(_.bind(function (widgetsWithCallback) {\r\n                var promises = _.map(widgetsWithCallback,\r\n                    _.bind(function (widgetWithCallback) {\r\n                      return this.initializeWidget(widgetWithCallback, perspectiveModel, context);\r\n                    }, this));\r\n                $.whenAll.apply($, promises)\r\n                    .then(function () {\r\n                      deferred.resolve();\r\n                    }, function (error) {\r\n                      deferred.reject(error);\r\n                    });\r\n              }, this));\r\n              return deferred.promise();\r\n            },\r\n\r\n            loadCallbacks: function (models) {\r\n              var self     = this,\r\n                  deferred = $.Deferred(),\r\n                  promises = _.chain(models)\r\n                      .groupBy(function (model) {\r\n                        return model.widget.type;\r\n                      })\r\n                      .map(function (widgetType) {\r\n                        var deferredEach = $.Deferred();\r\n                        self._resolveWidget(_.pick(widgetType[0].widget, 'type')).done(\r\n                            function (widgetModel) {\r\n                              var widgetManifest = widgetModel ? widgetModel.get('manifest') :\r\n                                                   false,\r\n                                  widgetCallback = widgetManifest ? widgetManifest.callback : false;\r\n                              if (widgetCallback) {\r\n                                require([widgetCallback], function (callback) {\r\n                                  if (callback && _.isFunction(callback)) {\r\n                                    widgetModel.type = widgetModel.id;\r\n                                    deferredEach.resolve(_.extend(widgetModel, new callback()));\r\n                                  } else {\r\n                                    deferredEach.reject();\r\n                                  }\r\n                                }, function (error) {\r\n                                  log.warn('Failed to load callback. {0}', error);\r\n                                  deferredEach.reject(error);\r\n                                });\r\n                              } else {\r\n                                deferredEach.resolve();\r\n                              }\r\n                            }).fail(function () {\r\n                          // Ingore errors here since those were handled while serializing widget. For ex, Error Widget etc.,\r\n                          deferredEach.resolve();\r\n                        });\r\n                        return deferredEach.promise();\r\n                      })\r\n                      .compact()\r\n                      .value();\r\n              $.whenAll.apply($, promises)\r\n                  .then(function (results) {\r\n                    deferred.resolve(_.compact(results));\r\n                  });\r\n              return deferred.promise();\r\n            },\r\n\r\n            initializeWidget: function (widgetWithCallback, perspectiveModel, context) {\r\n              var deferred   = $.Deferred(),\r\n                  widgets    = _.filter(this.perspectiveWidgets, function (widget) {\r\n                    return widget.widget.type === widgetWithCallback.type;\r\n                  }),\r\n                  mode       = perspectiveModel.get('id') ? 'update' :\r\n                               'create',\r\n                  settings   = {\r\n                    priority: parseInt(perspectiveModel.get('priority')) || undefined,\r\n                    title: perspectiveModel.get('title') || '',\r\n                    overrideType: perspectiveModel.get('overrideType'),\r\n                    scope: perspectiveModel.get('scope') || '',\r\n                    containerType: parseInt(perspectiveModel.get('containerType')) ||\r\n                                   undefined,\r\n                    perspectiveParentId: parseInt(perspectiveModel.get('override_id')) ||\r\n                                         parseInt(perspectiveModel.get('perspectivesVolId')) ||\r\n                                         undefined,\r\n                    overrideObjId: parseInt(perspectiveModel.get('node')) || undefined,\r\n                    assetContainerId: perspectiveModel.get('assetContainerId') || undefined\r\n                  },\r\n                  parameters = {\r\n                    mode: mode,\r\n                    widgets: widgets,\r\n                    settings: settings,\r\n                    connector: context.getObject(ConnectorFactory)\r\n                  };\r\n              if (mode == 'update') {\r\n                //TODO implement getPreviousWidgets for all perspectives other than flow perspective\r\n                var previousPerspectiveWidgets = this.getPreviousWidgets &&\r\n                                                 this.getPreviousWidgets(perspectiveModel);\r\n                parameters.previousWidgets = _.filter(previousPerspectiveWidgets,\r\n                    function (widget) {\r\n                      return widget.widget.type === widgetWithCallback.type;\r\n                    });\r\n              }\r\n              var callbackPromise = this.getHiddenWidgetOptions(widgetWithCallback, parameters,\r\n                  perspectiveModel),\r\n                  that            = this;\r\n              $.when(callbackPromise)\r\n                  .done(_.bind(function (responseParameters) {\r\n                    //TODO refactor the execution of retrieving and validating new widget options\r\n                    /*var responseWidgets = (_.has(responseParameters, 'widgets')) ?\r\n                                               responseParameters.widgets : [];\r\n\r\n                        // iterate the returned widgets array to get new options\r\n                        _.each(responseWidgets, _.bind(function (item) {\r\n                          if (_.has(item, 'newOptions') && _.isObject(item.newOptions)) {\r\n                            //TODO refactor with appropriate attributes\r\n                            var existingObjPath = 'perspective' +\r\n                                                  this.convertJSONPointerToPath(item.widgetBaseLocation),\r\n                                existingObj     = this.getDeepProperty(perspectiveModel,\r\n                                    existingObjPath);\r\n\r\n                            // options before changes\r\n                            item.oldOptions = _.deepClone(item.widget.options);\r\n                            // iterate the widget options and remove any bogus properties that have not been defined in the widget's manifest\r\n                            _.each(item.newOptions, function (value, key) {\r\n                              var manifest=widgetWithCallback.get('manifest');\r\n                              if (!_.has(manifest.schema.properties, key) ||\r\n                                  !_.has(manifest.options.fields[key], 'hidden') ||\r\n                                  !manifest.options.fields[key].hidden) {\r\n                                delete(item.newOptions[key]);\r\n                              }\r\n                            });\r\n                            // update the options\r\n                            _.deepExtend(existingObj, item.newOptions);\r\n                          }\r\n                      }, this));*/\r\n                    deferred.resolve();\r\n                  }, this))\r\n                  .fail(function (error) {\r\n                    deferred.reject(error[0] || error);\r\n                  });\r\n              return deferred.promise();\r\n            },\r\n\r\n            getHiddenWidgetOptions: function (widgetWithCallback, parameters, perspectiveModel) {\r\n              var deferredOptions        = $.Deferred(),\r\n                  deferredContainer      = $.Deferred(),\r\n                  widgetPromises         = [],\r\n                  errors                 = [],\r\n                  ensureContainerPromise = deferredContainer.promise(), // note: no response argument - i.e. an empty promise\r\n                  useOverrideContainer   = false;\r\n\r\n              // check that the callback object is valid\r\n              if (!widgetWithCallback || !_.has(widgetWithCallback, 'defineWidgetOptionsCommon') ||\r\n                  !_.has(widgetWithCallback, 'defineWidgetOptionsEach')) {\r\n                deferredOptions.reject();\r\n                return deferredOptions.promise();\r\n              }\r\n\r\n              // the callback should have an ensureContainer() function that returns a promise\r\n              if (_.has(widgetWithCallback, 'ensureContainer') &&\r\n                  _.isFunction(widgetWithCallback.ensureContainer)) {\r\n                // call ensureContainer() function to create a container in the assets volume\r\n                if (widgetWithCallback.ensureContainer(parameters)) {\r\n                  ensureContainerPromise = this.ensureContainer(parameters);\r\n                } else {\r\n                  useOverrideContainer = true;\r\n                }\r\n              } else {\r\n                useOverrideContainer = true;\r\n              }\r\n\r\n              if (useOverrideContainer) {\r\n                // no need to call ensureContainer(), so resolve with an empty promise\r\n                deferredContainer.resolve();\r\n              }\r\n\r\n              $.when(ensureContainerPromise).done(function (response) {\r\n                // when asset container is known to exist\r\n\r\n                if (!_.has(parameters.settings, 'assetContainerId') ||\r\n                    _.isUndefined(parameters.settings.assetContainerId)) {\r\n                  // the assetContainerId is the id of where the asset will be added. e.g. either in the Perspective Assets Volume, or the container that the perspective overrides\r\n                  var id = (response) ? response.id : parameters.settings.overrideObjId, // no response if ensureContainer was an empty promise\r\n                      ac = {assetContainerId: id};\r\n\r\n                  _.extend(parameters.settings, ac); // the containerId is required by the callback\r\n                  perspectiveModel.set(ac);\r\n                }\r\n\r\n                var promiseBefore = widgetWithCallback.defineWidgetOptionsCommon(parameters);\r\n\r\n                // check callback returns something that looks like a promise\r\n                if (!promiseBefore || typeof promiseBefore != 'object' ||\r\n                    !_.has(promiseBefore, 'state')) {\r\n                  // looks like the callback didn't return a promise, so reject the deferred and return from this function immediately\r\n                  deferredOptions.reject();\r\n                  return deferredOptions.promise();\r\n                }\r\n\r\n                // when common options have been processed\r\n                $.when(promiseBefore).done(function (commonOptions) {\r\n                  if (_.has(parameters, 'widgets') && _.isArray(parameters.widgets)) {\r\n\r\n                    _.each(parameters.widgets, function (item, index) {\r\n                      // first add any common option properties\r\n\r\n                      if (!_.has(item, 'newOptions')) {\r\n                        item.newOptions = {};\r\n                      }\r\n\r\n                      _.extend(item.newOptions, commonOptions);\r\n\r\n                      // next apply any widget-specific options\r\n                      widgetPromises.push(widgetWithCallback.defineWidgetOptionsEach(item,\r\n                          parameters));\r\n                      $.when(widgetPromises[index])\r\n                          .done(function (newOptions) {\r\n                            _.extend(item.newOptions, newOptions);\r\n                          })\r\n                          .fail(function (errorMsg) {\r\n                            errors.push(errorMsg); // error returned by user-extended _eachWidgetOptions()\r\n                          });\r\n                    });\r\n\r\n                    // when all widgets have been processed\r\n                    $.when.apply(this, widgetPromises)\r\n                        .done(function () {\r\n                          // all done\r\n                          deferredOptions.resolve(parameters);\r\n                        })\r\n                        .fail(function (errorMsg) {\r\n                          errors.push(errorMsg);\r\n                          deferredOptions.reject(errors); // errors array returned to perspective manager\r\n                        });\r\n                  }\r\n\r\n                })\r\n                    .fail(function (errorMsg) {\r\n                      errors.push(errorMsg); // error returned by user-extended _eachWidgetOptions()\r\n                      deferredOptions.reject(errors);\r\n                    });\r\n              })\r\n                  .fail(function (error) {\r\n                    deferredContainer.reject(error);\r\n                    // Also reject the deferredOptions promise so the error is reported\r\n                    deferredOptions.reject([error]);\r\n                  });\r\n\r\n              return deferredOptions.promise();\r\n            },\r\n\r\n            ensureContainer: function (parameters) {\r\n              // ensures that a container exists for perspective assets created by callbacks.\r\n\r\n              var deferredContainer = $.Deferred();\r\n\r\n              function uniqueId() {\r\n                // using a timestamp alone does not guard against 2 users near-simultaneously attempting to create an asset container with the same name, whereas combination of timestamp and ~16 digit random suffix makes it practically impossible (1 in 1e+32)\r\n                return _.now() + Math.random().toString().substring(2);\r\n              }\r\n\r\n              //TODO: update scenario: need to identify if an assetcontainer exists and what it's ID is (it might not, if e.g. the perspective didn't previously contain a wiki tile)\r\n              if (_.has(parameters.settings, 'assetContainerId') &&\r\n                  !isNaN(parseInt(parameters.settings.assetContainerId))) {\r\n                // assetContainerId already exists, nothing to do\r\n                // this is the case if there are more than one wiki tiles\r\n                deferredContainer.resolve(false);\r\n              } else {\r\n                this.perspectiveAssetsVolume = new NodeModel(\r\n                    {\r\n                      id: 'volume',\r\n                      type: 954\r\n                    },\r\n                    {\r\n                      connector: parameters.connector\r\n                    });\r\n                this.perspectiveAssetsVolume.fetch().then(_.bind(function () {\r\n                  var collectOptions = {\r\n                    url: parameters.connector.connection.url + '/nodes',\r\n                    type: 'POST',\r\n                    data: {\r\n                      type: 955,\r\n                      parent_id: this.perspectiveAssetsVolume.get('id'),\r\n                      name: 'assets_' + uniqueId()\r\n                    },\r\n                    success: function (response) {\r\n                      deferredContainer.resolve(response);\r\n                    },\r\n                    error: function (error) {\r\n                      deferredContainer.reject(error.responseJSON);\r\n                    }\r\n                  };\r\n\r\n                  parameters.connector.makeAjaxCall(collectOptions).done(function (resp) {\r\n                    deferredContainer.resolve(resp);\r\n                  }).fail(function (resp) {\r\n                    deferredContainer.reject(resp);\r\n                  });\r\n                }, this));\r\n              }\r\n\r\n              return deferredContainer.promise();\r\n            },\r\n\r\n            /*convertJSONPointerToPath: function (jpath) {\r\n              // converts JSONPointer path notation to standard JS dotted/bracketed notation\r\n              if (jpath) {\r\n                var path = jpath.split('/');\r\n                path = path.reduce(function (memo, item) {\r\n                  if (Number(item)) {\r\n                    return memo + '[' + item + ']';\r\n                  } else {\r\n                    return memo + '.' + item;\r\n                  }\r\n                });\r\n                return path;\r\n              }\r\n            },\r\n\r\n            getDeepProperty: function (obj, path) {\r\n              // gets properties deep within an object, by passing in a path string 'key' in dotted form e.g. 'foo.bar.thing'\r\n              var keys  = path.replace(/\\[([\"']?)([^\\1]+?)\\1?\\]/g, '.$2').replace(/^\\./,\r\n                      '').split('.'),\r\n                  value = false;\r\n\r\n              for (var i = 0, n = keys.length; i < n; i++) {\r\n                var property = keys[i];\r\n                if (property in obj) {\r\n                  obj = obj[property];\r\n                } else {\r\n                  return;\r\n                }\r\n              }\r\n              return obj;\r\n\r\n            }*/\r\n            getEmptyPlaceholderWidget: function (options) {\r\n              options || (options = this.options);\r\n              return {\r\n                type: PerspectiveUtil.getEmptyPlaceholderWidgetType(options.perspectiveMode),\r\n                className: 'csui-draggable-item-disable',\r\n                __isPlacehoder: true, // To differentiate this from general shortcutgroup widget\r\n                options: {}\r\n              };\r\n            },\r\n\r\n            isEmptyPlaceholder: function (widget) {\r\n              return PerspectiveUtil.isEmptyPlaceholder(widget, this.options.perspectiveMode);\r\n            },\r\n\r\n            /**\r\n             * Validate the existance and uniqueness IDs to widgets.\r\n             * Also generates unique IDs to new widgets.\r\n             *\r\n             * @param {*} widgets\r\n             * @returns {Boolean} True if all widgets are valid, false otherwise.\r\n             */\r\n            validateAndGenerateWidgetId: function (widgets) {\r\n              _.each(widgets, function (w, index) {\r\n                if (!PerspectiveUtil.hasWidgetId(w)) {\r\n                  // No widget Id yet, generate one\r\n                  w[PerspectiveUtil.KEY_WIDGET_ID] = PerspectiveUtil.generateWidgetId(\r\n                      this.options.perspectiveMode) + index;\r\n                }\r\n              }, this);\r\n\r\n              var widgetIds = _.pluck(widgets, PerspectiveUtil.KEY_WIDGET_ID);\r\n              if (widgetIds.length !== _.uniq(widgetIds).length) {\r\n                // Has duplicate Ids\r\n                log.warn('Found duplicate widget IDs: {0}', widgetIds) && console.warn(log.last);\r\n                return false;\r\n              }\r\n              var allWidgetsHasIds = _.every(widgets, PerspectiveUtil.hasWidgetId);\r\n              if (!allWidgetsHasIds) {\r\n                // Few widgets has no widget ID assigned to it\r\n                log.warn('Found widgets with No Ids: {0}', widgets) && console.warn(log.last);\r\n                return false;\r\n              }\r\n              return true;\r\n            }\r\n          });\r\n        },\r\n\r\n        //remove null and undefined objects from options form\r\n        removeNullsInObject: function (obj) {\r\n\r\n          function _checkAndRemove(value, key) {\r\n            if (typeof value === 'object' || _.isArray(value)) {\r\n              PerspectiveEditMixin.removeNullsInObject(value);\r\n            }\r\n            if (_.isNull(value) || _.isUndefined(value) || value.length === 0 ||\r\n                (_.isObject(value) && _.isEmpty(value))) {\r\n              if (_.isArray(obj)) {\r\n                obj.splice(key, 1);\r\n              } else {\r\n                delete obj[key];\r\n              }\r\n            }\r\n          }\r\n\r\n          if (_.isArray(obj)) {\r\n            for (var i = obj.length - 1; i >= 0; i--) {\r\n              _checkAndRemove(obj[i], i);\r\n            }\r\n          } else {\r\n            _.each(obj, _checkAndRemove);\r\n          }\r\n          return obj;\r\n        }\r\n      };\r\n\r\n      return PerspectiveEditMixin;\r\n    });\r\n\n","csui.define('csui/perspectives/flow/impl/nls/lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n  });\r\n  \n","csui.define('csui/perspectives/flow/impl/nls/root/lang',{\r\n    tileLabel: 'Single Width',\r\n    headerLabel: 'Double Width',\r\n    fullpageLabel: 'Full Page'\r\n  });\r\n  \n","\ncsui.define('css!csui/perspectives/impl/perspective',[],function(){});\n","\ncsui.define('css!csui/perspectives/flow/impl/flow.perspective',[],function(){});\n","// Loads widgets and renders them in a single row of grid cells\r\ncsui.define('csui/perspectives/flow/flow.perspective.view',['require', 'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/lib/radio', 'csui/models/widget/widget.collection',\r\n  'csui/utils/base',\r\n  'csui/controls/grid/grid.view', 'csui/utils/log',\r\n  'csui/utils/contexts/fragment/context.fragment',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/behaviors/drag.drop/dnd.item.behaviour',\r\n  'csui/behaviors/drag.drop/dnd.container.behaviour',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n  'csui/utils/perspective/perspective.util',\r\n  'i18n!csui/perspectives/flow/impl/nls/lang',\r\n  'i18n!csui/perspectives/impl/nls/lang',\r\n  'css!csui/perspectives/impl/perspective',\r\n  'css!csui/perspectives/flow/impl/flow.perspective'\r\n], function (require, module, _, $, Backbone, Marionette, Radio, WidgetCollection, base, GridView,\r\n    log, ContextFragment, WidgetContainerBehavior, DnDItemBehaviour, DnDContainerBehaviour, PerspectiveEditMixin,\r\n    PerspectiveUtil,\r\n    lang, commonLang) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultWidgetKind: 'tile',\r\n    widgetSizes: {\r\n      fullpage: {\r\n        widths: {\r\n          xs: 12\r\n        },\r\n        heights: {\r\n          xs: 'full'\r\n        }\r\n      },\r\n      header: {\r\n        widths: {\r\n          xs: 12,\r\n          md: 8,\r\n          xl: 6\r\n        }\r\n      },\r\n      widetile: {\r\n        widths: {\r\n          xs: 12,\r\n          lg: 6\r\n        }\r\n      },\r\n      tile: {\r\n        widths: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          xl: 3\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var FlowPerspectiveView = GridView.extend({\r\n\r\n    className: function () {\r\n      var className       = this.options.className || 'cs-perspective cs-flow-perspective grid-rows',\r\n          parentClassName = _.result(GridView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        if (!widget.view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved:' +\r\n                     widget['error']\r\n          });\r\n        }\r\n        return widget.view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model, cellView) {\r\n      var widget = model.get('widget');\r\n      var cellOptions = {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // widgets in the grid should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined,\r\n        perspectiveMode: this.options.perspectiveMode,\r\n        widgetContainer: cellView\r\n      };\r\n      cellOptions[PerspectiveUtil.KEY_WIDGET_ID] = widget[PerspectiveUtil.KEY_WIDGET_ID];\r\n      return cellOptions;\r\n    },\r\n\r\n    cellConstructionFailed: function (model, error) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var errorWidget = WidgetContainerBehavior.getErrorWidget(widget, error.message);\r\n        model.set('widget', _.defaults(errorWidget, widget.attributes));\r\n      }\r\n    },\r\n\r\n    constructor: function FlowPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      this.widgetSizes = _.defaults(options.widgetSizes, config.widgetSizes);\r\n      options.context.perspective.type = options.type;\r\n      this._preInitialize(options);\r\n      GridView.prototype.constructor.call(this, options);\r\n      this._postInitialize();\r\n    },\r\n\r\n    _preInitialize: function (options) {\r\n      options.widgets || (options.widgets = []);\r\n      if (!!options.perspectiveMode) {\r\n        this._prepareOptionsForEditMode(options);\r\n        this.prepareForEditMode();\r\n      } else {\r\n        options.widgets = _.reject(options.widgets, PerspectiveUtil.isHiddenWidget, this);\r\n      }\r\n      if (!options.collection) {\r\n        var extWidgets = _.chain(config)\r\n            .pick(function (value, key) {\r\n              return key.indexOf('-widgets') >= 0;\r\n            })\r\n            .values()\r\n            .flatten();\r\n\r\n        if (extWidgets && extWidgets._wrapped && extWidgets._wrapped.length > 0) {\r\n          options.widgets = _.filter(options.widgets, function (widget) {\r\n            return _.contains(extWidgets._wrapped, widget.type);\r\n          });\r\n        }\r\n\r\n        options.widgets = _.filter(options.widgets, function (widget) {\r\n          return base.filterUnSupportedWidgets(widget, config,\r\n                  options.perspectiveMode === PerspectiveUtil.MODE_EDIT_PERSPECTIVE) != undefined;\r\n        });\r\n\r\n        options.collection = this._createCollection(options);\r\n        options.context.widgetCollection = options.collection;\r\n      }\r\n    },\r\n\r\n    _postInitialize: function () {\r\n      if (!!this.options.perspectiveMode) {\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Tasks:\r\n     *  - Add a empty placeholder to the widgets based on `perspectiveMode`\r\n     *  - Enable widget configuration to all cells of the group by adding respective behaviors\r\n     *  - Allow dragging of cells to reorder\r\n     *  - Enable DnD to entire row for re-ordering.\r\n     *\r\n     */\r\n    _prepareOptionsForEditMode: function (options) {\r\n      var self = this;\r\n      // Insert Empty Placeholder widget before hidden widgets\r\n      var firstHiddenIdx = _.findIndex(options.widgets, PerspectiveUtil.isHiddenWidget, this);\r\n      if (firstHiddenIdx === -1) {\r\n        // No Hidden widget, add placeholder to last\r\n        firstHiddenIdx = options.widgets.length;\r\n      }\r\n      options.widgets.splice(firstHiddenIdx, 0, this.getEmptyPlaceholderWidget(options));\r\n\r\n      options.cellBehaviours = {\r\n        PerspectiveWidgetConfig: { // For widget editing\r\n          behaviorClass: require(\r\n              'csui/perspective.manage/behaviours/pman.widget.config.behaviour'),\r\n          perspectiveView: this,\r\n          perspectiveMode: options.perspectiveMode\r\n        },\r\n        DnDItemBehaviour: { // For DnD widget\r\n          behaviorClass: DnDItemBehaviour\r\n        }\r\n      };\r\n\r\n      options.contextFragment = new ContextFragment(options.context);\r\n\r\n      this._createDnDPlaceholderWidget();\r\n\r\n      function addCell(widgetConfig, index) {\r\n        var newCell = self._prepareGridCell(widgetConfig, index);\r\n        var cells = self.collection.at(0).columns;\r\n        cells.add(newCell, {at: index});\r\n       //LPAD-86991 Edit page: superfluous models loaded\r\n       // self.options.contextFragment.fetch();\r\n        self.options.context.trigger('update:widget:panel', {\r\n          'action': 'add',\r\n          'widgetModel': newCell.widget\r\n        });\r\n      }\r\n\r\n      options.reorderOnSort = true; // To let reorder views on collection reorder (DnD reorder)\r\n      options.rowBehaviours = {\r\n        DnDContainerBehaviour: {\r\n          behaviorClass: DnDContainerBehaviour,\r\n          placeholder: this._getDnDPlaceholder.bind(this),\r\n          handle: '.csui-pman-widget-masking', // Limit re-ordering to mask (avoids callout popover),\r\n          helper: 'clone', // Use clone of the original element as drag image to preserve styles of original element as it is.\r\n          start: function (event, ui) {\r\n            //hiding popover on drag start\r\n            var popoverTarget = self.$el.find(\".binf-popover\");\r\n            if (popoverTarget.length) {\r\n              popoverTarget.removeClass(\"pman-ms-popover\");\r\n              popoverTarget.hide();\r\n              popoverTarget.binf_popover('destroy');\r\n            }\r\n          },\r\n          over: _.bind(function (event, ui) {\r\n            var placeholderWidget = this._getDnDPlaceholder(ui.helper);\r\n            var placeholder = ui.placeholder;\r\n            placeholder.show();\r\n            // Update DnD placeholder with widget styles\r\n            placeholder.attr('class', placeholderWidget.attr('class'));\r\n            placeholder.html(placeholderWidget.html());\r\n            placeholder.css('visibility', 'visible');\r\n            placeholder.css({'width': '', 'height': ''});\r\n            // FIXME: Remove transfer data to placeholder. Instead set data to ui.item\r\n            placeholder.data('pman.widget', ui.helper.data('pman.widget'));\r\n            placeholder.removeData('isBeyondLayout');\r\n            if (!!ui.helper.data('pman.widget')) { // \"pman.widget\" is not available when reorder within flow\r\n              // Preload widget's view which is going to be drop to get ready with manifest etc., to avoid delay in placing widget immeditly on drop\r\n              this._resolveWidget({\r\n                type: ui.helper.data('pman.widget').id\r\n              }).done(\r\n                  function (resolvedWidget) {\r\n                    placeholder.data('pman.widget.view', resolvedWidget);\r\n                  });\r\n            }\r\n          }, this),\r\n          out: function (event, ui) {\r\n            ui.placeholder.hide();\r\n            ui.placeholder.data('isBeyondLayout', true);\r\n          },\r\n          receive: _.bind(function (event, ui) {\r\n            if (ui.placeholder.data('isBeyondLayout') === true ||\r\n                !ui.placeholder.data(\"pman.widget.view\")) {\r\n              // Dropped outside the placeholder.\r\n              ui.sender.sortable(\"cancel\");\r\n              return;\r\n            }\r\n            if (ui.position.top > 0) {\r\n              var newWidget = ui.placeholder.data('pman.widget'),\r\n                  index     = ui.item.index(), // this.$el.find('.binf-row >div').index(ui.item);\r\n                  manifest  = newWidget.get('manifest');\r\n\r\n              var widget,\r\n                  preloadedWidgetView = ui.placeholder.data(\"pman.widget.view\");\r\n              if (PerspectiveUtil.isEligibleForLiveWidget(manifest)) {\r\n                widget = {\r\n                  type: newWidget.id,\r\n                  kind: manifest.kind,\r\n                  view: preloadedWidgetView.get('view')\r\n                };\r\n              } else {\r\n                widget = {\r\n                  type: 'csui/perspective.manage/widgets/perspective.widget',\r\n                  kind: manifest.kind,\r\n                  options: {\r\n                    options: {}, // To be used and filled by callout form\r\n                    widget: newWidget\r\n                  },\r\n                  view: (preloadedWidgetView = this.pespectiveWidgetView)\r\n                };\r\n              }\r\n              widget.options = _.extend({___pman_isdropped: true}, widget.options);\r\n\r\n              if (!preloadedWidgetView) {\r\n                // Widget's view is not loaded yet, load view to attach new cell\r\n                this._resolveWidget(widget).done(function (resolvedWidget) {\r\n                  addCell(widget, index);\r\n                });\r\n              } else {\r\n                // Widget's view preloaded on, ready to attach the cell.\r\n                addCell(widget, index);\r\n              }\r\n            }\r\n            // Move Placeholder widget to last\r\n            this._ensurePlaceholder();\r\n\r\n            // Cancel sort event since placing widget manually here.\r\n            ui.sender.sortable(\"cancel\");\r\n          }, this),\r\n          stop: _.bind(function () {\r\n            this._ensurePlaceholder();\r\n          }, this)\r\n        }\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Make sure placeholder exist, and at right position based on perspectiveMode.\r\n     * If `edit` - placeholder must be at the end.\r\n     * If `personalization` - placeholder must be between enabled and hidden widgets.\r\n     *\r\n     */\r\n    _ensurePlaceholder: function () {\r\n      var cells = this.collection.at(0).columns,\r\n          self  = this;\r\n      var placeholderCell = cells.find(function (cell) {\r\n        return this.isEmptyPlaceholder(cell.get(\"widget\"));\r\n      }, this);\r\n      if (!placeholderCell) {\r\n        // No placeholder. Hence create a new one\r\n        var placeholderWidget = this.getEmptyPlaceholderWidget();\r\n        this._resolveWidget(placeholderWidget).done(function (resolvedWidget) {\r\n          var newCell = self._createCell(placeholderWidget, resolvedWidget, cells.length);\r\n          var position = self._getPlaceholderIdealIndex();\r\n          cells.add(newCell, {at: position + 1});\r\n        });\r\n      } else {\r\n        // Placeholder exist, check if it is at the right position.\r\n        var currentIndex = cells.indexOf(placeholderCell),\r\n            idealIndex   = this._getPlaceholderIdealIndex(currentIndex);\r\n        if (currentIndex !== idealIndex) {\r\n          cells.remove(placeholderCell);\r\n          cells.add(placeholderCell, {at: idealIndex});\r\n        }\r\n      }\r\n    },\r\n\r\n    _getPlaceholderIdealIndex: function (currentPlaceIndex) {\r\n      var cells    = this.collection.at(0).columns,\r\n          position = cells.length;\r\n      currentPlaceIndex = currentPlaceIndex || -1;\r\n      switch (this.options.perspectiveMode) {\r\n      case PerspectiveUtil.MODE_PERSONALIZE:\r\n        // Keep the placeholder widget after last active element.\r\n        while (position-- > currentPlaceIndex) {\r\n          if (!PerspectiveUtil.isHiddenWidget(cells.at(position).get('widget'))) {\r\n            break;\r\n          }\r\n        }\r\n        return position;\r\n      case PerspectiveUtil.MODE_EDIT_PERSPECTIVE:\r\n        return position - 1;\r\n      default:\r\n        return currentPlaceIndex;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Create a empty placeholder widget to be used to show as DnD watermark placeholder\r\n     */\r\n    _createDnDPlaceholderWidget: function () {\r\n      var self              = this,\r\n          placeholderWidget = {\r\n            type: 'csui/perspective.manage/widgets/perspective.placeholder',\r\n          };\r\n      this._resolveWidget(placeholderWidget).done(function (resolvedWidget) {\r\n        var cellOptions = self._createCell(placeholderWidget, resolvedWidget, 0);\r\n        cellOptions.className = \"pman-dnd-hover-placeholder\";\r\n        self.dndPlaceholderCell = new GridView.CellView({\r\n          grid: self,\r\n          model: new Backbone.Model(cellOptions)\r\n        });\r\n        self.dndPlaceholderCell.render();\r\n      });\r\n\r\n      this._resolveWidget({\r\n        type: 'csui/perspective.manage/widgets/perspective.widget'\r\n      }).done(function (resolvedWidget) {\r\n        self.pespectiveWidgetView = resolvedWidget.get('view');\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Prepare placeholder watermark for widget currently dropping\r\n     */\r\n    _getDnDPlaceholder: function (dragEl) {\r\n      var widget = dragEl.data('pman.widget');\r\n      if (!!widget) {\r\n        var kind = widget.attributes.manifest.kind;\r\n        if (!kind) {\r\n          kind = config.defaultWidgetKind;\r\n        }\r\n        var sizes = this.widgetSizes[kind];\r\n        // Update watermark widget with current droping widget sizes\r\n        this.dndPlaceholderCell.model.set({\r\n          sizes: sizes.widths,\r\n          heights: sizes.heights\r\n        });\r\n      }\r\n      return this.dndPlaceholderCell.$el;\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      this.listenTo(this, 'delete:widget', function (widgetView) {\r\n        var cells = self.collection.at(0).columns;\r\n        var model = widgetView.model;\r\n        cells.remove(model);\r\n      });\r\n\r\n      this.listenTo(this, 'update:widget:size', function (widgetView, kind) {\r\n        var sizes  = this.widgetSizes[kind],\r\n            widget = widgetView.model.get('widget');\r\n        widget.kind = kind;\r\n        widgetView.model.set({\r\n          sizes: sizes.widths,\r\n          heights: sizes.heights,\r\n          widget: widget\r\n        });\r\n        //Added as part of LPAD-104683\r\n        widgetView.$el.addClass('csui-draggable-item csui-pman-editable-widget');\r\n        var widgetInfo = { widgetView: widgetView, kind: kind };\r\n        Radio.channel(\"newlayout:widget:size\").trigger(\"update:widget:size\", widgetInfo);\r\n      });\r\n\r\n      this.listenTo(this, 'replace:widget', this._replaceWidget);\r\n      if (this.options.perspectiveMode === PerspectiveUtil.MODE_PERSONALIZE) {\r\n        // Since shortcut group is being used as placeholder, \r\n        // a new empty placeholder (shortcuts) needs to be created on configurating it.\r\n        // Hence, listen to options update, if shortcut group which is acting as placeholder is update, \r\n        // Create a new shortcut group to act as placeholder widget.\r\n        this.listenTo(this, 'update:widget:options', function (config) {\r\n          var cell   = config.widgetView,\r\n              widget = cell.model.get('widget');\r\n          if (this.isEmptyPlaceholder(widget)) {\r\n            delete widget.__isPlacehoder;\r\n            // Remove \"drag disabling\" to this shortcut can now be reorderable\r\n            cell.model.unset('className', {silent: true});\r\n            cell.$el.removeClass('csui-draggable-item-disable');\r\n            this._ensurePlaceholder();\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    _replaceWidget: function (currentWidget, widgetToReplace) {\r\n      if (!this.getPManPlaceholderWidget) {\r\n        // 'getPManPlaceholderWidget' Provided by pman.config.behaviour\r\n        return;\r\n      }\r\n      var self = this;\r\n      var cells = this.collection.at(0).columns;\r\n      // Load new widget\r\n      this._resolveWidget(widgetToReplace).done(function () {\r\n        // Replace current widget with new widget\r\n        if (!self.isEmptyPlaceholder(currentWidget.model.get('widget'))) {\r\n          // Preserve widget kind if dropping on existing widget\r\n          widgetToReplace.kind = currentWidget.model.get('widget').kind;\r\n        }\r\n        var widgetUpdates = self._prepareGridCell(widgetToReplace,\r\n            cells.indexOf(currentWidget.model));\r\n        self.options.context.clear();\r\n        currentWidget.model.set(widgetUpdates);\r\n        self.options.context.fetch();\r\n        // Check if has any placeholders, otherwise add new placeholder widget\r\n        self._ensurePlaceholder();\r\n      });\r\n    },\r\n\r\n    _createCollection: function (options) {\r\n      var self = this,\r\n          rows = new Backbone.Collection();\r\n\r\n      if (!!options.perspectiveMode) {\r\n        this.widgetsResolved = this._resolveWidgets(options.widgets)\r\n            .always(function (resolvedWidgets) {\r\n              var firstRow = rows.add({});\r\n              var columns = _.map(options.widgets, function (widget, index) {\r\n                return self._createCell(widget, resolvedWidgets[index], index);\r\n              });\r\n              firstRow.columns = new Backbone.Collection(columns);\r\n              return resolvedWidgets;\r\n            });\r\n      } else {\r\n        var uniqueWidgets = _.chain(options.widgets)\r\n            .pluck('type')\r\n            .unique()\r\n            .map(function (id) {\r\n              return {id: id};\r\n            })\r\n            .value();\r\n        var resolvedWidgets = new WidgetCollection(uniqueWidgets);\r\n        this.widgetsResolved = resolvedWidgets\r\n            .fetch()\r\n            .then(function () {\r\n              var firstRow = rows.add({});\r\n              firstRow.columns = self._createColumns(options.widgets, resolvedWidgets);\r\n              return resolvedWidgets;\r\n            });\r\n      }\r\n      return rows;\r\n    },\r\n\r\n    _createColumns: function (widgets, resolvedWidgets) {\r\n      var columns = _.map(widgets, function (widget, columnIndex) {\r\n        var resolvedWidget = resolvedWidgets.get(widget.type);\r\n        return this._createCell(widget, resolvedWidget, columnIndex);\r\n      }.bind(this));\r\n      return new Backbone.Collection(columns);\r\n    },\r\n\r\n    _prepareGridCell: function (widgetConfig, columnIndex) {\r\n      var kind = widgetConfig.kind;\r\n      if (!kind) {\r\n        kind = config.defaultWidgetKind;\r\n      }\r\n      var sizes = this.widgetSizes[kind];\r\n      return {\r\n        sizes: sizes.widths,\r\n        heights: sizes.heights,\r\n        className: widgetConfig.className,\r\n        widget: _.defaults({kind: kind, cellAddress: 'grid0:r0:c' + columnIndex}, widgetConfig)\r\n      };\r\n    },\r\n\r\n    _createCell: function (widget, resolvedWidget, columnIndex) {\r\n      var widgetView     = resolvedWidget.get('view'),\r\n          manifest       = resolvedWidget.get('manifest') || {},\r\n          supportedKinds = manifest.supportedKinds,\r\n          kind           = widget.kind;\r\n      if (!kind || !supportedKinds || !_.contains(supportedKinds, kind)) {\r\n        kind = manifest.kind;\r\n      }\r\n      widget.kind = kind;\r\n      if (widgetView) {\r\n        widget.view = widgetView;\r\n        return this._prepareGridCell(widget, columnIndex);\r\n      }\r\n      var error = resolvedWidget.get('error');\r\n      log.warn('Loading widget \"{0}\" failed. {1}', widget.type, error)\r\n      && console.warn(log.last);\r\n      var sizes = this.widgetSizes[config.defaultWidgetKind];\r\n      return {\r\n        sizes: sizes.widths,\r\n        heights: sizes.heights,\r\n        widget: WidgetContainerBehavior.getErrorWidget(widget, error)\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Returns supported widgets sizes(kinds) for given widget\r\n     */\r\n    getSupportedWidgetSizes: function (manifest, widget) {\r\n      return _.map(manifest.supportedKinds, function (suppKind) {\r\n        return {\r\n          kind: suppKind,\r\n          label: lang[suppKind + 'Label'],\r\n          selected: widget.model.get('widget').kind === suppKind\r\n        };\r\n      });\r\n    },\r\n\r\n    serializePerspective: function (perspectiveModel) {\r\n      var self         = this,\r\n          deferred     = $.Deferred(),\r\n          cells        = this.collection.at(0).columns,\r\n          widgetModels = cells.filter(function (cell) {\r\n            return !this.isEmptyPlaceholder(cell.get('widget'));\r\n          }, this);\r\n\r\n      var widgetPromises = widgetModels.map(function (widget, index) {\r\n        return self.serializeWidget(widget, '/options/widgets/' + index);\r\n      });\r\n      $.whenAll.apply($, widgetPromises).done(function (results) {\r\n        self.executeCallbacks(results, perspectiveModel, self.options.context).done(function () {\r\n          var widgets           = _.pluck(results, 'widget'),\r\n              constant_data     = _.flatten(_.pluck(results, 'constantsData')),\r\n              perspectiveResult = {\r\n                perspective: {\r\n                  type: 'flow',\r\n                  options: {widgets: widgets}\r\n                },\r\n                constant_data: constant_data,\r\n                constant_extraction_mode: 1\r\n              };\r\n          var isAllWidgetsValid = self.validateAndGenerateWidgetId(widgets);\r\n          if (!isAllWidgetsValid) {\r\n            deferred.reject(commonLang.widgetValidationFailed);\r\n          } else {\r\n            deferred.resolve(perspectiveResult);\r\n          }\r\n        }).fail(function (results) {\r\n          // TODO Group errors\r\n          results = _.filter(results, function (result) {return !!result.error});\r\n          deferred.reject(results[0].error);\r\n        });\r\n      }, this).fail(function (results) {\r\n        // TODO Group errors\r\n        results = _.filter(results, function (result) {return !!result.error});\r\n        deferred.reject(results[0].error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    getPreviousWidgets: function (perspectiveModel) {\r\n      var perspective     = perspectiveModel.getPerspective(),\r\n          previousWidgets = perspective &&\r\n                            perspective.options ?\r\n                            perspective.options.widgets :\r\n              {};\r\n      previousWidgets = _.map(previousWidgets, function (widget) {\r\n        return {widget: widget};\r\n      });\r\n      return previousWidgets;\r\n    },\r\n\r\n    _supportMaximizeWidget: true,\r\n\r\n    _supportMaximizeWidgetOnDisplay: true\r\n\r\n  });\r\n\r\n  // TODO add mixin dynamically for edit mode only\r\n  PerspectiveEditMixin.mixin(FlowPerspectiveView.prototype);\r\n  return FlowPerspectiveView;\r\n\r\n});\r\n\n","// Loads widgets and renders them in a grid\r\ncsui.define('csui/perspectives/grid/grid.perspective.view',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/controls/grid/grid.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'css!csui/perspectives/impl/perspective'\r\n], function (module, _, $, Marionette,\r\n    base,\r\n    GridView,\r\n    WidgetContainerBehavior) {\r\n\r\n  var config = module.config();\r\n\r\n  var GridPerspectiveView = GridView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-perspective cs-grid-perspective grid-rows',\r\n          parentClassName = _.result(GridView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var view = widget.view;\r\n        if (!view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved: ' +\r\n                     widget.error\r\n          });\r\n        }\r\n        return view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // widgets in the grid should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined\r\n      };\r\n    },\r\n\r\n    behaviors: {\r\n      WidgetContainer: {\r\n        behaviorClass: WidgetContainerBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function GridPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      var rows = options.rows;\r\n      if (rows && rows.length > 0 && config.supportedWidgets) {\r\n        var columns = rows[0].columns;\r\n        rows[0].columns = _.filter(columns, function (column) {\r\n          return _.contains(config.supportedWidgets, column.widget.type);\r\n        });\r\n\r\n        if (columns.length > 1 && config.widgetSizes) {\r\n          _.each(columns, function (column) {\r\n            column.sizes = config.widgetSizes;\r\n            column.heights = {};\r\n          });\r\n        }\r\n      }\r\n\r\n      filterRows(rows);\r\n\r\n      function filterRows (rows) {\r\n        _.each(rows, function (row) {\r\n          var columns = row.columns;\r\n          if (columns) {\r\n            row.columns = filterColumns(columns);\r\n          }\r\n        });\r\n      }\r\n\r\n      function filterColumns (columns) {\r\n        return _.filter(columns, function (column) {\r\n          var widget = column.widget;\r\n          if (widget) {\r\n            return base.filterUnSupportedWidgets(widget, config) != undefined;\r\n          }\r\n          var rows = column.rows;\r\n          if (rows) {\r\n            filterRows(rows);\r\n          }\r\n          return true;\r\n        });\r\n      }\r\n\r\n      GridView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    enumerateWidgets: function (callback) {\r\n      this._enumerateWidgetRow(this.options.collection, callback);\r\n    },\r\n\r\n    _enumerateWidgetRow: function (rows, callback) {\r\n      rows.each(function (row) {\r\n        row.columns.each(function (column) {\r\n          var widget = column.get('widget');\r\n          widget && callback(widget);\r\n          if (column.rows) {\r\n            this._enumerateWidgetRow(column.rows, callback);\r\n          }\r\n        }, this);\r\n      }, this);\r\n    },\r\n\r\n    _supportMaximizeWidget: true,\r\n\r\n    _supportMaximizeWidgetOnDisplay: true\r\n\r\n  });\r\n\r\n  return GridPerspectiveView;\r\n\r\n});\r\n\n","\ncsui.define('css!csui/perspectives/zone/impl/zone.perspective',[],function(){});\n","// Base for perspectives placing widgets to named grid cells - zones\r\ncsui.define('csui/perspectives/zone/zone.perspective.view',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/base', 'csui/controls/grid/grid.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n  'css!csui/perspectives/impl/perspective',\r\n  'css!csui/perspectives/zone/impl/zone.perspective'\r\n], function (module, _, $, Backbone, Marionette, base, GridView, WidgetContainerBehavior,\r\n    PerspectiveEditMixin) {\r\n\r\n  var config = module.config();\r\n\r\n  var ZonePerspectiveView = GridView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-perspective cs-zone-perspective grid-rows ',\r\n          parentClassName = _.result(GridView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var view = widget.view;\r\n        if (!view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved: ' +\r\n                     widget.error\r\n          });\r\n        }\r\n        return view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model, cellView) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // widgets in the grid should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined,\r\n        perspectiveMode: this.options.perspectiveMode,\r\n        widgetContainer: cellView\r\n      };\r\n    },\r\n\r\n    cellConstructionFailed: function (model, error) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var errorWidget = WidgetContainerBehavior.getErrorWidget(widget, error.message);\r\n        model.set('widget', _.defaults(errorWidget, widget.attributes));\r\n      }\r\n    },\r\n\r\n    behaviors: {\r\n      WidgetContainer: {\r\n        behaviorClass: WidgetContainerBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function ZonePerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      if (!options.collection) {\r\n        options.collection = this._createCollection(options);\r\n      }\r\n      options.collection.each(function (row, rowIndex) {\r\n        row.columns.each(function (column, colIndex) {\r\n          column.get('widget').cellAddress = 'grid0:r' + rowIndex + ':c' + colIndex;\r\n        });\r\n      });\r\n      if (options.perspectiveMode === 'edit') {\r\n        this.prepareForEditMode();\r\n      }\r\n      GridView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _createCollection: function (options) {\r\n      var rows      = new Backbone.Collection(),\r\n          zoneNames = getOption.call(this, 'zoneNames');\r\n      _.extend(config, {'unSupportedWidgets': getOption.call(this, 'unSupportedWidgets')});\r\n      _.mapObject(options, function (val, key) {\r\n        if (_.contains(zoneNames, key)) {\r\n          if (!base.filterUnSupportedWidgets(val, config)) {\r\n            options[key] = undefined;\r\n          }\r\n        }\r\n      });\r\n\r\n      var layoutName = this._getLayoutName(options);\r\n\r\n      if (layoutName) {\r\n        var zoneLayouts = getOption.call(this, 'zoneLayouts'),\r\n            zoneLayout  = zoneLayouts[layoutName];\r\n        if (zoneLayout) {\r\n          var row     = rows.add({}),\r\n              columns = _.map(zoneLayout.zoneOrder, function (zone) {\r\n                var zoneConfig = _.defaults({\r\n                  widget: options[zone]\r\n                }, zoneLayout.zoneSizes[zone]);\r\n                if (options[zone].className) {\r\n                  zoneConfig.className = (zoneConfig.className || '') + ' ' + options[zone].className;\r\n                }\r\n                return zoneConfig;\r\n              });\r\n\r\n          row.columns = new Backbone.Collection(columns);\r\n        } else {\r\n          throw new Marionette.Error({\r\n            name: 'InvalidLayoutContentError',\r\n            message: 'Missing widget in the important perspective zone'\r\n          });\r\n        }\r\n      }\r\n      return rows;\r\n    },\r\n\r\n    /**\r\n     * Calculates and returns layout to use based on the options configured\r\n     */\r\n    _getLayoutName: function (options) {\r\n      var zoneNames = getOption.call(this, 'zoneNames');\r\n      return _.reduce(zoneNames, function (result, zone) {\r\n        if (options[zone] && !_.isEmpty(options[zone])) {\r\n          result && (result += '-');\r\n          result += zone;\r\n        }\r\n        return result;\r\n      }, '');\r\n    },\r\n\r\n    enumerateWidgets: function (callback) {\r\n      var zoneNames = getOption.call(this, 'zoneNames'),\r\n          widgets   = _.compact(_.map(zoneNames, function (zone) {\r\n            var zoneContent = this.options[zone];\r\n            return !_.isEmpty(zoneContent) && zoneContent;\r\n          }, this));\r\n\r\n      if (this.options.perspectiveMode === 'edit') {\r\n        var deferreds = _.map(widgets, function () {\r\n          var deferred = $.Deferred();\r\n          callback(deferred);\r\n          return deferred;\r\n        });\r\n        this._resolveWidgets(widgets).then(function (widgetModel) {\r\n          _.each(widgets, function (widget, index) {\r\n            deferreds[index].resolve(widget);\r\n          });\r\n        });\r\n      } else {\r\n        _.each(widgets, callback, this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Serilize Zone options to save\r\n     */\r\n    serializeOptions: function (perspectiveModel) {\r\n      var self        = this,\r\n          deferred    = $.Deferred(),\r\n          layoutName  = this._getLayoutName(this.options),\r\n          zoneLayouts = getOption.call(this, 'zoneLayouts'),\r\n          zoneLayout  = zoneLayouts[layoutName],\r\n          cells       = this.collection.at(0).columns;\r\n      var widgetPromises = _.map(zoneLayout.zoneOrder, function (zone, index) {\r\n        if (cells.at(index).get('widget').type ===\r\n            'csui/perspective.manage/widgets/perspective.placeholder') {\r\n          // Placeholder, no widget placed on this zone. Hence empty options\r\n          return $.Deferred().resolve({\r\n            zone: zone,\r\n            config: {widget: {}}\r\n          });\r\n        }\r\n        // Resolve and Serialize widget options\r\n        return self.serializeWidget(cells.at(index), '/options/' + zone).then(function (result) {\r\n          return {\r\n            zone: zone,\r\n            config: result\r\n          };\r\n        });\r\n      });\r\n\r\n      $.whenAll.apply($, widgetPromises).done(function (results) {\r\n        var widgets = _.map(_.filter(results, function (layout) {\r\n          return layout.config && layout.config.widget && !_.isEmpty(layout.config.widget);\r\n        }), function (layout) {\r\n          return layout.config;\r\n        });\r\n        self.executeCallbacks(widgets, perspectiveModel, self.options.context).done(function () {\r\n          // Resolve promise with options\r\n          deferred.resolve(results);\r\n        }).fail(function (results) {\r\n          results = _.filter(results, function (result) {return !!result.error});\r\n          deferred.reject(results[0].error);\r\n        });\r\n      }).fail(function (results) {\r\n        results = _.filter(results, function (result) {return !!result.error});\r\n        deferred.reject(results[0].error);\r\n      });\r\n\r\n      return deferred.promise();\r\n    },\r\n\r\n    getPreviousWidgets: function (perspectiveModel) {\r\n      var perspective     = perspectiveModel.get('perspective'),\r\n          layoutName      = this._getLayoutName(this.options),\r\n          zoneLayouts     = getOption.call(this, 'zoneLayouts'),\r\n          zoneLayout      = zoneLayouts[layoutName],\r\n          previousWidgets = {};\r\n\r\n      if (zoneLayout && zoneLayout.zoneOrder) {\r\n        previousWidgets = _.map(_.filter(zoneLayout.zoneOrder, function (zone) {\r\n          return perspective && perspective.options && !_.isEmpty(perspective.options[zone]);\r\n        }), function (zone) {\r\n          return {widget: perspective.options[zone]};\r\n        });\r\n      }\r\n\r\n      return previousWidgets;\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other views too\r\n  function getOption(property, source) {\r\n    var value;\r\n    if (source) {\r\n      value = source[property];\r\n    } else {\r\n      value = getOption.call(this, property, this.options || {});\r\n      if (value === undefined) {\r\n        value = this[property];\r\n      }\r\n    }\r\n    return _.isFunction(value) ? value.call(this) : value;\r\n  }\r\n\r\n  // TODO add mixin dynamically for edit mode only\r\n  PerspectiveEditMixin.mixin(ZonePerspectiveView.prototype);\r\n\r\n  return ZonePerspectiveView;\r\n\r\n});\r\n\n","// Loads widgets and renders them in a left-center-right zone layout\r\ncsui.define('csui/perspectives/left-center-right/left-center-right.perspective.view',['require', 'module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/perspectives/zone/zone.perspective.view',\r\n  'csui/utils/contexts/fragment/context.fragment',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'i18n!csui/perspectives/impl/nls/lang',\r\n], function (require, module, $, _, ZonePerspectiveView, ContextFragment, WidgetContainerBehavior, commonLang) {\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    zoneNames: ['left', 'center', 'right'],\r\n    zoneLayouts: {\r\n      'center': {\r\n        zoneOrder: ['center'],\r\n        zoneSizes: {\r\n          center: {\r\n            sizes: {\r\n              xs: 12\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'left': {\r\n        zoneOrder: ['left'],\r\n        zoneSizes: {\r\n          left: {\r\n            sizes: {\r\n              xs: 12\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'right': {\r\n        zoneOrder: ['right'],\r\n        zoneSizes: {\r\n          right: {\r\n            sizes: {\r\n              xs: 12\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'left-center': {\r\n        zoneOrder: ['center', 'left'],\r\n        zoneSizes: {\r\n          left: {\r\n            sizes: {\r\n              \"md\": 4,\r\n              \"xl\": 3\r\n            },\r\n            \"pulls\": {\r\n              \"md\": 8,\r\n              \"xl\": 9\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          center: {\r\n            sizes: {\r\n              \"md\": 8,\r\n              \"xl\": 9\r\n            },\r\n            \"pushes\": {\r\n              \"md\": 4,\r\n              \"xl\": 3\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'center-right': {\r\n        zoneOrder: ['center', 'right'],\r\n        zoneSizes: {\r\n          center: {\r\n            sizes: {\r\n              \"md\": 8,\r\n              \"xl\": 9\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          right: {\r\n            sizes: {\r\n              \"md\": 4,\r\n              \"xl\": 3\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'left-right': {\r\n        zoneOrder: ['left', 'right'],\r\n        zoneSizes: {\r\n          left: {\r\n            sizes: {\r\n              \"md\": 6\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          right: {\r\n            sizes: {\r\n              \"md\": 6\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'left-center-right': {\r\n        zoneOrder: ['center', 'left', 'right'],\r\n        zoneSizes: {\r\n          left: {\r\n            sizes: {\r\n              \"sm\": 6,\r\n              \"md\": 6,\r\n              \"lg\": 3,\r\n              \"xl\": 3\r\n            },\r\n            \"pulls\": {\r\n              \"lg\": 6,\r\n              \"xl\": 6\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          center: {\r\n            sizes: {\r\n              \"sm\": 12,\r\n              \"md\": 12,\r\n              \"lg\": 6,\r\n              \"xl\": 6\r\n            },\r\n            \"pushes\": {\r\n              \"lg\": 3,\r\n              \"xl\": 3\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          right: {\r\n            sizes: {\r\n              \"sm\": 6,\r\n              \"md\": 6,\r\n              \"lg\": 3,\r\n              \"xl\": 3\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var LeftCenterRightPerspectiveView = ZonePerspectiveView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-left-center-right-perspective',\r\n          parentClassName = _.result(ZonePerspectiveView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      var lcr = !_.isEmpty(this.options.left) && !_.isEmpty(this.options.right);\r\n      if (lcr) {\r\n        className = className + \" csui-lcr-multiwidget\";\r\n      }\r\n      return className;\r\n    },\r\n\r\n    zoneNames: config.zoneNames,\r\n    zoneLayouts: config.zoneLayouts,\r\n    unSupportedWidgets: config.unSupportedWidgets,\r\n\r\n    constructor: function LeftCenterRightPerspectiveView(options) {\r\n      if (!!options && options.perspectiveMode === 'edit') {\r\n        this._prepareForEditMode(options);\r\n      }\r\n      ZonePerspectiveView.prototype.constructor.apply(this, arguments);\r\n      if (!!options && options.perspectiveMode === 'edit') {\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Fill placeholders in empty zones\r\n     */\r\n    _prepareForEditMode: function (options) {\r\n      if (!options.left || _.isEmpty(options.left.type)) {\r\n        options.left = {\r\n          kind: 'tile',\r\n          type: 'csui/perspective.manage/widgets/perspective.placeholder'\r\n        };\r\n      }\r\n      if (!options.center || _.isEmpty(options.center.type)) {\r\n        options.center = {\r\n          kind: 'fullpage',\r\n          type: 'csui/perspective.manage/widgets/perspective.placeholder'\r\n        };\r\n      }\r\n      if (!options.right || _.isEmpty(options.right.type)) {\r\n        options.right = {\r\n          kind: 'tile',\r\n          type: 'csui/perspective.manage/widgets/perspective.placeholder'\r\n        };\r\n      }\r\n\r\n      options.cellBehaviours = {\r\n        PerspectiveWidgetConfig: { // For widget editing\r\n          behaviorClass: require(\r\n              'csui/perspective.manage/behaviours/pman.widget.config.behaviour'),\r\n          perspectiveView: this\r\n        }\r\n      };\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      self.options.contextFragment = new ContextFragment(self.options.context);\r\n      this.listenTo(this, 'delete:widget', function (widget) {\r\n        if (self.getPManPlaceholderWidget) { // Provided by pman.config.behaviour\r\n          var newWidget = self.getPManPlaceholderWidget();\r\n          this._resolveWidget(newWidget).done(function () {\r\n            widget.model.set('widget', newWidget);\r\n          });\r\n        }\r\n      });\r\n      this.listenTo(this, 'replace:widget', function (widgetView, widgetToReplace) {\r\n        var self = this;\r\n        this._resolveWidget(widgetToReplace).done(function () {\r\n          if (!widgetToReplace.options.___pman_isdropped) {\r\n            self.options.context.clear();\r\n            widgetView.model.set('widget', widgetToReplace);\r\n            self.options.context.fetch();\r\n          } else {\r\n            widgetView.model.set('widget', widgetToReplace);\r\n           //LPAD-86991 Edit page: superfluous models loaded\r\n           // self.options.contextFragment.fetch();\r\n          }\r\n        });\r\n      }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * Serializes the widget configuration to save the perspective.\r\n     */\r\n    serializePerspective: function (perspectiveModel) {\r\n      var self     = this,\r\n          deferred = $.Deferred();\r\n      var optionsPromise = this.serializeOptions(perspectiveModel);\r\n      optionsPromise.then(function (results) {\r\n        var constant_data     = _.flatten(results.map(function (result) {\r\n              return result.config.constantsData || [];\r\n            })),\r\n            options           = _.reduce(results, function (seed, result) {\r\n              seed[result.zone] = result.config.widget;\r\n              return seed;\r\n            }, {}),\r\n            perspectiveResult = {\r\n              perspective: {\r\n                type: 'left-center-right',\r\n                options: options\r\n              },\r\n              constant_data: constant_data,\r\n              constant_extraction_mode: 1\r\n            };\r\n        var allWidgets = _.reject(_.values(options), _.isEmpty);\r\n        var isAllWidgetsValid = self.validateAndGenerateWidgetId(allWidgets);\r\n        if (!isAllWidgetsValid) {\r\n          deferred.reject(commonLang.widgetValidationFailed);\r\n        } else {\r\n          deferred.resolve(perspectiveResult);\r\n        }\r\n      }, deferred.reject);\r\n      return deferred.promise();\r\n    },\r\n\r\n    _supportMaximizeWidget: true,\r\n\r\n    _supportMaximizeWidgetOnDisplay: true\r\n\r\n  });\r\n\r\n  return LeftCenterRightPerspectiveView;\r\n\r\n});\n","csui.define('csui/perspective.manage/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/perspective.manage/impl/nls/root/lang',{\r\n  layoutTabTitle: 'Change page layout',\r\n  widgetTabTitle: 'Add widget',\r\n  expandTab: 'Expand tab',\r\n  collapseTab: 'Collapse tab',\r\n  noTitle: 'Title not available',\r\n  goBackTooltip: 'Go back',\r\n  templateMessage: 'Drag and Drop tile in position',\r\n  changePageLayoutConfirmatonText: 'All your previously added and configured widgets will be lost!',\r\n  proceedButton: 'Proceed',\r\n  changeLayoutCancelButton: 'Cancel',\r\n  FlowLayoutTitle: 'Flow layout',\r\n  LcrLayoutTitle: 'Left center right layout',\r\n  perspectiveSaveSuccess: 'Perspective has been updated successfully.',\r\n  personalizationSaveSuccess: 'Changes saved successfully.',\r\n  saveConfirmMsg: 'Please be aware this action will update all perspective overrides using this layout configuration. If you do not want this to happen, you should create a new perspective.',\r\n  saveConfirmTitle: 'Save perspective',\r\n  addWidget: 'Add widget',\r\n  save: 'Save',\r\n  saveAriaLabel: 'Save current layout',\r\n  close: 'Close',\r\n  cancelAriaLabel: 'Cancel the changes and exit edit mode',\r\n  cancel: 'Cancel',\r\n  reset: 'Reset',\r\n  resetAriaLabel: 'Reset to default layout',\r\n  resetConfirmMsg: 'Page will be reset to default page configured by the administrator.',\r\n  configNotSupported: \"This widget cannot be configured with edit page.\",\r\n  disableTitle: 'This widget can be added only once to the page',\r\n  resetSuccessful: 'Reset to original page was successful.',\r\n  tileLabel: 'Single Width',\r\n  headerLabel: 'Double Width',\r\n  fullpageLabel: 'Full Page',\r\n  heroTileLabel: 'Full Width',\r\n  RSPLayoutTitle: 'Right side panel layout',\r\n  LSPLayoutTitle: 'Left side panel layout'\r\n});\r\n\n","\ncsui.define('css!csui/perspectives/banner-content-sidebar/impl/banner-content-sidebar',[],function(){});\n","csui.define('csui/perspectives/banner-content-sidebar/banner-content-sidebar.perspective.view',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery', 'csui/lib/marionette',\r\n\"csui/lib/radio\",\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n  'csui/utils/perspective/perspective.util',\r\n  'csui/behaviors/drag.drop/dnd.container.behaviour',\r\n  'csui/perspectives/flow/flow.perspective.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'i18n!csui/perspective.manage/impl/nls/lang',\r\n  'i18n!csui/perspectives/impl/nls/lang',\r\n  'css!csui/perspectives/banner-content-sidebar/impl/banner-content-sidebar'\r\n], function (module, _, Backbone, $, Marionette, Radio, PerspectiveEditMixin, PerspectiveUtil,\r\n  DnDContainerBehaviour, FlowPerspectiveView, LayoutViewEventsPropagationMixin,\r\n  PerfectScrollingBehavior, lang, commonLang) {\r\n  var FlowPerspective = FlowPerspectiveView.extend({\r\n    getSupportedWidgetSizes: function (manifest, widget) {\r\n      var supportedKinds = [];\r\n        if (this.$el.hasClass('cs-bcs-perspective-content')) {\r\n          supportedKinds = _.filter(manifest.supportedKinds, function (supportedItem) {\r\n            return supportedItem !== 'fullpage';\r\n          });\r\n          return _.map(supportedKinds, function (suppKind) {\r\n            return {\r\n              kind: suppKind,\r\n              label: lang[suppKind + 'Label'],\r\n              selected: widget.model.get('widget').kind === suppKind\r\n            };\r\n          });\r\n        } else if (this.$el.hasClass('cs-bcs-perspective-banner') || this.$el.hasClass('cs-bcs-perspective-sidebar')) {\r\n          return supportedKinds;\r\n        } else {\r\n          supportedKinds = _.filter(manifest.supportedKinds, function (supportedItem) {\r\n            return supportedItem !== 'heroTile';\r\n          });\r\n          return _.map(supportedKinds, function (suppKind) {\r\n            return {\r\n              kind: suppKind,\r\n              label: lang[suppKind + 'Label'],\r\n              selected: widget.model.get('widget').kind === suppKind\r\n            };\r\n          });\r\n        }\r\n      }\r\n  });\r\n\r\n  var BannerContentSidebarView = Marionette.LayoutView.extend({\r\n\r\n    className: 'banner-content-sidebar-perspective cs-perspective binf-container-fluid',\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: function () {\r\n          return this.options.scrollableParent;\r\n        },\r\n        suppressScrollX: true\r\n      }\r\n    },\r\n\r\n    regions: {\r\n      bannerRegion: '#banner-region',\r\n      contentRegion: '#content-region',\r\n      sidebarRegion: '#sidebar-region'\r\n    },\r\n\r\n    constructor: function BannerContentSidebarView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      this.context = options.context;\r\n      if (options.banner && options.banner.length || options.perspectiveMode == \"edit\") {\r\n        this.headerView = new FlowPerspective({\r\n          widgets: options.banner && options.banner.length > 0 ? options.banner : undefined,\r\n          context: options.context,\r\n          type: options.type,\r\n          perspectiveMode: options.perspectiveMode,\r\n          className: 'cs-bcs-perspective-banner',\r\n          widgetSizes : {\r\n            tile: {\r\n              widths: {\r\n                xs: 12,\r\n                sm: 12,\r\n                md: 12,\r\n                xl: 12\r\n              }\r\n            }\r\n          },\r\n          model: this.model\r\n        });\r\n        this.headerView.allowHTMLTilesOnly =  true;\r\n        if (this.headerView.options.rowBehaviours) {\r\n          this.addRowBehaviours(this.headerView);\r\n        }\r\n        this.headerView.listenTo(this.headerView, 'delete:widget', function (widgetView) {\r\n          var self = this;\r\n          var cells = self.collection.at(0).columns;\r\n          var model = widgetView.model;\r\n          cells.remove(model);\r\n          self.$el.find('.csui-draggable-item-disable').removeClass('binf-hidden');\r\n        });\r\n      }\r\n\r\n      this.contentView = new FlowPerspective({\r\n        widgets: options.content,\r\n        context: options.context,\r\n        type: options.type,\r\n        perspectiveMode: options.perspectiveMode,\r\n        className: \"cs-bcs-perspective cs-bcs-perspective-content grid-rows\",\r\n        widgetSizes: {\r\n          tile: {\r\n            widths: {\r\n              xs: 12,\r\n              sm: 12,\r\n              md: 6,\r\n              xl: 4\r\n            }\r\n          },\r\n          header: {\r\n            widths: {\r\n              xs: 12,\r\n              sm: 12,\r\n              md: 6,\r\n              xl: 8\r\n            }\r\n          },\r\n          heroTile: {\r\n            widths: {\r\n              xs: 12,\r\n              sm: 12,\r\n              md: 12,\r\n              xl: 12\r\n            }\r\n          }\r\n        },\r\n        model: this.model\r\n      });\r\n       this.sidebarView = new FlowPerspective({\r\n        widgets: options.sidebar,\r\n        context: options.context,\r\n        type: options.type,\r\n        perspectiveMode: options.perspectiveMode,\r\n        className: \"cs-bcs-perspective cs-bcs-perspective-sidebar grid-rows\",\r\n        widgetSizes: {\r\n          heroTile: {\r\n            widths: {\r\n              xs: 12,\r\n              sm: 12,\r\n              md: 12,\r\n              xl: 12\r\n            }\r\n          },\r\n          header: {\r\n            widths: {\r\n              xs: 12,\r\n              sm: 12,\r\n              md: 12,\r\n              xl: 12\r\n            }\r\n          },\r\n          half: {\r\n            widths: {\r\n              xs: 12,\r\n              sm: 12,\r\n              md: 12,\r\n              xl: 12\r\n            }\r\n          },\r\n          quarter: {\r\n            widths: {\r\n              xs: 12,\r\n              sm: 12,\r\n              md: 12,\r\n              xl: 12\r\n            },\r\n            heights: {\r\n              xs: 'quarter',\r\n              sm: 'quarter',\r\n              md: 'quarter',\r\n              xl: 'quarter'\r\n            }\r\n          },\r\n          tile: {\r\n            widths: {\r\n              xs: 12,\r\n              sm: 12,\r\n              md: 12,\r\n              xl: 12\r\n            }\r\n          }\r\n        },\r\n        model: this.model\r\n      });\r\n\r\n      var waitFor = [this.contentView.widgetsResolved,\r\n      this.sidebarView.widgetsResolved];\r\n      if (this.headerView) {\r\n        waitFor.push(this.headerView.widgetsResolved);\r\n      }\r\n      var deferred = $.Deferred();\r\n      this.widgetsResolved = deferred.promise();\r\n      $.whenAll.apply($, waitFor)\r\n        .done(function () {\r\n          deferred.resolve(_.flatten(arguments));\r\n        }).fail(deferred.fail);\r\n\r\n      Radio.channel(\"quicklink:Tiles\").on(\"transparent:background\",\r\n        _.bind(function () {\r\n          $(this.contentView.$el[0]).find('.quicklinkTiles').parents('.csui-widget').addClass('csui-transparent-background');\r\n          $(this.sidebarView.$el[0]).find('.actionButton').parents('.csui-widget').addClass('csui-action-button');\r\n        }, this));\r\n      Radio.channel(\"newlayout:widget:size\").on(\"update:widget:size\",\r\n        _.bind(function (widgetInfo) {\r\n          if (widgetInfo.widgetView.$el.hasClass('csui-heroTile')) {\r\n            widgetInfo.widgetView.$el.removeClass('csui-heroTile').addClass('csui-' + widgetInfo.kind);\r\n          }\r\n          Radio.channel(\"quicklink:Tiles\").trigger(\"transparent:background\");\r\n        }, this));\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n      this.propagateEventsToRegions();\r\n    },\r\n    \r\n    addRowBehaviours: function (self) {\r\n      function addCell(widgetConfig, index) {\r\n        var newCell = self._prepareGridCell(widgetConfig, index);\r\n        var cells = self.collection.at(0).columns;\r\n        cells.add(newCell, { at: index });\r\n        self.options.context.trigger('update:widget:panel', {\r\n          'action': 'add',\r\n          'widgetModel': newCell.widget\r\n        });\r\n      }\r\n      self.options.rowBehaviours = {\r\n        DnDContainerBehaviour: {\r\n          behaviorClass: DnDContainerBehaviour,\r\n          placeholder: self._getDnDPlaceholder.bind(self),\r\n          handle: '.csui-pman-widget-masking', // Limit re-ordering to mask (avoids callout popover),\r\n          helper: 'clone', // Use clone of the original element as drag image to preserve styles of original element as it is.\r\n          start: function (event, ui) {\r\n            var banner = self.$el.find('.csui-draggable-item');\r\n            if (banner.length >= 1) {\r\n              return;\r\n            }\r\n            //hiding popover on drag start\r\n            var popoverTarget = self.$el.find(\".binf-popover\");\r\n            if (popoverTarget.length) {\r\n              popoverTarget.removeClass(\"pman-ms-popover\");\r\n              popoverTarget.hide();\r\n              popoverTarget.binf_popover('destroy');\r\n            }\r\n          },\r\n          over: _.bind(function (event, ui) {\r\n            ui.placeholder.addClass('binf-hidden');\r\n            $(ui.helper).css('cursor', 'no-drop');\r\n            var banner = self.$el.find('.csui-draggable-item');\r\n            if (banner.length === 0 && (ui.placeholder.data(\"pman.widget.view\") && ui.placeholder.data(\"pman.widget.view\").get('id') == 'csui/widgets/html.editor' ||\r\n              ui.placeholder.data(\"pman.widget\") && ui.placeholder.data(\"pman.widget\").get('id') == 'csui/widgets/html.editor')) {\r\n              ui.helper.css('cursor', 'grabbing');\r\n            }\r\n            if (banner.length >= 1 || ui.placeholder.data(\"pman.widget.view\") && ui.placeholder.data(\"pman.widget.view\").get('id') != 'csui/widgets/html.editor' ||\r\n              ui.placeholder.data(\"pman.widget\") && ui.placeholder.data(\"pman.widget\").get('id') != 'csui/widgets/html.editor') {\r\n              return;\r\n            }\r\n            var placeholderWidget = self._getDnDPlaceholder(ui.helper);\r\n            var placeholder = self.$el.find('.csui-pman-placeholder-container');\r\n            // Update DnD placeholder with widget styles\r\n            placeholder.attr('class', placeholderWidget.attr('class'));\r\n            placeholder.html(placeholderWidget.html());\r\n            placeholder.css('visibility', 'visible');\r\n            placeholder.data('pman.widget', ui.helper.data('pman.widget'));\r\n            placeholder.removeData('isBeyondLayout');\r\n            if (!!ui.helper.data('pman.widget')) { // \"pman.widget\" is not available when reorder within flow\r\n              // Preload widget's view which is going to be drop to get ready with manifest etc., to avoid delay in placing widget immeditly on drop\r\n              self._resolveWidget({\r\n                type: ui.helper.data('pman.widget').id\r\n              }).done(\r\n                function (resolvedWidget) {\r\n                  placeholder.data('pman.widget.view', resolvedWidget);\r\n                });\r\n            }\r\n          }, self),\r\n          out: function (event, ui) {\r\n            $(ui.helper).css('cursor', 'grabbing');\r\n            var banner = self.$el.find('.csui-draggable-item');\r\n            if (banner.length >= 1 || !ui.placeholder.data(\"pman.widget.view\") ||\r\n              ui.placeholder.data(\"pman.widget.view\") && ui.placeholder.data(\"pman.widget.view\").get('id') != 'csui/widgets/html.editor') {\r\n              return;\r\n            }\r\n            ui.placeholder.hide();\r\n            ui.placeholder.data('isBeyondLayout', true);\r\n          },\r\n          receive: _.bind(function (event, ui) {\r\n            var banner = self.$el.find('.csui-draggable-item');\r\n            if (banner.length >= 1 || !ui.placeholder.data(\"pman.widget.view\") ||\r\n              ui.placeholder.data(\"pman.widget.view\") && ui.placeholder.data(\"pman.widget.view\").get('id') != 'csui/widgets/html.editor') {\r\n              self.$el.find('.csui-widget-item').remove();\r\n              ui.sender.sortable(\"cancel\");\r\n              return;\r\n            }\r\n            if (ui.position.top > 0) {\r\n              var newWidget = ui.placeholder.data('pman.widget'),\r\n                index = ui.item.index(), // this.$el.find('.binf-row >div').index(ui.item);\r\n                manifest = newWidget.get('manifest');\r\n\r\n              var widget,\r\n                preloadedWidgetView = ui.placeholder.data(\"pman.widget.view\");\r\n              if (PerspectiveUtil.isEligibleForLiveWidget(manifest)) {\r\n                widget = {\r\n                  type: newWidget.id,\r\n                  kind: 'fullpage',\r\n                  view: preloadedWidgetView.get('view')\r\n                };\r\n              } else {\r\n                widget = {\r\n                  type: 'csui/perspective.manage/widgets/perspective.widget',\r\n                  kind: 'fullpage',\r\n                  options: {\r\n                    options: {}, // To be used and filled by callout form\r\n                    widget: newWidget\r\n                  },\r\n                  view: (preloadedWidgetView = self.pespectiveWidgetView)\r\n                };\r\n              }\r\n              widget.options = _.extend({ ___pman_isdropped: true }, widget.options);\r\n\r\n              if (!preloadedWidgetView) {\r\n                // Widget's view is not loaded yet, load view to attach new cell\r\n                self._resolveWidget(widget).done(function (resolvedWidget) {\r\n                  addCell(widget, index);\r\n                });\r\n              } else {\r\n                // Widget's view preloaded on, ready to attach the cell.\r\n                addCell(widget, index);\r\n              }\r\n            }\r\n            // Move Placeholder widget to last\r\n            self._ensurePlaceholder();\r\n            self.$el.find('.csui-draggable-item-disable').addClass('binf-hidden');\r\n            // Cancel sort event since placing widget manually here.\r\n            ui.sender.sortable(\"cancel\");\r\n          }, self),\r\n          stop: _.bind(function () {\r\n            self._ensurePlaceholder();\r\n          }, self)\r\n        }\r\n      };\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this,\r\n        clasName = 'csui-' + this.perspectiveType + '-layout';\r\n      self.$el.addClass(clasName);\r\n      if (self.options.banner && !!self.options.banner.length && this.options.banner[0].hidden !== true ||\r\n        self.options.perspectiveMode == \"edit\" || (this.options.perspectiveMode === 'personalize' && !!self.options.banner.length)) {\r\n        self.bannerRegion.show(self.headerView);\r\n        if (self.headerView.options.widgets.length > 1) {\r\n          self.headerView.$el.find('.csui-draggable-item-disable').addClass('binf-hidden');\r\n        }\r\n      }\r\n      var contentViewWidgetsList = self.contentView.collection.models[0].columns.models;\r\n      _.each(contentViewWidgetsList, function (widget) {\r\n        widget.set('className', 'csui-' + widget.get('widget').kind + ' csui-widget');\r\n      });\r\n      var sidebarViewwWidgetsList = self.sidebarView.collection.models[0].columns.models;\r\n      _.each(sidebarViewwWidgetsList, function (widget) {\r\n        widget.set('className', 'csui-' + widget.get('widget').kind + ' csui-widget');\r\n      });\r\n      self.contentRegion.show(self.contentView);\r\n      self.sidebarRegion.show(self.sidebarView);\r\n\r\n    },\r\n\r\n    serializePerspective: function (perspectiveModel) {\r\n      this.setZoneName();\r\n      var self         = this,\r\n      deferred     = $.Deferred(),\r\n      cells        = new Backbone.Collection();\r\n      cells.push(this.contentView.collection.at(0).columns.models);\r\n      cells.push(this.sidebarView.collection.at(0).columns.models);\r\n      if (this.headerView) {\r\n        cells.push(this.headerView.collection.at(0).columns.models);\r\n      }\r\n      var widgetModels = cells.filter(function (cell) {\r\n        return !this.isEmptyPlaceholder(cell.get('widget'));\r\n      }, this);\r\n      widgetModels.sort(function (a, b) {\r\n        return parseInt(a.cid.replace(/\\D/g,'')) - parseInt(b.cid.replace(/\\D/g,''));\r\n      });\r\n      var widgetPromises = widgetModels.map(function (widget, index) {\r\n        return self.serializeWidget(widget, '/options/widgets/' + index);\r\n      });\r\n      $.whenAll.apply($, widgetPromises).done(function (results) {\r\n        self.executeCallbacks(results, perspectiveModel, self.options.context).done(function () {\r\n          // sorting the results to get the order of the widgets placed\r\n          results = results.sort(function (a, b) {\r\n            return a.widget.options.index - b.widget.options.index;\r\n          });\r\n          var widgets           = _.pluck(results, 'widget'),\r\n              constant_data     = _.flatten(_.pluck(results, 'constantsData')),\r\n              bannerModels = widgets.filter(function (cell) {\r\n                if (!cell.options) {\r\n                  return;\r\n                }\r\n                return cell.options.zone == 'banner';\r\n              }, this),\r\n              contentModels = widgets.filter(function (cell) {\r\n                if (!cell.options) {\r\n                  return;\r\n                }\r\n                return cell.options.zone == 'content';\r\n              }, this),\r\n              sidebarModels = widgets.filter(function (cell) {\r\n                if (!cell.options) {\r\n                  return;\r\n                }\r\n                return cell.options.zone == 'sidebar';\r\n              }, this);\r\n              self.unsetZoneName(widgets);\r\n              var perspectiveResult = {\r\n                perspective: {\r\n                  type: self.perspectiveType,\r\n                  options: {\r\n                    banner: bannerModels,\r\n                    content: contentModels,\r\n                    sidebar: sidebarModels}\r\n                  },\r\n                constant_data: constant_data,\r\n                constant_extraction_mode: 1\r\n              };\r\n          var isAllWidgetsValid = self.validateAndGenerateWidgetId(widgets);\r\n          if (!isAllWidgetsValid) {\r\n            deferred.reject(commonLang.widgetValidationFailed);\r\n          } else {\r\n            deferred.resolve(perspectiveResult);\r\n          }\r\n        }).fail(function (results) {\r\n          // TODO Group errors\r\n          results = _.filter(results, function (result) {return !!result.error});\r\n          deferred.reject(results[0].error);\r\n        });\r\n      }, this).fail(function (results) {\r\n        // TODO Group errors\r\n        results = _.filter(results, function (result) {return !!result.error});\r\n        deferred.reject(results[0].error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    swapLayout: function(perspectiveModel){\r\n      this.perspectiveType = perspectiveModel.attributes.perspective.type;\r\n      var className = 'csui-' + this.perspectiveType + '-layout';\r\n      this.$el.removeClass('csui-sidepanel-right-layout').removeClass('csui-sidepanel-left-layout')\r\n        .addClass(className);\r\n    },\r\n\r\n    setZoneName: function () {\r\n      if (this.headerView) {\r\n        _.each(this.headerView.collection.at(0).columns.models, function (widget) {\r\n          if (widget.get('widget').type == \"csui/perspective.manage/widgets/perspective.widget\") {\r\n            widget.get('widget').options.options.zone = 'banner';\r\n          } else {\r\n            widget.get('widget').options.zone = 'banner';\r\n          }\r\n        });\r\n      }\r\n      _.each(this.contentView.collection.at(0).columns.models, function (widget, index) {\r\n        if (widget.get('widget').type == \"csui/perspective.manage/widgets/perspective.widget\") {\r\n          widget.get('widget').options.options.index = index;\r\n          widget.get('widget').options.options.zone = 'content';\r\n        } else {\r\n          widget.get('widget').options.index = index;\r\n          widget.get('widget').options.zone = 'content';\r\n        }\r\n      });\r\n\r\n      _.each(this.sidebarView.collection.at(0).columns.models, function (widget, index) {\r\n        if (widget.get('widget').type == \"csui/perspective.manage/widgets/perspective.widget\") {\r\n          widget.get('widget').options.options.index = index;\r\n          widget.get('widget').options.options.zone = 'sidebar';\r\n        } else {\r\n          widget.get('widget').options.index = index;\r\n          widget.get('widget').options.zone = 'sidebar';\r\n        }\r\n      });\r\n    },\r\n\r\n    unsetZoneName: function (widgetModels) {\r\n      _.each(widgetModels, function (model) {\r\n         delete model.options.zone;\r\n      });\r\n    },\r\n\r\n    enumerateWidgets: function (callback) {\r\n      if (this.options.banner && this.options.banner.length) {\r\n        _.each(this.options.banner, function (widget) {\r\n          widget && callback(widget);\r\n        });\r\n      }\r\n\r\n      _.each(this.options.content, function (widget) {\r\n        widget && callback(widget);\r\n      });\r\n\r\n      _.each(this.options.sidebar || [], function (widget) {\r\n        widget && callback(widget);\r\n      });\r\n    },\r\n\r\n    getPreviousWidgets: function (perspectiveModel) {\r\n      var perspective     = perspectiveModel.getPerspective(),\r\n          previousWidgets = perspective &&\r\n                            perspective.options ?\r\n                            perspective.options.banner : {};\r\n      _.each(this.options.sidebar, function (widget) {\r\n        previousWidgets.push(widget);\r\n      });\r\n      _.each(this.options.content, function (widget) {\r\n        previousWidgets.push(widget);\r\n      });\r\n      previousWidgets = _.map(previousWidgets, function (widget) {\r\n        return {widget: widget};\r\n      });\r\n      return previousWidgets;\r\n    }\r\n  });\r\n  _.extend(BannerContentSidebarView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  PerspectiveEditMixin.mixin(BannerContentSidebarView.prototype);\r\n  return BannerContentSidebarView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/perspectives/sidepanel-left/impl/sidepanel-left',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<div id=\\\"banner-region\\\" class=\\\"binf-row\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"showBanner\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div id=\\\"main\\\" class=\\\"binf-row\\\">\\r\\n    <div id=\\\"sidebar-region\\\" class=\\\"binf-col-xs-6 binf-col-sm-6 binf-col-md-4 binf-col-lg-3 binf-col-xl-3\\\"></div>\\r\\n    <div id=\\\"content-region\\\" class=\\\"binf-col-xs-6 binf-col-sm-6 binf-col-md-8 binf-col-lg-9 binf-col-xl-9\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_perspectives_sidepanel-left_impl_sidepanel-left', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/perspectives/sidepanel-left/sidepanel-left.perspective.view',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/perspectives/banner-content-sidebar/banner-content-sidebar.perspective.view',\r\n  'hbs!csui/perspectives/sidepanel-left/impl/sidepanel-left',\r\n  'css!csui/perspectives/banner-content-sidebar/impl/banner-content-sidebar'\r\n], function (module, _, Backbone, $, Marionette, PerspectiveEditMixin, LayoutViewEventsPropagationMixin, BannerContentSidebarView, perspectiveTemplate) {\r\n\r\n  var SidepanelLeftPerspectiveView = BannerContentSidebarView.extend({\r\n    template: perspectiveTemplate,\r\n    templateHelpers: function () {\r\n      var showBanner;\r\n      if (this.options.perspectiveMode === \"edit\" || (this.options.perspectiveMode === 'personalize' && !!this.options.banner.length)) {\r\n        showBanner = true;\r\n      } else {\r\n        showBanner = !!this.options.banner.length && this.options.banner[0].hidden != true ? true : false;\r\n      }\r\n      return {\r\n        showBanner: showBanner,\r\n        sidebarLeft: true,\r\n        sidebarRight: false\r\n      };\r\n    },\r\n    constructor: function SidepanelLeftPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      this.perspectiveType = 'sidepanel-left';\r\n      options.context.perspective.type = this.perspectiveType;\r\n      BannerContentSidebarView.prototype.constructor.call(this, options);\r\n    }\r\n  });\r\n  _.extend(SidepanelLeftPerspectiveView.prototype, LayoutViewEventsPropagationMixin);\r\n  PerspectiveEditMixin.mixin(SidepanelLeftPerspectiveView.prototype);\r\n  return SidepanelLeftPerspectiveView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/perspectives/sidepanel-right/impl/sidepanel-right',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<div id=\\\"banner-region\\\" class=\\\"binf-row\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"showBanner\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div id=\\\"main\\\" class=\\\"binf-row\\\">\\r\\n    <div id=\\\"content-region\\\" class=\\\"binf-col-xs-6 binf-col-sm-6 binf-col-md-8 binf-col-lg-9 binf-col-xl-9\\\"></div>\\r\\n    <div id=\\\"sidebar-region\\\" class=\\\"binf-col-xs-6 binf-col-sm-6 binf-col-md-4 binf-col-lg-3 binf-col-xl-3\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_perspectives_sidepanel-right_impl_sidepanel-right', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/perspectives/sidepanel-right/sidepanel-right.perspective.view',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/perspectives/banner-content-sidebar/banner-content-sidebar.perspective.view',\r\n  'hbs!csui/perspectives/sidepanel-right/impl/sidepanel-right',\r\n  'css!csui/perspectives/banner-content-sidebar/impl/banner-content-sidebar'\r\n], function (module, _, Backbone, $, Marionette, PerspectiveEditMixin, LayoutViewEventsPropagationMixin, BannerContentSidebarView, perspectiveTemplate) {\r\n\r\n  var SidepanelRightPerspectiveView = BannerContentSidebarView.extend({\r\n    template: perspectiveTemplate,\r\n    templateHelpers: function () {\r\n      var showBanner;\r\n      if (this.options.perspectiveMode === \"edit\" || (this.options.perspectiveMode === 'personalize' && !!this.options.banner.length)) {\r\n        showBanner = true;\r\n      } else {\r\n        showBanner = !!this.options.banner.length && this.options.banner[0].hidden !== true ? true : false;\r\n      }\r\n      return {\r\n        showBanner: showBanner,\r\n        sidebarRight: true,\r\n        sidebarLeft: false\r\n      };\r\n    },\r\n    constructor: function SidepanelRightPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      this.perspectiveType = 'sidepanel-right';\r\n      options.context.perspective.type = this.perspectiveType;\r\n      BannerContentSidebarView.prototype.constructor.call(this, options);\r\n    }\r\n  });\r\n  _.extend(SidepanelRightPerspectiveView.prototype, LayoutViewEventsPropagationMixin);\r\n  PerspectiveEditMixin.mixin(SidepanelRightPerspectiveView.prototype);\r\n  return SidepanelRightPerspectiveView;\r\n\r\n});\n","// Loads a widget and renders it in a full-page zone layout\r\ncsui.define('csui/perspectives/single/single.perspective.view',['module', 'csui/lib/underscore', 'csui/perspectives/zone/zone.perspective.view'\r\n], function (module, _, ZonePerspectiveView) {\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    zoneNames: ['widget'],\r\n    zoneLayouts: {\r\n      'widget': {\r\n        zoneOrder: ['widget'],\r\n        zoneSizes: {\r\n          widget: {\r\n            sizes: {\r\n              xs: 12\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var SinglePerspectiveView = ZonePerspectiveView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-single-perspective',\r\n          parentClassName = _.result(ZonePerspectiveView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    zoneNames: config.zoneNames,\r\n    zoneLayouts: config.zoneLayouts,\r\n\tunSupportedWidgets: config.unSupportedWidgets,\r\n\r\n    constructor: function SinglePerspectiveView(options) {\r\n      ZonePerspectiveView.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  return SinglePerspectiveView;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/active.tab.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var ActiveTabModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      tabIndex: 0\r\n    }\r\n\r\n  });\r\n\r\n  var ActiveTabModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'activeTab',\r\n\r\n    constructor: function ActiveTabModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var activeTab = this.options.activeTab || {};\r\n      if (!(activeTab instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        activeTab = new ActiveTabModel(activeTab.attributes, _.extend({},\r\n            activeTab.options, config.options));\r\n      }\r\n      this.property = activeTab;\r\n    }\r\n\r\n  });\r\n\r\n  return ActiveTabModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/perspectives/tabbed/behaviors/tab.extensions.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/utils/non-emptying.region/non-emptying.region'\r\n], function (module, _, $, Marionette, NonEmptyingRegion) {\r\n  'use strict';\r\n\r\n  var TabExtensionsBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabExtensionsBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(view, 'render', this.renderExtension);\r\n      this.listenTo(view, 'before:destroy', this.destroyExtension);\r\n      this.listenTo(view, 'dom:refresh', this.refreshTab);\r\n    },\r\n\r\n    renderExtension: function () {\r\n      var options                         = this.view.options,\r\n          tabBarLeftExtensionViewClass    = options.tabBarLeftExtensionViewClass,\r\n          tabBarLeftExtensionViewOptions  = options.tabBarLeftExtensionViewOptions,\r\n          tabBarRightExtensionViewClass   = options.tabBarRightExtensionViewClass,\r\n          tabBarRightExtensionViewOptions = options.tabBarRightExtensionViewOptions,\r\n          // tabpanel ==> 'left extension', 'tablinks', 'right extension','tabcontent'\r\n          tabLeftExtensionIndex           = 0, // left extension if present, index is 0\r\n          tabRightExtensionIndex;//right extension if present,index can be either 1(no left extension or 2( with left extension)\r\n\r\n      this.tabBarLeftExtensionsRegion = this.showExtension(tabBarLeftExtensionViewClass,\r\n          tabBarLeftExtensionViewOptions, tabLeftExtensionIndex);\r\n      tabRightExtensionIndex = !!this.tabBarLeftExtensionsRegion ? 2 : 1;\r\n      this.tabBarRightExtensionsRegion = this.showExtension(tabBarRightExtensionViewClass,\r\n          tabBarRightExtensionViewOptions, tabRightExtensionIndex);\r\n      this.view._initializeToolbars();\r\n    },\r\n\r\n    showExtension: function (viewClass, viewOptions, index) {\r\n      var viewRegion;\r\n      if (!!viewClass) {\r\n        if (typeof (viewClass) === \"function\") {\r\n          this.tabBarExtensionView = new viewClass(viewOptions);\r\n          this.tabBarExtensionView.$el.addClass(\"tab-extension\");\r\n          if (!!viewOptions.customClass) {\r\n            this.tabBarExtensionView.$el.addClass(viewOptions.customClass);\r\n          }\r\n          viewRegion = new NonEmptyingRegion({\r\n            el: this.view.el,\r\n            index: index\r\n          });\r\n          viewRegion.show(this.tabBarExtensionView);\r\n        }\r\n      }\r\n      return viewRegion;\r\n    },\r\n\r\n    refreshTab: function () {\r\n      this.view._enableToolbarState();\r\n\r\n      if(this.tabBarExtensionView){\r\n        this.tabBarExtensionView.triggerMethod(\"dom:refresh\");\r\n      }\r\n    },\r\n\r\n    destroyExtension: function () {\r\n      if (!!this.tabBarLeftExtensionsRegion) {\r\n        this.tabBarLeftExtensionsRegion.empty();\r\n      }\r\n      if (!!this.tabBarRightExtensionsRegion) {\r\n        this.tabBarRightExtensionsRegion.empty();\r\n      }\r\n    }\r\n  });\r\n\r\n  return TabExtensionsBehavior;\r\n\r\n});\r\n\n","\n","csui.define('csui/perspectives/tabbed/tab.index/tab.index.preferences',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui-ext!csui/perspectives/tabbed/tab.index/tab.index.preferences'\r\n], function (_, Backbone, extensions) {\r\n  'use strict';\r\n\r\n  var TabIndexPreferenceModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100,\r\n      getPreferredTabIndex: null\r\n    },\r\n\r\n    constructor: function TabIndexPreferenceModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  var TabIndexPreferenceCollection = Backbone.Collection.extend({\r\n    model: TabIndexPreferenceModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function TabIndexPreferenceCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    getPreferredTabIndex: function (options) {\r\n      var tabIndex;\r\n      this.some(function (extension) {\r\n        tabIndex = extension.get('getPreferredTabIndex')(options);\r\n        return tabIndex !== undefined;\r\n      });\r\n      return tabIndex;\r\n    }\r\n  });\r\n\r\n  var tabIndexPreferences = new TabIndexPreferenceCollection();\r\n\r\n  if (extensions) {\r\n    tabIndexPreferences.add(_\r\n      .chain(extensions)\r\n      .flatten()\r\n      .value()\r\n    );\r\n  }\r\n\r\n  return tabIndexPreferences;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/perspectives/tabbed/impl/tabbed.perspective',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"cs-header\\\"></div>\\r\\n<div class=\\\"cs-content\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_perspectives_tabbed_impl_tabbed.perspective', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/perspectives/tabbed/impl/tabbed.perspective',[],function(){});\n","csui.define('csui/perspectives/tabbed/tabbed.perspective.view',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery', 'csui/lib/marionette', 'csui/utils/base',\r\n  'csui/controls/tab.panel/tab.panel.view', 'csui/controls/grid/grid.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/utils/contexts/factories/active.tab.factory',\r\n  'csui/controls/tab.panel/tab.links.ext.scroll.mixin',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/perspectives/tabbed/behaviors/tab.extensions.behavior',\r\n  'csui/controls/mixins/view.state/node.view.state.mixin',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/fragment/context.fragment',\r\n  'csui/perspectives/tabbed/tab.index/tab.index.preferences',\r\n  'hbs!csui/perspectives/tabbed/impl/tabbed.perspective',\r\n  'css!csui/perspectives/impl/perspective',\r\n  'css!csui/perspectives/tabbed/impl/tabbed.perspective'\r\n], function (module, _, Backbone, $, Marionette, base, TabPanelView, GridView,\r\n    WidgetContainerBehavior, LayoutViewEventsPropagationMixin,\r\n    ActiveTabModelFactory, TabLinksScrollMixin, TabLinkCollectionViewExt,\r\n    TabExtensionsBehavior, NodeViewStateMixin, NextNodeModelFactory,\r\n    ContextFragment, tabIndexPreferences, perspectiveTemplate) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n\r\n  // TODO: Remove these experimental parameters.\r\n  // Let incremental tab loading be enabled or disabled by URL temporarily.\r\n  var delayTabContent = /\\bdelayTabContent\\b(?:=([^&]*)?)?/i.exec(location.search);\r\n  delayTabContent = delayTabContent ? delayTabContent[1] !== 'false' : true;\r\n  if (delayTabContent === undefined) {\r\n    delayTabContent = config.delayTabContent;\r\n  }\r\n\r\n  var GridRowWidgetContainerView = GridView.RowView.extend({\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var view = widget.view;\r\n        if (!view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved: ' +\r\n                     widget.error\r\n          });\r\n        }\r\n        return view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // Widgets in the tab panel should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined\r\n      };\r\n    },\r\n\r\n    constructor: function GridRowWidgetContainerView() {\r\n      GridView.RowView.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var TabWidgetContainerView = TabPanelView.extend({\r\n\r\n    contentView: GridRowWidgetContainerView,\r\n\r\n    contentViewOptions: function (model) {\r\n      return {\r\n        context: this.options.context,\r\n        columns: model.get('columns')\r\n      };\r\n    },\r\n\r\n    constructor: function TabWidgetContainerView(options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        // Perspective can fetch all data, only if all widgets\r\n        // are created; including on non-activated tabes\r\n        delayTabContent: delayTabContent,\r\n        // Prevent activating another tab before the activating animation\r\n        // finished. Events before:activate:tab and activate:tab may be\r\n        // triggered for a different tab.\r\n        overlappingTabActivation: false,\r\n        toolbar: true,\r\n        TabLinkCollectionViewClass: TabLinkCollectionViewExt,\r\n        tabBarLeftExtensionViewClass: options.tabBarLeftExtensionViewClass,\r\n        tabBarLeftExtensionViewOptions: options.tabBarLeftExtensionViewOptions,\r\n        tabBarRightExtensionViewClass: options.tabBarRightExtensionViewClass,\r\n        tabBarRightExtensionViewOptions: options.tabBarRightExtensionViewOptions\r\n      });\r\n\r\n      if (options.tabs) {\r\n        _.each(options.tabs, function (tab, tabIndex) {\r\n          _.each(tab.columns, function (col, columnIndex) {\r\n            col.widget.cellAddress = 'tab' + tabIndex + ':r0:c' + columnIndex;\r\n          });\r\n        });\r\n      }\r\n      this.behaviors = _.extend({\r\n        TabExtensionsBehavior: {\r\n          behaviorClass: TabExtensionsBehavior\r\n        }\r\n      }, this.behaviors);\r\n\r\n      $(window).on('resize', {view: this}, this._onWindowResize);\r\n      TabPanelView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _onWindowResize: function (event) {\r\n      if (event && event.data && event.data.view) {\r\n        event.data.view._enableToolbarState();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabWidgetContainerView.prototype, TabLinksScrollMixin);\r\n\r\n  function AllowTabIndexBeSet() {\r\n    /**\r\n     * We should not need this method. However, as the tab index is not reliably\r\n     * contained in the view state, there is no other chance currently.\r\n     * We check, whether routing was initiated by the browser (routeFromUrl).\r\n     * This covers the cases for browser back/forward/Refresh/F5/UrlEdit which can\r\n     * not be distinguished, at least not currently.\r\n     * We also check if state was restored from the csui history (isFromHistory).\r\n     * In both cases (routeFromUrl, isFromHistory) we must not set a tab index in the\r\n     * view state even when undefined there, except if we are in the very first navigation\r\n     * directly after starting (isFirstRoute), where it is allowed to set the tab.\r\n     *\r\n     * \"the tab index is not reliably set in the view state\" means:\r\n     * tab=0 is not included in the URL and so if the view state is restored from the browser\r\n     * history or from the csui history, then the view state does not contain a tab. However\r\n     * in these cases we must not call GetPreferredTabIndex again.\r\n     */\r\n    if (this.context && this.context.viewStateModel) {\r\n      var isFirstRoute = this.context.viewStateModel.get('isFirstRoute');\r\n      var routeFromUrl = this.context.viewStateModel.get('routeFromUrl');\r\n      var isFromHistory = this.context.viewStateModel.get('isFromHistory');\r\n      if (isFirstRoute || !routeFromUrl && !isFromHistory) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  var TabbedPerspectiveView = Marionette.LayoutView.extend({\r\n\r\n    className: 'cs-tabbed-perspective cs-perspective binf-container-fluid',\r\n    template: perspectiveTemplate,\r\n\r\n    behaviors: {\r\n      WidgetContainer: {\r\n        behaviorClass: WidgetContainerBehavior\r\n      }\r\n    },\r\n\r\n    regions: {\r\n      headerRegion: '> .cs-header',\r\n      contentRegion: '> .cs-content'\r\n    },\r\n\r\n    constructor: function TabbedPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n\r\n      this.context = options.context;\r\n      var viewStateModel = this.context && this.context.viewStateModel;\r\n      viewStateModel.setDefaultViewState('tab', 0);\r\n      viewStateModel.addUrlParameters(['tab']);\r\n      this.activeTab =  this._initActiveTabFromViewState();\r\n      this.associatedRouter = viewStateModel.get(\"activeRouterInstance\");\r\n      viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.ALLOW_WIDGET_URL_PARAMS, false);\r\n\r\n      var widget = options && options.header && options.header.widget;\r\n      if (widget) {\r\n        options.header.widget = base.filterUnSupportedWidgets(widget, config);\r\n      }\r\n      if (options.tabs) {\r\n        options.tabs = _.each(options.tabs, function (tab, tabIndex) {\r\n          tab.columns = _.filter(tab.columns, function (col, columnIndex) {\r\n            return base.filterUnSupportedWidgets(col.widget, config) != undefined;\r\n          });\r\n        });\r\n      }\r\n\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // The current tab may be wanted to be remembered when the perspective\r\n      // is switched again.  The following model from the context does it.\r\n      //this.activeTab = this.options.context.getModel(ActiveTabModelFactory);\r\n\r\n      this.listenTo(this.context.viewStateModel, 'change:state', this.onViewStateChanged);\r\n\r\n      this.listenTo(this.context,'before:change:perspective',function(){\r\n        // when perspective changes in a normal navigation step, unset tab (fix LPAD-101476)\r\n        if (AllowTabIndexBeSet.call(this)) {\r\n          this.context.viewStateModel.setViewState('tab',undefined,{silent:true});\r\n        }\r\n      }.bind(this));\r\n\r\n      this.listenTo(this.context,'retain:perspective',function(){\r\n        if (this.tabPanel && this.tabPanel.activeTab) {\r\n          // if perspective doesn't change, restore tab index deleted by perspective.router (fix LPAD-101475)\r\n          var tabPanelTab = this.tabPanel.activeTab.get('tabIndex');\r\n          this.context.viewStateModel.setViewState('tab',tabPanelTab,{silent:true});\r\n        }\r\n      }.bind(this));\r\n\r\n      this.nextNode = this.context.getModel(NextNodeModelFactory);\r\n\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      this.navigationHeader = this.options.header.widget ?\r\n                              this._createWidget(this.options.header.widget) : {};\r\n      this.tabPanel = new TabWidgetContainerView(_.extend({\r\n        activeTab: this.activeTab,\r\n        delayTabContent: this.options.delayTabContent,\r\n        tabBarLeftExtensionViewClass: this.navigationHeader.tabBarLeftExtensionView,\r\n        tabBarLeftExtensionViewOptions: this.navigationHeader.tabBarLeftExtensionViewOptions,\r\n        tabBarRightExtensionViewClass: this.navigationHeader.tabBarRightExtensionView,\r\n        tabBarRightExtensionViewOptions: this.navigationHeader.tabBarRightExtensionViewOptions,\r\n        disableExtensionOnFirstTab: this.navigationHeader.disableExtensionOnFirstTab,\r\n        disableExtensionOnOtherTabs: this.navigationHeader.disableExtensionOnOtherTabs\r\n      }, this.options));\r\n      this._updateToggleHeaderState();\r\n      // Do not use before:activate:tab and activate:tab. When overlapping of\r\n      // those events is disabled, the content creation on before:activate:tab\r\n      // wil not be ensured. The content population events have to be used to\r\n      // cover the case, when the content is populated first on activate:tab.\r\n      this.listenTo(this.tabPanel, 'before:populate:tab', this._onBeforePopulateTab)\r\n          .listenTo(this.tabPanel, 'populate:tab', this._onPopulateTab)\r\n          .listenTo(this.tabPanel, 'activate:tab', this._onActivateTab);\r\n      if (!_.isEmpty(this.navigationHeader)) {\r\n        this.$el.removeClass('csui-no-header');\r\n        this.headerRegion.show(this.navigationHeader);\r\n      } else {\r\n        this.$el.addClass('csui-no-header');\r\n      }\r\n      this.contentRegion.show(this.tabPanel);\r\n      this.headerRegion.$el.on(this._transitionEnd(), _.bind(function (event) {\r\n        if (event.target === this.headerRegion.el) {\r\n          this.$el.removeClass('cs-toggling');\r\n          this.triggerMethod('dom:refresh');\r\n        }\r\n      }, this));\r\n\r\n    },\r\n\r\n    _onBeforePopulateTab: function (tabPanel, tabPane) {\r\n      if (delayTabContent && !tabPane.contextFragment) {\r\n        tabPane.contextFragment = new ContextFragment(this.context);\r\n      }\r\n    },\r\n\r\n    _onPopulateTab: function (tabPanel, tabPane) {\r\n      if (tabPane.contextFragment) {\r\n        tabPane.contextFragment.fetch();\r\n        tabPane.contextFragment.destroy();\r\n        tabPane.contextFragment = undefined;\r\n      }\r\n    },\r\n\r\n    _onActivateTab: function (tabContent, tabPane, tabLink) {\r\n      this._updateToggleHeaderState(tabContent, tabPane, tabLink);\r\n      this._notifyHeader();\r\n    },\r\n\r\n    _notifyHeader: function(tabContent, tabPane, tabLink){\r\n      var tabIndex = this.tabPanel.activeTab.get('tabIndex');\r\n      var isCollapsed = this.tabPanel.activeTab.get('isCollapsed');\r\n      this.navigationHeader.triggerMethod(\"active:tab\", {'tabIndex':tabIndex, 'isCollapsed': isCollapsed});\r\n    },\r\n\r\n    onBeforeRender: function () {\r\n      if (this.headerRegion && this.headerRegion.$el) {\r\n        this.headerRegion.$el.off(this._transitionEnd());\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      if (this.headerRegion && this.headerRegion.$el) {\r\n        this.headerRegion.$el.off(this._transitionEnd());\r\n      }\r\n    },\r\n\r\n    enumerateWidgets: function (callback) {\r\n      var widget = this.options && this.options.header && this.options.header.widget;\r\n      widget && callback(widget);\r\n      _.each(this.options.tabs, function (tab) {\r\n        _.each(tab.columns || [], function (column) {\r\n          column.widget && callback(column.widget);\r\n        });\r\n      });\r\n    },\r\n\r\n    _createWidget: function (widget) {\r\n      var Widget = widget.view;\r\n      if (!Widget) {\r\n        throw new Marionette.Error({\r\n          name: 'UnresolvedWidgetError',\r\n          message: 'Widget not resolved: \"' + widget.type + '\"'\r\n        });\r\n      }\r\n      return new Widget({\r\n        context: this.options.context,\r\n        data: widget.options || {}\r\n      });\r\n    },\r\n\r\n    _updateToggleHeaderState: function (tabContent, tabPane, tabLink) {\r\n      // If this handler is triggered by before:activate:tab, the activeTab\r\n      // model has not been updated yet\r\n      var tabIndex    = tabLink ? tabLink.model.collection.indexOf(tabLink.model) :\r\n                        this.activeTab && this.activeTab.get('tabIndex') || 0,\r\n          method      = tabIndex === 0 ? 'removeClass' : 'addClass',\r\n          isCollapsed = this.$el.hasClass('cs-collapse');\r\n      if (method === 'removeClass' && isCollapsed ||\r\n          method === 'addClass' && !isCollapsed) {\r\n        this.$el.addClass('cs-toggling');\r\n        this.$el[method]('cs-collapse');\r\n      }\r\n      this.tabPanel.activeTab.set('isCollapsed', (tabIndex > 0) );\r\n\r\n      if (this.tabPanel && this.tabPanel.tabLinks) {\r\n        this.setViewStateTabIndex(tabIndex);\r\n      }\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      this.onViewStateChanged();\r\n    },\r\n\r\n    _initActiveTabFromViewState: function () {\r\n      var tabIndex = this.getViewStateTabIndex();\r\n\r\n      // Call the plugins to see if the tab that needs to be displayed is different from what the\r\n      // url has and the viewStateModel has.\r\n      var context = this.context;\r\n\r\n      var newTabIndex = tabIndex;\r\n      // Do not call the plugin if we already navigated, but if we have not\r\n      // navigated already then make sure we do not call the plugin unless no\r\n      // tab specifically specified in the url.\r\n      if ((tabIndex === undefined || tabIndex === null) && AllowTabIndexBeSet.call(this)) {\r\n        newTabIndex = tabIndexPreferences.getPreferredTabIndex({context: context});\r\n      }\r\n\r\n      if (newTabIndex !== undefined && newTabIndex !== tabIndex) {\r\n        tabIndex = newTabIndex;\r\n        // The url needs to change to the new tab, but we need to make sure\r\n        // the original url that did not have a tab parameter in it to be replaced\r\n        // with the one that has one equal to the new index.\r\n        this.context.viewStateModel.set('replaceURL', true);\r\n\r\n        // By setting the tab on the viewState, we will trigger a new navigation and the url\r\n        // will be constructed correctly.\r\n        this.setViewStateTabIndex(tabIndex);\r\n      }\r\n\r\n      // if the tabIndex is > 0 then return a tab to activate, otherwise we let the view do the\r\n      // default behavior.\r\n      if (tabIndex) {\r\n        return new Backbone.Model({tabIndex: tabIndex});\r\n      }\r\n    },\r\n\r\n    onViewStateChanged: function (forceActivation) {\r\n\r\n      if (this.context.viewStateModel.get('disable_tab_switching')) {\r\n        return;\r\n      }\r\n      // do not activate a tab, if router is different: new perspective will be loaded and\r\n      // if there is a tabbed perspective it will be rendered explicitly (fix LPAD-102154)\r\n      var activeRouter = this.context.viewStateModel.get(\"activeRouterInstance\");\r\n      if (activeRouter!==this.associatedRouter) {\r\n        return;\r\n      }\r\n      \r\n      var tabIndex = this.getViewStateTabIndex(),\r\n          defaultTabIndex = this.getDefaultViewStateTabIndex(),\r\n          tabPanel = this.tabPanel,\r\n          tabLinks = tabPanel && this.tabPanel.tabLinks,\r\n          self     = this;\r\n\r\n      if (tabIndex === undefined) {\r\n        tabIndex = defaultTabIndex || 0;\r\n      }\r\n\r\n      // todo: Remove all all this stuff from here. This is a last minute fix before the 16.2.10\r\n      // release and did not know how to fix it any other way.\r\n      function isTabContentCreated(index) {\r\n        var tabPanels = tabPanel.el.querySelectorAll('[role=tabpanel]');\r\n        if (self.context.viewStateModel.get('routeFromUrl')) {\r\n          return true;\r\n        } else if (tabPanels && tabPanels.length > index) {\r\n          return $(tabPanels[index]).height() > 0;\r\n        }\r\n      }\r\n\r\n      function activateTabWhenReady(tab, tabIndex) {\r\n        if (isTabContentCreated(tabIndex)) {\r\n          tab.activate();\r\n        } else {\r\n          setTimeout(activateTabWhenReady.bind(self, tab, tabIndex), 50);\r\n        }\r\n      }\r\n\r\n      if (tabLinks && tabIndex !== undefined) {\r\n        var tab = tabLinks.children.findByIndex(tabIndex);\r\n        if (tab && !tab.isActive()) {\r\n          activateTabWhenReady(tab, tabIndex);\r\n        }\r\n      }\r\n    },\r\n\r\n    _setFirstTabPanelVisibility: function (show) {\r\n      var tabPanel = this.tabPanel.el.querySelector('[role=tabpanel]');\r\n      tabPanel && (tabPanel.style.visibility = show ? 'visible' : 'hidden');\r\n    },\r\n\r\n    // TODO: Make a common method for this or remove it,\r\n    // if all browsers support it.\r\n    _transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element     = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    _supportMaximizeWidget: true\r\n\r\n  });\r\n\r\n  _.extend(TabbedPerspectiveView.prototype, LayoutViewEventsPropagationMixin);\r\n  _.extend(TabbedPerspectiveView.prototype, NodeViewStateMixin);\r\n\r\n  return TabbedPerspectiveView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"  <div class=\\\"left-toolbar\\\"></div>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"  <div class=\\\"right-toolbar\\\"></div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"toolbar\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"\\r\\n<div class=\\\"tab-links-bar\\\">\\r\\n  <span class=\\\"fadeout\\\"></span>\\r\\n  <ul class=\\\"binf-nav \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"tab_type\") || (depth0 != null ? lookupProperty(depth0,\"tab_type\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tab_type\",\"hash\":{},\"loc\":{\"start\":{\"line\":7,\"column\":22},\"end\":{\"line\":7,\"column\":34}}}) : helper)))\n    + \"\\\" role=\\\"tablist\\\"></ul>\\r\\n</div>\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"toolbar\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"loc\":{\"start\":{\"line\":10,\"column\":0},\"end\":{\"line\":12,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"\\r\\n<div class=\\\"csui-pman-add-newtab\\\">\\r\\n  <button class=\\\"icon icon-action-add\\\" title=\\\"Add tab\\\"></button>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_perspectives_tabbed-flow_impl_edit.perspective_tab.links', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link',['module','hbs','nuc/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a href=\\\"#\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"uniqueTabId\") || (depth0 != null ? lookupProperty(depth0,\"uniqueTabId\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"uniqueTabId\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":10},\"end\":{\"line\":1,\"column\":25}}}) : helper)))\n    + \"\\\" class=\\\"cs-tablink\\\" data-binf-toggle=\\\"tab\\\" title=\\\"\"\n    + container.escapeExpression((lookupProperty(helpers,\"csui-l10n\")||(depth0 && lookupProperty(depth0,\"csui-l10n\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"title\") : depth0),{\"name\":\"csui-l10n\",\"hash\":{},\"loc\":{\"start\":{\"line\":1,\"column\":76},\"end\":{\"line\":1,\"column\":95}}}))\n    + \"\\\">\\r\\n  <span class=\\\"cs-tablink-text\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"csui-l10n\")||(depth0 && lookupProperty(depth0,\"csui-l10n\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"title\") : depth0),{\"name\":\"csui-l10n\",\"hash\":{},\"loc\":{\"start\":{\"line\":2,\"column\":32},\"end\":{\"line\":2,\"column\":51}}}))\n    + \"</span>\\r\\n  <input class=\\\"csui-pman-editinput binf-hidden\\\" tabindex=\\\"-1\\\">\\r\\n</a>\\r\\n<div class=\\\"cs-tablink-delete\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"removeTab\") || (depth0 != null ? lookupProperty(depth0,\"removeTab\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"removeTab\",\"hash\":{},\"loc\":{\"start\":{\"line\":5,\"column\":38},\"end\":{\"line\":5,\"column\":51}}}) : helper)))\n    + \"\\\">\\r\\n  <span class=\\\"icon clear-icon-white cs-delete-icon\\\" role=\\\"button\\\" data-cstabindex=\\\"0\\\"></span>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_perspectives_tabbed-flow_impl_edit.perspective_tab.link', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/perspectives/tabbed-flow/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/perspectives/tabbed-flow/impl/nls/root/lang',{\r\n  deleteConfirmTitle: 'Remove Tab',\r\n  deleteConfirmMsg: 'Are you sure, you want to remove Tab?',\r\n  removeTab: 'Remove Tab',\r\n  newTabTitle: 'Tab',\r\n  newTabInput: 'Add tab label'\r\n});\r\n\n","\ncsui.define('css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link',[],function(){});\n","csui.define('csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link.view',['csui/lib/underscore', 'csui/controls/tab.panel/impl/tab.link.view',\r\n  'hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link',\r\n  'i18n!csui/perspectives/tabbed-flow/impl/nls/lang',\r\n  'csui/lib/binf/js/binf',\r\n  'css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link',\r\n], function (_, TabLinkView, tabLinkTemplate, lang) {\r\n  var EditPerspectiveTabLink = TabLinkView.extend({\r\n    template: tabLinkTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        removeTab: lang.removeTab\r\n      };\r\n    },\r\n\r\n    className: function () {\r\n      return this._isOptionActiveTab() ? 'pman-edit-tab binf-active' : 'pman-edit-tab';\r\n    },\r\n\r\n    events: function () {\r\n      return _.extend(TabLinkView.prototype.events, {\r\n        'click @ui.link': '_onShowTab',\r\n        'dblclick @ui.tabLink': '_onTabClick',\r\n        'keydown @ui.editInput': '_onInputKeydown',\r\n        'keyup @ui.editInput': '_onInputKeyup',\r\n        'focusout @ui.editInput': '_onInputFocusOut',\r\n        'click @ui.tabRemove': '_onTabRemove'\r\n      });\r\n    },\r\n\r\n    ui: function () {\r\n      return _.extend(TabLinkView.prototype.ui, {\r\n        'editInput': '.csui-pman-editinput',\r\n        'tabLink': '.cs-tablink-text',\r\n        'tabRemove': '.cs-delete-icon'\r\n      });\r\n    },\r\n\r\n    _onShowTab: function (event) {\r\n      //prevent activating new tab with no title\r\n      if (!this.model.get('title')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n\r\n    _onTabRemove: function () {\r\n      var self = this;\r\n      require(['csui/dialogs/modal.alert/modal.alert'], function (alertDialog) {\r\n        alertDialog.confirmQuestion(lang.deleteConfirmMsg, lang.deleteConfirmTitle)\r\n            .done(function (yes) {\r\n              if (yes) {\r\n                self._doRemoveTab();\r\n              }\r\n            });\r\n      });\r\n    },\r\n\r\n    _doRemoveTab: function () {\r\n      if (!this.model.get('title')) {\r\n        this.trigger('enable:addTab');\r\n      }\r\n      this.trigger('remove:tab', this.model);\r\n    },\r\n\r\n    _onTabClick: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this._editTab();\r\n    },\r\n\r\n    _editTab: function () {\r\n      var text;\r\n      if (this.ui.tabLink.text()) {\r\n        text = this.ui.tabLink.text();\r\n        this.ui.editInput.val(text);\r\n      }\r\n      else {\r\n        this.ui.editInput.attr('placeholder', lang.newTabInput);\r\n      }\r\n      this._setEdit(true);\r\n    },\r\n\r\n    _setEdit: function (isEdit) {\r\n      if (isEdit) {\r\n        //prevent edit for double click on non active tab as it is still activating\r\n        if (this.options && this.options.tabPanel && this.options.tabPanel.activatingTab) {\r\n          return;\r\n        }\r\n        this.trigger('disable:addTab');\r\n        this.ui.tabRemove.addClass('binf-hidden');\r\n        this.ui.editInput.removeClass('binf-hidden');\r\n        this.ui.tabLink.addClass('binf-hidden');\r\n        //Trigger event so that the parent view will scroll until input field is visible\r\n        //and set focus\r\n        this.trigger('before:edit', this);\r\n      } else {\r\n        this.ui.tabLink.removeClass('binf-hidden');\r\n        this.ui.editInput.addClass('binf-hidden');\r\n        this.activate();\r\n        this.ui.link.trigger('focus');\r\n      }\r\n    },\r\n\r\n    _onInputFocusOut: function () {\r\n      if (!this.ui.tabLink.text()) {\r\n        this._doRemoveTab();\r\n        return;\r\n      }\r\n      this._setEdit(false);\r\n      this.ui.tabRemove.removeClass('binf-hidden');\r\n      this.trigger('enable:addTab');\r\n    },\r\n\r\n    _onInputKeydown: function (event) {\r\n      var value = event.target.value;\r\n      if (event.which == 32) {\r\n        //disable space if no text\r\n        (!value) && event.preventDefault();\r\n        //space key is is disabled for tabs by jquery to differentiate from links\r\n        //but enabling it as per requirement by preventing disable\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n    _onInputKeyup: function (event) {\r\n      var value = event.target.value;\r\n      if ((!value || value.length === 0) && (event.which == 13 || event.which == 27)) {\r\n        this._doRemoveTab();\r\n        return;\r\n      }\r\n      switch (event.which) {\r\n      case 13:\r\n        this._setTabTitle(value);\r\n        break;\r\n      case 27:\r\n        this._setEdit(false);\r\n        break;\r\n      }\r\n    },\r\n\r\n    _setTabTitle: function (newTitle) {\r\n      this.ui.tabLink.text(newTitle);\r\n      this._setEdit(false);\r\n      //Remove edit mode before model 'change' which triggers tab adjustment\r\n      this.model.set('title', newTitle);\r\n    },\r\n\r\n    onShow: function () {\r\n      if (!this.model.get('title')) {\r\n        this._editTab();\r\n      }\r\n    },\r\n\r\n    constructor: function EditPerspectiveTabLink() {\r\n      TabLinkView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n  return EditPerspectiveTabLink;\r\n});\n","\ncsui.define('css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links',[],function(){});\n","csui.define('csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links.view',['csui/lib/underscore', 'csui/controls/tab.panel/tab.links.ext.view',\r\n  'hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links',\r\n  'csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'i18n!csui/perspectives/tabbed-flow/impl/nls/lang',\r\n  'csui/lib/binf/js/binf',\r\n  'css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links'\r\n], function (_, TabLinkCollectionView, tabLinksTemplate, TabLinkViewExt,\r\n    ViewEventsPropagationMixin, lang) {\r\n\r\n  var EditPerspectiveTabLinks = TabLinkCollectionView.extend({\r\n    template: tabLinksTemplate,\r\n\r\n    childView: TabLinkViewExt,\r\n\r\n    childViewContainer: function () {\r\n      return '.' + this.tabType;\r\n    },\r\n\r\n    ui: {\r\n      'addNewTab': '.csui-pman-add-newtab'\r\n    },\r\n\r\n    triggers: {\r\n      'before:edit': 'before:edit'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.addNewTab': '_onAddNewTab'\r\n    },\r\n\r\n    childViewOptions: function (model, index) {\r\n      return _.extend(this.options, {});\r\n    },\r\n\r\n    childEvents: {\r\n      'remove:tab': '_onRemoveTab',\r\n      'enable:addTab': 'enableAddTab',\r\n      'disable:addTab': 'disableAddTab',\r\n      'before:edit': 'onBeforeEditTab'\r\n    },\r\n\r\n    constructor: function EditPerspectiveTabLinks() {\r\n      TabLinkCollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    _onRemoveTab: function (tabView) {\r\n      var isDeletingActive = tabView.isActive(),\r\n          tabIndex         = this.collection.indexOf(tabView.model);\r\n      this.collection.remove(tabView.model);\r\n      if (!isDeletingActive) {\r\n        return;\r\n      }\r\n      if (tabIndex >= this.collection.length) {\r\n        tabIndex = this.collection.length - 1;\r\n      }\r\n      if (tabIndex < 0) {\r\n        // No Tabs left\r\n        return;\r\n      }\r\n      var tabToActivate = this.collection.at(tabIndex);\r\n      this.children.findByModel(tabToActivate).activate();\r\n    },\r\n\r\n    _onAddNewTab: function () {\r\n      if (this.ui.addNewTab.hasClass(\"csui-pman-disable-newtab\")) {\r\n        return;\r\n      }\r\n      var newTab = {\r\n        title: \"\"\r\n      };\r\n      this.options.tabPanel.collection.add(newTab);\r\n    },\r\n\r\n    enableAddTab: function () {\r\n      this.ui.addNewTab.removeClass(\"csui-pman-disable-newtab\");\r\n      //Refresh keyboard behavior when tab is added\r\n      this.keyboardBehavior.refreshTabableElements(this);\r\n    },\r\n\r\n    disableAddTab: function () {\r\n      this.ui.addNewTab.addClass(\"csui-pman-disable-newtab\");\r\n    },\r\n\r\n    onBeforeEditTab: function (tab) {\r\n      this.trigger('before:edit', tab);\r\n    }\r\n  });\r\n  return EditPerspectiveTabLinks;\r\n});\n","csui.define('csui/perspectives/tabbed-flow/tabbed-flow.perspective.view',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette','csui/utils/base', 'csui/models/widget/widget.collection',\r\n  'csui/models/widget/widget.model', 'csui/controls/tab.panel/tab.panel.view',\r\n  'csui/controls/grid/grid.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/utils/contexts/factories/active.tab.factory',\r\n  'csui/controls/tab.panel/tab.links.ext.scroll.mixin',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/perspectives/tabbed/behaviors/tab.extensions.behavior', 'csui/utils/log',\r\n  'csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links.view',\r\n  'csui/utils/contexts/fragment/context.fragment',\r\n  'hbs!csui/perspectives/tabbed/impl/tabbed.perspective',\r\n  'css!csui/perspectives/impl/perspective',\r\n  'css!csui/perspectives/tabbed/impl/tabbed.perspective'\r\n], function (require, module, _, $, Backbone, Marionette, base, WidgetCollection,\r\n    WidgetModel, TabPanelView, GridView, WidgetContainerBehavior,\r\n    LayoutViewEventsPropagationMixin, ActiveTabModelFactory, TabLinksScrollMixin,\r\n    TabLinkCollectionViewExt, TabExtensionsBehavior, log, EditPerspectiveTabLinks,\r\n    ContextFragment, perspectiveTemplate) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultWidgetKind: 'tile',\r\n    widgetSizes: {\r\n      fullpage: {\r\n        widths: {\r\n          xs: 12\r\n        }\r\n      },\r\n      tile: {\r\n        widths: {\r\n          md: 6,\r\n          xl: 4\r\n        }\r\n      },\r\n      header: {\r\n        widths: {\r\n          xs: 12,\r\n          md: 8,\r\n          xl: 6\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n  // TODO: Remove these experimental parameters.\r\n  // Let incremental tab loading be enabled or disabled by URL temporarily.\r\n  var delayTabContent = /\\bdelayTabContent\\b(?:=([^&]*)?)?/i.exec(location.search);\r\n  delayTabContent = delayTabContent ? delayTabContent[1] !== 'false' : true;\r\n  if (delayTabContent === undefined) {\r\n    delayTabContent = config.delayTabContent;\r\n  }\r\n\r\n  var GridRowWidgetContainerView = GridView.RowView.extend({\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        if (!widget.view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved:' +\r\n                     widget['error']\r\n          });\r\n        }\r\n        return widget.view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // Widgets in the tab panel should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined\r\n      };\r\n    },\r\n\r\n    constructor: function GridRowWidgetContainerView(options) {\r\n      if (!!options && options.perspectiveMode === 'edit') {\r\n        this._prepareForEditMode(options);\r\n      }\r\n      GridView.RowView.prototype.constructor.apply(this, arguments);\r\n      if (this.options.perspectiveMode === 'edit') {\r\n        this._initEditMode();\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    _prepareForEditMode: function (options) {\r\n      options.cellBehaviours = {\r\n        PerspectiveWidgetConfig: { // For widget editing\r\n          behaviorClass: require(\r\n              'csui/perspective.manage/behaviours/pman.widget.config.behaviour'),\r\n          perspectiveView: this,\r\n          perspectiveSelector: '.perspective-editing .cs-perspective #' + options.tabId\r\n        }\r\n      };\r\n    },\r\n\r\n    _initEditMode: function () {\r\n      var self         = this,\r\n          placeholderW = {\r\n            type: 'csui/perspective.manage/widgets/perspective.placeholder'\r\n          };\r\n      TabbedFlowPerspectiveView._resolveWidget(placeholderW).done(function (resolvedWidget) {\r\n        var newCell = TabbedFlowPerspectiveView._createCell(placeholderW, resolvedWidget);\r\n        self.options.collection.add(newCell);\r\n      });\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      this.listenTo(this, 'delete:widget', function (widgetView) {\r\n        var model = widgetView.model;\r\n        self.collection.remove(model);\r\n        // TODO Add a new placeholder when all cells removed\r\n      });\r\n\r\n      this.listenTo(this, 'replace:widget', this._replaceWidget);\r\n    },\r\n\r\n    _replaceWidget: function (currentWidget, widgetToReplace) {\r\n      if (!this.getPManPlaceholderWidget) {\r\n        // 'getPManPlaceholderWidget' Provided by pman.config.behaviour\r\n        return;\r\n      }\r\n      var self = this;\r\n      // Load new widget\r\n      TabbedFlowPerspectiveView._resolveWidget(widgetToReplace).done(function () {\r\n        // update current widget with new widget\r\n        if (currentWidget.model.get('widget').type !== self.getPManPlaceholderWidget().type) {\r\n          // Preserve widget kind if dropping on existing widget\r\n          widgetToReplace.kind = currentWidget.model.get('widget').kind;\r\n        }\r\n        var widgetUpdates = TabbedFlowPerspectiveView._prepareCell(widgetToReplace);\r\n        currentWidget.model.set(widgetUpdates);\r\n        // Check if last widget of flow is replacing, then add new placeholder widget\r\n        var placeholderWidget = self.getPManPlaceholderWidget(),\r\n            cells             = self.collection,\r\n            hasPlaceholders   = cells.filter(function (w) {\r\n              return w.get('widget').type === placeholderWidget.type;\r\n            }).length > 0;\r\n        if (!hasPlaceholders) {\r\n          // Create a placeholder wiget to be able to drop new widgets\r\n          TabbedFlowPerspectiveView._resolveWidget(placeholderWidget).done(\r\n              function (resolvedWidget) {\r\n                var newCell = TabbedFlowPerspectiveView._createCell(placeholderWidget,\r\n                    resolvedWidget, cells.length);\r\n                cells.add(newCell);\r\n              });\r\n        }\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var TabWidgetContainerView = TabPanelView.extend({\r\n\r\n    contentView: GridRowWidgetContainerView,\r\n\r\n    contentViewOptions: function (model) {\r\n      return {\r\n        context: this.options.context,\r\n        columns: model.get('columns'),\r\n        perspectiveMode: this.options.perspectiveMode,\r\n        tabId: model.get('uniqueTabId')\r\n      };\r\n    },\r\n\r\n    constructor: function TabWidgetContainerView(options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        // Perspective can fetch all data, only if all widgets\r\n        // are created; including on non-activated tabes\r\n        delayTabContent: delayTabContent,\r\n        // Prevent activating another tab before the activating animation\r\n        // finished. Events before:activate:tab and activate:tab may be\r\n        // triggered for a different tab.\r\n        overlappingTabActivation: false,\r\n        toolbar: true,\r\n        TabLinkCollectionViewClass: TabLinkCollectionViewExt,\r\n        tabBarExtensionViewClass: options.tabBarExtensionViewClass,\r\n        tabBarExtensionViewOptions: options.tabBarExtensionViewOptions,\r\n        enableExtensionOnFirstTab: options.enableExtensionOnFirstTab\r\n      });\r\n      if (options.perspectiveMode === 'edit') {\r\n        _.extend(options, {\r\n          TabLinkCollectionViewClass: EditPerspectiveTabLinks\r\n        });\r\n      }\r\n\r\n      this.behaviors = _.extend({\r\n        TabExtensionsBehavior: {\r\n          behaviorClass: TabExtensionsBehavior\r\n        }\r\n      }, this.behaviors);\r\n\r\n      $(window).on('resize', {view: this}, this._onWindowResize);\r\n      TabPanelView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    render: function () {\r\n      TabPanelView.prototype.render.apply(this);\r\n      this.listenTo(this.collection, 'change reset remove', _.bind(function (event) {\r\n        this._enableToolbarState();\r\n        //adjust the tab position after rename or removal\r\n        this.activatingTab = false;\r\n        this.skipAutoScroll = false;\r\n        this._autoScrolling();\r\n      }, this));\r\n      this.listenTo(this.tabLinks, 'before:edit', function (tab) {\r\n        this.skipAutoScroll = false;\r\n        //refreshing the tabs if any new tab is added\r\n        this.tabsSelector = $(this.$el.find('.tab-links .tab-links-bar')[0]).find('> ul li');\r\n        this.tablinksToolbar = $(this.$el.find('.tab-links .tab-links-bar')[0]);\r\n        //Scroll to the last if it is a new tab or\r\n        // scroll until the input field of current tab is visible completely\r\n        var scroll = tab && tab.model.get('title') ? '_autoScrolling' : '_autoScrollLastTab';\r\n        this[scroll]().done(_.bind(function () {\r\n          //update the toolbar after scroll\r\n          this._enableToolbarState();\r\n          //set focus only when the tab is completely visible\r\n          tab && tab.ui && tab.ui.editInput.trigger('focus');\r\n        }, this));\r\n      });\r\n      return this;\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      this._enableToolbarState();\r\n    },\r\n\r\n    _onWindowResize: function (event) {\r\n      if (event && event.data && event.data.view) {\r\n        event.data.view._enableToolbarState();\r\n      }\r\n    }\r\n  });\r\n\r\n  _.extend(TabWidgetContainerView.prototype, TabLinksScrollMixin);\r\n\r\n  /**\r\n   * Header view to hold Navigation header of the Tabbed perspective.\r\n   */\r\n  var HeaderView = Marionette.ItemView.extend({\r\n    className: 'cs-tabbed-perspective-header',\r\n    constructor: function HeaderView(options) {\r\n      options || (options = {});\r\n      if (!options.header) {\r\n        options.header = {};\r\n      }\r\n      if (options.perspectiveMode === 'edit') {\r\n        var PerspectiveWidgetConfigBehaviour = require(\r\n            'csui/perspective.manage/behaviours/pman.widget.config.behaviour');\r\n        this.behaviors = _.extend({\r\n          PerspectiveWidgetConfig: {\r\n            behaviorClass: PerspectiveWidgetConfigBehaviour,\r\n            perspectiveView: this\r\n          }\r\n        }, this.behaviors);\r\n      }\r\n      Marionette.ItemView.call(this, _.extend({template: false}, options));\r\n      if (this.options.perspectiveMode === 'edit') {\r\n        this._initEditMode(options);\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    _initEditMode: function (options) {\r\n      if (!this.options.header.widget && this.getPManPlaceholderWidget) {\r\n        this._handleReplaceWidget(this, this.getPManPlaceholderWidget());\r\n      }\r\n    },\r\n\r\n    _ensureRegion: function () {\r\n      if (!this.headerContainer) {\r\n        this.headerContainer = new Marionette.Region({\r\n          el: this.el\r\n        });\r\n      }\r\n      return this.headerContainer;\r\n    },\r\n\r\n    onRender: function () {\r\n      if (!!this.options.header.widget) {\r\n        this.navigationHeader = this._createWidget(this.options.header.widget);\r\n        var region = this._ensureRegion();\r\n        region.show(this.navigationHeader);\r\n      }\r\n    },\r\n\r\n    _createWidget: function (widget) {\r\n      var Widget = widget.view;\r\n      if (!Widget) {\r\n        throw new Marionette.Error({\r\n          name: 'UnresolvedWidgetError',\r\n          message: 'Widget not resolved: \"' + widget.type + '\"'\r\n        });\r\n      }\r\n      return new Widget({\r\n        context: this.options.context,\r\n        data: widget.options || {}\r\n      });\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      this.listenTo(this, 'delete:widget', function (widgetView) {\r\n        if (self.getPManPlaceholderWidget) {\r\n          var placeholder = self.getPManPlaceholderWidget();\r\n          TabbedFlowPerspectiveView._resolveWidget(placeholder).done(function () {\r\n            self._replaceWidget(placeholder);\r\n          });\r\n        }\r\n      });\r\n      this.listenTo(this, 'replace:widget', this._handleReplaceWidget);\r\n    },\r\n\r\n    _replaceWidget: function (widgetToReplace) {\r\n      this.options.header.widget = widgetToReplace;\r\n      this.render();\r\n    },\r\n\r\n    _handleReplaceWidget: function (currentWidget, widgetToReplace) {\r\n      var self = this;\r\n      // Load new widget\r\n      TabbedFlowPerspectiveView._resolveWidget(widgetToReplace).done(function () {\r\n        // Replace current widget with new widget\r\n        self._replaceWidget(widgetToReplace);\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Provide header widget configuration to perspective manager\r\n     */\r\n    getPManWidgetConfig: function () {\r\n      return this.options.header.widget;\r\n    }\r\n  });\r\n\r\n  var TabbedFlowPerspectiveView = Marionette.LayoutView.extend({\r\n\r\n    className: 'cs-tabbed-perspective cs-perspective binf-container-fluid cs-tabbed-flow-perspective',\r\n    template: perspectiveTemplate,\r\n\r\n    regions: {\r\n      headerRegion: '> .cs-header',\r\n      contentRegion: '> .cs-content'\r\n    },\r\n\r\n    constructor: function TabbedFlowPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      this.context = options.context;\r\n      if (!options.collection) {\r\n        options.collection = this._createCollection(options);\r\n      }\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // The current tab may be wanted to be remembered when the perspective\r\n      // is switched again.  The following model from the context does it.\r\n      //this.activeTab = this.options.context.getModel(ActiveTabModelFactory);\r\n\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      this.headerView = new HeaderView(this.options);\r\n      if (this.options.header.widget) {\r\n        this.$el.removeClass('csui-no-header');\r\n      } else {\r\n        this.$el.addClass('csui-no-header');\r\n      }\r\n      this.headerRegion.show(this.headerView);\r\n      this.tabPanel = new TabWidgetContainerView(_.extend({\r\n        activeTab: this.activeTab,\r\n        delayTabContent: this.options.delayTabContent,\r\n        tabBarExtensionViewClass: this.headerView.navigationHeader && this.headerView.navigationHeader.tabBarExtensionView,\r\n        tabBarExtensionViewOptions: this.headerView.navigationHeader && this.headerView.navigationHeader.tabBarExtensionViewOptions,\r\n        enableExtensionOnFirstTab: this.headerView.navigationHeader && this.headerView.navigationHeader.enableExtensionOnFirstTab\r\n      }, this.options));\r\n      this._updateToggleHeaderState();\r\n      this.listenTo(this.tabPanel, 'before:activate:tab', this._onBeforeActivateTab)\r\n          .listenTo(this.tabPanel, 'activate:tab', this._onActivateTab);\r\n      this.contentRegion.show(this.tabPanel);\r\n      this.headerRegion.$el.on(this._transitionEnd(), _.bind(function (event) {\r\n        if (event.target === this.headerRegion.el) {\r\n          this.$el.removeClass('cs-toggling');\r\n          this.triggerMethod('dom:refresh');\r\n        }\r\n      }, this));\r\n    },\r\n\r\n    onBeforeRender: function () {\r\n      if (this.headerRegion && this.headerRegion.$el) {\r\n        this.headerRegion.$el.off(this._transitionEnd());\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      if (this.headerRegion && this.headerRegion.$el) {\r\n        this.headerRegion.$el.off(this._transitionEnd());\r\n      }\r\n    },\r\n\r\n    _onBeforeActivateTab: function (tabContent, tabPane, tabLink) {\r\n      if (delayTabContent && !tabPane.contextFragment) {\r\n        this.contextFragment = new ContextFragment(this.context);\r\n      }\r\n    },\r\n\r\n    _onActivateTab: function(tabContent, tabPane, tabLink){\r\n      if (tabPane.contextFragment) {\r\n        tabPane.contextFragment.fetch();\r\n        tabPane.contextFragment.destroy();\r\n        tabPane.contextFragment = undefined;\r\n      }\r\n      this._updateToggleHeaderState(tabContent, tabPane, tabLink);\r\n    },\r\n\r\n    _updateToggleHeaderState: function (tabContent, tabPane, tabLink) {\r\n      if (this.options.perspectiveMode === 'edit') {\r\n        // Ignore Tab header update for edit perspective mode.\r\n        return;\r\n      }\r\n      // If this handler is triggered by before:activate:tab, the activeTab\r\n      // model has not been updated yet\r\n      var tabIndex    = tabLink ? tabLink.model.collection.indexOf(tabLink.model) :\r\n                        this.activeTab && this.activeTab.get('tabIndex') || 0,\r\n          method      = tabIndex === 0 ? 'removeClass' : 'addClass',\r\n          isCollapsed = this.$el.hasClass('cs-collapse');\r\n      if (method === 'removeClass' && isCollapsed ||\r\n          method === 'addClass' && !isCollapsed) {\r\n        this.$el.addClass('cs-toggling');\r\n        this.$el[method]('cs-collapse');\r\n      }\r\n    },\r\n\r\n    // TODO: Make a common method for this or remove it,\r\n    // if all browsers support it.\r\n    _transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element     = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    _createCollection: function (options) {\r\n\r\n      if (options.tabs) {\r\n        options.tabs = _.each(options.tabs, function (tab) {\r\n          tab.widgets = _.filter(tab.widgets, function (widget) {\r\n            return base.filterUnSupportedWidgets(widget, config) != undefined;\r\n          });\r\n        });\r\n      }\r\n\t\t\r\n      var tabs            = new Backbone.Collection(options.tabs),\r\n          uniqueWidgets   = _.chain(options.tabs)\r\n              .map(function (tab) {\r\n                return tab.widgets;\r\n              })\r\n              .flatten()\r\n              .pluck('type')\r\n              .unique()\r\n              .map(function (id) {\r\n                return {id: id};\r\n              })\r\n              .value(),\r\n          headerWidget = options.header && options.header.widget &&\r\n                         base.filterUnSupportedWidgets(options.header.widget, config),\r\n          resolvedWidgets = new WidgetCollection(uniqueWidgets),\r\n          self            = this;\r\n      if (headerWidget) {\r\n        resolvedWidgets.add({id: headerWidget.type});\r\n      }\r\n      tabs.each(function (tab) {\r\n        tab.set('id', _.uniqueId('cs-tab'));\r\n      });\r\n      this.widgetsResolved = resolvedWidgets\r\n          .fetch()\r\n          .then(function () {\r\n            if (headerWidget) {\r\n              var resolvedWidget = resolvedWidgets.get(headerWidget.type),\r\n                  widgetView     = resolvedWidget.get('view');\r\n              if (widgetView) {\r\n                _.extend(headerWidget, {view: widgetView});\r\n              } else {\r\n                var error = resolvedWidget.get('error');\r\n                log.warn('Loading widget \"{0}\" failed. {1}', headerWidget.type, error)\r\n                && console.warn(log.last);\r\n                _.extend(headerWidget, WidgetContainerBehavior.getErrorWidget(\r\n                    headerWidget, error));\r\n              }\r\n            }\r\n            tabs.each(function (tab) {\r\n              tab.set('columns', self._createColumns(tab.get('widgets'), resolvedWidgets));\r\n            });\r\n            return resolvedWidgets; /* this will be used later when the promise is resolved */\r\n          });\r\n      return tabs;\r\n    },\r\n\r\n    _createColumns: function (widgets, resolvedWidgets) {\r\n      return _.map(widgets, function (widget) {\r\n        var resolvedWidget = resolvedWidgets.get(widget.type);\r\n        return TabbedFlowPerspectiveView._createCell(widget, resolvedWidget);\r\n      }.bind(this));\r\n    }\r\n\r\n  }, {\r\n\r\n    _prepareCell: function (widgetConfig) {\r\n      if (!widgetConfig.kind) {\r\n        widgetConfig.kind = config.defaultWidgetKind;\r\n      }\r\n      var sizes = config.widgetSizes[widgetConfig.kind] || {};\r\n      return {\r\n        sizes: sizes.widths,\r\n        widget: {\r\n          type: widgetConfig.type,\r\n          options: widgetConfig.options,\r\n          view: widgetConfig.view\r\n        }\r\n      };\r\n    },\r\n\r\n    _createCell: function (widget, resolvedWidget) {\r\n      var widgetView     = resolvedWidget.get('view'),\r\n          manifest       = resolvedWidget.get('manifest') || {},\r\n          supportedKinds = manifest.supportedKinds,\r\n          kind           = widget.kind;\r\n      if (!kind || !supportedKinds || !_.contains(supportedKinds, kind)) {\r\n        kind = manifest.kind;\r\n      }\r\n      widget.kind = kind;\r\n      if (!kind) {\r\n        kind = config.defaultWidgetKind;\r\n      }\r\n      var sizes = config.widgetSizes[kind] || {};\r\n      if (widgetView) {\r\n        widget.view = widgetView;\r\n        return TabbedFlowPerspectiveView._prepareCell(widget);\r\n      }\r\n      var error = resolvedWidget.get('error');\r\n      log.warn('Loading widget \"{0}\" failed. {1}', widget.type, error)\r\n      && console.warn(log.last);\r\n      return {\r\n        sizes: config.widgetSizes[config.defaultWidgetKind].widths,\r\n        widget: WidgetContainerBehavior.getErrorWidget(widget, error)\r\n      };\r\n    },\r\n\r\n    _resolveWidget: function (widget) {\r\n      var deferred = $.Deferred();\r\n      var widgetModel = new WidgetModel({id: widget.type});\r\n      widgetModel.fetch().then(function () {\r\n        widget.view = widgetModel.get('view');\r\n        deferred.resolve(widgetModel);\r\n      }, function (error) {\r\n        deferred.reject(error);\r\n      });\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  _.extend(TabbedFlowPerspectiveView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return TabbedFlowPerspectiveView;\r\n\r\n});\r\n\n","csui.define('csui/pages/start/impl/location',[], function () {\r\n  return {\r\n    get search() {\r\n      return location.search;\r\n    },\r\n    get href() {\r\n      return location.href;\r\n    },\r\n    get hash() {\r\n      return location.hash;\r\n    }\r\n  };\r\n});\r\n\n","csui.define('csui/pages/start/perspective.router',[\r\n  'csui/lib/backbone',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/pages/start/impl/location',\r\n  'csui/utils/url'\r\n], function (Backbone, $, _, ApplicationScopeModelFactory, location, Url) {\r\n  'use strict';\r\n\r\n  var activeRouter, previousRouter;\r\n  var noViewStateRest = true;\r\n\r\n  var PerspectiveRouter = Backbone.Router.extend({\r\n    constructor: function PerspectiveRouter(options) {\r\n      Backbone.Router.prototype.constructor.apply(this, arguments);\r\n\r\n      // Save common options for descended routers\r\n      this.context = options.context;\r\n      this._routeWithSlashes = options.routeWithSlashes;\r\n\r\n      this.applicationScope = this.context.getModel(ApplicationScopeModelFactory);\r\n\r\n      // Allow this router to react, before another router routes\r\n      this.listenTo(this, 'other:route', this.onOtherRoute);\r\n      //this.listenTo(this.context, 'change:perspective', this._resetViewStateModel);\r\n      this.listenTo(this.context, 'sync error', function () {\r\n        noViewStateRest = false;\r\n      });\r\n\r\n    },\r\n\r\n    execute: function (callback, args) {\r\n      this._session = this.context.viewStateModel.get(\"session_state\") || false;\r\n      // Inform the routing container, that a router is about to route\r\n      this.trigger('before:route', this);\r\n      this._restoreUrlParamsFromViewState();\r\n      return Backbone.Router.prototype.execute.apply(this, arguments);\r\n    },\r\n\r\n    _restoreUrlParamsFromViewState: function () {\r\n      if (!this.urlParams || this.urlParams.length === 0) {\r\n        var viewStateModel = this.context.viewStateModel;\r\n        var urlParams = viewStateModel.get(viewStateModel.CONSTANTS.URL_PARAMS);\r\n        urlParams && _.isString(urlParams) && (urlParams = JSON.parse(urlParams)) && (this.urlParams = urlParams.slice());\r\n      }\r\n    },\r\n\r\n    getUrlParametersList: function() {\r\n      return this.urlParams;\r\n    },\r\n\r\n    addUrlParameters: function(urlParameters, replace) {\r\n      var urlParams = this.getUrlParametersList() || [];\r\n\r\n      if (replace) {\r\n        urlParams = [];\r\n      }\r\n\r\n      this.urlParams = _.unique(urlParams.concat(urlParameters));\r\n\r\n      var viewStateModel = this.context.viewStateModel;\r\n      viewStateModel.set(viewStateModel.CONSTANTS.URL_PARAMS, this.urlParams);\r\n      \r\n      // remove from the viewStateModel any entry that is not listed in the urlParams\r\n      this._clearViewStateModelKeys(this.urlParams);\r\n\r\n      return true;\r\n    } ,\r\n\r\n    _clearViewStateModelKeys: function (keys) {\r\n      var viewStateModel = this.context.viewStateModel,\r\n          modified;\r\n      var state = viewStateModel.get('state');\r\n      _.keys(state).forEach(function (key) {\r\n        if (keys.indexOf(key) === -1) {\r\n          delete state[key];\r\n          modified = true;\r\n        }\r\n      });\r\n      if (modified) {\r\n        viewStateModel.unset('state', {silent: true});\r\n        viewStateModel.set('state', state);\r\n      }\r\n    },\r\n\r\n    _resetViewStateModel: function (keys) {\r\n      if (noViewStateRest) {\r\n        return;\r\n      }\r\n      var viewStateModel = this.context.viewStateModel,\r\n          constants = viewStateModel.CONSTANTS;\r\n      viewStateModel.unset(constants.STATE, {silent: true});\r\n      viewStateModel.unset(constants.DEFAULT_STATE, {silent: true});\r\n      viewStateModel.unset(constants.SESSION_STATE, {silent: true});\r\n      viewStateModel.unset(constants.QUERY_STRING_PARAMS, {silent: true});\r\n\r\n      viewStateModel.set(constants.STATE, {});\r\n      viewStateModel.set(constants.DEFAULT_STATE, {});\r\n      viewStateModel.set(constants.SESSION_STATE, {});\r\n      viewStateModel.set(constants.QUERY_STRING_PARAMS, '');\r\n    },\r\n\r\n    getActiveRouter : function() {\r\n      return activeRouter;\r\n    },\r\n\r\n    getPreviousRouter : function() {\r\n      return previousRouter;\r\n    },\r\n\r\n    onViewStateChanged:function() {\r\n    },\r\n\r\n    getInitialViewState: function () {\r\n      return {};\r\n    },\r\n\r\n    activate: function (setDefault) {\r\n      // heuristic flags, not completely true but good enough for normal browser scenarios:\r\n      // isFirstRoute: true if it is the first navigation step after initial load\r\n      // routeFromUrl: true if it is a browser back, forward, url edit, Refresh/F5, href change.\r\n      this.context.viewStateModel.set(\"isFirstRoute\", this._session === false, {silent: true});\r\n      this.context.viewStateModel.set(\"routeFromUrl\", this._session !== undefined, {silent: true});\r\n      delete this._session;\r\n      if (activeRouter !== this) {\r\n        previousRouter = activeRouter;\r\n        activeRouter = this;\r\n        var urlParams = this.getUrlParametersList();\r\n        if (previousRouter && !this.restoring && urlParams && urlParams.length > 0) {\r\n          urlParams.length = 0;\r\n        }\r\n        \r\n        this._activeRouterChanged();\r\n      }\r\n\r\n      var viewStateModel = this.context.viewStateModel;\r\n\r\n      viewStateModel.set('enabled', this.isViewStateModelSupported());\r\n\r\n      // initialize the UI state with the defaults of this router.\r\n      if (setDefault) {\r\n\r\n        this._saveViewState();\r\n\r\n        this._initializeViewState();\r\n      }\r\n    },\r\n\r\n    _saveViewState: function() {\r\n\r\n      // If we activate the router with setDefault before the potential history entry is saved\r\n      // we will lose the state for the previous router and it history will not have the correct state.\r\n      // In the _savePotentialHistoryEntry in the viewStateModel, we will look if the state was saved\r\n      // if the router needed a viewstate to be initialized.\r\n\r\n      var viewStateModel = this.context.viewStateModel;\r\n      var saved_viewState = {},\r\n          state = viewStateModel.get('state');\r\n\r\n      if (state) {\r\n        _.extend(saved_viewState, state);\r\n      }\r\n\r\n      viewStateModel.set('saved_viewstate', saved_viewState);\r\n    },\r\n\r\n    _initializeViewState:function() {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      var state = viewStateModel.get('state');\r\n      if (state && _.keys(state).length === 0) {\r\n        viewStateModel.unset('state', {silent: true});\r\n      }\r\n      var newViewState = this.getInitialViewState();\r\n\r\n      viewStateModel.setViewState('state', newViewState, {silent: true});\r\n      this._syncDefaultStateToViewState(newViewState);\r\n    },\r\n\r\n    // remove any entry in the default state if its not in the viewState\r\n    _syncDefaultStateToViewState: function (viewState) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      // make sure we sync the default state with the viewState\r\n      var defaultState = viewStateModel.get('default_state'), modified;\r\n      if (defaultState) {\r\n        var viewStateKeys = Object.keys(viewState);\r\n        Object.keys(defaultState).forEach(function(key){\r\n          if (viewStateKeys.indexOf(key) === -1) {\r\n            delete defaultState[key];\r\n            modified = true;\r\n          }\r\n        });\r\n        if (modified) {\r\n          viewStateModel.unset('default_state');\r\n          viewStateModel.set('default_state', JSON.parse(JSON.stringify(defaultState)));\r\n        }\r\n      }\r\n    },\r\n\r\n    _activeRouterChanged: function () {\r\n      var viewStateModel = this.context.viewStateModel;\r\n\r\n      if (activeRouter === this) {\r\n        viewStateModel.set('activeRouterInstance', this);\r\n        this.listenTo(viewStateModel, 'change:state', this.onViewStateChanged);\r\n        if (previousRouter) {\r\n          previousRouter.stopListening(viewStateModel, 'change:state', previousRouter.onViewStateChanged);\r\n        }\r\n      } \r\n    },\r\n\r\n    // The order of the url params needs to be consistent. otherwise when we\r\n    // construct the url when we hit the back button and we build a url with a different\r\n    // url parameters the history gets updated as if its a new url.\r\n    buildUrlParams: function () {\r\n      var urlParams = this.urlParams,\r\n          context = this.context,\r\n          viewStateModel = context && context.viewStateModel,\r\n          viewState = viewStateModel && viewStateModel.get('state'),\r\n          defaultViewState = viewStateModel.get('default_state');\r\n      var paramsArray = [];\r\n\r\n      var initialUrlParams = viewStateModel && viewStateModel.get('initialUrlParams');\r\n      if (initialUrlParams && initialUrlParams.length) {\r\n        paramsArray = paramsArray.concat(initialUrlParams);\r\n        paramsArray.forEach(function (entry) {\r\n          viewState[entry.name] = entry.value;\r\n          urlParams = urlParams || [];\r\n          urlParams.push(entry.name);\r\n        });\r\n      }\r\n\r\n      if (urlParams && viewState) {\r\n        urlParams.forEach(function (param) {\r\n          var value        = viewState[param],\r\n              defaultValue = defaultViewState && defaultViewState[param];\r\n          if (value !== undefined && defaultValue !== undefined &&\r\n              value.toString().toUpperCase() !== defaultValue.toString().toUpperCase()) {\r\n            this._addToParamsArray(paramsArray, {\r\n              name: param,\r\n              value: value\r\n            });\r\n          }\r\n        }.bind(this));\r\n      }\r\n\r\n      paramsArray = paramsArray || [];\r\n\r\n      _.keys(viewState).forEach(function (key) {\r\n        // only if the param in the url params list\r\n        if (defaultViewState && defaultViewState[key] !== undefined && viewState[key] !== undefined &&\r\n                    defaultViewState[key].toString().toUpperCase() === viewState[key].toString().toUpperCase()) {\r\n          return true;\r\n        }\r\n        if (viewState[key] !== undefined) {\r\n            this._addToParamsArray(paramsArray, {\r\n              name: key,\r\n              value: viewState[key]\r\n            });\r\n        }\r\n      }.bind(this));\r\n\r\n      // Do not retain the url parameters if the router changed\r\n      var currentRouter = viewStateModel.get(viewStateModel.CONSTANTS.CURRENT_ROUTER);\r\n      if (!currentRouter) {\r\n        var queryStringParams = viewStateModel.get(viewStateModel.CONSTANTS.QUERY_STRING_PARAMS);\r\n        _.keys(queryStringParams).forEach(function (key) {\r\n          this._addToParamsArray(paramsArray, {\r\n            name: key,\r\n            value: queryStringParams[key]\r\n          });\r\n        }.bind(this));\r\n      }\r\n\r\n      return $.param(paramsArray);\r\n    },\r\n\r\n    _addToParamsArray: function(paramsArray, object) {\r\n        if (object && object.name) {\r\n          var found = false;\r\n          paramsArray.some(function(entry) {\r\n            if (entry.name === object.name) {\r\n              found = true;\r\n              return true;\r\n            }\r\n          });\r\n          if (!found) {\r\n            paramsArray.push(object);\r\n            return true;\r\n          }\r\n        }\r\n    },\r\n\r\n    restore: function (routerInfo) {\r\n\r\n      var viewStateModel = this.context.viewStateModel,\r\n          fragment       = routerInfo.fragment;\r\n\r\n      if (viewStateModel) {\r\n        this.restoring = true;\r\n        viewStateModel.set(viewStateModel.CONSTANTS.URL_PARAMS, routerInfo.urlParam);\r\n        // The call to the Backbone.Router.prototype.navigate will trigger\r\n        // new routing, we need to make sure we don't have the wrong url in the\r\n        // browser history.\r\n        viewStateModel.set('replaceURL', true);\r\n        fragment && Backbone.Router.prototype.navigate.call(this, fragment, {trigger: true});\r\n      } else {\r\n        window.history.back();\r\n      }\r\n\r\n    },\r\n\r\n    initSessionViewState: function () {\r\n      var viewStateModel = this.context && this.context.viewStateModel;\r\n      viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.SESSION_STATE, {});\r\n    },\r\n\r\n    initDefaultViewState: function () {\r\n      if (!this.restoring) {\r\n        var viewStateModel = this.context && this.context.viewStateModel;\r\n        viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.DEFAULT_STATE,\r\n            _.pick(viewStateModel.get(viewStateModel.CONSTANTS.DEFAULT_STATE)||{},viewStateModel.get(viewStateModel.CONSTANTS.URL_PARAMS)||[]));\r\n      }\r\n    },\r\n\r\n    getUrlParamsNotInFragment: function (fragment) {\r\n      var notInFragment = [],\r\n          inUrl = _.keys(Url.urlParams(fragment));\r\n      var allRoutersUrlParams = this.getUrlParametersList();\r\n      allRoutersUrlParams && allRoutersUrlParams.forEach(function (param) {\r\n        if (inUrl.indexOf(param) === -1) {\r\n          notInFragment.push(param);\r\n        }\r\n      });\r\n      return notInFragment;\r\n    },\r\n\r\n    initViewStateFromUrlParams: function (query_string, silent) {\r\n      var viewState = {},\r\n          viewStateModel = this.context && this.context.viewStateModel;\r\n\r\n      this._saveViewState();\r\n\r\n       if (_.isString(query_string)) {\r\n        var query_string_params = $.parseParams(query_string);\r\n        viewStateModel.set(viewStateModel.CONSTANTS.QUERY_STRING_PARAMS, $.parseParams(query_string));\r\n        var urlParams = this.getUrlParametersList();\r\n        if (urlParams && urlParams.length > 0) {\r\n          viewState = _.pick(query_string_params, this.getUrlParametersList());\r\n        } else {\r\n          _.extend(viewState, query_string_params);\r\n          this.addUrlParameters(_.keys(viewState));\r\n        }\r\n        \r\n        // Get the default current view state and merge it with whatever in the url, we could have loaded\r\n        // the view state from storage.\r\n        var defaultViewState = this.context.viewStateModel.get('default_state');\r\n        if (defaultViewState) {\r\n          var original = {};\r\n          _.extend(original, viewState);\r\n          _.extend(viewState, defaultViewState);\r\n          _.extend(viewState, original);\r\n        }\r\n\r\n        // to make sure the change event gets triggered.\r\n      } else {\r\n        viewState = query_string;\r\n      }\r\n\r\n      viewStateModel &&\r\n      viewStateModel.unset('state', {silent: true}) &&\r\n      viewStateModel.setViewState('state', viewState, {silent: silent});\r\n    },\r\n\r\n    isViewStateModelSupported: function() {\r\n      return false;\r\n    },\r\n\r\n    navigate: function (fragment, options) {\r\n\r\n      var params = this.buildUrlParams(),\r\n          originalFragment = fragment;\r\n          \r\n      if (params) {\r\n        fragment += '?' + params;\r\n      }\r\n\r\n      if (this !== activeRouter) {\r\n        this.activate(true);\r\n      }\r\n\r\n      this.trigger('before:route', this);\r\n      \r\n      // Preserve query (carries application settings) and hash parts (carries\r\n      // inside-page location); perspective routers use path only\r\n      // With the routing support you can use params with the fragment\r\n      if (this._routeWithSlashes) {\r\n        var excludeUrlParams = previousRouter ? previousRouter.getUrlParametersList() : [];\r\n        excludeUrlParams = excludeUrlParams || [];\r\n        var urlParamsNotInfragment = this.getUrlParamsNotInFragment(fragment);\r\n        if (urlParamsNotInfragment) {\r\n          excludeUrlParams = excludeUrlParams.concat(urlParamsNotInfragment);\r\n        }\r\n        fragment = Url.appendQuery(fragment, Url.mergeUrlParams(fragment, location.search, excludeUrlParams));\r\n        fragment += location.hash;\r\n      }\r\n\r\n      var viewStateModel = this.context.viewStateModel,\r\n          ViewStateConstants = viewStateModel.CONSTANTS;\r\n\r\n      if (viewStateModel.get('replaceURL')) {\r\n        viewStateModel.set('replaceURL', false);\r\n        options = options || {};\r\n        options.replace = true;\r\n      }\r\n\r\n      if (originalFragment !== viewStateModel.get(ViewStateConstants.CURRENT_ROUTER_FRAGMENT)) {\r\n        viewStateModel.onNavigationStarted({\r\n          'router': this.name,\r\n          'back_to_title': this.getBackToTitle(),\r\n          'fragment': originalFragment,\r\n          'scopeId': this.applicationScope,\r\n          'navigateOptions': options,\r\n          'state': viewStateModel.get(ViewStateConstants.STATE),\r\n          'sessionState': viewStateModel.get(ViewStateConstants.SESSION_STATE),\r\n          'defaultState': viewStateModel.get(ViewStateConstants.DEFAULT_STATE)\r\n        }, this.restoring);\r\n      }\r\n\r\n      // Widgets can set the initial url parameters for the routers by setting the initialUrlParams\r\n      // i.e. viewStateModel.set('initialUrlParams', [{name: 'widgetName', value: 'D2Widget'}]);\r\n      viewStateModel.set('initialUrlParams', undefined);\r\n\r\n      var navigate = Backbone.Router.prototype.navigate.call(this, fragment, options);\r\n\r\n      this.initSessionViewState();\r\n\r\n      if (viewStateModel.get(ViewStateConstants.CURRENT_ROUTER) !== this.name) {\r\n        viewStateModel.set(ViewStateConstants.CURRENT_ROUTER, this.name);\r\n        viewStateModel.set(ViewStateConstants.BACK_TO_TITLE, this.getBackToTitle());\r\n        this.initDefaultViewState();\r\n      }\r\n\r\n      // save the\r\n      viewStateModel.set(ViewStateConstants.CURRENT_ROUTER_FRAGMENT, originalFragment);\r\n      viewStateModel.set(ViewStateConstants.CURRENT_ROUTER_NAVIGATE_OPTIONS, options);\r\n      this.applicationScope ?\r\n        viewStateModel.set(ViewStateConstants.CURRENT_ROUTER_SCOPE_ID, this.applicationScope.get('id')) :\r\n        viewStateModel.unset(ViewStateConstants.CURRENT_ROUTER_SCOPE_ID);\r\n\r\n      this.restoring = false;\r\n\r\n      this.trigger('after:route', this);\r\n\r\n      return navigate;\r\n    },\r\n\r\n    getBackToTitle: function () {\r\n      return document.title;\r\n    }\r\n  });\r\n\r\n  return PerspectiveRouter;\r\n});\r\n\n","// Route hash-based URLs to contextual object changes and the other way round\r\ncsui.define('csui/pages/start/multi.perspective.routing',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/utils/routing',\r\n  // Load external routers working with perspective context\r\n  'csui-ext!csui/pages/start/perspective.routing'\r\n], function (module, _, Backbone, Url, routing, extraRouters) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    handlerUrlPathSuffix: '/app',\r\n    rootUrlPath: null\r\n  }, module.config());\r\n  \r\n  var backboneHistoryStarted = false;\r\n\r\n  function MultiPerspectiveRouting(options) {\r\n\r\n    this.options = _.extend({}, config, options);\r\n\r\n    // Later added routers override the earlier ones;\r\n    // put the landing page router to the front\r\n    var DefaultRouters = [];\r\n    var Routers = _\r\n            .chain(extraRouters)\r\n            .flatten(true)\r\n            .filter(function (Router) {\r\n              if (Router.isDefault) {\r\n                DefaultRouters.push(Router);\r\n              } else {\r\n                return true;\r\n              }\r\n            })\r\n            .concat(DefaultRouters)\r\n            .unique()\r\n            .reverse()\r\n            .value(),\r\n        routeWithSlashes = routing.routesWithSlashes();\r\n    this._routers = _.map(Routers, function (Router, index) {\r\n      var router = new Router(_.extend({\r\n        routeWithSlashes: routeWithSlashes\r\n      }, this.options));\r\n      if (!router.name) {\r\n        router.name = index;\r\n      }\r\n      router.on('before:route', _.bind(this._informOthers, this));\r\n      return router;\r\n    }, this);\r\n\r\n    this._context = this.options.context;\r\n    this._context.viewStateModel.set('PerspectiveRouting', this);\r\n    this._originalHistoryLength = history.length;\r\n    this.started = false;\r\n  }\r\n\r\n  _.extend(MultiPerspectiveRouting.prototype, Backbone.Events, {\r\n    start: function (options) {\r\n\r\n      // Start the client application URL router\r\n      var historyOptions;\r\n      if (routing.routesWithSlashes()) {\r\n        historyOptions = {\r\n          pushState: true,\r\n          // The application should configure root of their slash-based path.\r\n          // Otherwise it will be inferred from the current location, which\r\n          // will be handled as an OTCS CGI URL.\r\n          root: this.options.rootUrlPath != null && this.options.rootUrlPath ||\r\n                Url.combine(\r\n                    new Url(new Url(location.pathname).getCgiScript()).getPath(),\r\n                    this.options.handlerUrlPathSuffix)\r\n        };\r\n      } else {\r\n        // The current location path is the default root. However, the\r\n        // Backbone.history.atRoot() returns true, only if the root is\r\n        // set explicitly.  Probably a Backbone bug.\r\n\t\t    var rootPath = Backbone.history.decodeFragment(location.pathname);\r\n        historyOptions = {\r\n          root: rootPath\r\n        };\r\n      }\r\n\r\n      _.extend(historyOptions, options);\r\n\r\n      if (!backboneHistoryStarted) {\r\n        Backbone.history.start(historyOptions);\r\n      }\r\n      \r\n      backboneHistoryStarted = true;\r\n      this.started = true;\r\n      this._context && this._context.viewStateModel.set('history', true);\r\n    },\r\n\r\n    ensureStart: function (options) {\r\n      if (!this.started) {\r\n        this.start(options);\r\n      }\r\n    },\r\n    \r\n    hasRouted: function () {\r\n      return history.length > this._originalHistoryLength;\r\n    },\r\n\r\n    addUrlParameters: function (name, urlParameters, replace) {\r\n      var added = true;\r\n      this._routers.some(function (router) {\r\n        if (router.name === name) {\r\n          if (router.addUrlParameters(urlParameters, replace)) {\r\n            added = true;\r\n          }\r\n          return true;\r\n        }\r\n      });\r\n      return true;\r\n    },\r\n\r\n    restoreRouter: function (lastRouterInfo) {\r\n      this._routers.some(function (router) {\r\n        if (router.name === lastRouterInfo.router) {\r\n          router.restoring = true;\r\n          router.restore(lastRouterInfo);\r\n          return true;\r\n        }\r\n      });\r\n    },\r\n\r\n    getRouter: function (name) {\r\n      var routerToFind;\r\n      this._routers.some(function (router) {\r\n        if (router.name === name) {\r\n          routerToFind = router;\r\n          return true;\r\n        }\r\n      });\r\n      return routerToFind;\r\n    },\r\n\r\n    _informOthers: function (activeRouter) {\r\n      _.each(this._routers, function (router) {\r\n        if (router !== activeRouter) {\r\n          router.trigger('other:route', router, activeRouter);\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  MultiPerspectiveRouting.extend = Backbone.History.extend;\r\n\r\n  return MultiPerspectiveRouting;\r\n});\r\n\n","// Route hash-based URLs to contextual object changes and the other way round\r\ncsui.define('csui/pages/start/perspective.routing',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/utils/routing',\r\n  'csui/pages/start/multi.perspective.routing',\r\n  // Load external routers working with perspective context\r\n  'csui-ext!csui/pages/start/perspective.routing'\r\n], function (module, _, Backbone, Url, routing, MultiPerspectiveRouting, extraRouters) {\r\n  'use strict';\r\n  var instance;\r\n  var config = _.extend({\r\n    handlerUrlPathSuffix: '/app',\r\n    rootUrlPath: null\r\n  }, module.config());\r\n\r\n  var PerspectiveRouting = MultiPerspectiveRouting.extend({\r\n    constructor: function PerspectiveRouting(options) {\r\n      options = _.extend({}, config, options);\r\n      MultiPerspectiveRouting.prototype.constructor.call(this, options);\r\n    }\r\n  });\r\n\r\n  PerspectiveRouting.routesWithSlashes = routing.routesWithSlashes;\r\n\r\n  return {\r\n    //The is made singleton as the \"hasRouted()\" functionality will be helpful for widgets\r\n    //to verify whether to display back button or not (Eg:SearchResultsHeaderView)\r\n    getInstance: function (options) {\r\n      if (!instance) {\r\n        // This is a protection for calling getInstance on a MultiPerspectiveRouting.\r\n        // The instance is not set if the user creates a MultiPerspectiveRouting.\r\n        if (options.context && options.context.viewStateModel) {\r\n          var inst = options.context.viewStateModel.get('PerspectiveRouting');\r\n          if (inst) {\r\n            return inst;\r\n          }\r\n        }\r\n        instance = new PerspectiveRouting(options);\r\n      }\r\n      return instance;\r\n    },\r\n    // TODO: Deprecate this method, use csui/utils/routing\r\n    routesWithSlashes: routing.routesWithSlashes\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/pages/start/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/pages/start/nls/root/lang',{\r\n  // Used as a parameter in other patterns below\r\n  ProductName: \"Content Suite Platform CE 22.2\",\r\n\r\n  // Used for the back to title\r\n  LandingPageBackTo:    \"Home\",\r\n\r\n  // Example: \"Home - OpenText Content Server\"\r\n  // Pattern: \"Home - {1}\"\r\n  // {0} is the name of the user\r\n  // {1} is the name of the product\r\n  UserTitle: \"Home - {1}\",\r\n\r\n  // Example: \"CarbonFibre - OpenText Content Server\"\r\n  // Pattern: \"{0} - {2}\",\r\n  // {0} is the name of the node\r\n  // {1} is the type of the node\r\n  // {2} is the name of the product\r\n  NodeTitle: \"{0} - {2}\",\r\n\r\n  // Example: \"testDocument.docx v5.1 - OpenText Content Server\"\r\n  // Pattern: \"{0} - {2}\",\r\n  // {0} is the name of the version\r\n  // {1} is the version number\r\n  // {2} is the name of the product\r\n  VersionTitle: \"{0} v{1} - {2}\",\r\n\r\n  // Example: \"CarbonFibre, Properties - OpenText Content Server\"\r\n  // Pattern: \"{1}, {0} - {2}\",\r\n  // {0} is the title of the metadata panel\r\n  // {1} is the name of the node\r\n  // {2} is the name of the product\r\n  MetadataTitle:  \"{1}, {0} - {2}\",\r\n\r\n  MetadataBackTo:    \"Properties\",\r\n\r\n  // Example: \"CarbonFibre, Permissions - John Smith\"\r\n  // Pattern: \"{0}, Permissions - {1}\",\r\n  // {0} is the name of the node\r\n  // {1} is the name of the user\r\n  PermissionsTitle:  \"{0}, Permissions - {1}\",\r\n\r\n  PermissionsBackTo:    \"Permissions\",\r\n\r\n  // Example: \"Searching for \\\"test\\\" - OpenText Content Server\"\r\n  // Pattern: \"Searching for \\\"{0}\\\" - {1}\",\r\n  // {0} are the search terms\r\n  // {1} is the name of the product\r\n  SearchTitle:    \"Searching for \\\"{0}\\\" - {1}\",\r\n\r\n  // Used for the back to title\r\n  SearchBackTo:    \"Search\",\r\n\r\n  // Example: \"Favorites - OpenText Content Server\"\r\n  // Pattern: \"Favorites - {0}\"\r\n  // {0} is the name of the product\r\n  FavoritesTitle: \"Favorites - {0}\",\r\n\r\n  // Used for the back to title\r\n  FavoritesBackTo: \"Favorites\",\r\n\r\n  // Example: \"My Assignments - OpenText Content Server\"\r\n  // Pattern: \"My Assignments - {0}\"\r\n  // {0} is the name of the product\r\n  MyAssignmentsTitle: \"My Assignments - {0}\",\r\n\r\n  // Used for the back to title\r\n  MyAssignmentsBackTo: \"My Assignments\",\r\n\r\n  // Example: \"Recently Accessed - OpenText Content Server\"\r\n  // Pattern: \"Recently Accessed - {0}\"\r\n  // {0} is the name of the product\r\n  RecentlyAccessedTitle: \"Recently Accessed - {0}\",\r\n\r\n  // Used for the back to title\r\n  RecentlyAccessedBackTo: \"Recently Accessed\",\r\n\r\n  // Example: \"Search Results - OpenText Content Server\"\r\n  // Pattern: \"Search Results - {0}\"\r\n  // {0} is the name of the product\r\n  SearchResultsTitle: \"Search Results - {0}\",\r\n\r\n  // Used for the back to title\r\n  SearchResultsBackTo: \"Search Results\",\r\n\r\n  // default back button title\r\n  back: 'back'\r\n});\r\n\n","\n","csui.define('csui/pages/start/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/pages/start/impl/nls/root/lang',{\r\n  UserLoadingTitle: \"Loading current user...\",\r\n  NodeLoadingTitle: \"Loading {0}...\",\r\n  Home: 'Home',\r\n  invalidObjectName: 'Unrecognized object name was detected in the web address.',\r\n  mainNavigationAria: 'Main navigation',\r\n  profileMenuTitle: 'Profile Menu',\r\n  profileMenuAria: 'Profile Menu of {0}',\r\n  profileImageAlt: 'Profile Menu of {0}'\r\n});\r\n\n","\n","csui.define('csui/pages/start/impl/landing.perspective.router',['csui/lib/underscore', 'csui/utils/base',\r\n  'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/user', 'i18n!csui/pages/start/nls/lang',\r\n  'i18n!csui/pages/start/impl/nls/lang'\r\n], function (_, base, PerspectiveRouter, ApplicationScopeModelFactory,\r\n    UserModelFactory, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var LandingPerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      '*other': 'openLandingPerspective'\r\n    },\r\n\r\n    name: 'Landing',\r\n\r\n    constructor: function LandingPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context.getModel(ApplicationScopeModelFactory);\r\n      this.listenTo(this.applicationScope, 'change:id', this._updateHomeUrl);\r\n\r\n      this.user = this.context.getModel(UserModelFactory);\r\n      this.listenTo(this.user, 'change:id', this._updatePageTitle);\r\n    },\r\n\r\n    openLandingPerspective: function (/*viewState*/) {\r\n\r\n      // we need to activate the new router so the old router does not keep listening\r\n      // to the viewState object changes. Like resetting it for example.\r\n      this.activate(true);\r\n\r\n      this._updatePageTitle();\r\n      this.applicationScope.set('id', '');\r\n    },\r\n\r\n    onViewStateChanged: function () {\r\n      this._updateHomeUrl();\r\n    },\r\n\r\n    restore: function (viewState/*, sessionViewState*/) {\r\n      this.openLandingPerspective(viewState);\r\n    },\r\n\r\n    _updateHomeUrl: function () {\r\n      // Empty scope means landing page\r\n      if (this.applicationScope.id) {\r\n        return;\r\n      }\r\n\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n\r\n      this._updatePageTitle();\r\n      this.navigate('');\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      if (this.applicationScope.id === \"\") {\r\n        document.title = !this.user.has('name') ? lang.UserLoadingTitle :\r\n                         _.str.sformat(publicLang.UserTitle, base.formatMemberName(this.user), publicLang.ProductName);\r\n      }\r\n    },\r\n\r\n    getBackToTitle: function () {\r\n      return publicLang.LandingPageBackTo;\r\n    },\r\n\r\n    isViewStateModelSupported: function() {\r\n      return true;\r\n    },\r\n\r\n  }, {\r\n    isDefault: true\r\n  });\r\n\r\n  return LandingPerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/node.perspective.router',['module', 'csui/lib/jquery',\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/next.node', 'csui/models/node/node.model',\r\n  'i18n!csui/pages/start/nls/lang', 'i18n!csui/pages/start/impl/nls/lang'\r\n], function (module, $, _, Backbone, PerspectiveRouter, NextNodeModelFactory, NodeModel, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var NodePerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      'nodes/:id': 'openNodePerspective',\r\n      'nodes/:id(?*query_string)': 'openNodePerspective'\r\n    },\r\n\r\n    name: 'Node',\r\n\r\n    constructor: function NodePerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.nextNode = this.context.getModel(NextNodeModelFactory);\r\n\r\n      this.listenTo(this.nextNode, 'change:id', this._updateNodeUrl);\r\n      this.listenTo(this.nextNode, 'before:change:id', function(){\r\n        this.lastNodeId = this.nextNode.get('id');\r\n        this.activate(true);\r\n      }.bind(this));\r\n\r\n      this.lastNodeId = this.nextNode.get('id');\r\n\r\n    },\r\n\r\n    openNodePerspective: function (id, query_string) {\r\n      \r\n      this.navigateFromUrl = true;\r\n\r\n      if (NodeModel.usesIntegerId) {\r\n        id = parseInt(id);\r\n        // handle invalid nickname\r\n        if (isNaN(id)) {\r\n          this.nextNode.unset('id', {silent: true});\r\n          return this.context.rejectPerspective(new Backbone.Model(),\r\n            new Error(lang.invalidObjectName));\r\n        }\r\n      }\r\n\r\n      var setId = id && id !== this.nextNode.get('id');\r\n\r\n      // we need to activate the new router so the old router does not keep listening\r\n      // to the viewState object changes. Like resetting it for example.\r\n      this.activate(false);\r\n\r\n      // if the id is changing we will make sure the viewStateModel does not trigger\r\n      // changing the url until the id is updated.\r\n      if (!this.restoring) {\r\n        this.initViewStateFromUrlParams(query_string, setId);\r\n      }\r\n\r\n      var context = this.context,\r\n          viewStateModel = context.viewStateModel;\r\n\r\n      if (setId) {\r\n        this.nextNode.set('id', id);\r\n      }\r\n\r\n      // todo: remove this.\r\n      setTimeout(function () {\r\n        if (setId) {\r\n          if (viewStateModel && viewStateModel.get('state') &&\r\n              viewStateModel.get('state').filter) {\r\n            viewStateModel.trigger('change:state');\r\n          }\r\n        }\r\n      }, 1000);\r\n\r\n    },\r\n\r\n    onOtherRoute: function (/*thisRouter, activeRouter*/) {\r\n      this.nextNode.clear({silent: true});\r\n    },\r\n\r\n    isViewStateModelSupported: function () {\r\n      return true;\r\n    },\r\n\r\n    onViewStateChanged: function () {\r\n      if (this.nextNode.get('id')) {\r\n        this._updateNodeUrlImmediately();\r\n      }\r\n    },\r\n\r\n    restore: function (routerInfo) {\r\n      this.openNodePerspective(routerInfo.sessionState.id, routerInfo.state);\r\n    },\r\n    \r\n    resetQueryStringParams: function() {\r\n      var viewStateModel = this.context.viewStateModel,\r\n          constants = viewStateModel.CONSTANTS;\r\n      viewStateModel.unset(constants.QUERY_STRING_PARAMS);\r\n    },\r\n\r\n    waitForPerspectiveChange: function (callback) {\r\n      this.listenToOnce(this.context, 'retain:perspective change:perspective error:perspective', callback);\r\n    },\r\n\r\n    _updateNodeUrl: function () {\r\n\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n\r\n      var callback = function () {\r\n\r\n        // Make sure we stop listening because if we receive one of those events, then the next time the router\r\n        // is not active, this function will be called on the other events that has not been called before.\r\n        this.stopListening(this.context, 'retain:perspective change:perspective error:perspective', callback);\r\n\r\n        this._updateNodeUrlImmediately();\r\n        this._updatePageTitle();\r\n\r\n      }.bind(this);\r\n\r\n      this.waitForPerspectiveChange(callback);\r\n\r\n    },\r\n\r\n    _updateNodeUrlImmediately:function() {\r\n      \r\n      if (this.navigateFromUrl) {\r\n        this.navigateFromUrl = false;\r\n      } else {\r\n        this.resetQueryStringParams();\r\n      }\r\n\r\n      if (!this.nextNode.isFetchable()) {\r\n        return;\r\n      }\r\n\r\n      var nextNode   = this.nextNode,\r\n          nextNodeId = nextNode.get('id'),\r\n          uri        = 'nodes/' + encodeURIComponent(nextNodeId);\r\n\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n\r\n      this.navigate(uri);\r\n    },\r\n\r\n    initSessionViewState: function () {\r\n      this._updateSessionState();\r\n    },\r\n\r\n    _updateSessionState: function () {\r\n      // Update the session view state model with the node id we are navigating to.\r\n      // Do this after the router has been activated.\r\n      var nextNode       = this.nextNode,\r\n          nextNodeId     = nextNode && nextNode.get('id'),\r\n          viewStateModel = this.context && this.context.viewStateModel;\r\n\r\n      var currentId = viewStateModel.getSessionViewState('id');\r\n      if (currentId && currentId === nextNodeId) {\r\n        // We already initialized the session view state. This call again is due to the viewStateChanged call possibly.\r\n        return;\r\n      }\r\n\r\n      // The sessionViewState keeps variables like the selected nodes and maybe the scroll position in the future.\r\n      // If we are restoring, we will keep this information otherwise we will just reset it and the widgets will load\r\n      // without this initialization.\r\n      if (viewStateModel && nextNodeId) {\r\n        var newSessionState = {};\r\n        // Restore the old session_state if we are restoring or the perspective node did not change\r\n        if (this.restoring || \r\n            this.lastNodeId === undefined || \r\n            this.lastNodeId === this.nextNode.get('id')) {\r\n          _.extend(newSessionState, viewStateModel.get(viewStateModel.CONSTANTS.SESSION_STATE));\r\n        }\r\n        _.extend(newSessionState, {id: nextNodeId});\r\n        viewStateModel.unset(viewStateModel.CONSTANTS.SESSION_STATE, {silent: true});\r\n        viewStateModel.set(viewStateModel.CONSTANTS.SESSION_STATE, newSessionState);\r\n      }\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      document.title = _.str.sformat(publicLang.NodeTitle, this.nextNode.get('name'), this.nextNode.get('type_name'), publicLang.ProductName);\r\n      this._updateBackToTitle();\r\n    },\r\n\r\n    _updateBackToTitle: function() {\r\n      var viewStateModel = this.context && this.context.viewStateModel;\r\n      viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.BACK_TO_TITLE, this.nextNode.get('name'));\r\n    }\r\n\r\n  });\r\n\r\n  return NodePerspectiveRouter;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/objecttypes.mixin',['csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function () {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.options.connector.getConnectionUrl().getApiBase('v2'),'members/objecttypes');\r\n        },\r\n\r\n        parse: function (response) {\r\n          var returnData = {\r\n            objecttypes: response.results.data && response.results.data.objects\r\n          };\r\n          return returnData;\r\n        }\r\n      });\r\n    }\r\n  };\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/objecttypesmodel',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/server.adaptors/objecttypes.mixin'\r\n], function (_, Backbone, ConnectableMixin, FetchableMixin, ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var ObjectTypesModel = Backbone.Model.extend({\r\n\r\n    constructor: function ObjectTypesModel(models, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, models, options);\r\n      this.makeConnectable(options)\r\n        .makeFetchable(options)\r\n        .makeServerAdaptor(options);\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(ObjectTypesModel.prototype);\r\n  FetchableMixin.mixin(ObjectTypesModel.prototype);\r\n  ServerAdaptorMixin.mixin(ObjectTypesModel.prototype);\r\n\r\n  _.extend(ObjectTypesModel.prototype, {\r\n\r\n    isFetchable: function () {\r\n      return !this.get('objecttypes');\r\n    }\r\n\r\n  });\r\n\r\n  return ObjectTypesModel;\r\n\r\n});\n","csui.define('csui/utils/contexts/factories/objecttypes.factory',[\r\n  'csui/lib/underscore',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/models/objecttypesmodel'\r\n], function (_, CollectionFactory, ConnectorFactory, ObjectTypesModel) {\r\n  'use strict';\r\n\r\n  var ObjectTypesFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'objecttypes',\r\n\r\n    constructor: function ObjectTypesFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var objectTypes = this.options.objectTypes || {},\r\n       connector = context.getObject(ConnectorFactory, options);\r\n      objectTypes = new ObjectTypesModel(objectTypes.attributes,\r\n        _.defaults({\r\n          connector: connector\r\n        }, objectTypes.options, {\r\n          autofetch: true,\r\n        }));\r\n      this.property = objectTypes;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return ObjectTypesFactory;\r\n});\r\n\n","csui.define('csui/pages/start/impl/search.perspective.router',[\r\n  'module', 'csui/lib/underscore', 'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/search.formquery.factory',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/objecttypes.factory',\r\n  'i18n!csui/pages/start/nls/lang', 'i18n!csui/pages/start/impl/nls/lang'\r\n], function (module, _, PerspectiveRouter, SearchQueryModelFactory,\r\n  SearchFormQueryModelFactory, UserModelFactory, ObjectTypesFactory, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    // TODO: Remove this parameters. Private modules must not have public\r\n    // configuration. Introduce a public localization string, if you need\r\n    // to override the page title.\r\n    showTitle: true,\r\n    enableObjectTypes:false\r\n  });\r\n\r\n  var SearchPerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      'search/*path': 'openSearchPerspective',\r\n      'search/*path(?*query_string)': 'openSearchPerspective'\r\n    },\r\n\r\n    name: 'Search',\r\n\r\n    constructor: function SearchPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.searchQuery = this.context.getModel(SearchQueryModelFactory);\r\n      this.listenTo(this.searchQuery, 'change', this._updateSearchUrl);\r\n      this.searchForm = this.context.getModel(SearchFormQueryModelFactory);\r\n      this.listenTo(this.searchForm, 'change', this._updateSearchFormUrl);\r\n      if(config.enableObjectTypes){\r\n        this.objectTypesModel = this.context.getModel(ObjectTypesFactory, {\r\n          permanent: true\r\n        });\r\n        this.objectTypesModel.ensureFetched();\r\n      }\r\n    },\r\n\r\n    openSearchPerspective: function (path, query_string) {\r\n      // convert the path made of 'name/value' pairs to {name; value} map\r\n      var name,\r\n          parameters = _.reduce(path.split('/'), function (result, item) {\r\n            if (name) {\r\n              result[name] = item != null ? decodeURIComponent(item).trim() : '';\r\n              name = undefined;\r\n            } else {\r\n              name = decodeURIComponent(item);\r\n            }\r\n            return result;\r\n          }, {});\r\n\r\n      // we need to activate the new router so the old router does not keep listening\r\n      // to the viewState object changes. Like resetting it for example.\r\n      this.activate(false);\r\n\r\n      if (!this.restoring) {\r\n        this.initViewStateFromUrlParams(query_string, true);\r\n      }\r\n\r\n      this._updateSearchQueryPageTitle();\r\n      this._updateSearchFormQueryPageTitle();\r\n\r\n      var user = this.context.getModel(UserModelFactory);\r\n      user.ensureFetched().then(_.bind(function () {\r\n        // if context is coming from CVS then do 'silent:true' otherwise keep it false , to avoid\r\n        // double call to _fetchSearchPerspective().\r\n        this.searchQuery.set(parameters, {silent: !!this.searchQuery.get('query_id')});\r\n        if (this.searchForm.get('query_id')) {\r\n          this.searchForm.set(parameters, {silent: !!this.searchForm.get('query_id')});\r\n        }\r\n      }, this));\r\n\r\n    },\r\n\r\n    onOtherRoute: function () {\r\n      this.searchQuery.clear({silent: true});\r\n      this.searchForm.clear({silent: true});\r\n    },\r\n\r\n    routerURL: function (searchQuery) {\r\n      var url = _.reduce(searchQuery.attributes, function (result, value, name) {\r\n        if (value) {\r\n          result += '/' + encodeURIComponent(name) + '/' + encodeURIComponent(value);\r\n        } else {\r\n          result += '/' + encodeURIComponent(name) + '/' + '%20';\r\n        }\r\n        return result;\r\n      }, 'search');\r\n      return url;\r\n    },\r\n\r\n    _updateSearchUrl: function () {\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n      // format the path using the {name; value} map to 'name/value' pairs\r\n      var url = this.routerURL(this.searchQuery);\r\n      this._updateSearchQueryPageTitle();\r\n      this.navigate(url);\r\n    },\r\n\r\n    _updateSearchQueryPageTitle: function () {\r\n      if (config.showTitle) {\r\n        document.title = _.str.sformat(publicLang.SearchTitle, this.searchQuery.get('where'), publicLang.ProductName);\r\n      }\r\n    },\r\n\r\n    isViewStateModelSupported: function () {\r\n      return true;\r\n    },\r\n\r\n    onViewStateChanged: function () {\r\n      this.viewStateChanged = true;\r\n      this._updateSearchUrl();\r\n      this.viewStateChanged = false;\r\n    },\r\n\r\n    _updateSearchFormUrl: function () {\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n      // format the path using the {name; value} map to 'name/value' pairs\r\n      var url = this.routerURL(this.searchForm);\r\n      this._updateSearchQueryPageTitle();\r\n      this.navigate(url);\r\n    },\r\n\r\n    _updateSearchFormQueryPageTitle: function () {\r\n      if (config.showTitle) {\r\n        document.title = _.str.sformat(publicLang.SearchTitle, this.searchForm.get('where'), publicLang.ProductName);\r\n      }\r\n    },\r\n\r\n    initSessionViewState: function () {\r\n      var viewStateModel = this.context && this.context.viewStateModel, \r\n          lastRouter = viewStateModel && viewStateModel.get(viewStateModel.CONSTANTS.LAST_ROUTER);\r\n      if (!this.restoring && !this.viewStateChanged &&\r\n          (viewStateModel && viewStateModel.get('navigated') && lastRouter !== undefined && lastRouter !== this.name)) {\r\n        viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.SESSION_STATE, {});\r\n      }\r\n    },\r\n\r\n    // TODO: Remove this. URLs have to be properly encoded and decoded.\r\n    // Overriding this to pass the encoded url fragment to the 'openSearchPerspective' .\r\n    // This is to ensure correct functionality even in the case of the search value containing '/' symbols.\r\n    _extractParameters: function (route, fragment) {\r\n      var params = route.exec(fragment).slice(1);\r\n      return _.map(params, function (param, i) {\r\n        return param ? param : null;\r\n      });\r\n    },\r\n\r\n    getBackToTitle:function() {\r\n      return publicLang.SearchBackTo;\r\n    }\r\n  });\r\n\r\n  return SearchPerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/metadata.perspective.router',['module',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/metadata.factory',\r\n  'csui/models/node/node.model',\r\n  'i18n!csui/pages/start/nls/lang',\r\n  'i18n!csui/pages/start/impl/nls/lang'\r\n], function (module, $, _, Backbone, PerspectiveRouter, MetadataFactory, NodeModel, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var MetadataPerspectiveRouter = PerspectiveRouter.extend({\r\n\r\n    routes: {\r\n      'nodes/:node_id/metadata': 'openMetadata',\r\n      'nodes/:node_id/metadata(?*query_string)': 'openMetadata',\r\n      'nodes/:node_id/metadata/navigator': 'openMetadataNavigator',\r\n      'nodes/:node_id/metadata/navigator(?*query_string)': 'openMetadataNavigator',\r\n      'nodes/:node_id/permissions': 'openPermissions',\r\n      'nodes/:node_id/permissions(?*query_string)': 'openPermissions',\r\n      'nodes/:node_id/permissions/navigator': 'openPermissionsNavigator',\r\n      'nodes/:node_id/permissions/navigator(?*query_string)': 'openPermissionsNavigator'\r\n    },\r\n\r\n    name: \"Metadata\",\r\n\r\n    constructor: function MetadataPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.metadataModel = this.context.getModel(MetadataFactory);\r\n\r\n      this.listenTo(this.metadataModel, 'change:metadata_info', this._updateUrl);\r\n      this.listenTo(this.metadataModel, 'change:metadata_info', this._updatePageTitle);\r\n    },\r\n\r\n    openPermissions: function (id, query_string) {\r\n      this._updateMetadataInfo({showPermissionView:true}, true);\r\n      this._open(id, query_string, false);\r\n    },\r\n\r\n    openPermissionsNavigator: function (id, query_string) {\r\n      this._updateMetadataInfo({showPermissionView:true}, true);\r\n      this._open(id, query_string, true);\r\n    },\r\n\r\n    openMetadata: function (id, query_string) {\r\n      this._updateMetadataInfo({showPermissionView:false}, true);\r\n      this._open(id, query_string, false);\r\n    },\r\n\r\n    openMetadataNavigator: function (id, query_string) {\r\n      this._updateMetadataInfo({showPermissionView:false}, true);\r\n      this._open(id, query_string, true);\r\n    },\r\n\r\n    isViewStateModelSupported: function() {\r\n      return true;\r\n    },\r\n\r\n    getInitialViewState: function () {\r\n      var metadata_info = this.metadataModel && this.metadataModel.get('metadata_info');\r\n      if (metadata_info && metadata_info.selectedTab) {\r\n        var selectedTab = metadata_info.selectedTab;\r\n        if (_.isString(selectedTab)) {\r\n          return {dropdown: selectedTab};\r\n        } else if (selectedTab instanceof Backbone.Model) {\r\n          var name = selectedTab.get('name'), title = selectedTab.get('title');\r\n          return {dropdown: name || title};\r\n        }\r\n      }\r\n      return {};\r\n    },\r\n\r\n    _updateMetadataInfo: function (newMetadataInfo, silent) {\r\n      var metadata_info = this.metadataModel.get('metadata_info') || {};\r\n      var newMergedMetadataInfo = {};\r\n\r\n      _.extend(newMergedMetadataInfo, metadata_info);\r\n      _.extend(newMergedMetadataInfo, newMetadataInfo);\r\n\r\n      if (!silent) {\r\n        this.metadataModel.unset('metadata_info', newMergedMetadataInfo, {silent: true});\r\n      }\r\n      this.metadataModel.set('metadata_info', newMergedMetadataInfo, {silent: silent});\r\n    },\r\n\r\n    _open: function (id, query_string, navigator) {\r\n\r\n      if (NodeModel.usesIntegerId) {\r\n        id = parseInt(id);\r\n      }\r\n\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n\r\n      var setId = !metadata_info || (id && id !== metadata_info.id);\r\n\r\n      // we need to activate the new router so the old router does not keep listening\r\n      // to the viewState object changes. Like resetting it for example.\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(false);\r\n      }\r\n\r\n      // if the id is changing we will make sure the viewStateModel does not trigger\r\n      // changing the url until the id is updated.\r\n      if (!this.restoring) {\r\n        this.initViewStateFromUrlParams(query_string, setId);\r\n      }\r\n\r\n      this._updateMetadataInfo({id: id, navigator: navigator}, false);\r\n    },\r\n\r\n    onOtherRoute: function () {\r\n      this.metadataModel.clear({silent: true});\r\n      var viewStateModel = this.context.viewStateModel;\r\n      // Do not remove METADATA_CONTAINER because some other perspectives depend on this\r\n      // to show the back button title.\r\n      //viewStateModel.unset(viewStateModel.CONSTANTS.METADATA_CONTAINER);\r\n      viewStateModel.unset('displayBreadcrumbUpToParentOnly');\r\n    },\r\n\r\n    onViewStateChanged:function() {\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n      if (metadata_info && metadata_info.id) {\r\n        this._updateUrl();\r\n      }\r\n\r\n      var dropdownTitle = this.context.viewStateModel.getViewState(\"dropdown\");\r\n      if (metadata_info && metadata_info.model && dropdownTitle) {\r\n        this._updatePageTitle();\r\n      }\r\n    },\r\n\r\n    _updateUrl: function () {\r\n\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n      \r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n      if (!metadata_info) {\r\n        return;\r\n      }\r\n\r\n      var id = metadata_info.id,\r\n          uri      = 'nodes/' + encodeURIComponent(id) + (metadata_info.showPermissionView ? '/permissions' : '/metadata');\r\n\r\n      if (metadata_info.navigator) {\r\n        uri += '/navigator';\r\n        this.context.viewStateModel.set('displayBreadcrumbUpToParentOnly', true);\r\n      }\r\n      this.navigate(uri);\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n      if (!metadata_info) {\r\n        return;\r\n      }\r\n      if (metadata_info.model) {\r\n        var modelTitle;\r\n\r\n        if (this.context.viewStateModel) {\r\n          modelTitle = this.getBackToTitle();\r\n        }\r\n\r\n        document.title = (!metadata_info.model.has('name') || !modelTitle) ?\r\n                         _.str.sformat(lang.NodeLoadingTitle, metadata_info.model.get('id')) :\r\n                         _.str.sformat(publicLang.MetadataTitle, modelTitle, metadata_info.model.get('name'), publicLang.ProductName);\r\n\r\n      }\r\n\r\n    },\r\n\r\n    getBackToTitle: function () {\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n      if (metadata_info.showPermissionView) {\r\n        return publicLang.PermissionsBackTo;\r\n      } else {\r\n        return publicLang.MetadataBackTo;\r\n      }\r\n    }\r\n  });\r\n\r\n  return MetadataPerspectiveRouter;\r\n\r\n});\r\n\n","csui.define('csui/pages/start/impl/root.perspective.router',['csui/lib/underscore',\r\n  'csui/pages/start/perspective.router',\r\n  'i18n!csui/pages/start/nls/lang',\r\n  'csui/utils/contexts/factories/next.node'\r\n\r\n], function (_, PerspectiveRouter, publicLang, NextNodeModelFactory) {\r\n  'use strict';\r\n\r\n  var applicationScopes = {\r\n    myassignments: _.str.sformat(publicLang.MyAssignmentsTitle, publicLang.ProductName),\r\n    recentlyaccessed: _.str.sformat(publicLang.RecentlyAccessedTitle, publicLang.ProductName),\r\n    favorites: _.str.sformat(publicLang.FavoritesTitle, publicLang.ProductName),\r\n    searchresults: _.str.sformat(publicLang.SearchResultsTitle, publicLang.ProductName)\r\n  };\r\n\r\n  var applicationScopesBackToTitle = {\r\n    myassignments: publicLang.MyAssignmentsBackTo,\r\n    recentlyaccessed: publicLang.RecentlyAccessedBackTo,\r\n    favorites: publicLang.FavoritesBackTo,\r\n    searchresults: publicLang.SearchResultsBackTo\r\n  };\r\n\r\n  var RootPerspectiveRouter = PerspectiveRouter.extend({\r\n\r\n    name: 'Root',\r\n\r\n    routes: {\r\n      'myassignments': 'openMyAssignmentsPerspective',\r\n      'myassignments(?*query_string)': 'openMyAssignmentsPerspective',\r\n      'recentlyaccessed': 'openRecentlyAccessedPerspective',\r\n      'recentlyaccessed(?*query_string)': 'openRecentlyAccessedPerspective',\r\n      'favorites': 'openFavoritesPerspective',\r\n      'favorites(?*query_string)': 'openFavoritesPerspective',\r\n      'searchresults/:id': 'openSearchResultsPerspective',\r\n      'searchresults/:id(?*query_string)': 'openSearchResultsPerspective'\r\n    },\r\n\r\n    constructor: function RootPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.listenTo(this.applicationScope, 'change:id', this._updateUrl);\r\n    },\r\n\r\n    openRecentlyAccessedPerspective: function(query_string) {\r\n      this.openApplicationScope('recentlyaccessed', query_string);\r\n    },\r\n\r\n    openMyAssignmentsPerspective: function(query_string) {\r\n      this.openApplicationScope('myassignments', query_string);\r\n    },\r\n\r\n    openFavoritesPerspective: function(query_string) {\r\n      this.openApplicationScope('favorites', query_string);\r\n    },\r\n\r\n    openSearchResultsPerspective: function(id, query_string) {\r\n      id = parseInt(id);\r\n      // if the id is changing we will make sure the viewStateModel does not trigger\r\n      // changing the url until the id is updated.\r\n\r\n      // we need to activate the new router so the old router does not keep listening\r\n      // to the viewState object changes. Like resetting it for example.\r\n      this.activate(false);\r\n\r\n      if (!this.restoring) {\r\n        this.initViewStateFromUrlParams(query_string, id);\r\n      }\r\n      this._updatePageTitle();\r\n      this.applicationScope.set('query_id', id);\r\n      this.applicationScope.set('id', \"searchresults\");\r\n    },\r\n    \r\n    openApplicationScope: function (scope, query_string) {\r\n      this.activate(false);\r\n      this.initViewStateFromUrlParams(query_string);\r\n      this._updatePageTitle();\r\n      this.applicationScope.set('id', scope);\r\n    },\r\n\r\n    isViewStateModelSupported: function () {\r\n      return true;\r\n    },\r\n\r\n    initSessionViewState: function () {\r\n      this._updateSessionState();\r\n    },\r\n\r\n    _updateSessionState: function () {\r\n      var viewStateModel = this.context && this.context.viewStateModel;\r\n\r\n      // The sessionViewState keeps variables like the selected nodes and maybe the scroll position in the future.\r\n      // If we are restoring, we will keep this information otherwise we will just reset it and the widgets will load\r\n      // without this initialization.\r\n      if (viewStateModel) {\r\n        var newSessionState = {};\r\n        _.extend(newSessionState, viewStateModel.get(viewStateModel.CONSTANTS.SESSION_STATE));\r\n        viewStateModel.unset(viewStateModel.CONSTANTS.SESSION_STATE, {silent: true});\r\n        viewStateModel.set(viewStateModel.CONSTANTS.SESSION_STATE, newSessionState);\r\n      }\r\n    },\r\n\r\n    onViewStateChanged: function () {\r\n      this._updateUrl();\r\n    },\r\n\r\n    restore: function (routerInfo) {\r\n      this.applicationScope.set('id', routerInfo.scopeId);\r\n    },\r\n\r\n    _updateUrl: function () {\r\n\r\n      // Skip scopes handled by other routers\r\n      var scope = this.applicationScope.id;\r\n\r\n      // if (scope !== 'tasks' && scope !== 'recent' && scope !== 'favorites' && scope !== 'search')\r\n      if (applicationScopes[scope]){\r\n\r\n        if (this !== this.getActiveRouter()) {\r\n          this.activate(false);\r\n        }\r\n\r\n        //Generic Tile widget \r\n        var query_id = this.applicationScope.get('query_id');\r\n        if (query_id) {\r\n          scope += '/' + query_id;\r\n        }\r\n        this._updatePageTitle();\r\n        this.navigate(scope);\r\n      }\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      document.title = applicationScopes[this.applicationScope.id];\r\n    },\r\n\r\n    getBackToTitle:function() {\r\n      return applicationScopesBackToTitle[this.applicationScope.id];\r\n    }\r\n  });\r\n\r\n  return RootPerspectiveRouter;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/next.version',[\r\n    'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n    'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n    'csui/models/version', 'csui/utils/commands/versions'\r\n  ], function (module, _, Backbone, ModelFactory, ConnectorFactory, VersionModel, VersionCommands) {\r\n    'use strict';\r\n\r\n    var NextVersionModelFactory = ModelFactory.extend({\r\n\r\n      propertyPrefix: 'nextVersion',\r\n\r\n      constructor: function NextVersionModelFactory(context, options) {\r\n        ModelFactory.prototype.constructor.call(this, context, options);\r\n\r\n        var nextVersion = this.options.nextVersion || {};\r\n        if (!(nextVersion instanceof VersionModel)) {\r\n          var connector = context.getObject(ConnectorFactory, options),\r\n              config = module.config();\r\n          nextVersion = new VersionModel(undefined, _.extend({\r\n             connector: connector,\r\n             commands: VersionCommands.getAllSignatures()\r\n            }, nextVersion.options, config.options));\r\n        }\r\n        this.property = nextVersion;\r\n      },\r\n\r\n      isFetchable: function () {\r\n        return this.property.isFetchable();\r\n      },\r\n\r\n      fetch: function (options) {\r\n        return this.property.fetch(options);\r\n      }\r\n    });\r\n\r\n    return NextVersionModelFactory;\r\n  });\r\n\n","csui.define('csui/pages/start/impl/version.perspective.router',[\r\n  'csui/lib/underscore', 'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/next.version',\r\n  'csui/models/node/node.model', 'i18n!csui/pages/start/nls/lang',\r\n  'csui/lib/underscore.string',\r\n], function (_, PerspectiveRouter, NextVersionModelFactory, NodeModel, publicLang) {\r\n  'use strict';\r\n\r\n  var VersionPerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      'nodes/:node_id/versions/:version_number': 'openVersionPerspective'\r\n    },\r\n\r\n    name: 'Vesion',\r\n\r\n    constructor: function VersionPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.call(this, options);\r\n\r\n      this.nextVersion = this.context.getModel(NextVersionModelFactory);\r\n      this.listenTo(this.nextVersion, 'change:id change:version_number', this._updateVersionUrl);\r\n      this.listenTo(this.nextVersion, 'change:name change:version_number_name', this._updateVersionPageTitle);\r\n    },\r\n\r\n    openVersionPerspective: function (nodeId, versionNumber) {\r\n\r\n      if (NodeModel.usesIntegerId) {\r\n        nodeId = parseInt(nodeId);\r\n      }\r\n      versionNumber = parseInt(versionNumber);\r\n\r\n      this.nextVersion.set({ id: nodeId, version_number: versionNumber });\r\n    },\r\n\r\n    _updateVersionUrl: function () {\r\n      this.navigate('nodes/' + this.nextVersion.get('id') + '/versions/' + this.nextVersion.get('version_number'));\r\n    },\r\n\r\n    _updateVersionPageTitle: function () {\r\n      document.title = _.str.sformat(publicLang.VersionTitle, this.nextVersion.get('name'), this.nextVersion.get('version_number_name'), publicLang.ProductName);\r\n    }\r\n  });\r\n\r\n  return VersionPerspectiveRouter;\r\n});\r\n\n","csui.define('csui/utils/classic.nodes/impl/core.classic.nodes',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Discussion\r\n    {\r\n      equals: {type: 215},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'view',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Discussion Topic or Reply\r\n    {\r\n      equals: {type: [130, 134]},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'view',\r\n          objId: node.get('id'),\r\n          show: 1,\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task\r\n    {\r\n      equals: {type: 206},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTask',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task List\r\n    {\r\n      equals: {type: 204},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTaskList',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task Group\r\n    {\r\n      equals: {type: 205},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTaskGroup',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Milestone\r\n    {\r\n      equals: {type: 212},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseMilestone',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Channel\r\n    {\r\n      equals: {type: 207},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ViewChannel',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // News\r\n    {\r\n      equals: {type: 208},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ViewNews',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Poll\r\n    {\r\n      equals: {type: 218},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'OpenPoll',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // LiveReport\r\n    {\r\n      equals: {type: 299},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'RunReport',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Prospector\r\n    {\r\n      equals: {type: 384},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ProspectorBrowse',\r\n          objId: node.get('id'),\r\n          order: '-SCORE',\r\n          summaries: 1,\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // follow up\r\n    {\r\n      equals: {type: 31214},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'addresubmission',\r\n          RS_FUNCTION: 'Edit',\r\n          RSID: node.get('followup_id'),\r\n          objId: node.get('location_id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/content.helper',[\r\n  'csui/lib/underscore', 'csui/utils/url', 'csui/models/version'\r\n], function (_, Url, VersionModel) {\r\n  'use strict';\r\n\r\n  function getContentPageUrl (node, options) {\r\n    options || (options = {});\r\n    var cgiUrl = new Url(node.connector.connection.url).getCgiScript();\r\n    var urlQuery = {\r\n      func: 'doc.fetchcsui',\r\n      nodeid: node.get('id')\r\n    };\r\n    if (options.download) {\r\n      urlQuery = _.extend(urlQuery, { action: 'download' });\r\n    }\r\n    if (node instanceof VersionModel || node.get('version_number')) {\r\n      urlQuery.vernum = node.get('version_number');\r\n    }\r\n    return Url.appendQuery(cgiUrl, Url.combineQueryString(urlQuery));\r\n  }\r\n\r\n  return {\r\n    getContentPageUrl: getContentPageUrl\r\n  };\r\n});\r\n\n","csui.define('csui/utils/impl/core.defaultactionitems',[\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/smart.nodes/smart.nodes'\r\n], function (classicNodes, smartNodes) {\r\n  'use strict';\r\n\r\n  return [\r\n    // Document\r\n    // TODO: Move E-mail to its module\r\n    {\r\n      equals: {type: [144, 736, 801]},\r\n      signature: 'OpenDocument',\r\n      sequence: 10\r\n    },\r\n    // Generation\r\n    {\r\n      equals: { type: [2] },\r\n      signature: 'Open',\r\n      sequence: 10\r\n    },\r\n    // URL\r\n    {\r\n      type: 140,\r\n      signature: 'Navigate',\r\n      sequence: 30\r\n    },\r\n    // Saved Search Query\r\n    {\r\n      type: 258,\r\n      signature: 'ExecuteSavedQuery',\r\n      sequence: 30\r\n    },\r\n\r\n    // Search Form\r\n    {\r\n      type: 292,\r\n      signature: 'ExecuteSearchForm',\r\n      sequence: 30\r\n    },\r\n    // Nodes forced to be opened in Classic UI\r\n    {\r\n      signature: 'OpenSpecificClassicPage',\r\n      sequence: 600,\r\n      decides: function (node) {\r\n        return classicNodes.isForced(node);\r\n      }\r\n    },\r\n    // Containers (supported in Smart UI, but need a permission check)\r\n    // THis fallback rule comes after the \"OpenSpecificClassicPage\" command,\r\n    // because some containers may want to get redirected to Classic UI.\r\n    {\r\n      equals: {container: true},\r\n      signature: 'Browse',\r\n      sequence: 700\r\n    },\r\n    // Nodes, which should have just their perspective open in Smart UI\r\n    {\r\n      signature: 'OpenSpecificNodePerspective',\r\n      sequence: 800,\r\n      decides: function (node) {\r\n        return smartNodes.isSupported(node);\r\n      }\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/non-attaching.region/non-attaching.region',['csui/lib/marionette'], function (Marionette) {\r\n  'use strict';\r\n\r\n  var NonAttachingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function NonAttachingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    attachHtml: function (view) {}\r\n\r\n  });\r\n\r\n  return NonAttachingRegion;\r\n\r\n});\r\n\n","csui.define('csui/utils/script-executing.region/script-executing.region',['csui/lib/marionette'], function (Marionette) {\r\n  'use strict';\r\n\r\n  var ScriptExecutingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function ScriptExecutingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    attachHtml: function(view) {\r\n      this.$el\r\n          .html('')\r\n          .append(view.el);\r\n    }\r\n\r\n  });\r\n\r\n  return ScriptExecutingRegion;\r\n\r\n});\r\n\n","csui.define('csui/utils/node.links/impl/core.node.links',[\r\n  'csui/utils/url',\r\n  'csui/models/version'\r\n], function (Url, VersionModel) {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      equals: {\r\n        type: 140\r\n      },\r\n      getUrl: function (node) {\r\n        return node.get('url');\r\n      }\r\n    },\r\n    {\r\n      equals: {\r\n        type: 258\r\n      },\r\n      getUrl: function (node) {\r\n        return Url.combine('search/query_id/', node.get('id'));\r\n      }\r\n    },\r\n    {\r\n      sequence: 1000,\r\n      getUrl: function (node) {\r\n        return Url.combine('nodes/', node.get('id'));\r\n      }\r\n    },\r\n    {\r\n      equals: {\r\n        type: 144\r\n      },\r\n      getUrl: function (node) {\r\n        var url = Url.combine('nodes/', node.get('id'));\r\n        if(node instanceof VersionModel) {\r\n          var versionNumber = node.get('version_number');\r\n          url = Url.combine(url, 'versions/' + versionNumber);\r\n        }\r\n        return url;\r\n      }\r\n    },\r\n    {\r\n      equals: {\r\n        type: 292\r\n      },\r\n      getUrl: function (node) {\r\n        return Url.combine('searchtemplates/', node.get('id'));\r\n      }\r\n    },\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/open.authenticated.page',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/utils/connector', 'csui/utils/url', 'csui/utils/log'\r\n], function (module, _, $, Connector, Url, log) {\r\n  'use strict';\r\n\r\n  // TODO: Remove this experimental parameter.\r\n  var newClassicAuth = /\\bnewClassicAuth\\b(?:=([^&]*)?)?/i.exec(location.search);\r\n  newClassicAuth = newClassicAuth && newClassicAuth[1] !== 'false';\r\n\r\n  var config = _.extend({\r\n    openInNewTab: undefined, // defaults to true in the code\r\n    apiUrl: '/xecmauth'      // will be prefixed by the CGI URL\r\n  }, module.config());\r\n\r\n  log = log(module.id);\r\n\r\n  function openAuthenticatedPage1 (connection, url, options) {\r\n    // New windows cannot cannot be opened from background tasks.\r\n    var contentWindow = openContentWindow();\r\n    var connectionUrl;\r\n\r\n    // Connection parameter may be a connector or a just a connection,\r\n    // if the connector has not been authenticated yet.\r\n    var authenticated = $.Deferred();\r\n    if (connection instanceof Connector) {\r\n      connectionUrl = connection.getConnectionUrl();\r\n      authenticateWithConnector();\r\n    } else {\r\n      connectionUrl = new Url(connection.url);\r\n      authenticateWithoutConnector();\r\n    }\r\n\r\n    return authenticated.then(function () {\r\n      contentWindow.location = completeTargetUrl();\r\n    }, function (error) {\r\n      // Close the window if it was opened here.\r\n      if (contentWindow !== window && contentWindow !== options.window) {\r\n        contentWindow.close();\r\n      }\r\n      throw error;\r\n    });\r\n\r\n    function openContentWindow() {\r\n      options || (options = {});\r\n      var openInNewTab = options.openInNewTab !== undefined ?\r\n        options.openInNewTab : config.openInNewTab;\r\n      var content = options.window || (openInNewTab === false ?\r\n            window : window.open('', '_blank'));\r\n      // Calling window.open(\"\") returns null in the SAP Fiori Client.\r\n      return content && content.location ? content : parent.window;\r\n    }\r\n\r\n    function completeTargetUrl() {\r\n      if (!(url.indexOf('http:') === 0 || url.indexOf('https:') === 0)) {\r\n        if (url.indexOf('?') === 0) {\r\n          url = connectionUrl.getCgiScript() + url;\r\n        } else {\r\n          url = connectionUrl.getOrigin() + url;\r\n        }\r\n      }\r\n      return url;\r\n    }\r\n\r\n    function getAuthenticationURL() {\r\n      var apiUrl = options.apiUrl !== undefined && options.apiUrl || config.apiUrl;\r\n      return connectionUrl.getCgiScript() + apiUrl;\r\n    }\r\n\r\n    function authenticateWithConnector() {\r\n      connection\r\n        .makeAjaxCall({\r\n          url: getAuthenticationURL(),\r\n          xhrFields: { withCredentials: true }\r\n        }).then(authenticated.resolve, authenticated.reject);\r\n    }\r\n\r\n    function authenticateWithoutConnector() {\r\n      var authenticationUrl = getAuthenticationURL();\r\n      var request = new XMLHttpRequest();\r\n      request.onreadystatechange = function () {\r\n        if (request.readyState === 4) {\r\n          if (request.status === 200) {\r\n            authenticated.resolve();\r\n          } else {\r\n            log.warn('GET request to {0} failed:', authenticationUrl) && console.warn(log.last);\r\n            authenticated.reject(new Error(request.status + ' ' + request.statusText));\r\n          }\r\n        }\r\n      };\r\n      request.open('GET', authenticationUrl, true);\r\n      request.setRequestHeader('OTCSTicket', connection.session.ticket);\r\n      request.withCredentials = true;\r\n      request.send(null);\r\n    }\r\n  }\r\n\r\n  function openAuthenticatedPage2 (connection, url, options) {\r\n    // connection parameter may be a connector\r\n    if (connection.connection) {\r\n      connection = connection.connection;\r\n    }\r\n    var cgiUrl = new Url(connection.url).getCgiScript();\r\n    var ticket = connection.session.ticket;\r\n\r\n    var contentDocument = createWindowDocument();\r\n    var form = createForm();\r\n    createField('func', 'csui.authenticate');\r\n    createField('otcsticket', ticket);\r\n    createField('nexturl', url);\r\n    form.submit();\r\n\r\n    return $.Deferred().resolve().promise();\r\n\r\n    function createWindowDocument() {\r\n      options || (options = {});\r\n      var content = options.window || (options.openInNewTab === false ?\r\n            window : window.open('', '_blank'));\r\n      // Calling window.open(\"\") returns null in the SAP Fiori Client.\r\n      if (!content || !content.location) {\r\n        content = parent.window;\r\n      }\r\n      return content.document;\r\n    }\r\n\r\n    function createForm() {\r\n      var form = contentDocument.createElement('form');\r\n      form.setAttribute('method', 'post');\r\n      form.setAttribute('action', cgiUrl);\r\n      contentDocument.body.appendChild(form);\r\n      return form;\r\n    }\r\n\r\n    function createField(name, value) {\r\n      var field = contentDocument.createElement('input');\r\n      field.setAttribute('name', name);\r\n      field.setAttribute('value', value);\r\n      field.setAttribute('type', 'hidden');\r\n      form.appendChild(field);\r\n    }\r\n  }\r\n\r\n  return newClassicAuth ? openAuthenticatedPage1 : openAuthenticatedPage2;\r\n});\r\n\n","csui.define('csui/utils/smart.nodes/impl/core.smart.nodes',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Document and Generation\r\n    // TODO: Move E-mail to its module\r\n    {\r\n      equals: {type: [144, 736, 2, 801]},\r\n    },\r\n    // Containers - browse children by default\r\n    {\r\n      equals: {container: true},\r\n      sequence: 1000\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/taskqueue',['module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, $, _, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var Task = Backbone.Model.extend({\r\n\r\n    constructor: function Task(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.deferred = $.Deferred();\r\n    },\r\n\r\n    promise: function () {\r\n      return this.deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  var TaskCollection = Backbone.Collection.extend({model: Task});\r\n\r\n  function TaskQueue(options) {\r\n    this.parallelism = options && options.parallelism || Infinity;\r\n    this.pending = new TaskCollection(undefined, {model: Task});\r\n    this.pending.on(\"add\", this.dequeue, this);\r\n    this.active = new TaskCollection(undefined, {model: Task});\r\n  }\r\n\r\n  _.extend(TaskQueue.prototype, {\r\n\r\n    dequeue: function () {\r\n      var task;\r\n      log.debug(\r\n          'Pending queue {0} contains {1} tasks, active queue {0} contains {1} tasks.',\r\n          this.pending.cid, this.pending.length, this.active.cid, this.active.length)\r\n      && console.log(log.last);\r\n      if (this.active.length < this.parallelism &&\r\n          (task = this.pending.shift())) {\r\n        this.execute(task);\r\n        this.dequeue();\r\n      }\r\n    },\r\n\r\n    execute: function (task) {\r\n      log.debug('Executing task {0}...', task.cid)\r\n      && console.log(log.last);\r\n      this.active.add(task);\r\n      task.get(\"worker\")()\r\n          .done(task.deferred.done)\r\n          .fail(task.deferred.fail)\r\n          .always(_.bind(function () {\r\n            this.active.remove(task);\r\n            this.dequeue();\r\n          }, this));\r\n    }\r\n\r\n  });\r\n\r\n  TaskQueue.Task = Task;\r\n  TaskQueue.TaskCollection = TaskCollection;\r\n  TaskQueue.version = \"1.0\";\r\n\r\n  return TaskQueue;\r\n\r\n});\r\n\n","csui.define('csui/models/node/node.addable.type.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/node/node.addable.type.collection'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory, NodeAddableTypeCollection) {\r\n\r\n  var AddableTypeCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'addableTypes',\r\n\r\n    constructor: function AddableTypeCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var addableTypes = this.options.addableTypes || {};\r\n      if (!(addableTypes instanceof Backbone.Collection)) {\r\n        var node   = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n        addableTypes = new NodeAddableTypeCollection(addableTypes.models,\r\n            _.defaults(\r\n                {\r\n                  // Prefer refreshing the entire collection after re-fetching it\r\n                  // to improve rendering performance\r\n                  autoreset: true\r\n                },\r\n                addableTypes.options,\r\n                config.options,\r\n                // node is intentionally listed at the end to give previous options preference\r\n                {node: node}\r\n            ));\r\n      }\r\n      this.property = addableTypes;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return AddableTypeCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/plugins/node/utils/merge.extra.data',[],function () {\r\n  'use strict';\r\n\r\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\r\n\r\n  // ['id'], ['name'], [], undefined => ['id', 'name']\r\n  function mergeArrays(target, source) {\r\n    if (!source) {\r\n      return target || [];\r\n    }\r\n    if (!target) {\r\n      return source || [];\r\n    }\r\n    for (var i = 0, l = source.length; i < l; ++i) {\r\n      var item = source[i];\r\n      if (target.indexOf(item) < 0) {\r\n        target.push(item);\r\n      }\r\n    }\r\n    return target;\r\n  }\r\n\r\n  // merge { properties: ['id'], columns: [] }\r\n  // with  { properties: ['name'] }\r\n  // to    { properties: ['id', 'name'], columns: [] }\r\n  function mergeExtraData(objects) {\r\n    if (!Array.isArray(objects)) {\r\n      objects = Array.prototype.slice.call(arguments);\r\n    }\r\n    var merged = {};\r\n    for (var i = 0, l = objects.length; i < l; ++i) {\r\n      var object = objects[i];\r\n      if (!object) {\r\n        continue;\r\n      }\r\n      for (var key in object) {\r\n        if (hasOwnProperty.call(object, key)) {\r\n          merged[key] = mergeArrays(object[key], merged[key]);\r\n        }\r\n      }\r\n    }\r\n    return merged;\r\n  }\r\n\r\n  return mergeExtraData;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/plugins/node/utils/implement.extra.data',[\r\n  'csui/utils/contexts/perspective/plugins/node/utils/merge.extra.data'\r\n], function (mergeExtraData) {\r\n  'use strict';\r\n\r\n  // [ { getModelFields() { ... }, getModelExpand() { ... } } ]\r\n  // to { getModelFields() { ... }, getModelExpand() { ... } }\r\n  // with the methods returning collected extra data\r\n  return function implementExtraData(extraNodeData) {\r\n    return {\r\n      getModelFields: function (options) {\r\n        if (!extraNodeData) {\r\n          return {};\r\n        }\r\n        var objects = extraNodeData.map(function (nodeData) {\r\n          return nodeData.getModelFields && nodeData.getModelFields(options);\r\n        });\r\n        return mergeExtraData(objects);\r\n      },\r\n\r\n      getModelExpand: function (options) {\r\n        if (!extraNodeData) {\r\n          return {};\r\n        }\r\n        var objects = extraNodeData.map(function (nodeData) {\r\n          return nodeData.getModelExpand && nodeData.getModelExpand(options);\r\n        });\r\n        return mergeExtraData(objects);\r\n      }\r\n    };\r\n  };\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/plugins/node/main.node.extra.data',[\r\n  'csui/utils/contexts/perspective/plugins/node/utils/implement.extra.data',\r\n  // Load external extra data for the main contextual node\r\n  'csui-ext!csui/utils/contexts/perspective/plugins/node/main.node.extra.data'\r\n], function (implementExtraData, extraNodeData) {\r\n  'use strict';\r\n\r\n  return implementExtraData(extraNodeData);\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/plugins/node/node.extra.data',[\r\n  'csui/utils/contexts/perspective/plugins/node/utils/implement.extra.data',\r\n  // Load external extra node data\r\n  'csui-ext!csui/utils/contexts/perspective/plugins/node/node.extra.data'\r\n], function (implementExtraData, extraNodeData) {\r\n  'use strict';\r\n\r\n  return implementExtraData(extraNodeData);\r\n});\r\n\n","csui.define('csui/utils/contexts/impl/node.opening.context',[\r\n  'csui/lib/underscore',\r\n  'csui/utils/contexts/context',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/node.links/node.links',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/behaviors/default.action/impl/defaultaction',\r\n  'csui/utils/contexts/perspective/plugins/node/main.node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/utils/merge.extra.data'\r\n], function (_,Context, ConnectorFactory, NextNodeModelFactory,\r\n    nodeLinks, UserModelFactory, DefaultActionController,\r\n    mainNodeExtraData, nodeExtraData, mergeExtraData) {\r\n  'use strict';\r\n\r\n  // FIXME: Copied from node perspective context plugin.\r\n  var nodeOptions = {\r\n    fields: mergeExtraData(mainNodeExtraData.getModelFields(), nodeExtraData.getModelFields()),\r\n    expand: mergeExtraData(mainNodeExtraData.getModelExpand(), nodeExtraData.getModelExpand()),\r\n    includeResources: ['metadata', 'perspective']\r\n  };\r\n\r\n  nodeOptions.fields['versions.element(0)'] = ['mime_type'];\r\n\r\n  var NodeOpeningContext = Context.extend({\r\n    constructor: function NodeOpeningContext(options) {\r\n      Context.prototype.constructor.apply(this, arguments);\r\n      var defaultActionController = new DefaultActionController();\r\n\r\n      this.connector = this.getObject(ConnectorFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      this.user = this.getModel(UserModelFactory, {\r\n        permanent: true\r\n      });\r\n      var nodeOpeningOptions = _.extend({\r\n        delayRestCommands: true,\r\n        defaultActionCommands: defaultActionController.actionItems.getAllCommandSignatures(\r\n          defaultActionController.commands)\r\n      }, this._getNodeOptions());\r\n      this.nextNode = this.getModel(\r\n          NextNodeModelFactory, {\r\n            options: nodeOpeningOptions,\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change:id', this.onNextNodeChanged, this);\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return Context.prototype._isFetchable.apply(this, arguments) &&\r\n             // The user model should be fetched only at the beginning\r\n             (factory.property !== this.user || !this.user.get('id'));\r\n    },\r\n\r\n    openNodePage: function (node) {\r\n      this.triggerMethod('before:open:page', this, this.nextNode);\r\n      window.open(nodeLinks.getUrl(node));\r\n    },\r\n\r\n    _getNodeOptions: function() {\r\n      return nodeOptions;\r\n    }\r\n  });\r\n\r\n  return NodeOpeningContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/previous.node',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/node/node.model'\r\n], function (module, _, Backbone, ModelFactory, ConnectorFactory, NodeModel) {\r\n  'use strict';\r\n\r\n  var PreviousNodeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'previousNode',\r\n\r\n    constructor: function PreviousNodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var connector = context.getObject(ConnectorFactory, options),\r\n          config = module.config();\r\n      this.property = new NodeModel(undefined,\r\n          _.defaults({\r\n            connector: connector\r\n          }, config.options));\r\n    }\r\n\r\n  });\r\n\r\n  return PreviousNodeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/impl/delayed.actions.for.node',[\r\n  'csui/utils/commands', 'csui/utils/defaultactionitems'\r\n], function (commands, defaultActionItems) {\r\n  'use strict';\r\n\r\n  function delayCommands (node) {\r\n    node.resetCommands();\r\n    node.resetDefaultActionCommands();\r\n    node.setCommands(commands.getAllSignatures());\r\n    node.setDefaultActionCommands(defaultActionItems.getAllCommandSignatures(commands));\r\n    node.setEnabledDelayRestCommands(true, false);\r\n  }\r\n\r\n  function relayActionEvents (context) {\r\n    if (context.nextNode.delayRestCommands) {\r\n      context.nextNode.delayedActions\r\n          .on('request', relayRequestNodeActions, context)\r\n          .on('sync', relaySyncNodeActions, context)\r\n          .on('error', relayErrorNodeActions, context);\r\n      context.nextNode.actions\r\n          .on('reset update', relayUpdateNodeActions, context);\r\n      // The csuiDelayedActionsRetrieved flag belongs to the delayed action\r\n      // workflow. Once they were fetched, this flag is set to true.\r\n      context.nextNode\r\n          .on('change:csuiDelayedActionsRetrieved', relayActionRetrievedFlag, context);\r\n      resumeRelayingActionEvents(context);\r\n    }\r\n  }\r\n\r\n  function relayRequestNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchStarted();\r\n      delayedActions.trigger('request', delayedActions, {}, {});\r\n      delayedActions.fetching = this.nextNode.delayedActions.fetching;\r\n    }\r\n  }\r\n\r\n  function relaySyncNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchSucceeded();\r\n      delayedActions.trigger('sync', delayedActions, {}, {});\r\n    }\r\n  }\r\n\r\n  function relayErrorNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchFailed();\r\n      delayedActions.trigger('error', delayedActions, {}, {});\r\n    }\r\n  }\r\n\r\n  function relayUpdateNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      updateNodeActions(this);\r\n    }\r\n  }\r\n\r\n  function relayActionRetrievedFlag () {\r\n    if (this.relayingActionEvents) {\r\n      this.node.set('csuiDelayedActionsRetrieved', this.nextNode.get('csuiDelayedActionsRetrieved'));\r\n    }\r\n  }\r\n\r\n  function suppressRelayingActionEvents (context) {\r\n    if (context.nextNode.delayRestCommands) {\r\n      context.relayingActionEvents = false;\r\n    }\r\n  }\r\n\r\n  function resumeRelayingActionEvents (context) {\r\n    if (context.nextNode.delayRestCommands) {\r\n      context.relayingActionEvents = true;\r\n    }\r\n  }\r\n\r\n  function updateNodeActions(context) {\r\n    if (context.nextNode.delayRestCommands) {\r\n      context.node.actions.reset(context.nextNode.actions.models);\r\n    }\r\n  }\r\n\r\n  return {\r\n    delayCommands: delayCommands,\r\n    relayActionEvents: relayActionEvents,\r\n    suppressRelayingActionEvents: suppressRelayingActionEvents,\r\n    resumeRelayingActionEvents: resumeRelayingActionEvents,\r\n    updateNodeActions: updateNodeActions\r\n  };\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/browsing/browsing.context',[\r\n  'require', 'csui/lib/underscore',\r\n  'csui/utils/contexts/impl/node.opening.context',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/impl/delayed.actions.for.node',\r\n  'csui-ext!csui/utils/contexts/browsing/browsing.context',\r\n  'csui/behaviors/default.action/impl/defaultaction'\r\n], function (require, _, NodeOpeningContext, NodeModelFactory,\r\n    PreviousNodeModelFactory, delayedActions, contextPlugins, DefaultActionController) {\r\n  'use strict';\r\n\r\n  var BrowsingContext = NodeOpeningContext.extend({\r\n    constructor: function BrowsingContext(options) {\r\n      NodeOpeningContext.prototype.constructor.apply(this, arguments);\r\n      var defaultActionController = new DefaultActionController();\r\n\r\n      this.on('request', this._changeNode, this);\r\n\r\n      this.previousNode = this.getModel(PreviousNodeModelFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      // TODO: Re-enable delayed actions once views can handle them properly.\r\n      // delayedActions.delayCommands(this.nextNode);\r\n      delayedActions.relayActionEvents(this);\r\n      var browseNodeOptions = _.extend({\r\n        delayRestCommands: true,\r\n        defaultActionCommands: defaultActionController.actionItems.getAllCommandSignatures(\r\n          defaultActionController.commands)\r\n      }, this._getNodeOptions());\r\n      this.node = this.getModel(NodeModelFactory, {\r\n        options: browseNodeOptions,\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      // TODO: Re-enable delayed actions once views can handle them properly.\r\n      // delayedActions.delayCommands(this.node);\r\n\r\n      // Keep the same order as in perspective context\r\n      var Plugins = _\r\n          .chain(options && options.plugins || contextPlugins)\r\n          .flatten(true)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n      _.invoke(this._plugins, 'onCreate');\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return NodeOpeningContext.prototype._isFetchable.apply(this, arguments) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    onNextNodeChanged: function () {\r\n      // Setting just node ID to nextNode will try to drill down;\r\n      // non-containers are handled by opening a new window, but\r\n      // need passing more node attributes to nextNode\r\n      if (this.nextNode.get('container') !== false) {\r\n        this.enterContainer();\r\n      } else {\r\n        this.openNewNodePage();\r\n      }\r\n    },\r\n\r\n    openNewNodePage: function () {\r\n      this.openNodePage(this.nextNode);\r\n      this.nextNode.clear({silent: true});\r\n    },\r\n\r\n    enterContainer: function () {\r\n      this.triggerMethod('before:enter:container', this, this.nextNode);\r\n      this.nextNode\r\n          .fetch()\r\n          .then(function () {\r\n            this._enteringContainer = true;\r\n            return this.fetch();\r\n          }.bind(this))\r\n          .fail(function (error) {\r\n            require(['csui/dialogs/modal.alert/modal.alert'], function (ModalAlert) {\r\n              ModalAlert.showError(error.toString());\r\n            });\r\n          });\r\n    },\r\n\r\n    _changeNode: function () {\r\n      if (this._enteringContainer) {\r\n        this.previousNode.clear({silent: true});\r\n        this.previousNode.set(this.node.attributes);\r\n        // Set the contextual node identifier before the rest of the context\r\n        // starts fetching, so that dependent models can refer to it.\r\n        this.node.clear({silent: true});\r\n        this.node.set('id', this.nextNode.get('id'), {silent: true});\r\n        // Trigger the \"change\" events on the contextual node after the context\r\n        // triggers the \"request\" event. TableView optimizes rew-rendering for\r\n        //  changes that happen between \"request\" and \"sync\" events.\r\n        setTimeout(function () {\r\n          this.node.unset('id', {silent: true});\r\n          this.node.set(this.nextNode.attributes);\r\n          delayedActions.updateNodeActions(this);\r\n          this.nextNode.clear({silent: true});\r\n        }.bind(this));\r\n        this._enteringContainer = false;\r\n      }\r\n    },\r\n\r\n    fetch: function () {\r\n      var parameters = Array.prototype.slice.apply(arguments),\r\n          self = this;\r\n\r\n      function continueFetching () {\r\n        NodeOpeningContext.prototype.fetch.apply(self, parameters);\r\n      }\r\n\r\n      if (!this._enteringContainer && this.node.isFetchable()) {\r\n        this.triggerMethod('before:enter:container', this, this.node);\r\n        return this.node\r\n            .fetch()\r\n            .then(continueFetching);\r\n      }\r\n      return continueFetching();\r\n    }\r\n  });\r\n\r\n  return BrowsingContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/impl/csui.context.plugin',[\r\n  'csui/utils/contexts/context.plugin', 'csui/models/view.state.model'\r\n], function (ContextPlugin, ViewStateModel) {\r\n  'use strict';\r\n\r\n  var CsuiContextPlugin = ContextPlugin.extend({\r\n    constructor: function CsuiContextPlugin(options) {\r\n      ContextPlugin.call(this, options);\r\n\r\n      var context = this.context;\r\n      context.viewStateModel = new ViewStateModel();\r\n      context.listenTo(context, 'request', propagateRequestEventToViewState.bind(this))\r\n             .listenTo(context, 'destroy', clearViewState.bind(this));\r\n    }\r\n  });\r\n\r\n  function propagateRequestEventToViewState() {\r\n    this.context.viewStateModel.onContextFetch();\r\n  }\r\n\r\n  function clearViewState() {\r\n    this.context.viewStateModel.clear();\r\n  }\r\n\r\n  return CsuiContextPlugin;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/portal/portal.context',[\r\n  'csui/lib/underscore', 'csui/utils/contexts/impl/node.opening.context',\r\n  'csui-ext!csui/utils/contexts/portal/portal.context'\r\n], function (_, NodeOpeningContext, contextPlugins) {\r\n  'use strict';\r\n\r\n  var PortalContext = NodeOpeningContext.extend({\r\n    constructor: function PortalContext(options) {\r\n      NodeOpeningContext.prototype.constructor.apply(this, arguments);\r\n\r\n      // Keep the same order as in perspective context\r\n      var Plugins = _\r\n          .chain(options && options.plugins || contextPlugins)\r\n          .flatten(true)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n      _.invoke(this._plugins, 'onCreate');\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return NodeOpeningContext.prototype._isFetchable.apply(this, arguments) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    onNextNodeChanged: function () {\r\n      this.openNewNodePage();\r\n    },\r\n\r\n    openNewNodePage: function () {\r\n      this.openNodePage(this.nextNode);\r\n      this.nextNode.clear({silent: true});\r\n    }\r\n  });\r\n\r\n  return PortalContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/perspective.context.plugin',[\r\n  'csui/utils/contexts/context.plugin'\r\n], function (ContextPlugin) {\r\n  'use strict';\r\n\r\n  var PerspectiveContextPlugin = ContextPlugin.extend({\r\n    // Called when the context and all plugins are constructed.\r\n    onCreate: function () {},\r\n\r\n    // Called when the perspective was fetched, but it was not applied yet.\r\n    // If it returns `true` the original perspective will not be applied; the\r\n    // plugin si expected to apply an alternative one.\r\n    onApply: function () {},\r\n\r\n    // Called when the context is cleared, when a new perspective is loading\r\n    onClear: function () {},\r\n\r\n    // Called when the context is going to be re-fetched, because the current\r\n    // perspective did not change\r\n    onRefresh: function () {}\r\n  });\r\n\r\n  return PerspectiveContextPlugin;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/landing.perspectives',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/landing.perspectives'\r\n], function (_, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var UserPerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      important: false,\r\n      module: null\r\n    },\r\n\r\n    constructor: function UserPerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(UserPerspectiveModel.prototype);\r\n\r\n  var UserPerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: UserPerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function UserPerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByUser: function (user) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(user, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var userPerspectives = new UserPerspectiveCollection([\r\n    {\r\n      // default landing page\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/user.json',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraPerspectives) {\r\n    userPerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return userPerspectives;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',[\r\n  'module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/landing.perspectives',\r\n  'csui/models/perspective/personalization.model'\r\n], function (module, _, log, UserModelFactory, ApplicationScopeModelFactory,\r\n    PerspectiveContextPlugin, landingPerspectives, PersonalizationModel) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var LandingPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n    constructor: function LandingPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory)\r\n          .on('change:id', this.onApplicationScopeChanged, this);\r\n      this.userFactory = this.context.getFactory(UserModelFactory);\r\n      this.user = this.userFactory.property;\r\n    },\r\n\r\n    onApplicationScopeChanged: function () {\r\n      // Empty scope means landing page\r\n      if (this.applicationScope.id) {\r\n        return;\r\n      }\r\n\r\n      // Do not fetch another time when the user is still being fetched.\r\n      // Setting attributes coming from the server when the earlier fetch\r\n      // finishes might cause an endless loop. It would also trigger another\r\n      // pair of fetching events and disturb the subscribers.\r\n      if (this.fetching) {\r\n        return;\r\n      }\r\n\r\n      this.context.triggerMethod('request:perspective', this);\r\n      // Use the factory to allow pre-fetching data from the page.\r\n      var self = this;\r\n      var promise = this.fetching = this.userFactory.fetch({\r\n        success: function () {\r\n          self.onUserFetchSuccess(promise);\r\n        },\r\n        error: function (error) {\r\n          self.onUserFetchFailure(promise, error);\r\n        }\r\n      });\r\n    },\r\n\r\n    onUserFetchSuccess: function (promise) {\r\n      // Another navigation change suppresses the earlier one.\r\n      if (suppressFetchResult.call(this, promise)) {\r\n        return;\r\n      }\r\n\r\n      // TODO Reconsider having this function to fetch personalization\r\n      // once REST API is ready.\r\n      PersonalizationModel.loadPersonalization(this.user, this.context)\r\n        .then(this._changePerspective.bind(this, this.user),\r\n              this.context.rejectPerspective.bind(this.context));\r\n    },\r\n\r\n    onUserFetchFailure: function (promise, error) {\r\n      // Another navigation change suppresses the earlier one.\r\n      if (suppressFetchResult.call(this, promise)) {\r\n        return;\r\n      }\r\n\r\n      this.context.rejectPerspective(error);\r\n    },\r\n\r\n    _changePerspective: function (sourceModel, personalization) {\r\n      var perspectiveModule,\r\n          perspective = landingPerspectives.findByUser(sourceModel);\r\n\r\n      // Let override landing page on the client side\r\n      if ((_.isEmpty(sourceModel.get('perspective')) && _.isEmpty(personalization)) ||\r\n          perspective.get('important')) {\r\n        perspectiveModule = perspective.get('module');\r\n      }\r\n      if (perspectiveModule) {\r\n        return this.context.overridePerspective(sourceModel, perspectiveModule);\r\n      }\r\n      this.context.applyPerspective(sourceModel, false, personalization);\r\n    }\r\n  });\r\n\r\n  // TODO: Create a utility mixin for this.\r\n  function suppressFetchResult(promise) {\r\n    var fetching = this.fetching;\r\n    this.fetching = null;\r\n    if (promise === fetching) {\r\n      return false;\r\n    }\r\n    // Another navigation change suppresses the earlier one.\r\n    log.debug('Suppressing the user perspective delivery in {0}.', this.cid) && console.log(log.last);\r\n    var error = new Error('Earlier user navigation suppressed.');\r\n    this.context.triggerMethod('error:perspective', this, error);\r\n    return true;\r\n  }\r\n\r\n  return LandingPerspectiveContextPlugin;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/node.perspectives',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/node.perspectives'\r\n], function (_, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var NodePerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      important: false,\r\n      module: null\r\n    },\r\n\r\n    constructor: function NodePerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(NodePerspectiveModel.prototype);\r\n\r\n  var NodePerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: NodePerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function NodePerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var nodePerspectives = new NodePerspectiveCollection([\r\n\r\n    {\r\n      // saved search query\r\n      equals: {type: 258},\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/saved.query.json',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // document\r\n      equals: {type: [ 144, 801 ]},\r\n      important: true,\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/document.overview.json',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // node container\r\n      equals: {container: true},\r\n      persist: true,\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/container.json',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default node\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/metadata.json',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraPerspectives) {\r\n    nodePerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return nodePerspectives;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/plugins/node/node.perspective.context.plugin',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/log',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/node.perspectives',\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/contexts/impl/delayed.actions.for.node',\r\n  'csui/utils/contexts/perspective/plugins/node/main.node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/utils/merge.extra.data',\r\n  'csui/models/perspective/personalization.model'\r\n], function (module, _, Backbone, log, NodeModelFactory, NextNodeModelFactory,\r\n    PreviousNodeModelFactory, ApplicationScopeModelFactory,\r\n    PerspectiveContextPlugin, nodePerspectives, classicNodes,\r\n    delayedActions, mainNodeExtraData, nodeExtraData, mergeExtraData,\r\n    PersonalizationModel) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  // TODO: Remove these experimental parameters.\r\n  // Let fast browsing be enabled or disabled by URL temporarily.\r\n  var delayCommands = /\\bdelayCommands\\b(?:=([^&]*)?)?/i.exec(location.search);\r\n  delayCommands = delayCommands ? delayCommands[1] !== 'false' : undefined;\r\n\r\n  var config = module.config();\r\n\r\n  // override config by URL param\r\n  if(delayCommands !== undefined) {\r\n    config.delayCommands = delayCommands;\r\n  }\r\n\r\n  var sendOriginParams  = config.sendOriginParams;\r\n\r\n  var nodeOptions = {\r\n    fields: mergeExtraData(mainNodeExtraData.getModelFields(), nodeExtraData.getModelFields()),\r\n    expand: mergeExtraData(mainNodeExtraData.getModelExpand(), nodeExtraData.getModelExpand()),\r\n    includeResources: ['metadata', 'perspective']\r\n  };\r\n\r\n  var NodePerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n    constructor: function NodePerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory);\r\n\r\n      this.nextNodeFactory = this.context.getFactory(NextNodeModelFactory, {\r\n        options: nodeOptions,\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      this.nextNode = this.nextNodeFactory.property;\r\n      // TODO: Re-enable delayed actions once views can handle them properly.\r\n      if( config.delayCommands) {\r\n        delayedActions.delayCommands(this.nextNode);\r\n      }\r\n      delayedActions.relayActionEvents(this);\r\n      this.nextNode.on('change:id', this.onNextNodeChanged, this);\r\n\r\n      // TODO: Remove previousNode. Nobody should use it.\r\n      this.previousNode = this.context\r\n          .getModel(PreviousNodeModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          });\r\n\r\n      // Move the contextual node out of permanent factories; it cannot be\r\n      // retained, because when the perspective switches, other models could\r\n      // be listening on it and would waist a fetch, because their views are\r\n      // going to be destroyed with the old perspective. Create the node right\r\n      // away, though, to ensure, that the expected factory options will be set.\r\n      createNodeModel.call(this);\r\n    },\r\n\r\n    onClear: function () {\r\n      this._clearModels(true);\r\n    },\r\n\r\n    onRefresh: function () {\r\n      this._clearModels(false);\r\n    },\r\n\r\n    isFetchable: function (factory) {\r\n      // The contextual node is fetched by fetchPerspective already.\r\n      return factory.property !== this.node;\r\n    },\r\n\r\n    _clearModels: function (recreateNode) {\r\n      // Reset the next-node model on navigating to other than node perspective.\r\n      // Allow navigation to the previously visited node from that perspective.\r\n      if (this.applicationScope.id !== 'node') {\r\n        clearCurrentNode.call(this);\r\n        return this.nextNode.clear({silent: true});\r\n      }\r\n\r\n      clearCurrentNode.call(this);\r\n      // Do not trigger change events, when the node was recreated. Nobody had a chance\r\n      // to subscribe to change events on the node created right above.\r\n      var delayChangeEvents = !recreateNode && (\r\n          // If there are no children used on the page do not delay the events.\r\n          // Delaying the events is a dirty hack only to make the nodestable widget\r\n          // feel rendering smoother. It does not help much anyway.\r\n          this.context.hasCollection('children') ||\r\n          this.context.hasCollection('children2'));\r\n      // Initialize the contextual node. It needs to be complete, so that widget\r\n      // can use it to ask for their models. It should not trigger events, if the\r\n      // container model is used together with children. csui renders very slowly\r\n      // and triggering the change events together with children will make the\r\n      // rendering appear less busy.\r\n      this.node.set(this.nextNode.attributes, {silent: delayChangeEvents});\r\n      // If the actions are delayed, there is a chance that their request had\r\n      // ended before the decision about the new perspective was made. If it\r\n      // was so, they should be synchronized together with the node attributes.\r\n      if (this.nextNode.delayRestCommands && this.nextNode.get('csuiDelayedActionsRetrieved')) {\r\n        this.node.actions.reset(this.nextNode.actions.models, {silent: delayChangeEvents});\r\n      }\r\n\r\n      if (delayChangeEvents) {\r\n        var children = this.context.hasCollection('children') &&\r\n                       this.context.getCollection('children') ||\r\n                       this.context.hasCollection('children2') &&\r\n                       this.context.getCollection('children2');\r\n        var updated;\r\n        children.once('reset update', function () {\r\n          // Depending on the collection owner, either of the two events will be triggered.\r\n          if (!updated) {\r\n            updated = true;\r\n            this.node.triggerAllChanges();\r\n            delayedActions.updateNodeActions(this);\r\n            // Resume updating actions on the current node suppressed during the navigation.\r\n            delayedActions.resumeRelayingActionEvents(this);\r\n          }\r\n        }, this);\r\n      } else {\r\n        delayedActions.updateNodeActions(this);\r\n        // Resume updating actions on the current node suppressed during the navigation.\r\n        delayedActions.resumeRelayingActionEvents(this);\r\n      }\r\n\r\n      function clearCurrentNode() {\r\n        // TODO: Remove previousNode. Nobody should use it.\r\n        // make these operations silently as we do not need views react on this\r\n        this.previousNode.clear({silent: true});\r\n        this.previousNode.set(this.node.attributes, {silent: true});\r\n\r\n        // Create the new model if it has not existed yet (the node perspective\r\n        // is navigated to for the first time), or if thi navigation is not\r\n        // a drill down and a new model has to be added to prevent changes\r\n        // on the current perspective, which is going to be destroyed.\r\n        if (recreateNode) {\r\n          createNodeModel.call(this);\r\n        } else {\r\n          this.node.clear({silent: true});\r\n        }\r\n      }\r\n    },\r\n\r\n    onNextNodeChanged: function () {\r\n      // TODO: Remove this dirty hack. This has nothing to do with the context.\r\n      // Whoever needs to react on context events, has to subscribe to it.\r\n      Backbone.trigger('closeToggleAction');\r\n\r\n      // Compatibility with the early way how to go to the landing page\r\n      var nextNodeId = this.nextNode.get('id');\r\n      if (nextNodeId == null || nextNodeId <= 0) {\r\n        return;\r\n      }\r\n\r\n      // Do not fetch another node when the previous one is still fetching.\r\n      // Setting attributes coming from the server when the earlier fetch\r\n      // finishes would cause an endless loop. It would also trigger another\r\n      // pair of fetching events and disturb the subscribers.\r\n      if (this.fetching) {\r\n        return;\r\n      }\r\n\r\n      this.context.triggerMethod('request:perspective', this);\r\n      this.applicationScope.set('id', 'node');\r\n      // Do not update actions on the current node; a new node will be created soon.\r\n      delayedActions.suppressRelayingActionEvents(this);\r\n      // Remove the content of the nextNode before it is fetched. Only \"id\" was\r\n      // changed to trigger the navigation. If there were other old attributes,\r\n      // they must not get merged with the new ones retrieved from the server.\r\n      var id = this.nextNode.get('id');\r\n      this.nextNode.clear({ silent: true });\r\n      // TODO: Move this to the clear method.\r\n      // Actions is the only model attached to the node that gets populated\r\n      // separately and not through the attributes,\r\n      this.nextNode.actions.reset([], { silent: true });\r\n      this.nextNode.set('id', id, { silent: true });\r\n      // Use the factory to allow pre-fetching data from the page.\r\n      var self = this;\r\n      var promise = this.fetching = this.nextNodeFactory.fetch({\r\n        headers: sendOriginParams ? { 'X-OriginParams': location.search } : undefined,\r\n        success: function () {\r\n          self.onNodeFetchSuccess(promise);\r\n        },\r\n        error: function (model, jqxhr) {\r\n          self.onNodeFetchFailure(promise, model, jqxhr);\r\n        }\r\n      });\r\n    },\r\n\r\n    onNodeFetchSuccess: function (promise) {\r\n      // Another navigation change suppresses the earlier one.\r\n      if (suppressFetchResult.call(this, promise)) {\r\n        return;\r\n      }\r\n\r\n      // TODO Reconsider having this function to fetch personalization\r\n      // once REST API is ready.\r\n      PersonalizationModel.loadPersonalization(this.nextNode, this.context)\r\n        .then(this._changePerspective.bind(this, this.nextNode),\r\n              this.context.rejectPerspective.bind(this.context));\r\n    },\r\n\r\n    onNodeFetchFailure: function (promise, sourceModel, error) {\r\n      // Another navigation change suppresses the earlier one.\r\n      if (suppressFetchResult.call(this, promise)) {\r\n        return;\r\n      }\r\n\r\n      this.context.rejectPerspective(sourceModel, error);\r\n    },\r\n\r\n    _changePerspective: function (sourceModel, personalization) {\r\n      // Check if the node is forced to be opened in Classic UI\r\n      var classicUrl = classicNodes.getUrl(sourceModel);\r\n      if (classicUrl) {\r\n        window.location.replace(classicUrl);\r\n        return;\r\n      }\r\n\r\n      var perspectiveModule,\r\n          perspective = nodePerspectives.findByNode(sourceModel);\r\n      // Avoid opening a non-container in the children-browse perspective when using the old perspective engine\r\n      // and prefer important client-side perspectives too\r\n      var emptySource = _.isEmpty(sourceModel.get('perspective')) && _.isEmpty(personalization);\r\n      var oldNonContainer = !config.enableNewPerspectiveNodes && !sourceModel.get('container');\r\n      var importantPerspective = perspective.get('important');\r\n      if (emptySource || oldNonContainer || importantPerspective) {\r\n        perspectiveModule = perspective.get('module');\r\n      }\r\n      if (perspective) {\r\n        sourceModel.set({\"persist\": perspective.get(\"persist\")}, {silent: true});\r\n      }\r\n      if (perspectiveModule) {\r\n        return this.context.overridePerspective(sourceModel, perspectiveModule);\r\n      }\r\n\r\n      this.context.applyPerspective(sourceModel, false, personalization);\r\n    }\r\n  });\r\n\r\n  function createNodeModel() {\r\n    this.node = this.context\r\n        .getModel(NodeModelFactory, {\r\n          options: nodeOptions\r\n        });\r\n    // Since this node will never be fetched, and will only filled by NextNode on node change, \r\n    // Mark this as fetched to avoid (re)fetching it on `ensureFetch`\r\n    this.node.markFetched();\r\n    // TODO: Re-enable delayed actions once views can handle them properly.\r\n    if( config.delayCommands) {\r\n      delayedActions.delayCommands(this.node);\r\n    }\r\n  }\r\n\r\n  // TODO: Create a utility mixin for this.\r\n  function suppressFetchResult(promise) {\r\n    var fetching = this.fetching;\r\n    this.fetching = null;\r\n    if (promise === fetching) {\r\n      return false;\r\n    }\r\n    // Another navigation change suppresses the earlier one.\r\n    log.debug('Suppressing the node perspective delivery in {0}.', this.cid) && console.log(log.last);\r\n    var error = new Error('Earlier node navigation suppressed.');\r\n    this.context.triggerMethod('error:perspective', this, error);\r\n    return true;\r\n  }\r\n\r\n  return NodePerspectiveContextPlugin;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/search.perspectives',['module',\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/search.perspectives'\r\n], function (module, _, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    perspectiveCollection:[{\r\n      // default search\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/search.json',\r\n      sequence: 10000\r\n    }]\r\n  });\r\n\r\n  var SearchPerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      module: null\r\n    },\r\n\r\n    constructor: function SearchPerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(SearchPerspectiveModel.prototype);\r\n\r\n  var SearchPerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: SearchPerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SearchPerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByQuery: function (query) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(query, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var searchPerspectives = new SearchPerspectiveCollection(config.perspectiveCollection);\r\n\r\n  if (extraPerspectives) {\r\n    searchPerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return searchPerspectives;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/plugins/search.perspective.context.plugin',['require', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/search.formquery.factory',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/search.perspectives'\r\n], function (require, module, _, Backbone, log, SearchQueryModelFactory, SearchFormQueryModelFactory,\r\n    ApplicationScopeModelFactory, PerspectiveContextPlugin,\r\n    searchPerspectives) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    allowAlphaNumericsInQueryId : false\r\n  });\r\n\r\n  var SearchPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function SearchPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory);\r\n      this.searchQuery = this.context\r\n          .getModel(SearchQueryModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change', this.onSearchQueryChanged, this);\r\n      this.searchForm = this.context\r\n          .getModel(SearchFormQueryModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change', this.onSearchQueryChanged, this);\r\n    },\r\n\r\n    onSearchQueryChanged: function () {\r\n      if (this.searchQuery.get('query_id') && typeof this.searchQuery.get('query_id') === \"string\" && \r\n          this.searchQuery.attributes.enableSearchForm && typeof this.searchQuery.attributes.enableSearchForm === \"string\") {\r\n        if (!config.allowAlphaNumericsInQueryId) {\r\n          this.searchQuery.attributes.query_id = parseInt(this.searchQuery.get('query_id'));\r\n        } else {\r\n          this.searchQuery.attributes.query_id = this.searchQuery.get('query_id');\r\n        }\r\n        this.searchQuery.attributes.enableSearchForm = this.searchQuery.attributes.forcePerspectiveChange = true;\r\n        this.context._factories.searchTemplate.property = this.searchQuery;\r\n      }\r\n      var searchQueryId = !this.searchQuery.get('query_id') && \r\n                          !this.searchForm.get('query_id') ? true : this.searchQuery.get('query_id');\r\n      var perspective            = searchQueryId ? searchPerspectives.findByQuery(this.searchQuery)\r\n                                             : searchPerspectives.findByQuery(this.searchForm),\r\n          // Search results should be displayed in new perspective when someone requred for it or navigating between location search and CVS\r\n          forcePerspectiveChange = searchQueryId ? this.searchQuery.get('forcePerspectiveChange')\r\n                                                 : this.searchForm.get('forcePerspectiveChange');\r\n      this.applicationScope.set('id', 'search'); // set application view state\r\n      this.context.loadPerspective(perspective.get('module'), forcePerspectiveChange);\r\n      this.listenToOnce(this.context, 'sync:perspective', function () {\r\n        this.searchQuery.unset('forcePerspectiveChange', {silent: true});\r\n        this.searchForm.unset('forcePerspectiveChange', {silent: true});\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return SearchPerspectiveContextPlugin;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/search.perspective.context.plugin',['require', 'csui/utils/contexts/perspective/plugins/search.perspective.context.plugin',\r\n], function (require, SearchPerspectiveContextPlugin) {\r\n  'use strict';\r\n  // 'DEPRECATED: depend on the module 'csui/utils/contexts/perspective/plugins/search.perspective.context.plugin' instead.\r\n  return SearchPerspectiveContextPlugin;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/metadata.perspective.context.plugin',['module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette', 'csui/lib/jquery',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/metadata.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/log',\r\n  'csui/models/node/node.model'\r\n], function (module, _, Backbone, Marionette, $, ApplicationScopeModelFactory,\r\n    MetadataModelFactory, PerspectiveContextPlugin, NodeModelFactory, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var MetadataPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function MetadataPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context.getModel(ApplicationScopeModelFactory);\r\n      this.metadataModel = this.context\r\n          .getModel(MetadataModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change:metadata_info', this.onMetadataChanged, this);\r\n\r\n      this.listenTo(this.context, \"clear\", this._prepareContext);\r\n    },\r\n\r\n    _prepareContext: function () {\r\n      if (['properties', 'permissions'].indexOf(this.applicationScope.get('id')) !== -1) {\r\n        var metadataInfo = this.metadataModel.get('metadata_info');\r\n        if (metadataInfo && metadataInfo.id) {\r\n          this.node = this.context.getModel(NodeModelFactory);\r\n          this.node.set('id', metadataInfo.id);\r\n        }\r\n      }\r\n    },\r\n\r\n    onMetadataChanged: function () {\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n      if (!metadata_info) {\r\n        return;\r\n      }\r\n      if (['properties', 'permissions'].indexOf(this.applicationScope.get('id')) !== -1) {\r\n         {\r\n          var model = metadata_info.model;\r\n          if (metadata_info.navigator) {\r\n            if (model) {\r\n              this.node.set( model.attributes);\r\n            }\r\n          }\r\n          if (metadata_info.collection && metadata_info.collection === this.lastMetadataInfo.collection) {\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      this.lastMetadataInfo = metadata_info;\r\n      if (metadata_info.showPermissionView) {\r\n        this.applicationScope.set('id', 'permissions');\r\n      } else {\r\n        this.applicationScope.set('id', 'properties');\r\n      }\r\n      var perspectivePath = 'json!csui/utils/contexts/perspective/impl/perspectives/',\r\n          perspectiveName;\r\n      if (this.metadataModel.get('metadata_info').navigator) {\r\n        perspectiveName = 'metadata.navigation.json';\r\n      } else {\r\n        perspectiveName = 'metadata.json';\r\n      }\r\n\r\n      this.context.loadPerspective(perspectivePath + perspectiveName, true);\r\n    }\r\n\r\n  });\r\n\r\n  return MetadataPerspectiveContextPlugin;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/root.perspective.context.plugin',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin'\r\n], function (_, Backbone, ApplicationScopeModelFactory,\r\n    PerspectiveContextPlugin) {\r\n  'use strict';\r\n\r\n  var supportedPerspectives = {\r\n    myassignments: 'myassignmentstable',\r\n    recentlyaccessed: 'recentlyaccessedtable',\r\n    favorites: 'favorites2.table',\r\n    searchresults: 'searchresults.table'\r\n  };\r\n\r\n  var RootPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function RootPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory)\r\n          .on('change:id', this.onApplicationScopeChanged, this);\r\n    },\r\n\r\n    onApplicationScopeChanged: function () {\r\n      // Skip scopes handled by other plugins\r\n      var scope = this.applicationScope.id;\r\n\r\n      // Two perspective driving models used above can generate two change\r\n      // events quickly after each other; process only the first one\r\n      if (!supportedPerspectives[scope] || this.loadingPerspective){\r\n        return;\r\n      }\r\n\r\n      this.context.loadPerspective('json!csui/utils/contexts/perspective/impl/perspectives/' +\r\n        supportedPerspectives[scope] + '.json');\r\n    }\r\n\r\n  });\r\n\r\n  return RootPerspectiveContextPlugin;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/version',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/version', 'csui/utils/commands/versions'\r\n], function (module, _, Backbone, ModelFactory, ConnectorFactory, VersionModel, VersionCommands) {\r\n  'use strict';\r\n\r\n  var VersionModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'version',\r\n\r\n    constructor: function VersionModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.call(this, context, options);\r\n\r\n      var version = this.options.version || {};\r\n      if (!(version instanceof VersionModel)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        version = new VersionModel(undefined, _.extend({\r\n           connector: connector,\r\n           commands: VersionCommands.getAllSignatures()\r\n          }, version.options, config.options));\r\n      }\r\n      this.property = version;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return VersionModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/version.perspective.context.plugin',[\r\n  'csui/lib/jquery',\r\n  'csui/utils/contexts/factories/version',\r\n  'csui/utils/contexts/factories/next.version',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/ancestors',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin'\r\n], function ($, VersionModelFactory, NextVersionModelFactory, ApplicationScopeModelFactory,\r\n    AncestorCollectionFactory, PerspectiveContextPlugin) {\r\n  'use strict';\r\n\r\n  var VersionPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n    constructor: function VersionPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.call(this, options);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory);\r\n\r\n      this.nextVersionFactory = this.context.getFactory(NextVersionModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n      });\r\n      this.nextVersion = this.nextVersionFactory.property;\r\n\r\n      this.nextVersion.on('change:id change:version_number', this.onVersionChanged, this);\r\n\r\n      this.listenTo(this.context, 'retain:perspective', this.onRetainPerspective);\r\n\r\n      // Move the contextual version out of permanent factories; it cannot be\r\n      // retained, because when the perspective switches, other models could\r\n      // be listening on it and would waist a fetch, because their views are\r\n      // going to be destroyed with the old perspective. Create the version right\r\n      // away, though, to ensure, that the expected factory options will be set.\r\n      createVersionModel.call(this);\r\n    },\r\n\r\n    onClear: function () {\r\n      this._clearModels(true);\r\n      var self = this;\r\n      // the contextual node is cleared in the node perspective context plugin.\r\n      // always set the 'id' to the contextual node once the node perspective plugin clears the node.\r\n      $.Deferred().resolve().then(function () {\r\n        self._setAncestortAttrs();\r\n      });\r\n    },\r\n\r\n    onRefresh: function () {\r\n      this._clearModels(false);\r\n    },\r\n\r\n    onRetainPerspective: function () {\r\n      this._setAncestortAttrs();\r\n    },\r\n\r\n    isFetchable: function (factory) {\r\n      // The contextual version is fetched by fetchPerspective already.\r\n      return factory.property !== this.version;\r\n    },\r\n\r\n    _setAncestortAttrs: function () {\r\n      if (this.applicationScope.id === 'version') {\r\n        var ancestors = this.context.getCollection(AncestorCollectionFactory);\r\n        ancestors.node.set('id', this.nextVersion.get('id'), { silent: true });\r\n      }\r\n    },\r\n\r\n    _clearModels: function (recreateVersion) {\r\n      // Reset the next-version model on navigating to other than verion perspective.\r\n      // Allow navigation to the previously visited version from that perspective.\r\n      if (this.applicationScope.id !== 'version') {\r\n        clearCurrentVersion.call(this);\r\n        return this.nextVersion.clear({silent: true});\r\n      }\r\n\r\n      clearCurrentVersion.call(this);\r\n      // Do not trigger change events, when the version was recreated. Nobody had a chance\r\n      // to subscribe to change events on the version created right above.\r\n\r\n      // Initialize the contextual version. It needs to be complete, so that widget\r\n      // can use it to ask for their models. It should not trigger events, if the\r\n      // container model is used together with children. csui renders very slowly\r\n      // and triggering the change events together with children will make the\r\n      // rendering appear less busy.\r\n      this.version.set(this.nextVersion.attributes);\r\n\r\n      function clearCurrentVersion() {\r\n        // Create the new version if it has not existed yet (the version perspective\r\n        // is navigated to for the first time), or if thi navigation is not\r\n        // a drill down and a new model has to be added to prevent changes\r\n        // on the current perspective, which is going to be destroyed.\r\n        if (recreateVersion) {\r\n          createVersionModel.call(this);\r\n        } else {\r\n          this.version.clear({silent: true});\r\n        }\r\n      }\r\n    },\r\n\r\n    onVersionChanged: function () {\r\n      if (!this.context.loadingPerspective) {\r\n\r\n        this.context.triggerMethod('request:perspective', this);\r\n        this.applicationScope.set('id', 'version');\r\n\r\n        var nodeId = this.nextVersion.get('id');\r\n        var versionNumber = this.nextVersion.get('version_number');\r\n\r\n        this.nextVersion.clear({ silent: true });\r\n        this.nextVersion.actions.reset([], { silent: true });\r\n        this.nextVersion.set({ id: nodeId, version_number: versionNumber }, { silent: true });\r\n\r\n        // Use the factory to allow pre-fetching data from the page.\r\n        var self = this;\r\n        var promise = this.fetching = this.nextVersionFactory.fetch({\r\n          success: function () {\r\n            self.onVersionFetchSuccess();\r\n          },\r\n          error: function (model, jqxhr) {\r\n            self.onVersionFetchFailure(model, jqxhr);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    onVersionFetchSuccess: function () {\r\n      this.context.loadPerspective('json!csui/utils/contexts/perspective/impl/perspectives/version.overview.json');\r\n    },\r\n\r\n    onVersionFetchFailure: function (sourceModel, error) {\r\n      this.context.rejectPerspective(sourceModel, error);\r\n    },\r\n  });\r\n\r\n  function createVersionModel() {\r\n    this.version = this.context.getModel(VersionModelFactory);\r\n    // Since this version will never be fetched, and will only filled by NextVersion on version change,\r\n    // Mark this as fetched to avoid (re)fetching it on `ensureFetch`\r\n    this.version.markFetched();\r\n  }\r\n\r\n  return VersionPerspectiveContextPlugin;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/plugins/node/impl/csui.node.extra.data',[], function () {\r\n  'use strict';\r\n\r\n  return {\r\n    getModelFields: function (options) {\r\n      return {\r\n        properties: []\r\n      };\r\n    },\r\n\r\n    getModelExpand: function (options) {\r\n      return {\r\n        properties: ['reserved_user_id']\r\n      };\r\n    }\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/plugins/node/impl/csui.main.node.extra.data',[], function () {\r\n  'use strict';\r\n\r\n  return {\r\n    getModelFields: function (options) {\r\n      return {\r\n        columns: []\r\n      };\r\n    },\r\n\r\n    getModelExpand: function (options) {\r\n      return {};\r\n    }\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/global.error',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n  'use strict';\r\n\r\n  var GlobalError = Backbone.Model.extend({\r\n    defaults: {\r\n      message: null,\r\n      details: null\r\n    }\r\n  });\r\n\r\n  var GlobalErrorFactory = ModelFactory.extend({\r\n    propertyPrefix: 'globalError',\r\n\r\n    constructor: function GlobalErrorModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var globalError = this.options.globalError || {};\r\n      if (!(globalError instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        globalError = new GlobalError(globalError.attributes, _.extend({},\r\n            globalError.options, config.options));\r\n        // The default global error model should be permanent to\r\n        // survive a perspective switch to the error perspective.\r\n        this.options.permanent = true;\r\n      }\r\n      this.property = globalError;\r\n    }\r\n  });\r\n\r\n  return GlobalErrorFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/perspective.guide',['csui/lib/underscore'], function (_) {\r\n\r\n  function PerspectiveGuide() {\r\n  }\r\n\r\n  PerspectiveGuide.prototype = {\r\n    isNew: function (oldPerspective, newPerspective) {\r\n      //In case of widget maximize mode we are setting showWidgetInMaxMode attribute, we need to\r\n      // omit this atrribute for perspective comparison\r\n      var attributeA = sortKeys( _.omit(newPerspective, ['showWidgetInMaxMode', 'id', 'canEditPerspective']) );\r\n      var attributeB = sortKeys( _.omit(oldPerspective, ['showWidgetInMaxMode', 'id', 'canEditPerspective']) );      \r\n      return !_.isEqual(attributeA,attributeB);       \r\n    }   \r\n  };\r\n\r\n  function sortKeys(a){\r\n    var keysA = Object.keys(a).sort();        \r\n    return keysA.reduce(function(result, item){\r\n      result[item] = a[item];\r\n      return result;\r\n    }, {});\r\n  }\r\n\r\n  return PerspectiveGuide;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/perspective.context',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/base', 'csui/utils/log',\r\n  'csui/utils/contexts/context', 'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/global.error',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/impl/csui.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/perspective.guide',\r\n  // Load external plugins to drivw perspective switches\r\n  'csui-ext!csui/utils/contexts/perspective/perspective.context'\r\n], function (require, module, _, $, Backbone, base, log, Context,\r\n    UserModelFactory, GlobalErrorModelFactory, ApplicationScopeModelFactory,\r\n    CsuiContextPlugin, LandingPerspectiveContextPlugin, PerspectiveGuide, contextPlugins) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var PerspectiveContext = Context.extend({\r\n    constructor: function PerspectiveContext(options) {\r\n      Context.prototype.constructor.apply(this, arguments);\r\n\r\n      _.defaults(this.options, {online: true});\r\n\r\n      this.perspective = new Backbone.Model();\r\n      this.perspectiveGuide = new PerspectiveGuide();\r\n\r\n      // Automatically initialized context models\r\n      this._applicationScope = this.getModel(ApplicationScopeModelFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n\r\n      if (this.options.online) {\r\n        this._user = this.getModel(UserModelFactory, {\r\n          options: {\r\n            includeResources: ['perspective']\r\n          },\r\n          permanent: true\r\n        });\r\n      }\r\n\r\n      // 1. Keep the same order as for perspective routers.\r\n      // 2. Process the csui plugin at the beginning, because it sets the property\r\n      //    viewStateModel on the context and other plugins may depend on it.\r\n      //    It is a bad practice, because foreign objects are not supposed to\r\n      //    be just hardcoded to context. That is why just a local workaround here\r\n      //    and not in other contexts, or on the extension registration level.\r\n      // 3. Hardcode csui and landing perspective plugins, because they were not\r\n      //    registered in the standard way initially and perspective context\r\n      //    constructions with a local list of plugins might depend on it.\r\n      var corePlugins = [CsuiContextPlugin, LandingPerspectiveContextPlugin];\r\n      var allPlugins = _\r\n          .chain(options && options.plugins || contextPlugins)\r\n          .flatten(true)\r\n          .filter(function (Plugin) {\r\n            return Plugin !== CsuiContextPlugin && Plugin !== LandingPerspectiveContextPlugin;\r\n          })\r\n          .concat(corePlugins)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(allPlugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n      _.invoke(this._plugins, 'onCreate');\r\n    },\r\n\r\n    // TODO: Deprecate this function, force empty URL to route\r\n    fetchPerspective: function () {\r\n      var landingPerspectivePlugin = _.find(this._plugins, function (plugin) {\r\n        return plugin instanceof LandingPerspectiveContextPlugin;\r\n      });\r\n      landingPerspectivePlugin.onApplicationScopeChanged();\r\n      return this;\r\n    },\r\n\r\n    _destroyNonPermanentFactories: function () {\r\n      Context.prototype._destroyNonPermanentFactories.apply(this, arguments);\r\n      _.invoke(this._plugins, 'onClear');\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return Context.prototype._isFetchable.apply(this, arguments) &&\r\n             // The user model should be fetched only at the beginning\r\n             (factory.property !== this._user || !this._user.get('id')) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    loadPerspective: function (perspectiveModule, forceChange) {\r\n      var deferred = $.Deferred(),\r\n          self     = this;\r\n      log.debug('Using perspective from \"{0}\".', perspectiveModule) &&\r\n      console.log(log.last);\r\n      this.triggerMethod('request:perspective', this.context);\r\n      this.loadingPerspective = deferred.promise();\r\n      require([perspectiveModule], function (perspective) {\r\n        var wrapperModel = new Backbone.Model({perspective: perspective});\r\n        self.loadingPerspective = false;\r\n        self.applyPerspective(wrapperModel, forceChange);\r\n      }, function (error) {\r\n        self.loadingPerspective = false;\r\n        self.rejectPerspective(error);\r\n      });\r\n    },\r\n\r\n    overridePerspective: function (sourceModel, perspectiveModule) {\r\n      var self = this;\r\n      log.debug('Overriding the perspective in {0} with \"{1}\".',\r\n          log.getObjectName(sourceModel), perspectiveModule) &&\r\n      console.log(log.last);\r\n      return require([perspectiveModule], function (perspective) {\r\n        sourceModel.set('perspective', perspective);\r\n        self.applyPerspective(sourceModel);\r\n      }, _.bind(this.rejectPerspective, this));\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param {Backbone.Model} sourceModel Model changing the perspective.\r\n     * @param {Boolean} forceChange Default to FALSE. Force the persepctive to change, even though current and new perspectives are same\r\n     * @param {JSON} perspective Optional. Perspective to use to render. If not provided, sourceModel.perspective will be used.\r\n     */\r\n    applyPerspective: function (sourceModel, forceChange, perspective) {\r\n      var self = this;\r\n      this.triggerMethod('sync:perspective', this, sourceModel);\r\n      this._interceptApplyPerspective(sourceModel, forceChange)\r\n          .done(function (result) {\r\n            if (result && result.forceChange !== undefined) {\r\n              forceChange = result.forceChange;\r\n            }\r\n            self._continueApplyingPerspective(sourceModel, forceChange, perspective);\r\n          })\r\n          .fail(function (error) {\r\n            if (error) {\r\n              self.rejectPerspective(error);\r\n            }\r\n          });\r\n    },\r\n\r\n    _continueApplyingPerspective: function (sourceModel, forceChange, perspective) {\r\n      var newPerspective = perspective || sourceModel.get('perspective') || {};\r\n      if (forceChange || this.perspectiveGuide.isNew(this.perspective.attributes, newPerspective)) {\r\n        var viewStateModel = this.viewStateModel;\r\n        viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.ALLOW_WIDGET_URL_PARAMS, true);\r\n        this.triggerMethod('before:change:perspective', this, sourceModel);\r\n        log.info('Perspective has changed') && console.log(log.last);\r\n        // Remove non-permanent factories, cancel a fetch running in the background.\r\n        this.perspective.clear();\r\n        this.perspective.set(newPerspective);\r\n        this.triggerMethod('change:perspective', this.perspective, sourceModel);\r\n        // The context will be fetched by the owner, after it resolves the widgets\r\n        // and renders them to get the context filled by models.\r\n      } else {\r\n        // The context will be reused to fetch new data. Even if the old data were\r\n        // still being fetched, it would be a background operation without display,\r\n        // which does not have to block the new data to keep the pag consistent.\r\n        this.suppressFetch();\r\n        // TODO: DO not set properties like ID, canEdit, which do not belong\r\n        // to the perspective configuration, to the perspective model.\r\n        // Perspective is same. Keep the context's perspective updated with \r\n        // non-perspective UI properties like ID, canEdit.\r\n        this.perspective.set(newPerspective, {silent: true});\r\n        log.info('Perspective has not changed') && console.log(log.last);\r\n        this._destroyTemporaryFactories();\r\n        _.invoke(this._plugins, 'onRefresh');\r\n        // The current perspective stays, just the widgets may need refresh.\r\n        this.triggerMethod('retain:perspective', this, sourceModel);\r\n        this.fetch();\r\n      }\r\n    },\r\n\r\n    rejectPerspective: function (sourceModel, error) {\r\n      var self = this;\r\n\r\n      if (!error) {\r\n        error = sourceModel;\r\n      }\r\n      if (!(error instanceof Error)) {\r\n        error = new base.Error(error);\r\n      }\r\n      this.triggerMethod('error:perspective', this, error);\r\n\r\n      function informFailure() {\r\n        self._informFailure(error)\r\n            .then(function () {\r\n              self.trigger('reject:perspective');\r\n            });\r\n      }\r\n\r\n      if (sourceModel && sourceModel instanceof Backbone.Model) {\r\n        //Set nextNode id to '-1' so a user can re-attempt to open it.\r\n        sourceModel.set('id', -1, {silent: true});\r\n\r\n        // trigger event to update breadcrumbs\r\n        self.trigger('current:folder:changed', sourceModel);\r\n\r\n        require([\r\n          'json!csui/utils/contexts/perspective/impl/perspectives/error.global.json'\r\n        ], function (perspective) {\r\n          log.debug('Showing error perspective for {0}.',\r\n              log.getObjectName(sourceModel)) &&\r\n          console.log(log.last);\r\n\r\n          sourceModel.set('perspective', perspective, {silent: true});\r\n          var globalError = self.getModel(GlobalErrorModelFactory);\r\n          globalError.set({\r\n            message: error.message,\r\n            details: error.errorDetails\r\n          });\r\n\r\n          self.applyPerspective(sourceModel);\r\n        }, function () {\r\n          informFailure();\r\n        });\r\n      } else {\r\n        informFailure();\r\n      }\r\n    },\r\n\r\n    _interceptApplyPerspective: function (sourceModel, forceChange) {\r\n      // The first plugin, which intercepts the perspective application\r\n      // will abort the currently running one.\r\n      return this._plugins.reduce(function (promise, plugin) {\r\n        return promise.then(function (result) {\r\n          // Use the value passed from the previous aggregateResult.\r\n          var forceChange = result.forceChange;\r\n\r\n          // Handle plugins that do not inherit from PerspectiveContextPlugin.\r\n          if (!_.isFunction(plugin.onApply)) {\r\n            return aggregateResult();\r\n          }\r\n\r\n          return aggregateResult(plugin.onApply(sourceModel, forceChange));\r\n\r\n          function aggregateResult (result) {\r\n            if (result === false) {\r\n              return $.Deferred().reject();\r\n            }\r\n            if (result === true || !result) {\r\n              result = {};\r\n            } else if (result.then) {\r\n              return result.then(aggregateResult);\r\n            }\r\n            if (result.forceChange === undefined) {\r\n              result.forceChange = forceChange;\r\n            }\r\n            return result;\r\n          }\r\n        });\r\n      }, $.Deferred().resolve({ forceChange: forceChange }));\r\n    },\r\n\r\n    _informFailure: function (error) {\r\n      var errorHandled = false,\r\n          deferred     = $.Deferred();\r\n\r\n      //If offline is supported, then let the plugin handle the network error\r\n      if (error.statusCode === 0) {\r\n        errorHandled = _.find(this._plugins, function (plugin) {\r\n          if (plugin.offlineErrorHandler) {\r\n            return plugin.offlineErrorHandler(error);\r\n          }\r\n        });\r\n      }\r\n\r\n      if (!errorHandled) {\r\n        require(['csui/dialogs/modal.alert/modal.alert'], function (alertDialog) {\r\n          alertDialog.showError(error.toString())\r\n              .always(deferred.resolve);\r\n        });\r\n      }\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  return PerspectiveContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/appcontainer',[\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/models/mixins/appcontainer/appcontainer.mixin',\r\n  'csui/utils/contexts/factories/ancestors',\r\n  'csui/utils/url', 'csui/lib/jquery', 'csui/lib/underscore'\r\n], function (Factory, AppContainerMixin, NodeAncestorsFactory, Url, $, _) {\r\n  'use strict';\r\n\r\n  var AppContainerFactory = Factory.extend({\r\n    propertyPrefix: 'appcontainer',\r\n\r\n    constructor: function AppContainerFactory(context, options) {\r\n      Factory.prototype.constructor.call(this, context, options);\r\n\r\n      var models = this.options.models;\r\n      this.node = models.container;\r\n      this.addableTypes = models.addableTypes;\r\n      this.children = models.children;\r\n      this.connector = this.node.connector;\r\n\r\n      var ancestorFactory = context.getFactory(NodeAncestorsFactory);\r\n      this.ancestors = ancestorFactory.property;\r\n      // TODO: Introduce an interface to control factory options like\r\n      // \"detached\" after construction. The detached flag is not used\r\n      // by the factory itself; it is checked by the context.\r\n      this.listenTo(context, 'request', function () {\r\n        ancestorFactory.options.detached = true;\r\n      });\r\n\r\n      this.property = {};\r\n\r\n      this.makeAppContainer(options);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n\r\n      var queryparams = this.children.getResourceFieldsUrlQuery();\r\n      var query = Url.combineQueryString(this.children.getBrowsableUrlQuery(),\r\n        { fields: _.without(queryparams.fields, 'properties')});\r\n      var baseUrl = new Url(this.connector.connection.url).getApiBase(2);\r\n      var appUrl = Url.combine(baseUrl, 'app/container', this.node.get('id'));\r\n      var url = Url.appendQuery(appUrl, query);\r\n      var prefetchedModels = [this.children, this.ancestors, this.addableTypes];\r\n      var self = this;\r\n\r\n      // TODO: Extract the AJAX call from here to a AppContainerModel with a custom\r\n      // sync method. This error-prone event triggering could be removed then.\r\n      relayEvent(prefetchedModels, 'request', {}, options);\r\n      return this.connector\r\n        .makeAjaxCall({\r\n          url: url\r\n        })\r\n        .then(function (response, textStatus, request) {\r\n          var results = response.results;\r\n          // Do not trigger the request/sync event pairs once more, because\r\n          // they are triggered outside the batch callback. However, the reset\r\n          // event has to be triggered explicitly about the change of contents.\r\n          var prefetchOptions = {silent: true};\r\n\r\n          // Populate the children at first and then the other models.\r\n          // Usually it would be irrelevant, but the nodestable widget\r\n          // is so slow, that the children appeared to render much later,\r\n          // than the rest of the page. Reordering the change events like\r\n          // this is a fragile and dirty hack. It does not help on more\r\n          // complicated perspectives anyway.\r\n\r\n          var nodes = results.contents.map(function (props) {\r\n            return self.massageResponse(props);\r\n          });\r\n          var childrenPromise = self.children.prefetch({\r\n            collection: response.collection,\r\n            links: response.links,\r\n            results: nodes\r\n          }, prefetchOptions);\r\n\r\n          var ancestorsPromise = self.ancestors.prefetch({\r\n            ancestors: results.ancestors\r\n          }, prefetchOptions);\r\n\r\n          var addableTypesPromise;\r\n          var addMenu = results.add_menu;\r\n          if (addMenu) {\r\n            addMenu = results.add_menu.map(adaptAddableType);\r\n            addableTypesPromise = self.addableTypes.prefetch(addMenu, {\r\n              parse: false,\r\n              silent: true\r\n            });\r\n          } else {\r\n            var addableTypes = results.addable_node_types;\r\n            if (addableTypes) {\r\n              addableTypesPromise = self.addableTypes.prefetch(addableTypes, prefetchOptions);\r\n            }\r\n          }\r\n\r\n          return $\r\n              .when(ancestorsPromise, addableTypesPromise, childrenPromise)\r\n              .then (function () {\r\n                relayEvent(prefetchedModels, 'reset', response, options);\r\n                relayEvent(prefetchedModels, 'sync', response, options);\r\n                return $.Deferred().resolve(response, textStatus, request);\r\n              });\r\n        }, function (request, textStatus, errorThrown) {\r\n          relayEvent(prefetchedModels, 'error', request, options);\r\n          return $.Deferred().reject(request, textStatus, errorThrown);\r\n        });\r\n    }\r\n  });\r\n\r\n  function adaptAddableType (ancestor) {\r\n    ancestor.type_name = ancestor.name;\r\n    delete ancestor.name;\r\n    return ancestor;\r\n  }\r\n\r\n  function relayEvent(models, event, object, options) {\r\n    models.forEach(function (model) {\r\n      model.trigger(event, model, object, options);\r\n    });\r\n  }\r\n\r\n  AppContainerMixin.mixin(AppContainerFactory.prototype);\r\n\r\n  return AppContainerFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/children',['module', 'nuc/lib/underscore', 'nuc/lib/backbone',\r\n  'csui/utils/contexts/mixins/clone.and.fetch.mixin',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'nuc/models/nodechildren', 'csui/utils/commands'\r\n], function (module, _, Backbone,\r\n    CloneAndFetchMixin,\r\n    CollectionFactory, NodeModelFactory,\r\n    NodeChildrenCollection, allCommands) {\r\n  'use strict';\r\n\r\n  var ChildrenCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'children',\r\n\r\n    constructor: function ChildrenCollectionFactory(context, options) {\r\n      options || (options = {});\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var children = this.options.children || {},\r\n          commands = children.options && children.options.commands ||\r\n                     allCommands;\r\n      if (!(children instanceof Backbone.Collection)) {\r\n        var node = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n        children = new NodeChildrenCollection(children.models,\r\n            _.defaults({\r\n                  // Prefer refreshing the entire table to rendering one row after another.\r\n                  autoreset: true,\r\n                  // Minimize the response information; the server adds information with\r\n                  // every update and UI would get slower\r\n                  fields: {\r\n                    properties: []\r\n                  },\r\n                  // Shortcut information needs to be resolved to support UI and actions.\r\n                  expand: {\r\n                    properties: ['original_id']\r\n                  },\r\n                  // Ask the server to check for permitted actions V2\r\n                  commands: commands.getAllSignatures()\r\n                },\r\n                config.options,\r\n                children.options,\r\n                // node is intentionally listed at the end to give previous options preference\r\n                {node: node}\r\n            ));\r\n      }\r\n      this.property = children;\r\n\r\n      this.makeCloneAndFetch(options);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  CloneAndFetchMixin.mixin(ChildrenCollectionFactory.prototype);\r\n\r\n  return ChildrenCollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/children2',['module', 'nuc/lib/underscore', 'nuc/lib/backbone',\r\n  'csui/utils/contexts/mixins/clone.and.fetch.mixin',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'nuc/models/node.children2/node.children2', 'csui/utils/commands'\r\n], function (module, _, Backbone, CloneAndFetchMixin,\r\n    CollectionFactory, NodeModelFactory,\r\n    NodeChildren2Collection, allCommands) {\r\n  'use strict';\r\n\r\n  var Children2CollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'children2',\r\n\r\n    constructor: function Children2CollectionFactory(context, options) {\r\n      options || (options = {});\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var children = this.options.children2 || {},\r\n          commands = children.options && children.options.commands ||\r\n                     allCommands;\r\n      if (!(children instanceof Backbone.Collection)) {\r\n        var node = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n        children = new NodeChildren2Collection(children.models,\r\n            _.defaults({\r\n                  // Prefer refreshing the entire table to rendering one row after another.\r\n                  autoreset: true,\r\n                  // Minimize the response information; the server adds information with\r\n                  // every update and UI would get slower\r\n                  fields: {\r\n                    properties: []\r\n                  },\r\n                  // Shortcut information needs to be resolved to support UI and actions.\r\n                  expand: {\r\n                    properties: ['original_id']\r\n                  },\r\n                  // Make sure, that the metadata token is returned for nodes\r\n                  // requesated via this factory, because they are supposed to\r\n                  // be shared and may be the subject of changes.\r\n                  stateEnabled: true,\r\n                  // Ask the server to check for permitted actions V2\r\n                  commands: Array.isArray(commands) ? commands : commands.getAllSignatures()\r\n                },\r\n                config.options,\r\n                children.options,\r\n                {useSpecialPaging: options.useSpecialPaging},\r\n                // node is intentionally listed at the end to give previous options preference\r\n                {node: node}\r\n            ));\r\n      }\r\n      this.property = children;\r\n\r\n      this.makeCloneAndFetch(options);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  CloneAndFetchMixin.mixin(Children2CollectionFactory.prototype);\r\n\r\n  return Children2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/columns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/children'\r\n], function (module, _, Backbone, CollectionFactory, NodeChildrenFactory) {\r\n\r\n  var ColumnCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'columns',\r\n\r\n    constructor: function ColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getModel(NodeChildrenFactory, options),\r\n            config = module.config();\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return ColumnCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/columns2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/node', 'csui/models/node.columns2',\r\n  'csui/utils/log'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory,\r\n    NodeColumn2Collection, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var Column2CollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'columns2',\r\n\r\n    constructor: function Column2CollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns2 || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var node = columns.options && columns.options.node ||\r\n                   context.getModel(NodeModelFactory, options);\r\n        this.property = new NodeColumn2Collection();\r\n        this.node = node;\r\n        node.columns.on('reset', this._resetColumns, this);\r\n        this._resetColumns();\r\n      } else {\r\n        this.property = columns;\r\n      }\r\n    },\r\n\r\n    _resetColumns: function () {\r\n      var node          = this.node,\r\n          definitionMap = {},\r\n          definitions   = completeDefinitions(node.definitions, definitionMap);\r\n      node.columns.each(markDisplayableColumn.bind(null, definitionMap));\r\n      if (areDifferent(this.property, definitions)) {\r\n        this.property.reset(definitions);\r\n      } else {\r\n        this.property.trigger('remain', this.property);\r\n      }\r\n    }\r\n  });\r\n\r\n  function completeDefinitions(definitions, definitionMap) {\r\n    return definitions.map(function (definition) {\r\n      definition = definition.toJSON();\r\n      var key = definition.key;\r\n      definition.column_key = key;\r\n      switch (key) {\r\n      case 'name':\r\n        definition.default_action = true;\r\n        definition.contextual_menu = false;\r\n        definition.editable = true;\r\n        definition.filter_key = key;\r\n        break;\r\n      case 'type':\r\n        definition.default_action = true;\r\n        break;\r\n      case 'modify_date':\r\n        definition.initialSortingDescending = true;\r\n        break;\r\n      }\r\n      definitionMap[key] = definition;\r\n      if (definition.sort_key) {\r\n        definition.sort = true;\r\n        //delete definition.sort_key;\r\n      }\r\n      return definition;\r\n    });\r\n  }\r\n\r\n  function markDisplayableColumn(definitionMap, column, index) {\r\n    var columnKey      = column.get('key'),\r\n        formattedIndex = columnKey.lastIndexOf('_formatted'),\r\n        order          = 500 + index,\r\n        definition;\r\n    // Update the real value-carrying column, which does not end with\r\n    // \"_formatted\", if only the \"_formatted\" one is present and not\r\n    // the real one. \"_formatted\"  columns should not be used, because\r\n    // they do not provide the real value for sorting, filtering, saving\r\n    // or other scenarios, where it is needed. Also the right formatting\r\n    // is specified in Smart UI. \"_formatted\" columns are for AJAX calls\r\n    // from Classic UI, because they for at according to its design.\r\n    if (formattedIndex >= 0) {\r\n      var realColumnKey = columnKey.substr(0, columnKey.length - 10);\r\n      definition = definitionMap[realColumnKey];\r\n      if (definition) {\r\n        definition.definitions_order = order;\r\n        return;\r\n      }\r\n    }\r\n    definition = definitionMap[columnKey];\r\n    if (definition) {\r\n      definition.definitions_order = order;\r\n    } else {\r\n      log.warn('No definition found for the column \"{0}\".', columnKey);\r\n    }\r\n  }\r\n\r\n  var columnProperties = [\r\n    'description', 'key', 'multi_value', 'name', 'type', 'type_name'];\r\n\r\n  function areDifferent(collection, objects) {\r\n    return collection.length !== objects.length ||\r\n           collection.some(function (model, index) {\r\n             var expected = _.pick(objects[index], columnProperties),\r\n                 actual = _.pick(model.attributes, columnProperties);\r\n             return !_.isEqual(expected, actual);\r\n           });\r\n  }\r\n\r\n  return Column2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/usernodepermission',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/authenticated.user.node.permission'\r\n], function (module, _, $, Backbone, ModelFactory, UserModelFactory, ConnectorFactory,\r\n    AuthenticatedUserNodePermissionModel) {\r\n  'use strict';\r\n\r\n  var UserNodePermissionModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'userNodePermission',\r\n\r\n    constructor: function UserNodePermissionModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var userNodePermission = this.options.userNodePermission || {},\r\n          config = module.config();\r\n      if (!(userNodePermission instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            user      = context.getModel(UserModelFactory);\r\n        userNodePermission = new AuthenticatedUserNodePermissionModel(\r\n            userNodePermission.attributes,\r\n            _.defaults({\r\n                  connector: connector,\r\n                  user: user,\r\n                  node: this.options.node\r\n                }, userNodePermission.options, config.options\r\n            )\r\n        );\r\n      }\r\n      this.property = userNodePermission;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return UserNodePermissionModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/volume',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/node/node.model'\r\n], function (module, _, Backbone, ModelFactory, NodeModelFactory, NodeModel) {\r\n\r\n  var VolumeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'volume',\r\n\r\n    constructor: function VolumeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var volume = this.options.volume || {};\r\n      if (!(volume instanceof Backbone.Model)) {\r\n        var node = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n\r\n        // Make sure that the volume info is returned with the node info\r\n        node.setExpand('properties', 'volume_id');\r\n\r\n        // Create an empty node model to fill with the volume info\r\n        // as soon as it is fetched with the node info\r\n        volume = new NodeModel(\r\n            _.extend({}, node.get('volume_id'), volume.attributes || config.attributes),\r\n            _.extend({\r\n              connector: node.connector\r\n            }, volume.options, config.options));\r\n\r\n        this.listenTo(node, 'change:volume_id', function () {\r\n          volume.set(node.get('volume_id'));\r\n        });\r\n      }\r\n      this.property = volume;\r\n    }\r\n\r\n  });\r\n\r\n  return VolumeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/widget/nls/root/lang',{\r\n  searchResults: \"Search Results\",\r\n\r\n  ra_access_date_last: 'Last Accessed',\r\n  ra_parent_id: 'Location',\r\n  ra_name:'Name',\r\n  ra_modify_date: 'Modified',\r\n  ra_reserved: 'State', // \"reserved\" is just to bind the column to some property\r\n  ra_size: 'Size',\r\n  ra_type: \"Type\",\r\n  ra_favorite: \"Favorite\",\r\n\r\n  ma_type: \"Type\",\r\n  ma_name: \"Name\",\r\n  ma_location_name: \"Location\",\r\n  ma_location_id: \"Location\",\r\n  ma_date_due: \"Due Date\",\r\n  ma_priority: \"Priority\",\r\n  ma_status: \"Status\",\r\n  ma_from_user_name: \"From\",\r\n\r\n  fav_parent_id: 'Location',\r\n  fav_favorite_name: 'Name',\r\n  fav_size: 'Size',\r\n\r\n  owner: \"Owner\",\r\n  created: \"Created\",\r\n  createdBy: \"Created by\",\r\n  modified: \"Modified\",\r\n  size: \"Size\",\r\n  type: \"Type\",\r\n\r\n  owner_user_id: \"User\",\r\n  status: \"Status\",\r\n  originalParent: \"Filed location\",\r\n  pending: \"Pending\",\r\n  filed: \"Filed\",\r\n  failed: \"Failed\",\r\n  failedAria: \"Failed message\",\r\n\r\n});\r\n\n","\n","csui.define('csui/models/widget/favorites.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, CommandableV2Mixin,\r\n    ClientSideBrowsableMixin, BrowsableV2ResponseMixin, NodeChildrenColumnModel,\r\n    NodeChildrenColumnCollection, NodeModel, lang) {\r\n  'use strict';\r\n\r\n  var FavoriteColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function FavoriteColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'fav_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: FavoriteColumnModel,\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'modify_date' ||\r\n            columnKey === 'parent_id' || columnKey == 'size') {\r\n          column.sort = true;\r\n        }\r\n      });\r\n      return columns;\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var fav, fav_version;\r\n      if (response.data && response.data.properties) {\r\n        fav = response.data.properties;\r\n        fav_version = response.data.versions;\r\n      } else {\r\n        fav = response;\r\n        fav_version = response.versions;\r\n      }\r\n      fav.short_name = fav.name; // fav.name.length > 20 ? fav.name.substr(0, 20) + '...' : fav.name;\r\n      if (!fav.size) {\r\n        if (fav.container) {\r\n          fav.size = fav.container_size;\r\n        } else if (fav_version) {\r\n          fav.size = fav_version.file_size;\r\n        }\r\n      }\r\n      if (!fav.mime_type && fav_version && fav_version.mime_type) {\r\n        fav.mime_type = fav_version.mime_type;\r\n      }\r\n      return NodeModel.prototype.parse.call(this, response, options);\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteCollection = Backbone.Collection.extend({\r\n\r\n    model: FavoriteModel,\r\n\r\n    constructor: function FavoriteCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options);\r\n\r\n      this.columns = new FavoriteColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n      var url = this.connector.getConnectionUrl().getApiBase('v2'),\r\n          query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery(),\r\n              this.getBrowsableUrlQuery()\r\n          );\r\n      url = Url.combine(url, '/members/favorites');\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      this.parseBrowsedState(response, options);\r\n      this.columns && this.columns.resetColumnsV2(response, this.options);\r\n      return this.parseBrowsedItems(response, options);\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(FavoriteCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(FavoriteCollection.prototype);\r\n  ConnectableMixin.mixin(FavoriteCollection.prototype);\r\n  FetchableMixin.mixin(FavoriteCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(FavoriteCollection.prototype);\r\n  FieldsV2Mixin.mixin(FavoriteCollection.prototype);\r\n  ExpandableV2Mixin.mixin(FavoriteCollection.prototype);\r\n  CommandableV2Mixin.mixin(FavoriteCollection.prototype);\r\n\r\n  return FavoriteCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorites',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/favorites.model', 'csui/utils/commands',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, FavoritesCollection,\r\n    commands) {\r\n  'use strict';\r\n\r\n  var FavoriteCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites',\r\n\r\n    constructor: function FavoritesCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favorites = this.options.favorites || {};\r\n      if (!(favorites instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        favorites = new FavoritesCollection(favorites.models, _.extend(\r\n            {connector: connector}, favorites.options, config.options,\r\n            FavoritesCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = favorites;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // The latest version properties can be considered common properties\r\n        // too (the MIME type is there, for example)\r\n        fields: {\r\n          properties: [],\r\n          'versions.element(0)': []\r\n        },\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: ['metadata'],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return FavoriteCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favoritescolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/favorites'\r\n], function (module, _, Backbone, CollectionFactory, FavoriteCollectionFactory) {\r\n\r\n  var FavoritesColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites_columns',\r\n\r\n    constructor: function FavoritesColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(FavoriteCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return FavoritesColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorites2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/models/favorites2', 'csui/utils/defaultactionitems',\r\n  'csui/utils/commands', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    Favorites2Collection, defaultActionItems, commands) {\r\n  'use strict';\r\n\r\n  var Favorite2CollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites2',\r\n\r\n    constructor: function Favorite2CollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favorites = this.options.favorites || {};\r\n\r\n      if (!(favorites instanceof Backbone.Collection)) {\r\n\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        var config = module.config();\r\n\r\n        favorites = new Favorites2Collection(favorites.models,\r\n            _.extend({\r\n                  connector: connector,\r\n                  autoreset: true\r\n                },\r\n                favorites.options,\r\n                config.options,\r\n                Favorite2CollectionFactory.getDefaultResourceScope()\r\n            )\r\n        );\r\n      }\r\n      this.property = favorites;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: [],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': ['mime_type', 'owner_id']\r\n        },\r\n        expand: {\r\n          properties: ['original_id', 'parent_id', 'reserved_user_id', 'custom_view_search']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // no need for metadata to include, because column definitions are created fully client side\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    },\r\n\r\n    getLimitedResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: ['container', 'id', 'name', 'original_id', 'type', 'type_name', 'parent_id',\r\n            'container', 'custom_view_search', 'version_number'],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': ['mime_type']\r\n        },\r\n        expand: {\r\n          properties: ['original_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2 - only default actions\r\n        commands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n    },\r\n\r\n    getDefaultsOnlyResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: [],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': []\r\n        },\r\n        expand: {\r\n          properties: ['original_id', 'parent_id', 'reserved_user_id','locked_user_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // no need for metadata to include, because column definitions are created fully client side\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorite2groups',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/favorites2',\r\n  'csui/models/favorite2groups', 'csui/utils/commands',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    Favorite2CollectionFactory, Favorite2GroupsCollection, commands) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupsCollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'favorites2groups',\r\n\r\n    constructor: function Favorite2GroupsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favoriteGroups = this.options.favoriteGroups || {};\r\n\r\n      if (!(favoriteGroups instanceof Backbone.Collection)) {\r\n\r\n        var config = module.config();\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        var favorites = context.getCollection(Favorite2CollectionFactory, options);\r\n\r\n        favoriteGroups = new Favorite2GroupsCollection(favoriteGroups.models,\r\n            _.extend({\r\n                  favorites: favorites,\r\n                  connector: connector,\r\n                  autoreset: true,\r\n                  commands: commands.getAllSignatures()\r\n                },\r\n                favoriteGroups.options,\r\n                config.options,\r\n                Favorite2GroupsCollectionFactory.getDefaultResourceScope()\r\n            )\r\n        );\r\n      }\r\n      this.property = favoriteGroups;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  }, {\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: []\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n      });\r\n    }\r\n  });\r\n\r\n  return Favorite2GroupsCollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorite2columns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/favorites2'\r\n], function (module, _, Backbone, CollectionFactory, Favorite2CollectionFactory) {\r\n\r\n  var Favorite2ColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites2_columns',\r\n\r\n    constructor: function Favorite2ColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(Favorite2CollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnsCollectionFactory;\r\n});\r\n\n","csui.define('csui/models/widget/myassignments.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, StateRequestorMixin,\r\n    CommandableV2Mixin, ClientSideBrowsableMixin, BrowsableV2ResponseMixin,\r\n    NodeChildrenColumnModel, NodeChildrenColumnCollection, NodeModel, lang) {\r\n  'use strict';\r\n\r\n  var MyAssignmentColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function MyAssignmentColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'ma_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: MyAssignmentColumnModel,\r\n\r\n    constructor: function MyAssignmentColumnCollection(models, options) {\r\n      if (!models) {\r\n        models = [\r\n          {\r\n            key: 'type',\r\n            type: 2,\r\n            sort: true,\r\n            default_action: true,\r\n            name: 'Type'\r\n          },\r\n          {\r\n            key: 'name',\r\n            type: -1,\r\n            sort: true,\r\n            default_action: true,\r\n            contextual_menu: false,\r\n            editable: true,\r\n            filter_key: 'name',\r\n            name: 'Name'\r\n          },\r\n          {\r\n            key: 'location_name',\r\n            type: 2,\r\n            sort: true,\r\n            name: 'Location',\r\n            filter_key: 'location_name'\r\n          },\r\n          {\r\n            key: 'date_due',\r\n            type: -7,\r\n            sort: true,\r\n            name: 'Due Date'\r\n          },\r\n          {\r\n            key: 'priority',\r\n            type: 2,\r\n            sort: true,\r\n            name: 'Priority'\r\n          },\r\n          {\r\n            key: 'status',\r\n            type: 2,\r\n            sort: true,\r\n            initialSortingDescending: true,\r\n            name: 'Status'\r\n          },\r\n          {\r\n            key: 'from_user_name',\r\n            type: -1,\r\n            sort: true,\r\n            name: 'From'\r\n          }\r\n        ];\r\n\r\n        models.forEach(function (column, index) {\r\n          column.definitions_order = index + 100;\r\n          column.column_key = column.key;\r\n        });\r\n      }\r\n      NodeChildrenColumnCollection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'location_id' ||\r\n            columnKey === 'date_due' || columnKey === 'priority' || columnKey === 'status' ||\r\n            columnKey === 'from_user_name') {\r\n          column.sort = true;\r\n          if (columnKey === 'location_id') {\r\n            column.sort_key = 'location_name';\r\n          }\r\n        }\r\n      });\r\n      return columns;\r\n    },\r\n\r\n    // private: convert v2 'metadata' to v1 'definitions' for backward code compatibility and\r\n    //          reuse purpose\r\n    getV2Columns: function (response) {\r\n\r\n      // Note: from a long discussion with the server developer, use the common 'metadata' (or\r\n      // called 'definitions' in v1) in the first element. Elements in the collection can have\r\n      // different extended metadata (definitions).  If a business case arises that\r\n      // extended definitions are needed, will discuss again with them and add that support.\r\n\r\n      var definitions = (response.results && response.results[0] &&\r\n                         response.results[0].metadata &&\r\n                         response.results[0].metadata.assignments) || {};\r\n\r\n      // TODO: the server is currently missing the metadata output for expanded fields.\r\n      // Remove this temporary hard-coded code after the server properly outputs metadata.\r\n      // Watch for LPAD-43411.\r\n      if (!definitions.location_id_expand && definitions.name) {\r\n        definitions.location_id_expand = _.clone(definitions.name);\r\n        definitions.location_id_expand.key = 'location_id_expand';\r\n        definitions.location_id_expand.name = 'Location';\r\n      }\r\n      if (!definitions.from_user_id_expand && definitions.name) {\r\n        definitions.from_user_id_expand = _.clone(definitions.name);\r\n        definitions.from_user_id_expand.key = 'from_user_id_expand';\r\n        definitions.from_user_id_expand.name = 'From';\r\n      }\r\n\r\n      // client-side sub-field column\r\n      if (!definitions.location_name && definitions.name) {\r\n        definitions.location_name = _.clone(definitions.name);\r\n        definitions.location_name.key = 'location_name';\r\n        definitions.location_name.name = 'Location Name';\r\n      }\r\n      if (!definitions.from_user_name && definitions.name) {\r\n        definitions.from_user_name = _.clone(definitions.name);\r\n        definitions.from_user_name.key = 'from_user_name';\r\n        definitions.from_user_name.name = 'From';\r\n      }\r\n\r\n      var columnKeys = _.keys(definitions);\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var assignments = response.data.assignments;\r\n      assignments.short_name = assignments.name;\r\n\r\n      var from_user_id_expand = assignments.from_user_id_expand || {};\r\n      var name = from_user_id_expand.first_name || '';\r\n      name = name + ' ' + (from_user_id_expand.last_name || '');\r\n      if (!name.length || (name.length === 1 && name === ' ')) {\r\n        name = from_user_id_expand.name;\r\n      }\r\n      assignments.from_user_name = name;\r\n\r\n      if (response.data && response.data.assignments) {\r\n        response.data.properties = response.data.assignments;\r\n      }\r\n\r\n      var node = NodeModel.prototype.parse.call(this, response, options);\r\n      return node;\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentCollection = Backbone.Collection.extend({\r\n\r\n    model: MyAssignmentModel,\r\n\r\n    constructor: function MyAssignmentCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options);\r\n\r\n      this.columns = new MyAssignmentColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n      var url   = this.connector.getConnectionUrl().getApiBase('v2'),\r\n          query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getStateEnablingUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery()\r\n          );\r\n      url = Url.combine(url, '/members/assignments');\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      // filter out pstage items\r\n      response.results = _.filter(response.results, function (item) {\r\n        return item.data.assignments.type != 398; //pstage\r\n      });\r\n\r\n      this.parseBrowsedState(response, options);\r\n      // don't parse columns here, because they are hardcoded in the constructor\r\n      return this.parseBrowsedItems(response, options);\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(MyAssignmentCollection.prototype);\r\n  // when due_date is null, put the record at the bottom for ascending sort as PM and CWS request\r\n  var originalCompareValues = MyAssignmentCollection.prototype._compareValues;\r\n  MyAssignmentCollection.prototype._compareValues = function (property, left, right) {\r\n    if (property.indexOf('date') >= 0) {\r\n      if (left === null) {\r\n        return 1;\r\n      }\r\n      if (right === null) {\r\n        return -1;\r\n      }\r\n    }\r\n    return originalCompareValues.apply(this, arguments);\r\n  };\r\n\r\n  BrowsableV2ResponseMixin.mixin(MyAssignmentCollection.prototype);\r\n  ConnectableMixin.mixin(MyAssignmentCollection.prototype);\r\n  FetchableMixin.mixin(MyAssignmentCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  FieldsV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  ExpandableV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  StateRequestorMixin.mixin(MyAssignmentCollection.prototype);\r\n  CommandableV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n\r\n  return MyAssignmentCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/myassignments',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/myassignments.model',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, MyAssignmentCollection) {\r\n  'use strict';\r\n\r\n  var MyAssignmentCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'myassignments',\r\n\r\n    constructor: function MyAssignmentCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var myassignments = this.options.myassignments || {};\r\n      if (!(myassignments instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        myassignments = new MyAssignmentCollection(myassignments.models, _.extend(\r\n            {connector: connector}, myassignments.options, config.options,\r\n            MyAssignmentCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = myassignments;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    },\r\n\r\n    isFetchable: function(){\r\n      if (window.csui && window.csui.mobile) {\r\n        return !this.property.fetched;\r\n      }\r\n      return true;\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // So far, all properties are includes in the assignments fields\r\n        fields: {\r\n          assignments: []\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: ['metadata']\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return MyAssignmentCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/myassignmentscolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/myassignments'\r\n], function (module, _, Backbone, CollectionFactory, MyAssignmentsCollectionFactory) {\r\n\r\n  var MyAssignmentsColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'myassignments_columns',\r\n\r\n    constructor: function MyAssignmentsColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(MyAssignmentsCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return MyAssignmentsColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/recentlyaccessed/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url   = this.connector.getConnectionUrl().getApiBase('v2'),\r\n              query = Url.combineQueryString(\r\n                  this.getAdditionalResourcesUrlQuery(),\r\n                  this.getResourceFieldsUrlQuery(),\r\n                  this.getExpandableResourcesUrlQuery(),\r\n                  this.getStateEnablingUrlQuery(),\r\n                  this.getRequestedCommandsUrlQuery(),\r\n                  this._getSubtypesUrlQuery()\r\n              );\r\n          url = Url.combine(url, '/members/accessed');\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState(response, options);\r\n          // don't parse columns here, because they are hardcoded in the constructor of RecentlyAccessedColumnCollection\r\n          return this.parseBrowsedItems(response, options);\r\n        },\r\n\r\n        _getSubtypesUrlQuery: function () {\r\n          var where_types = \"\";\r\n\r\n          if (this.options.recentlyAccessedSubtypes) {\r\n            for (var i = 0; i < this.options.recentlyAccessedSubtypes.length; i++) {\r\n              where_types = where_types.concat(\"where_type=\",\r\n                  this.options.recentlyAccessedSubtypes[i],\r\n                  \"&\");\r\n            }\r\n          }\r\n          return where_types;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/recentlyaccessed.model',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/models/widget/recentlyaccessed/server.adaptor.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, StateRequestorMixin,\r\n    CommandableV2Mixin, DelayedCommandableV2Mixin, ClientSideBrowsableMixin,\r\n    BrowsableV2ResponseMixin, NodeChildrenColumnModel, NodeChildrenColumnCollection,\r\n    NodeModel, lang, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var RecentlyAccessedColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function RecentlyAccessedColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'ra_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: RecentlyAccessedColumnModel,\r\n\r\n    constructor: function RecentlyAccessedColumnCollection(models, options) {\r\n      if (!models) {\r\n        models = [\r\n          {\r\n            key: 'type',\r\n            type: 2,\r\n            sort: true,\r\n            default_action: true,\r\n            name: 'Type'\r\n          },\r\n          {\r\n            key: 'name',\r\n            type: -1,\r\n            sort: true,\r\n            default_action: true,\r\n            contextual_menu: false,\r\n            editable: true,\r\n            filter_key: 'name',\r\n            name: 'Name'\r\n          },\r\n          {\r\n            key: 'reserved',\r\n            type: 5,\r\n            name: 'Reserved'\r\n          },\r\n          {\r\n            key: 'parent_id',\r\n            type: 15,\r\n            sort: true,\r\n            name: 'Parent ID'\r\n          },\r\n          {\r\n            key: 'access_date_last',\r\n            type: -7,\r\n            sort: true,\r\n            name: 'Last Accessed'\r\n          },\r\n          {\r\n            key: 'size',\r\n            type: 2,\r\n            sort: true,\r\n            name: 'Size'\r\n          },\r\n          {\r\n            key: 'modify_date',\r\n            type: -7,\r\n            sort: true,\r\n            initialSortingDescending: true,\r\n            name: 'Modified'\r\n          },\r\n          {\r\n            key: 'favorite',\r\n            type: 5,\r\n            name: 'Favorite'\r\n          }\r\n        ];\r\n\r\n        models.forEach(function (column, index) {\r\n          column.definitions_order = index + 100;\r\n          column.column_key = column.key;\r\n        });\r\n      }\r\n      NodeChildrenColumnCollection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'access_date_last' ||\r\n            columnKey === 'modify_date' || columnKey === 'parent_id' || columnKey === 'size') {\r\n          column.sort = true;\r\n          if (columnKey === 'parent_id') {\r\n            column.sort_key = 'parent_name';\r\n          }\r\n        }\r\n      });\r\n      return columns;\r\n    },\r\n\r\n    // private\r\n    getV2Columns: function (response) {\r\n      var definitions = (response.results &&\r\n                         response.results[0] &&\r\n                         response.results[0].metadata &&\r\n                         response.results[0].metadata.properties) || {};\r\n\r\n      // TODO: sadly the server is again missing the metadata output for access_date_last field.\r\n      // Remove this temporary hard-coded code after the server properly outputs this metadata.\r\n      if (!definitions.access_date_last && definitions.modify_date) {\r\n        definitions.access_date_last = _.clone(definitions.modify_date);\r\n        definitions.access_date_last.key = 'access_date_last';\r\n        definitions.access_date_last.name = 'Last Accessed';\r\n      }\r\n\r\n      // client-side sub-field column\r\n      if (!definitions.parent_name && definitions.name) {\r\n        definitions.parent_name = _.clone(definitions.name);\r\n        definitions.parent_name.key = 'parent_name';\r\n        definitions.parent_name.name = 'Location Name';  // no i18n needed, server has it in EN\r\n      }\r\n\r\n      return NodeChildrenColumnCollection.prototype.getV2Columns.call(this, response);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var ra, ra_version, ra_propertiesUser, ra_parentIdExpanded;\r\n      if (response.data && response.data.properties) {\r\n        ra = response.data.properties;\r\n        ra_version = response.data.versions;\r\n        ra_propertiesUser = response.data.properties_user;\r\n        ra_parentIdExpanded = response.data.properties.parent_id_expand;\r\n      } else {\r\n        ra = response;\r\n        ra_version = response.versions;\r\n        ra_propertiesUser = response.properties_user;\r\n        ra_parentIdExpanded = response.parent_id_expanded;\r\n      }\r\n\r\n      ra.short_name = ra.name; //ra.name.length > 20 ? ra.name.substr(0, 20) + '...' : ra.name;\r\n\r\n      if (!ra.size) {\r\n        if (ra.container) {\r\n          ra.size = ra.container_size;\r\n        } else if (ra_version) {\r\n          ra.size = ra_version.file_size;\r\n        }\r\n      }\r\n\r\n      if (!ra.mime_type && ra_version && ra_version.mime_type) {\r\n        ra.mime_type = ra_version.mime_type;\r\n      }\r\n\r\n      if (!ra.access_date_last && ra_propertiesUser && ra_propertiesUser.access_date_last) {\r\n        ra.access_date_last = ra_propertiesUser.access_date_last;\r\n      }\r\n\r\n      ra.parent_name = '';\r\n      if (!ra.parent_name && ra_parentIdExpanded && ra_parentIdExpanded.name) {\r\n        ra.parent_name = ra_parentIdExpanded.name;\r\n      }\r\n\r\n      return NodeModel.prototype.parse.call(this, response, options);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedCollection = Backbone.Collection.extend({\r\n\r\n    model: RecentlyAccessedModel,\r\n\r\n    constructor: function RecentlyAccessedCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands', 'recentlyAccessedSubtypes']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.columns = new RecentlyAccessedColumnCollection();\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      options.promotedActionCommands = this.promotedActionCommands;\r\n      options.nonPromotedActionCommands = this.nonPromotedActionCommands;\r\n      return Backbone.Collection.prototype._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.skipCount = this.skipCount;\r\n      clone.topCount = this.topCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      clone.filters = _.deepClone(this.filters);\r\n      clone.orderBy = this.orderBy;\r\n      clone.expand = _.clone(this.expand);\r\n      clone.includeActions = this.includeActions;\r\n      clone.includeCommands = _.clone(this.includeCommands);\r\n      clone.defaultActionCommands = _.clone(this.defaultActionCommands);\r\n      clone.commands = _.clone(this.commands);\r\n      //clone.delayRestCommands = this.delayRestCommands; //cloning of this attribute doesnot\r\n      // required since to enable delayedRestCommands on new cloned collection\r\n\r\n      return clone;\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    },\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ConnectableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  FetchableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  FieldsV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ExpandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  StateRequestorMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  CommandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ServerAdaptorMixin.mixin(RecentlyAccessedCollection.prototype);\r\n\r\n  return RecentlyAccessedCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/recentlyaccessed',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/recentlyaccessed.model', 'csui/utils/commands',\r\n  'csui/utils/defaultactionitems',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    RecentlyAccessedCollection, commands, defaultActionItems) {\r\n  'use strict';\r\n\r\n  var RecentlyAccessedCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'recentlyaccessed',\r\n\r\n    constructor: function RecentlyAccessedCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var recentlyAccessed = this.options.recentlyaccessed || {};\r\n      if (!(recentlyAccessed instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config    = module.config();\r\n        recentlyAccessed = new RecentlyAccessedCollection(recentlyAccessed.models, _.extend(\r\n            {connector: connector, recentlyAccessedSubtypes: config.recentlyAccessedSubtypes},\r\n            recentlyAccessed.options, config.options,\r\n            RecentlyAccessedCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = recentlyAccessed;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n   /**\r\n     *\r\n     * This method provides the default resources to be add to the REST API url.\r\n     * eg., fields, properties, extends, include resources like metadata, commands, etc.,\r\n     * Arguments:\r\n     *  `includeMoreOptions`: type boolean, based on this flag, it includes only required resources.\r\n     * return object\r\n     *\r\n   **/\r\n    getDefaultResourceScope: function (includeMoreOptions) {\r\n      var resourceScope =  _.deepClone({\r\n        // The latest version properties can be considered common properties\r\n        // too (the MIME type is there, for example)\r\n        fields: {\r\n          properties: [],\r\n          'versions.element(0)': []\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: !!includeMoreOptions,\r\n        // Get property definitions to support table columns\r\n        includeResources: !!includeMoreOptions ? ['metadata'] : [],\r\n        // Ask the server to check for permitted actions\r\n        commands: !!includeMoreOptions ? commands.getAllSignatures() : []\r\n      });\r\n\r\n      return resourceScope;\r\n    },\r\n\r\n    getLimitedResourceScope: function () {\r\n      var resourceScope = _.deepClone({\r\n        fields: {\r\n          properties: ['container', 'id', 'name', 'original_id', 'type', 'type_name', 'parent_id',\r\n            'reserved', 'custom_view_search', 'version_number'],\r\n          'versions.element(0)': ['mime_type']\r\n        },\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2 - only default actions\r\n        commands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n      return resourceScope;\r\n    }\r\n\r\n  });\r\n\r\n  return RecentlyAccessedCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/recentlyaccessedcolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/recentlyaccessed'\r\n], function (module, _, Backbone, CollectionFactory, RecentlyAccessedCollectionFactory) {\r\n\r\n  var RecentlyAccessedColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'recentlyaccessed_columns',\r\n\r\n    constructor: function RecentlyAccessedColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(RecentlyAccessedCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return RecentlyAccessedColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/search.results.table.columns',['module', 'csui/lib/underscore', 'csui/lib/backbone', \"nuc/utils/log\",\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node', 'csui/models/node.columns2'\r\n], function (module, _, Backbone, log, CollectionFactory, NodeModelFactory, NodeColumn2Collection) {\r\n\r\n  var SearchResultsColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'SearchResults_columns',\r\n\r\n    constructor: function SearchResultsColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var node = columns.options && columns.options.node ||\r\n          context.getModel(NodeModelFactory, options);\r\n        this.property = new NodeColumn2Collection();\r\n        this.node = node;\r\n        node.columns.on('reset', this._resetColumns, this);\r\n        this._resetColumns();\r\n      } else {\r\n        this.property = columns;\r\n      }\r\n    },\r\n    \r\n    _resetColumns: function () {\r\n      var node = this.node,\r\n        definitionMap = {},\r\n        definitions = completeDefinitions(node.definitions, definitionMap);\r\n      node.columns.each(markDisplayableColumn.bind(null, definitionMap));\r\n      if (areDifferent(this.property, definitions)) {\r\n        this.property.reset(definitions);\r\n      } else {\r\n        this.property.trigger('remain', this.property);\r\n      }\r\n    }\r\n\r\n  });\r\n  function completeDefinitions(definitions, definitionMap) {\r\n    return definitions.map(function (definition) {\r\n      definition = definition.toJSON();\r\n      var key = definition.key;\r\n      definition.column_key = key;\r\n      switch (key) {\r\n        case 'name':\r\n          definition.default_action = true;\r\n          definition.contextual_menu = false;\r\n          definition.editable = true;\r\n          definition.filter_key = key;\r\n          break;\r\n        case 'type':\r\n          definition.default_action = true;\r\n          break;\r\n        case 'modify_date':\r\n          definition.initialSortingDescending = true;\r\n          break;\r\n      }\r\n      definitionMap[key] = definition;\r\n      if (definition.sort_key) {\r\n        definition.sort = true;\r\n        //delete definition.sort_key;\r\n      }\r\n      return definition;\r\n    });\r\n  }\r\n\r\n  function markDisplayableColumn(definitionMap, column, index) {\r\n    var columnKey = column.get('key'),\r\n      formattedIndex = columnKey.lastIndexOf('_formatted'),\r\n      order = 500 + index,\r\n      definition;\r\n    // Update the real value-carrying column, which does not end with\r\n    // \"_formatted\", if only the \"_formatted\" one is present and not\r\n    // the real one. \"_formatted\"  columns should not be used, because\r\n    // they do not provide the real value for sorting, filtering, saving\r\n    // or other scenarios, where it is needed. Also the right formatting\r\n    // is specified in Smart UI. \"_formatted\" columns are for AJAX calls\r\n    // from Classic UI, because they for at according to its design.\r\n    if (formattedIndex >= 0) {\r\n      var realColumnKey = columnKey.substr(0, columnKey.length - 10);\r\n      definition = definitionMap[realColumnKey];\r\n      if (definition) {\r\n        definition.definitions_order = order;\r\n        return;\r\n      }\r\n    }\r\n    definition = definitionMap[columnKey];\r\n    if (definition) {\r\n      definition.definitions_order = order;\r\n    } else {\r\n      log.warn('No definition found for the column \"{0}\".', columnKey);\r\n    }\r\n  }\r\n\r\n  var columnProperties = [\r\n    'description', 'key', 'multi_value', 'name', 'type', 'type_name'];\r\n\r\n  function areDifferent(collection, objects) {\r\n    return collection.length !== objects.length ||\r\n      collection.some(function (model, index) {\r\n        var expected = _.pick(objects[index], columnProperties),\r\n          actual = _.pick(model.attributes, columnProperties);\r\n        return !_.isEqual(expected, actual);\r\n      });\r\n  }\r\n\r\n  return SearchResultsColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/search.results.tile/search.response.mixin',[\r\n    'csui/lib/underscore', 'csui/utils/base', 'csui/utils/accessibility',\r\n    'csui/models/ancestor', 'csui/models/node/node.model'\r\n], function (_, base, Accessibility, AncestorModel, NodeModel) {\r\n  'use strict';\r\n  var accessibleTable = Accessibility.isAccessibleTable();\r\n  var SearchResponseMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeSearchResponse: function (options) {\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * This method update the response data for the following fields....\r\n         * creation date, modification date, file sizes, previousquery etc.,\r\n         * @param resp\r\n         * @param options\r\n         */\r\n        parseSearchResponse: function (resp, options) {\r\n          var sorting = resp.collection.sorting;\r\n          // if (sorting) {\r\n          //   this.previousQuery = this.options.query.attributes.where;\r\n          // }\r\n          this.orderBy = (this.orderBy) ? this.orderBy : sorting && sorting.sort && sorting.sort[0];\r\n          this.previousOrderBy = this.orderBy;\r\n          //this.excludeSelectedAndInvalidFacets(resp);\r\n          var jsonResponse = resp.results;\r\n          if (jsonResponse) {\r\n            for (var response in jsonResponse) {\r\n              if (jsonResponse.hasOwnProperty(response)) {\r\n                if (!!jsonResponse[response].data && !!jsonResponse[response].data.properties) {\r\n                  // if (!!jsonResponse[response].bestbet) {\r\n                  //   jsonResponse[response].data.properties.bestbet = jsonResponse[response].bestbet;\r\n                  // }\r\n                  if (!!jsonResponse[response].nickname) {\r\n                    jsonResponse[response].data.properties.nickname = jsonResponse[response].nickname;\r\n                  }\r\n                  if (!!jsonResponse[response].data.versions &&\r\n                      !!jsonResponse[response].data.versions.file_size) {\r\n                    jsonResponse[response].data.properties.size = jsonResponse[response].data.versions.file_size;\r\n                  }\r\n                  if (!!jsonResponse[response].data.versions &&\r\n                      !!jsonResponse[response].data.versions.version_id) {\r\n                    jsonResponse[response].data.properties.version_id = jsonResponse[response].data.versions.version_id;\r\n                  }\r\n                  if (!!jsonResponse[response].data.properties &&\r\n                      !!jsonResponse[response].data.properties.container &&\r\n                      jsonResponse[response].data.properties.container) {\r\n                    jsonResponse[response].data.properties.size = jsonResponse[response].data.properties.container_size;\r\n                  }\r\n                  if (!!jsonResponse[response].data.properties.reserved_user_id_expand) {\r\n                    jsonResponse[response].data.properties.reserved_user_id = jsonResponse[response].data.properties.reserved_user_id_expand;\r\n                  }\r\n                }\r\n\r\n                if (!!jsonResponse[response].links && !!jsonResponse[response].links.ancestors) {\r\n                  var breadcrumbsObj = [],\r\n                      ancestors      = jsonResponse[response].links.ancestors,\r\n                      ancestorIds    = [];\r\n                  if (ancestors) {\r\n                    for (var breadcrumbIdx in ancestors) {\r\n                      if (ancestors.hasOwnProperty(breadcrumbIdx)) {\r\n                        var ancestorModel = new AncestorModel();\r\n                        var breadcrumbIndex = parseInt(breadcrumbIdx, 10),\r\n                            breadcrumbItem  = {};\r\n                        var currentObject = ancestors[breadcrumbIndex];\r\n                        breadcrumbItem.id = currentObject.href.substring(\r\n                            currentObject.href.lastIndexOf(\"/\") + 1,\r\n                            currentObject.href.length);\r\n                        breadcrumbItem.volume_id = breadcrumbIndex === 0 ?\r\n                                                   breadcrumbItem.id : ancestorIds[0];\r\n                        breadcrumbItem.parent_id = breadcrumbIndex === 0 ? '-1' :\r\n                                                   ancestorIds[breadcrumbIndex - 1];\r\n                        if (NodeModel.usesIntegerId) {\r\n                          breadcrumbItem.id = parseInt( breadcrumbItem.id );\r\n                          breadcrumbItem.volume_id = parseInt(breadcrumbItem.volume_id);\r\n                          breadcrumbItem.parent_id = parseInt(breadcrumbItem.parent_id);\r\n                        }\r\n                        ancestorIds.push(breadcrumbItem.id);\r\n                        breadcrumbItem.name = currentObject.name;\r\n                        breadcrumbItem.showAsLink = true;\r\n                        ancestorModel.attributes = breadcrumbItem;\r\n                        breadcrumbsObj.push(ancestorModel);\r\n                      }\r\n                    }\r\n                  }\r\n                  jsonResponse[response].data.properties.ancestors = breadcrumbsObj;\r\n                }\r\n                //Regions\r\n                for (var region in jsonResponse[response].data.regions) {\r\n                  if (jsonResponse[response].data.regions.hasOwnProperty(region)) {\r\n                    jsonResponse[response].data.properties[region] = jsonResponse[response].data.regions[region];\r\n\r\n                  }\r\n                }\r\n                // copy version details to properties\r\n                if (!!jsonResponse[response].search_result_metadata) {\r\n                  jsonResponse[response].data.properties.search_result_metadata = jsonResponse[response].search_result_metadata;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        parseBrowsedItems: function (response, options) {\r\n          return response.results;\r\n        },\r\n\r\n       \r\n      });\r\n    }\r\n  };\r\n\r\n  return SearchResponseMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results.tile/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url', 'csui/models/node.columns2'\r\n], function (_, Backbone, Url, NodeColumn2Collection) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      var originalSync = prototype.sync;\r\n\r\n      return _.extend(prototype, {\r\n        filterQueryParameterName: 'filter',\r\n\r\n        makeServerAdaptor: function (options) {\r\n          return options;\r\n        },\r\n\r\n        cacheId: '',\r\n\r\n        url: function () {\r\n          var url = this.connector.getConnectionUrl().getApiBase('v2');\r\n          return Url.combine(url, 'search');\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var queryData = {\r\n            query_id: this.options.query_id\r\n          };\r\n          \r\n          if (this.options.limit) {\r\n            queryData.limit = this.options.limit;\r\n            queryData.page = this.skipCount ? (Math.floor(this.skipCount / this.options.limit)) + 1 : 1;\r\n          }\r\n          _.extend(queryData, this.getBrowsableParams()); // returns object containing browsable_params\r\n          _.extend(queryData, this.getRequestedCommandsUrlQuery());\r\n          _.extend(queryData, this.getResourceFieldsUrlQuery());\r\n          _.extend(queryData, this.getStateEnablingUrlQuery());\r\n          if (!!this.prevTopCount && this.prevTopCount != this.topCount) {\r\n            this.activePageNumber = 1;\r\n          }\r\n          this.prevTopCount = this.topCount;\r\n          if (!!this.activePageNumber) {\r\n            queryData.page = this.activePageNumber;\r\n            queryData.skipCount = (this.activePageNumber - 1) * this.topCount;\r\n          }\r\n\r\n          if (this.options.isTileView) {\r\n            queryData.fields = 'properties{container,id,parent_id,name,type,type_name,custom_view_search,version_number}';\r\n          } else {\r\n            queryData.expand = 'properties{original_id,owner_user_id,create_user_id,owner_id,reserved_user_id,parent_id,locked_user_id}';\r\n          }\r\n          // consider cache_id only while sorting and pagination.\r\n          if ((!!this.orderBy || !!this.pagination) && !!this.cacheId) {\r\n            queryData.cache_id = this.cacheId;\r\n            this.pagination = false; // reset pagination to default.\r\n          }\r\n          _.extend(options, {\r\n            type: 'POST',\r\n            contentType: 'application/x-www-form-urlencoded',\r\n            data: queryData,\r\n            traditional: true\r\n          });\r\n\r\n          return originalSync.apply(this, arguments);\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          //Add region data to best bets\r\n          this.addRegionsToPromotedList(response.featured);\r\n          if (response.collection.searching) {\r\n            var sortedColumns = new NodeColumn2Collection();\r\n            var regionMetadata = _.clone(response.collection.searching.regions_metadata),\r\n              metadataOrder = _.clone(_.uniq(response.collection.searching.regions_order)),\r\n              columnDefinitions = [];\r\n            _.each(regionMetadata, function (data, key) {\r\n              var sequence = 500 + metadataOrder.indexOf(key);\r\n              data.definitions_order = sequence;\r\n              data.key = key;\r\n              data.sortable = false;\r\n              data.column_key = key;\r\n              data.column_name = key;\r\n              data.default_action = [\"OTLocation\", \"OTName\", \"OTMIMEType\"].indexOf(key) >= 0;\r\n              data.default = [\"OTLocation\", \"OTName\", \"OTMIMEType\"].indexOf(key) >= 0;\r\n              data.completeName = data.name;\r\n              //Add a space behind colon(if exist) in column name as per UX\r\n              data.titleAttr = data.name.replace(/:([^\\s])/, ': $1');\r\n              //When a category is added to search region, it will return column name in the format of CategoryName:AttributeName\r\n              //This will remove the CategoryName which seperated by colon\r\n              //CategoryName doesn't allow special charecteors, it is safe to remove string before first available colon\r\n              data.name = data.name && data.name.replace(/^[^:]*:\\s*/, '');\r\n              columnDefinitions.push(data);\r\n            });\r\n            //push favorites and reserved\r\n            columnDefinitions.push({\r\n              \"key\": \"favorite\",\r\n              \"column_key\": \"favorite\",\r\n              \"default\": true\r\n            });\r\n            columnDefinitions.push({\r\n              \"key\": \"reserved\",\r\n              \"column_key\": \"reserved\",\r\n              \"default\": true\r\n            });\r\n            // checking for items with version\r\n            var metadata = _.pluck(response.results, 'search_result_metadata'),\r\n              nodesWithVersion = _.where(metadata, { current_version: false });\r\n            //show version indicator for items having version_type as 'minor'\r\n            nodesWithVersion = nodesWithVersion.length ? nodesWithVersion :\r\n              _.where(metadata, { version_type: 'minor' });\r\n            if (nodesWithVersion && nodesWithVersion.length > 0) {\r\n              columnDefinitions.push({\r\n                \"key\": \"version_id\",\r\n                \"column_key\": \"version_id\"\r\n              });\r\n            }\r\n            sortedColumns.reset(columnDefinitions);\r\n            response.collection.searching.sortedColumns = sortedColumns;\r\n            _.each(response.results, function (model) {\r\n              if (model.data.versions && model.search_result_metadata &&\r\n                (model.search_result_metadata.current_version === false ||\r\n                  model.search_result_metadata.version_type === 'minor')) {\r\n                model.data.versions.current_version = false;\r\n              }\r\n            });\r\n          }\r\n          var sorting = response.collection.sorting.links;\r\n          for (var sort in sorting) {\r\n            if (sort.search(\"asc_\") === 0) {\r\n              var sortColumn = this.trimSortOptionName(sorting[sort].name);\r\n              sortColumn = sortColumn.trim();\r\n              var column = response.collection.searching.sortedColumns.where({ completeName: sortColumn });\r\n              (column && column.length > 0) ? column[0].set('sort', true) : '';\r\n            }\r\n          }\r\n          response.results = (response.featured && response.collection.sorting &&\r\n            response.collection.sorting.sort[0] === \"relevance\") ?\r\n            response.featured.concat(response.results) :\r\n            response.results;\r\n          this.parseBrowsedState(response.collection, options);\r\n          this.parseSearchResponse(response, options);\r\n          // if (options.fetchFacets) {\r\n          //   //Parse facet search facets\r\n          //   this._parseFacets(response.collection.searching.facets);\r\n          // }\r\n          response.results.sorting = response.collection.sorting;\r\n          this.cacheId = (!!response.collection && !!response.collection.searching &&\r\n            !!response.collection.searching.cache_id) ?\r\n            response.collection.searching.cache_id : \"\";\r\n          return this.parseBrowsedItems(response, options);\r\n        },\r\n\r\n        trimSortOptionName: function (name) {\r\n          return name.replace(/\\(([;\\s\\w\\\"\\=\\,\\:\\.\\/\\~\\{\\}\\?\\!\\-\\%\\&\\#\\$\\^\\(\\)]*?)\\)/g, \"\");\r\n        },\r\n\r\n        addRegionsToPromotedList: function (featuredList) {\r\n          _.each(featuredList, function (featuredObject, key) {\r\n            featuredObject.data.regions = {\r\n              OTMIMEType: featuredObject.data.properties.mime_type,\r\n              OTName: featuredObject.data.properties.name,\r\n              OTLocation: featuredObject.data.properties.parent_id,\r\n              OTObjectDate: featuredObject.data.properties.create_date,\r\n              OTModifyDate: featuredObject.data.properties.modify_date,\r\n              OTObjectSize: featuredObject.data.properties.size_formatted\r\n            };\r\n          });\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\n","csui.define('csui/models/widget/search.results.tile/search.results.tile.collection',[\r\n    'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n    'csui/models/node/node.model', 'csui/models/mixins/connectable/connectable.mixin',\r\n    'csui/models/mixins/fetchable/fetchable.mixin', 'csui/models/browsable/browsable.mixin',\r\n    'csui/models/browsable/v1.request.mixin', 'csui/models/browsable/v2.response.mixin',\r\n    'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n    'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n    'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n    'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n    'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n    'csui/models/widget/search.results.tile/search.response.mixin',\r\n    'csui/models/widget/search.results.tile/server.adaptor.mixin',\r\n    'csui/utils/contexts/perspective/plugins/node/node.extra.data',\r\n    'csui/utils/contexts/perspective/plugins/node/utils/merge.extra.data',\r\n    'i18n!csui/models/widget/nls/lang', 'csui/utils/deepClone/deepClone'\r\n  ], function (_, $, Backbone, NodeModel, ConnectableMixin, FetchableMixin,\r\n      BrowsableMixin, BrowsableV1RequestMixin, BrowsableV2ResponseMixin, StateRequestorMixin,\r\n      DelayedCommandableV2Mixin, AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin,\r\n      SearchResponseMixin, ServerAdaptorMixin, nodeExtraData, mergeExtraData, lang) {\r\n    'use strict';\r\n\r\n    var SearchResultCollection = Backbone.Collection.extend({\r\n      model: NodeModel,\r\n\r\n      constructor: function SearchResultCollection(models, options) {\r\n        // FIXME: Never store complete options on models. Avoid memory leaks.\r\n        this.options = options || (options = {});\r\n        Backbone.Collection.prototype.constructor.call(this, models, options);\r\n  \r\n        this.title = lang.searchResults;\r\n        if (!options.fields) {\r\n          options.fields = nodeExtraData.getModelFields();\r\n        }\r\n\r\n        this.query_id = options.query_id;\r\n        if (!options.expand) {\r\n          options.expand = mergeExtraData(\r\n            nodeExtraData.getModelExpand(), {\r\n              // TODO: Instead of hard-coding fixed attributes here, with no\r\n              // connection to what the view actually displays, make the search\r\n              // metadata collection to list the needed extra data, which decides\r\n              // what attributes will be displayed.\r\n              properties: [\r\n                'reserved_user_id', 'original_id', 'owner_user_id',\r\n                'create_user_id', 'owner_id', 'reserved_user_id', 'parent_id'\r\n              ]\r\n            }\r\n          );\r\n        }\r\n\r\n        this.makeConnectable(options)\r\n            .makeFetchable(options)\r\n            .makeAdditionalResourcesV2Mixin(options)\r\n            .makeBrowsable(options)\r\n            .makeBrowsableV1Request(options)\r\n            .makeFieldsV2(options)\r\n            .makeExpandableV2(options)\r\n            .makeBrowsableV2Response(options)\r\n            .makeStateRequestor(options)\r\n            .makeDelayedCommandableV2(options)\r\n            .makeSearchResponse(options)\r\n            .makeServerAdaptor(options);\r\n      },\r\n\r\n      clone: function () {\r\n        return new this.constructor(this.models, {\r\n          connector: this.connector,\r\n          skip: this.skipCount,\r\n          top: this.topCount,\r\n          filter: _.deepClone(this.filters),\r\n          orderBy: _.clone(this.orderBy),\r\n          expand: _.clone(this.expand),\r\n          includeActions: this.includeActions,\r\n          commands: _.clone(this.commands),\r\n          defaultActionCommands: _.clone(this.defaultActionCommands),\r\n          delayRestCommands: this.delayRestCommands\r\n        });\r\n      },\r\n\r\n      _prepareModel: function (attrs, options) {\r\n        options || (options = {});\r\n        options.promotedActionCommands = this.promotedActionCommands;\r\n        options.nonPromotedActionCommands = this.nonPromotedActionCommands;\r\n        return Backbone.Collection.prototype._prepareModel.call(this, attrs, options);\r\n      },\r\n\r\n      isFetchable: function () {\r\n        return !!this.options.query_id;\r\n      },\r\n\r\n      setDefaultPageNum: function () {\r\n        this.skipCount = 0;\r\n      },\r\n\r\n      setPreviousOrder: function (attributes, fetch) {\r\n        if (this.previousOrderBy != attributes) {\r\n          this.previousOrderBy = attributes;\r\n          if (fetch !== false) {\r\n            this.fetch({skipSort: false});\r\n          }\r\n          return true;\r\n        }\r\n      },\r\n\r\n      getResourceScope: function () {\r\n        return _.deepClone({\r\n          includeResources: this._additionalResources,\r\n          commands: this.commands,\r\n          defaultActionCommands: this.defaultActionCommands\r\n        });\r\n      },\r\n\r\n      setResourceScope: function (scope) {\r\n        this.excludeResources();\r\n        scope.includeResources && this.includeResources(scope.includeResources);\r\n        this.resetCommands();\r\n        scope.commands && this.setCommands(scope.commands);\r\n        this.resetDefaultActionCommands();\r\n        scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n      }\r\n    });\r\n\r\n    BrowsableMixin.mixin(SearchResultCollection.prototype);\r\n    BrowsableV1RequestMixin.mixin(SearchResultCollection.prototype);\r\n    BrowsableV2ResponseMixin.mixin(SearchResultCollection.prototype);\r\n    FieldsV2Mixin.mixin(SearchResultCollection.prototype);\r\n    ExpandableV2Mixin.mixin(SearchResultCollection.prototype);\r\n    ConnectableMixin.mixin(SearchResultCollection.prototype);\r\n    FetchableMixin.mixin(SearchResultCollection.prototype);\r\n    StateRequestorMixin.mixin(SearchResultCollection.prototype);\r\n    AdditionalResourcesV2Mixin.mixin(SearchResultCollection.prototype);\r\n    SearchResponseMixin.mixin(SearchResultCollection.prototype);\r\n    ServerAdaptorMixin.mixin(SearchResultCollection.prototype);\r\n    DelayedCommandableV2Mixin.mixin(SearchResultCollection.prototype);\r\n\r\n    return SearchResultCollection;\r\n  });\n","csui.define('csui/utils/contexts/factories/search.results.table.factory',['require', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/models/widget/search.results.tile/search.results.tile.collection',\r\n  'csui/utils/commands',\r\n  'csui/utils/base',\r\n  'csui/utils/defaultactionitems',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (require, module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    SearchQueryModelFactory, SearchResultCollection, commands, base, defaultActionItems) {\r\n\r\n  var SearchResultCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'searchResults',\r\n\r\n    constructor: function SearchResultCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n      var searchResults = this.options.searchResults || {},\r\n          searchOptions = options.options;\r\n      if (!(searchResults instanceof Backbone.Collection)) {\r\n        if (searchOptions) {\r\n          delete searchOptions.factoryUID;\r\n        }\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            query_id     = searchOptions && searchOptions.query_id,\r\n            config    = module.config();\r\n        searchResults = new SearchResultCollection(searchResults.models, _.extend({\r\n          connector: connector,\r\n          query_id: query_id,\r\n          // Make sure, that the metadata token is returned for nodes\r\n          // requesated via this factory, because they are supposed to\r\n          // be shared and may be the subject of changes.\r\n          stateEnabled: true,\r\n          // Ask the server to check for permitted actions V2\r\n          commands: commands.getAllSignatures()\r\n        }, searchResults.options, config.options, {\r\n          autofetch: true,\r\n          autoreset: true\r\n        }));\r\n      }\r\n      this.property = searchResults;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      !this.property.fetched && this.property.fetch({\r\n        success: _.bind(this._onSearchResultsFetched, this, options),\r\n        error: _.bind(this._onSearchResultsFailed, this, options)\r\n      });\r\n    },\r\n\r\n    _onSearchResultsFetched: function (options) {\r\n      //nothing to-do for now upon success.\r\n      return true;\r\n    },\r\n\r\n    _onSearchResultsFailed: function (model, request, message) {\r\n      var error = new base.RequestErrorMessage(message);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    },\r\n\r\n    getLimitedResourceScope: function () {\r\n        var resourceScope = _.deepClone({\r\n          fields: {\r\n            properties: ['container', 'id', 'name', 'original_id', 'type', 'type_name', 'parent_id',\r\n              'reserved', 'custom_view_search', 'version_number'],\r\n            'versions.element(0)': ['mime_type']\r\n          },\r\n          // Get property definitions to support table columns or similar\r\n          // and actions to support clickability and others\r\n          includeResources: [],\r\n          // Ask the server to check for permitted actions V2 - only default actions\r\n          commands: defaultActionItems.getAllCommandSignatures(commands)\r\n        });\r\n        return resourceScope;\r\n      }\r\n\r\n  });\r\n\r\n  return SearchResultCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/member',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/member'\r\n], function (module, _, Backbone, ModelFactory, ConnectorFactory, MemberModel) {\r\n  'use strict';\r\n\r\n  var MemberModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'member',\r\n\r\n    constructor: function MemberModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var member = this.options.member || {};\r\n      if (!(member instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        member = new MemberModel(member.attributes || config.attributes, _.defaults({\r\n          connector: connector\r\n        }, member.options, config.options));\r\n      }\r\n      this.property = member;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return MemberModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/search.box/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url'\r\n], function (_, $, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url = this.connector.connection.url.replace('/v1', '/v2');\r\n          return Url.combine(url, 'search/members/info?enterprise_slices=true');\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          var res = response.results,\r\n              sliceLabels = res.slices,\r\n              returnData  = {},\r\n              slices      = [];\r\n          returnData.search_forms = {};\r\n\r\n          $.each(sliceLabels, function (sliceIdx) {\r\n            slices.push({\r\n              sliceId: sliceLabels[sliceIdx].id,\r\n              sliceDisplayName: sliceLabels[sliceIdx].name\r\n            });\r\n          });\r\n\r\n          returnData = {\r\n            search_forms: {\r\n              recent_search_forms: this.createSearchFormsList(res.recent_search_forms),\r\n              personal_search_forms: this.createSearchFormsList(res.personal_search_forms),\r\n              system_search_forms: this.createSearchFormsList(res.system_search_forms)\r\n            },\r\n            slices: slices,\r\n            search_bar_settings: res.search_bar_settings\r\n          };\r\n          return returnData;\r\n        },\r\n\r\n        createSearchFormsList: function (list) {\r\n          var form = [];\r\n          $.each(list, function (listIdx) {\r\n            //TODO: Remove this condition once rest API is fixed\r\n            if (list[listIdx].name !== null || !!list[listIdx].name) {\r\n              form.push(list[listIdx]);\r\n            }\r\n          });\r\n          return form;\r\n        }\r\n      });\r\n    }\r\n  };\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.box.model',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/widget/search.box/server.adaptor.mixin'\r\n], function (_, $, Backbone, Url, ConnectableMixin, FetchableMixin, ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var SearchBoxModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchBoxModel(models, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, models, options);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeServerAdaptor(options);\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchBoxModel.prototype);\r\n  FetchableMixin.mixin(SearchBoxModel.prototype);\r\n  ServerAdaptorMixin.mixin(SearchBoxModel.prototype);\r\n\r\n  _.extend(SearchBoxModel.prototype, {\r\n\r\n    isFetchable: function () {\r\n      return !!this.options;\r\n    }\r\n\r\n  });\r\n\r\n  return SearchBoxModel;\r\n\r\n});\n","csui.define('csui/utils/contexts/factories/search.box.factory',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/search.box.model'\r\n], function (module, _, $, Backbone, CollectionFactory, ConnectorFactory,\r\n    SearchBoxModel) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var SearchBoxFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'searchBox',\r\n\r\n    constructor: function SearchBoxFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchBox = this.options.searchBox || {},\r\n          config = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = searchBox.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(searchBox instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        searchBox = new SearchBoxModel(searchBox.attributes || config.attributes,\r\n          _.defaults({\r\n            connector: connector\r\n          }, searchBox.options, config.options, {\r\n            autofetch: true\r\n          }));\r\n      }\r\n      this.property = searchBox;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return SearchBoxFactory;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/search.metadata.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (_, $, Backbone) {\r\n  'use strict';\r\n\r\n  var SearchMetadataMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeSearchMetadataResponse: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseSearchMetadataResponse: function (resp, options) {\r\n          return resp;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return SearchMetadataMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (_, $, Backbone) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var deferred = $.Deferred();\r\n          options = _.defaults({parse: true}, options);\r\n          this.trigger('request', this, {}, options);\r\n          setTimeout(function () {\r\n            options.success.call(options.context, {}, 'success', {});\r\n            deferred.resolve();\r\n          }.bind(this));\r\n          return deferred.promise();\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          return this.parseSearchMetadataResponse(response, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/search.metadata.model',['csui/lib/jquery', 'csui/lib/underscore', \"csui/lib/backbone\",\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/widget/search.results/search.metadata/search.metadata.mixin',\r\n  'csui/models/widget/search.results/search.metadata/server.adaptor.mixin'\r\n], function ($, _, Backbone, ConnectableMixin, FetchableMixin, SearchMetadataMixin,\r\n    ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var SearchMetadataItemModel = Backbone.Model.extend({\r\n\r\n    idAttribute: \"key\",\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    }\r\n\r\n  });\r\n\r\n  var SearchMetadataItemsCollection = Backbone.Collection.extend({\r\n\r\n    model: SearchMetadataItemModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SearchMetadataItemsCollection(attributes, options) {\r\n      SearchMetadataItemsCollection.__super__.constructor.apply(this, arguments);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeSearchMetadataResponse(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    },\r\n\r\n    deepClone: function () {\r\n      return new SearchMetadataItemsCollection(\r\n          this.map(function (column) {\r\n            return column.attributes;\r\n          }));\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  FetchableMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  SearchMetadataMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  ServerAdaptorMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n\r\n  return SearchMetadataItemsCollection;\r\n});\n","csui.define('csui/utils/contexts/factories/search.metadata.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/models/widget/search.results/search.metadata/search.metadata.model'\r\n], function (module, _, Backbone, CollectionFactory, SearchMetadataModel) {\r\n\r\n  var SearchMetadataModelFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'searchMetadata',\r\n\r\n    constructor: function SearchMetadataModelFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var metadata = this.options.metadata || {};\r\n      if (!(metadata instanceof Backbone.Collection)) {\r\n        var config = module.config();\r\n        metadata = new SearchMetadataModel(metadata.models, _.extend({},\r\n            metadata.options, config.options));\r\n      }\r\n      this.property = metadata;\r\n    },\r\n    isFetchable: function () {\r\n      return !!this.options;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n  return SearchMetadataModelFactory;\r\n});\n","csui.define('csui/utils/contexts/factories/task.queue.factory',[\r\n  \"module\",\r\n  \"csui/lib/underscore\",\r\n  \"csui/lib/backbone\",\r\n  \"csui/utils/contexts/factories/factory\",\r\n  \"csui/utils/taskqueue\"\r\n], function(module, _, Backbone, ModelFactory, TaskQueue) {\r\n  var TaskQueueFactory = ModelFactory.extend({\r\n    propertyPrefix: \"taskQueue\",\r\n\r\n    constructor: function TaskQueueFactory(options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var taskQueue = this.options.taskQueue || {};\r\n      if (!(taskQueue instanceof TaskQueue)) {\r\n        var config = module.config();\r\n        taskQueue = new TaskQueue(\r\n          _.extend({}, taskQueue.options, config.options)\r\n        );\r\n      }\r\n      this.property = taskQueue;\r\n    }\r\n  });\r\n  return TaskQueueFactory;\r\n});\r\n\n","csui.define('csui/models/server.info',['csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/server.info/server.adaptor.mixin'\r\n], function (Backbone, Url, ConnectableMixin, FetchableMixin, ServerAdaptorMixin) {\r\n  \"use strict\";\r\n  var ServerInfoModel = Backbone.Model.extend({\r\n\r\n    constructor: function ServerInfoModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options);\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(ServerInfoModel.prototype);\r\n  FetchableMixin.mixin(ServerInfoModel.prototype);\r\n  ServerAdaptorMixin.mixin(ServerInfoModel.prototype);\r\n\r\n  return ServerInfoModel;\r\n});\n","csui.define('csui/utils/contexts/factories/server.info',['csui/lib/backbone',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/models/server.info'\r\n], function (Backbone, ConnectorFactory, ModelFactory, ServerInfoModel) {\r\n\r\n  var ServerInfoModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'serverInfo',\r\n\r\n    constructor: function ServerInfoModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var connector       = context.getObject(ConnectorFactory, {\r\n            permanent: true\r\n          }),\r\n          serverInfoModel = this.options.serverInfoModel || {};\r\n\r\n      if (!(serverInfoModel instanceof Backbone.Model)) {\r\n        serverInfoModel = new ServerInfoModel(undefined, {connector: connector});\r\n      }\r\n      this.property = serverInfoModel;\r\n    }\r\n\r\n  });\r\n\r\n  return ServerInfoModelFactory;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.settings/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url'\r\n], function (_, $, Backbone, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      var originalSync = prototype.sync;\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url         = this.connector.getConnectionUrl().getApiBase('v2'),\r\n              queryString = \"\",\r\n              templateId  = this.options.templateId;\r\n          if (templateId) {\r\n            queryString = Url.combine(queryString, \"/template/\" + templateId);\r\n          } else {\r\n            queryString = Url.combine(queryString, \"/template\");\r\n          }\r\n          queryString = Url.combine(queryString, \"/settings/display\");\r\n\r\n          return Url.combine(url, 'search' + queryString);\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          return originalSync.apply(this, arguments);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.settings/search.settings.model',['csui/lib/jquery', 'csui/lib/underscore', \"csui/lib/backbone\",\r\n  'csui/models/mixins/connectable/connectable.mixin', 'csui/utils/url',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/widget/search.results/search.settings/server.adaptor.mixin'\r\n], function ($, _, Backbone, ConnectableMixin, Url, FetchableMixin, ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var RegionsModel = Backbone.Model.extend({\r\n    constructor: function RegionsModel() {\r\n      Backbone.Model.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  var RegionsModelCollection = Backbone.Collection.extend({\r\n    model: RegionsModel,\r\n\r\n    constructor: function RegionsModelCollection() {\r\n      Backbone.Collection.apply(this, arguments);\r\n    },\r\n\r\n    isFetchable: false\r\n  });\r\n\r\n  var SearchSettingsModel = Backbone.Model.extend({\r\n    constructor: function SearchSettingsModel(attributes, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.apply(this, arguments);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    idAttribute: \"key\",\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    },\r\n\r\n    isNew: function () {\r\n      return false;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      response = response.results && response.results.data;\r\n      var displayRegions = ['available', 'selected'];\r\n      _.each(response && response.display, function (item) {\r\n        if (_.isObject(item)) {\r\n          displayRegions.map(function (region) {\r\n            if (item[region]) {\r\n              if (_.isArray(item[region])) {\r\n                item[region] = new RegionsModelCollection(item[region]);\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n      return response;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return true;\r\n    },\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchSettingsModel.prototype);\r\n  FetchableMixin.mixin(SearchSettingsModel.prototype);\r\n  ServerAdaptorMixin.mixin(SearchSettingsModel.prototype);\r\n\r\n  return SearchSettingsModel;\r\n});\n","csui.define('csui/utils/contexts/factories/search.settings.factory',['require', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/search.results/search.settings/search.settings.model'\r\n], function (require, module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    SearchSettingsCollection) {\r\n\r\n  var SearchSettingsFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'searchSettings',\r\n\r\n    constructor: function SearchSettingsFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchSettings = this.options.searchSettings || {};\r\n      if (!(searchSettings instanceof Backbone.Collection)) {\r\n        var connector  = context.getObject(ConnectorFactory, options),\r\n            config     = module.config(),\r\n            templateId = options.templateId;\r\n        searchSettings = new SearchSettingsCollection(searchSettings.models, _.extend({\r\n          connector: connector,\r\n          templateId: templateId\r\n        }, searchSettings.options, config.options, {\r\n          autofetch: true,\r\n          autoreset: true\r\n        }));\r\n      }\r\n      this.property = searchSettings;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n  return SearchSettingsFactory;\r\n});\n","csui.define('csui/utils/contexts/factories/compound.document.reorganize.factory',['require', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/compound.document/reorganize/reorganize.collection'\r\n], function (require, module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    ReorganizeCollection) {\r\n\r\n  var ReorganizeFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'reorganize',\r\n\r\n    constructor: function ReorganizeFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var reorganize = this.options.reorganize || {};\r\n      if (!(reorganize instanceof Backbone.Collection)) {\r\n        var connector  = context.getObject(ConnectorFactory, options),\r\n            config     = module.config(),\r\n            nodeId = options.node.get(\"id\");\r\n            reorganize = new ReorganizeCollection(reorganize.models, _.extend({\r\n            connector: connector,\r\n            nodeId: nodeId\r\n        }, reorganize.options, config.options, {\r\n          autofetch: true,\r\n          autoreset: true\r\n        }));\r\n      }\r\n      this.property = reorganize;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n  return ReorganizeFactory;\r\n});\n","csui.define('csui/models/server.adaptors/largefilesettings.mixin',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/utils/url', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Url, lang) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.options.connector.getConnectionUrl().getApiBase('v2'),\r\n          'multipart/settings');\r\n        },\r\n\r\n        parse: function (response) {\r\n          var res = response.results.data, returnData;\r\n\r\n          returnData = {\r\n            largeFileSettings: {\r\n              is_enabled: res.is_enabled,\r\n              max_size: res.max_size,\r\n              min_size: res.min_size\r\n            }\r\n          };\r\n          return returnData;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/largefilesettingsmodel',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/server.adaptors/largefilesettings.mixin'\r\n], function (_, $, Backbone, Url, ConnectableMixin, FetchableMixin, ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var LargeFileSettingsModel = Backbone.Model.extend({\r\n\r\n    constructor: function LargeFileSettingsModel(models, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, models, options);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeServerAdaptor(options);\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(LargeFileSettingsModel.prototype);\r\n  FetchableMixin.mixin(LargeFileSettingsModel.prototype);\r\n  ServerAdaptorMixin.mixin(LargeFileSettingsModel.prototype);\r\n\r\n  _.extend(LargeFileSettingsModel.prototype, {\r\n\r\n    isFetchable: function () {\r\n      return !this.get('largeFileSettings');\r\n    }\r\n\r\n  });\r\n\r\n  return LargeFileSettingsModel;\r\n\r\n});\n","csui.define('csui/utils/contexts/factories/largefilesettings.factory',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/largefilesettingsmodel'\r\n], function (module, _, $, Backbone, CollectionFactory, ConnectorFactory,\r\n    LareFileSettingsModel) {\r\n  'use strict';\r\n\r\n\r\n  var LargeFileSettingsFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'largeFileSettings',\r\n\r\n    constructor: function LargeFileSettingsFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var largeFileSettings = this.options.largeFileSettings || {},\r\n          config = module.config();\r\n  \r\n        var connector = context.getObject(ConnectorFactory, options);\r\n         largeFileSettings = new LareFileSettingsModel(largeFileSettings.attributes || config.attributes,\r\n          _.defaults({\r\n            connector: connector\r\n          }, largeFileSettings.options, config.options, {\r\n            autofetch: true\r\n         }));\r\n      this.property = largeFileSettings;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n    \r\n        return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return LargeFileSettingsFactory;\r\n});\r\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/document.overview.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/document.overview\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/version.overview.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/version.overview\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/favorites2.table.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/favorites2.table\"\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/container.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/nodestable\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/metadata.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/metadata\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/metadata.navigation.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/metadata.navigation\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/myassignmentstable.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/myassignmentstable\"\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/recentlyaccessedtable.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/recentlyaccessedtable\"\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/search.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/search.results\",\r\n      \"className\": \"search-results-container\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/saved.query.json',{\r\n  \"type\": \"grid\",\r\n  \"options\": {\r\n    \"rows\": [\r\n      {\r\n        \"columns\": [\r\n          {\r\n            \"sizes\": {\r\n              \"md\": 12\r\n            },\r\n            \"heights\": {\r\n              \"xs\": \"half\"\r\n            },\r\n            \"widget\": {\r\n              \"type\": \"csui/widgets/placeholder\",\r\n              \"options\": {\r\n                \"label\": \"Saved Query\",\r\n                \"color\": \"#fff\",\r\n                \"bgcolor\": \"#cccc88\"\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"sizes\": {\r\n              \"md\": 12\r\n            },\r\n            \"heights\": {\r\n              \"xs\": \"full\"\r\n            },\r\n            \"widget\": {\r\n              \"type\": \"csui/widgets/search.results\",\r\n              \"options\": {\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/user.json',{\r\n  \"type\": \"flow\",\r\n  \"options\": {\r\n    \"widgets\": [{\r\n        \"type\": \"csui/widgets/welcome.placeholder\"\r\n      },\r\n      {\r\n        \"type\": \"csui/widgets/myassignments\"\r\n      },\r\n      {\r\n        \"type\": \"csui/widgets/favorites\"\r\n      },\r\n      {\r\n        \"type\": \"csui/widgets/shortcuts\",\r\n        \"options\": {\r\n          \"shortcutItems\": [{\r\n            \"type\": 141\r\n          }],\r\n          \"shortcutTheme\": \"csui-shortcut-theme-teal2\"\r\n        }\r\n      },\r\n      {\r\n        \"type\": \"csui/widgets/shortcuts\",\r\n        \"options\": {\r\n          \"shortcutItems\": [{\r\n            \"type\": 142\r\n          }],\r\n          \"shortcutTheme\": \"csui-shortcut-theme-pink1\"\r\n        }\r\n      },\r\n      {\r\n        \"type\": \"csui/widgets/recentlyaccessed\"\r\n      }\r\n    ]\r\n  }\r\n});\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/searchresults.table.json',{\r\n    \"type\": \"left-center-right\",\r\n    \"options\": {\r\n      \"center\": {\r\n        \"type\": \"csui/widgets/search.results.table\"\r\n      }\r\n    }\r\n  });\n\n","csui.define('csui/temporary/activeviews/icons/icons',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      // ActiveView\r\n      equals: {type: 30309},\r\n      className: 'csui-icon mime_active_view',\r\n      // ActiveView has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // web report\r\n      equals:    {type: 30303},\r\n      className: 'csui-icon mime_web_report',\r\n      // Web Report has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence:  30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","csui.define('csui/temporary/appearances/icons/icons',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      // Appearance\r\n      equals: {type: 480},\r\n      className: 'csui-icon mime_appearance',\r\n      // Appearance has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","\ncsui.define('css!csui/temporary/cop/icons/icons',[],function(){});\n","csui.define('csui/temporary/cop/icons/icons',['css!csui/temporary/cop/icons/icons'\r\n], function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Blog, FAQ, Forum, Wiki and their entries have a MIME type,\r\n    // which would decide the icon otherwise; the MIME type icons\r\n    // have the sequence number 50 in common\r\n    {\r\n      // blog\r\n      equals:    {type: 356},\r\n      className: 'csui-icon csui-temporary-cop-blog',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // blog entry\r\n      equals:    {type: 357},\r\n      className: 'csui-icon mime_blog_entry',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // collaborative place\r\n      equals:    {type: 1257},\r\n      className: 'csui-icon mime_collaborative_place',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // faq\r\n      equals:    {type: 123475},\r\n      className: 'csui-icon mime_faq',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // faq entry\r\n      equals:    {type: 123476},\r\n      className: 'csui-icon mime_faq_entry',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // forum\r\n      equals:    {type: 123469},\r\n      className: 'csui-icon mime_forum',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // forum topics and replies\r\n      equals:    {type: 123470},\r\n      className: 'csui-icon mime_forum_topics_replies',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // topic\r\n      equals:    {type: 130},\r\n      className: 'csui-icon mime_topic',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // wiki\r\n      equals:    {type: 5573},\r\n      className: 'csui-icon mime_wiki',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // wiki page\r\n      equals:    {type: 5574},\r\n      className: 'csui-icon mime_wiki_page',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // community\r\n      equals:    {type: 3030202},\r\n      className: 'csui-icon mime_community',\r\n      sequence:  30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","csui.define('bundles/csui-data',[\r\n  // icon-v2\r\n  'csui/controls/icons.v2',\r\n  'csui/controls/icon/icon.view',\r\n\r\n  // Behaviours\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  // The controller using the commands is loaded dynamically\r\n  'csui/behaviors/default.action/impl/defaultaction',\r\n  'csui/behaviors/dropdown.menu/dropdown.menu.behavior',\r\n  'csui/behaviors/keyboard.navigation/retainfocus.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabkey.behavior',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n\r\n  // Controls\r\n  'csui/controls/error/error.view',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'css!csui/controls/globalmessage/globalmessage_icons',\r\n  'csui/controls/grid/grid.view',\r\n  'csui/controls/doc.preview/doc.preview.view',\r\n  'csui/controls/doc.preview/active.plugin',\r\n  'csui/controls/doc.preview/preview.plugins/preview.plugins',\r\n  'csui/controls/node-type.icon/node-type.icon.view',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/controls/globalmessage/impl/progresspanel/progresspanel.view',\r\n  'csui/controls/globalmessage/impl/progresspanel/progressbar.view',\r\n  'csui/controls/globalmessage/progresspanel.view.ext',\r\n  'csui/controls/globalmessage/progressbar.view.ext',\r\n  'i18n!csui/controls/globalmessage/impl/nls/globalmessage.lang',\r\n  'csui/controls/perspective.panel/perspective.animator',\r\n  'csui/controls/perspective.panel/perspective.panel.view',\r\n  'csui/controls/breadcrumbspanel/breadcrumbspanel.view',\r\n  'csui/controls/breadcrumbs/breadcrumbs.view',\r\n  'csui/controls/breadcrumbs/breadcrumb.view',\r\n  'csui/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view',\r\n  'csui/controls/form/pub.sub',\r\n  'csui/controls/mixins/keyboard.navigation/modal.keyboard.navigation.mixin',\r\n  'csui/controls/tab.panel/tab.panel.view',\r\n  'csui/controls/tab.panel/tab.links.dropdown.view',\r\n  'csui/controls/tab.panel/tab.links.ext.scroll.mixin',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/controls/tab.panel/impl/tab.link.ext.view',\r\n  'csui/controls/tab.panel/impl/tab.contents.view',\r\n  'csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin',\r\n  'csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.links.dropdown.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.links.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.panel.keyboard.behavior',\r\n  'csui/controls/perspective.header/perspective.header.view',\r\n  // Used in tab.link.dropdown.view from csui-forms\r\n  'csui/controls/tab.panel/impl/tab.link.view',\r\n  // Used in tab.links.ext.view from csui-forms\r\n  'csui/controls/tab.panel/impl/tab.links.view',\r\n  //Shared for metadataproperties from cs-metadata\r\n  'i18n!csui/controls/tab.panel/impl/nls/lang',\r\n\r\n  // Control mixins\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/controls/mixins/global.alert/global.alert.mixin',\r\n  'csui/controls/mixins/view.state/metadata.view.state.mixin',\r\n  'csui/controls/mixins/view.state/node.view.state.mixin',\r\n  'csui/controls/mixins/view.state/toolitems.state.mixin',\r\n  'csui/controls/mixins/view.state/multi.node.fetch.mixin',\r\n  'csui/controls/mixins/view.state/node.selection.restore.mixin',\r\n\r\n  // Control behaviours\r\n  'csui/controls/tile/behaviors/blocking.behavior',\r\n  'csui/controls/tile/behaviors/infinite.scrolling.behavior',\r\n  'csui/controls/tile/behaviors/parent.scrollbar.updating.behavior',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/controls/tile/behaviors/searching.behavior',\r\n\r\n  // Dialogs\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n\r\n  // Perspectives\r\n  'csui/perspectives/flow/flow.perspective.view',\r\n  'csui/perspectives/grid/grid.perspective.view',\r\n  'csui/perspectives/left-center-right/left-center-right.perspective.view',\r\n  'csui/perspectives/banner-content-sidebar/banner-content-sidebar.perspective.view',\r\n  'csui/perspectives/sidepanel-left/sidepanel-left.perspective.view',\r\n  'csui/perspectives/sidepanel-right/sidepanel-right.perspective.view',\r\n  'csui/perspectives/single/single.perspective.view',\r\n  'csui/perspectives/tabbed/tabbed.perspective.view',\r\n  'csui/perspectives/tabbed-flow/tabbed-flow.perspective.view',\r\n  'csui/perspectives/zone/zone.perspective.view',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n\r\n  // Perspectives Related\r\n  'csui/perspectives/tabbed/tab.index/tab.index.preferences',\r\n\r\n  // Routers\r\n  'csui/pages/start/perspective.router',\r\n  'csui/pages/start/perspective.routing',\r\n  'csui/pages/start/multi.perspective.routing',\r\n  'csui/pages/start/impl/landing.perspective.router',\r\n  'csui/pages/start/impl/node.perspective.router',\r\n  'csui/pages/start/impl/search.perspective.router',\r\n  'csui/pages/start/impl/metadata.perspective.router',\r\n  'csui/pages/start/impl/root.perspective.router',\r\n  'csui/pages/start/impl/version.perspective.router',\r\n  'i18n!csui/pages/start/impl/nls/lang',\r\n\r\n  // Utilities\r\n  'csui/utils/classic.nodes/impl/core.classic.nodes',\r\n  'csui/utils/content.helper',\r\n  'csui/utils/handlebars/l10n',\r\n  'csui/utils/impl/core.defaultactionitems',\r\n  'csui/utils/non-attaching.region/non-attaching.region',\r\n  'csui/utils/non-emptying.region/non-emptying.region',\r\n  'csui/utils/script-executing.region/script-executing.region',\r\n  'csui/utils/node.links/impl/core.node.links',\r\n  'csui/utils/open.authenticated.page',\r\n  'csui/utils/smart.nodes/impl/core.smart.nodes',\r\n  'csui/utils/taskqueue',\r\n  'csui/behaviors/keyboard.navigation/tabables.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n\r\n  // Contexts and factories\r\n  'csui/models/node/node.addable.type.factory',\r\n  'csui/controls/perspective.panel/perspective.factory',\r\n  'csui/utils/contexts/browsing/browsing.context',\r\n  'csui/utils/contexts/impl/csui.context.plugin',\r\n  'csui/utils/contexts/portal/portal.context',\r\n  'csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/plugins/node/node.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/search.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/plugins/search.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/metadata.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/root.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/version.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/plugins/node/main.node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/impl/csui.node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/impl/csui.main.node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/utils/implement.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/utils/merge.extra.data',\r\n  'csui/utils/contexts/perspective/landing.perspectives',\r\n  'csui/utils/contexts/perspective/node.perspectives',\r\n  'csui/utils/contexts/perspective/perspective.context',\r\n  'csui/utils/contexts/perspective/perspective.guide',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/search.perspectives',\r\n  'csui/utils/contexts/factories/ancestors',\r\n  'csui/utils/contexts/factories/appcontainer',\r\n  'csui/utils/contexts/factories/children',\r\n  'csui/utils/contexts/factories/children2',\r\n  'csui/utils/contexts/factories/columns',\r\n  'csui/utils/contexts/factories/columns2',\r\n  'csui/utils/contexts/factories/global.error',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/factories/version',\r\n  'csui/utils/contexts/factories/next.version',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/usernodepermission',\r\n  'csui/utils/contexts/factories/volume',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/favoritescolumns',\r\n  'csui/utils/contexts/factories/favorite2groups',\r\n  'csui/utils/contexts/factories/favorites',\r\n  'csui/utils/contexts/factories/favorites2',\r\n  'csui/utils/contexts/factories/favorite2columns',\r\n  'csui/utils/contexts/factories/myassignmentscolumns',\r\n  'csui/utils/contexts/factories/myassignments',\r\n  'csui/utils/contexts/factories/recentlyaccessedcolumns',\r\n  'csui/utils/contexts/factories/recentlyaccessed',\r\n  'csui/utils/contexts/factories/search.results.table.columns',\r\n  'csui/utils/contexts/factories/search.results.table.factory',\r\n  'csui/utils/contexts/factories/member',\r\n  'csui/utils/contexts/factories/search.box.factory',\r\n  'csui/utils/contexts/factories/search.formquery.factory',\r\n  'csui/utils/contexts/factories/search.metadata.factory',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/metadata.factory',\r\n  'csui/utils/contexts/factories/task.queue.factory',\r\n  'csui/utils/contexts/factories/server.info',\r\n  'csui/utils/contexts/factories/search.settings.factory',\r\n  'csui/utils/contexts/factories/compound.document.reorganize.factory',\r\n  'csui/utils/contexts/factories/largefilesettings.factory',\r\n  'csui/utils/contexts/factories/objecttypes.factory',\r\n\r\n  // helper code to make the routing code testable\r\n  'csui/pages/start/impl/location',\r\n\r\n  // Client-side perspectives\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/document.overview.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/version.overview.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/favorites2.table.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/container.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/metadata.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/metadata.navigation.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/myassignmentstable.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/recentlyaccessedtable.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/search.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/saved.query.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/user.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/searchresults.table.json',\r\n\r\n  // Application widgets\r\n  'csui/widgets/error/error.view',\r\n  'csui/models/widget/recentlyaccessed.model',\r\n\r\n  // TODO: Remove this, as long as the module owners take over\r\n  // the icons\r\n  'csui/temporary/activeviews/icons/icons',\r\n  'csui/temporary/appearances/icons/icons',\r\n  'csui/temporary/cop/icons/icons',\r\n\r\n  // TODO: Remove this module from public area. Localization has to\r\n  // be private  for its module.\r\n  'i18n!csui/models/widget/nls/lang',\r\n  'i18n!csui/perspectives/impl/nls/lang',\r\n  //Models publicly exposed\r\n  'csui/models/widget/myassignments.model'\r\n], {});\r\n\r\ncsui.require(['require', 'css'], function (require, css) {\r\n  css.styleLoad(require, 'csui/bundles/csui-data', true);\r\n});\r\n\n","csui.define('csui/pages/start/impl/perspective.factory',[\r\n  'csui/controls/perspective.panel/perspective.factory'\r\n], function (PerspectiveFactory) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.factory\" instead.');\r\n\r\n  return PerspectiveFactory;\r\n});\n","csui.define('csui/pages/start/impl/perspective.router',[\r\n  'csui/utils/routing'\r\n], function (routing) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module, use csui/utils/routing\r\n\r\n  function PerspectiveRouter() {}\r\n\r\n  PerspectiveRouter.routesWithSlashes = routing.routesWithSlashes;\r\n\r\n  return PerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/perspective.panel/perspective.animator',[\r\n  'csui/controls/perspective.panel/perspective.animator'\r\n], function (PerspectiveAnimator) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.animator\" instead.');\r\n\r\n  return PerspectiveAnimator;\r\n});\n","csui.define('csui/pages/start/impl/perspective.panel/perspective.panel.view',[\r\n  'csui/controls/perspective.panel/perspective.panel.view'\r\n], function (PerspectivePanelView) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.panel.view\" instead.');\r\n\r\n  return PerspectivePanelView;\r\n});\n"]}